6
1
0
2

 
r
a

 

M
1
1

 
 
]

.

O
L
h
t
a
m

[
 
 

1
v
9
0
5
3
0

.

3
0
6
1
:
v
i
X
r
a

Monomial ideals and independence of IΣ2

DRAFT

Florian Pelupessy∗

2015

Abstract

We show that a miniaturised version of Maclagan’s theorem on mono-
mial ideals is equivalent to 1−Con(IΣ2) and classify a phase transition
threshold for this theorem. This work highlights the combinatorial nature
of Maclagan’s theorem.

Monomial ideals play an important role in commutative algebra and algebraic
combinatorics. Maclagan’s theorem has several applications in computer algebra
(See, for example, [8]), so the logical and combinatorial issues which surround it
are of particular interest.

We Vrst determine an upper bound for the miniaturised version of Maclagan’s
theorem based on a very short proof of Maclagan’s theorem using Friedman’s
adjacent Ramsey theorem. We apply known upper bounds for Friedman’s Vnite
adjacent Ramsey theorem for this part.

We provide lower bounds for the miniaturised Maclagan theorem. This proof of
independence of IΣ2 is a cleaned up version of the proof in [9]. We Vnish by
determining a sharp phase transition threshold for the miniaturised Maclagan’s
theorem.

These results complement the study by Aschenbrenner and Pong [3] and the de-
termination of lower bounds in [9]. Furthermore this paper Vts into the general

∗Partially supported by the Japan Society for the Promotion of Science (KAKENHI 23340020)
and a JSPS postdoctoral fellowship for foreign researchers. This is the pre-peer reviewed version
of an article which is in press at Mathematical Logic Quarterly

1

programme started by Andreas Weiermann (see [13]) to determine the phase
transition thresholds for a variety of theorems. The work by Aschenbrenner and
Pong demonstrates that the inVnite version of Maclagan’s theorem’s strength is
at the level of the well ordering of ωωω. The determination of the equivalence
to 1−Con(IΣ2) shows the logical strength of the miniaturised version, which
is at the same level as the Paris–Harrinton theorem for triples, miniaturised
Higman’s lemma and the Vnite adjacent Ramsey theorem for pairs. The phase
transition for Maclagan’s theorem is the same is that of the latter two of those
theorems.

1 Preliminaries

In what follows we take arbitrary Veld K and examine ideals in the polyno-
mial ring K[Xd, . . . , X0, Y ]. A monomial is a polynomial of the form m =
X id
d . . . X i0
0 Y j. We use ¯m to denote the corresponding d + 2-tuple (id, . . . , i0, j).
For d + 2-tuples x ≤ y denotes the coordinatewise ordering. A monomial ideal
is an ideal that is generated by monomials. We denote an ideal that is generated
by a set G of generators with hGi . Notice that if m is a monomial then m ∈ hGi
if and only if there is an m′ ∈ G such that ¯m′ ≤ ¯m.
Theorem 1 (Maclagan) Every inVnite sequence of monomial ideals contains an
ideal that is a subset of an ideal that occurs earlier in the sequence.

We prove this with the inVnite adjacent Ramsey theorem for pairs with codi-
mension d + 2:
Theorem 2 (Adjacent Ramsey) For every C : N2 → Nr there exist x1 < x2 <
x3 such that C(x1, x2) ≤ C(x2, x3).
Proof: From [6]: Use Ramsey’s theorem for triples with r + 1 colours on the
colouring:

D(x, y, z) =(cid:26) 0 if C(x, y) ≤ C(y, z)

i otherwise,

where i is the least such that (C(x, y))i > (C(y, z))i.

(cid:3)

Proof of 1: Suppose, for a contradiction, that we have an inVnite sequence I0, I1, I2, . . .
of monomial ideals with Ii 6⊇ Ij for all i < j, where Ii = h{m1

i }i. De-

i , . . . , mni

2

Vne:

Take:

P(i, j) = the smallest k such that ∀l ≤ ni. ¯ml

i 6≤ ¯mk
j .

C(i, j) = ¯mP(i,j)

j

.

By adjacent Ramsey there exist a < b < c such that C(a, b) ≤ C(b, c), contra-
diction!

(cid:3)

DeVnition 1

1. The degree of a monomial is the total degree:

deg(X id

d . . . X i0

0 Y j) = id + · · · + i0 + j.

2. The degree of a Vnite set G of monomials is the maximum of the degrees of

the elements of that set: deg(G) = max{deg(m) : m ∈ G}.

3. The degree of a monomial ideal I is the smallest degree that is needed to be

able to generate it with monomials: deg(I) = min{deg(G) : I = hGi}.

Theorem 3 (MM, miniaturised Maclagan) For every d, l there exists an M such
that for every sequence I0, . . . , IM of monomial ideals in K[Xd, . . . , X0, Y ], with
deg(Ii) ≤ l + i for all i ≤ M , there exist i < j ≤ M with Ii ⊇ Ij.
Proof: Repeat the proof of Theorem 1 with the following version of the Vnite
adjacent Ramsey theorem:

Theorem 4 For every d, l there exists R such that for every

C : {l, . . . , R}2 → Nd+2

with max C(x, y) ≤ max{x, y} for all (x, y) ∈ {l, . . . , R}2 there exist a < b < c
with C(a, b) ≤ C(b, c).
Proof: Shown from the Vnite adjacent Ramsey theorem from [7] with increased
codimension.

(cid:3)

Corollary 5 EFA ⊢ 1−Con(IΣ2) → MM
Proof: Use the upper bounds for the Vnite adjacent Ramsey theorem from [7].

3

(cid:3)

We introduce a parameter f : N → N:
Theorem 6 (MMf ) For every l there exists an M such that for every sequence
I0, . . . , IM of monomial ideals in K[Xd, . . . , X0, Y ], with deg(Ii) ≤ l + f (i) for
all i ≤ M , there exist i < j ≤ M with Ii ⊇ Ij.
Proof: Compactness on the inVnite Maclagan’s theorem.

We use M f
d (l) to denote the least M from MMf . We assume basic knowledge
of ordinals ≤ ωω, their cantor normal forms and the canonical fundamental
sequences. Furthermore we use the fast growing (or Wainer) hierarchy:

(cid:3)

F0(i) = i + 1,
α(i),

Fα+1(i) = F i

Fγ(i) = Fγ[i](i).

and the fact that any computable function is provably total in IΣ2 if and only
if it is primitive recursive in Fα for some α < ωω. More information on ordi-
nals and fast growing hierarchies can be found in [2], [11], information on the
connections between hierarchies and provability in [12] or [1, 4, 5, 10].

All parameter functions are assumed to be nondecreasing. For every unbounded
f : N → N the inverse is:
log is the inverse of i 7→ 2i, log log is the inverse of i 7→ 22i, c√log is the inverse
of i 7→ 2(ic) and i 7→ i
c is the inverse of i 7→ i · c. The remainder of this article is
dedicated to proving the following:

f −1(i) = max{j : f (j) ≤ i} ∪ {0}.

Theorem 7 DeVne fα(i) = F

−1

α (i)√log i.

1. IΣ2 0 MMid.

2. IΣ2 0 MM c√log.
3. IΣ2 ⊢ MMlog log.
4. IΣ2 ⊢ MMfα if and only if α < ωω.

Item 1 is Theorem 8, item 2 and the unprovability part of item 4 are Theorems 10
and 11 and item 3 and the provability part of item 4 are shown with Lemma 5.

4

2 Lower bounds for the identity function

We will Vrst examine the independence of MMid. Compared with the proof in
[9] we have removed the inconvenient step of constructing special descending
sequences of ordinals and encoded those directly in the monomial ideals. Fur-
thermore intermediate sequences have been removed, greatly simplifying the
proof (especially the bookkeeping of the degrees of the ideals in sequences).

Theorem 8 IΣ2 0 MMid
Proof: We call a sequence I0, . . . , IR with deg(Ii) ≤ l+i for all i ≤ R bad if there
do not exist i < j ≤ R with Ii ⊇ Ij. We call a sequence of sets of generators bad
if the sequence of ideals generated by those sets is bad. Such a sequence shows
that R < M id

d (l).

We will associate with each ordinal α < ωd+1 some monomials and number hα.
We construct sequences of sets of generators consisting of monomials associated
with ordinals ≤ α that show Fα(l) < M id
d (l + hα). We leave out the brackets
in the deVnitions of the sets of generators and identify ideals with their sets of
generators.

Given:

α = ωd · nd + · · · + ω0 · n0,
we associate with α the set of monomials of the form:

X

n′
d

d · · · X

n′
0 Y m,
0

where n′i ≤ 2 · ni + 1, m ∈ N and the number hα = 2 · nd + · · · + 2 · n0 + d + 1.
Because the existence of such a sequence implies:

Fωd(l) < M id

d (l + 3 + d + 1),

for all d this construction suXces to prove Theorem 8.

The bad sequences are deVned by recursion on α:
• For α = 0 we take the following sequence:

Seq(α, l)0 = X0,

Seq(α, l)1+i = Y l+1−i

for 0 ≤ i ≤ l + 1.

5

• For α + 1 we start the construction with, for 0 ≤ i ≤ l:
X 2·n0+3

Seq(α + 1, l)i = X 2·nd+1
α(l) + · · · + F j

· · · X 2·n1+1
α(l) < i ≤ F 0

1

d

Continuing with, for F 0
0 ≤ j ≤ l:

Y l−i.

0

α(l) + · · · + F j+1

α

(i) and

Seq(α + 1, l)i = X 2·nd+1

d

· · · X 2·n1+1

1

X 2·n0+2

0

Y l−j, bi · Y l+1,

where bi = Seq(α, F j
ing of the elements from bi multiplied by monomial m.

α(l))i−F 0

α(l)−···−F j

α(l) and bim denotes the set consist-

• For limit α = ωd · nd + · · · + ωj · (nj + 1) + · · · + ω0 · n0 (where j > 0 and
nj−1, . . . , n0 = 0) we take the sequence deVned as follows, for 0 ≤ i ≤ l:

Seq(α, l)i = X 2·nd+1

d

2·nj+1+1
j+1

X

2·nj+3
0

Y l−i.

· · · X

For 0 ≤ i ≤ 2l:

Seq(α, l)l+i+1 = X 2·nd+1

d

For 0 < i ≤ Fα[l](l):

2·nj+1+1
j+1

X

2·nj+2
0

Y 2l−i.

· · · X

Seq(α, l)3l+i+1 = Seq(α[l], l)i.

Claim: The sequences Seq(α, l) show Fα(l) < M id

d (l + hα).

Proof: According to the deVnition the sequences Seq(α, l) are long enough. First
we show, using induction on α, that the degrees are bounded linearly:

• α = 0: deg(X0) = 1 and, if 0 < i ≤ l + 2 then we have:

deg(Seq(α, l)i) = l + 2 − i ≤ l ≤ l + h0 + i.

• α + 1: if 0 ≤ i ≤ l then:

deg(Seq(α, l)i) = 2 · nd + · · · + 2 · n0 + d + 3 + l − i ≤ l + hα+1 + i.
If F 0
α(l) + · · · + F j
(i) and 0 ≤ j ≤ l then:
deg(Seq(α, l)i) ≤ max{hα+1, deg(bi) + l + 1} ≤ l + hα+1 + i,

α(l) + · · · + F j+1

α(l) < i ≤ F 0

α

where the second inequality is obtained from the deVnition of bi and the
induction hypothesis.

6

• Limit α: If 0 ≤ i ≤ l then:

deg(Seq(α, l)i) ≤ l + hα − i ≤ l + hα + i.

If l < i ≤ 3l + 1 then:

deg(Seq(α, l)i) ≤ l + hα + (l + 1 − i) ≤ l + hα + i.

If 3l + 1 < i ≤ 3l + 1 + Fα[l](l) then:

deg(Seq(α, l)i) = deg(Seq(α[l], l)i−3l−1) ≤ l + hα[l] + i − 3l − 1,

where the latter inequality results from the induction hypothesis. Notice
that hα[l] = hα + 2l, hence:

deg(Seq(α, l)i) ≤ l + hα + 2l + i − 3l − 1 ≤ hα + i − 1 ≤ l + hα + i.

We still need to prove that these sequences are bad. We will use the fact that
a monomial is an element of a monomial ideal if and only if one of the genera-
tors divides that monomial and that in the construction the generators in each
sequence consist of monomials which are associated with ordinals ≤ α exclu-
sively.

• α = 0: Notice that X0 does not divide Y a and if i < j ≤ l + 1 then Y l+1−i

does not divide Y l+1−j.

• α + 1: The generators X 2·nd+1

Y b (a = 1, 2) do not
divide any monomials that are associated with β ≤ α. Indeed, if such a
generator divided such a monomial we would have 2·n0+1+a ≤ 2·n0+1.
Hence if

· · · X 2·n1+1

X 2·n0+1+a

1

0

d

F 0
α(l) + · · · + F j

α(l) < i0 < i1 ≤ F 0

α(l) + · · · + F j+1

α

(l),

then any generator of Seq(α + 1, l)i1 that is associated with ordinals ≤ α
is not divided by X 2·nd+1
Y l−j. By induction hypoth-
esis those generators (from bi1 Y l+1) can also not be divided by the other
elements of Seq(α + 1, l)i0.

· · · X 2·n1+1

X 2·n0+2

1

0

d

If

i0 ≤ F 0
then the generator X 2·nd+1
element of Seq(α + 1, l)i0.

d

α(l) + · · · + F j
· · · X 2·n1+1

1

0

α(l) < i1,

X 2·n0+1+a

Y b is not divided by any

7

• Limit α: Again, if i0 < 3l + 1 < i1 then the generators in Seq(α, l)i1 are
associated with ordinals < α, hence cannot be divided by any generator
from Seq(α, l)i0. If 3l + 1 < i0 < i1 then the induction hypothesis delivers
the same fact as does the deVnition of Seq(α, l) when i0 < i1 ≤ l + 1 or
l + 1 < i0 < i1 ≤ 3l + 1.

This ends the proof of the claim thus Vnishing the proof Theorem 8.

(cid:3)

Corollary 9 EFA ⊢ 1−Con(IΣ2) ↔ MMid

3 Lower bounds for other parameter values

In this section we modify bad sequences for the identity into bad sequences for
lower parameter values f , showing that M f again is unbounded in the multiply
recursive functions. The Vrst step of the modiVcation is to, given a sequence:

deVne the new sequence:

I0, . . . , IM ,

If (0), . . . , If (M ).

This new sequence will have identical elements, but we correct this by modify-
ing the ideals using a constant number of extra variables. To be able to do this
we will need to estimate the number c′ suXciently large such that

#{i : f (i) = f (j)} ≤ M 0

c′(j).

For this reason we start with studying M 0.

Lemma 1 M 0

0 (2j + 2) ≥ 2j.

Proof: We construct sequences that show this using recursion on j.

For j = 0 we take sequence m0 = Y 2, m1 = Y .

Given sequence a0, . . . , a2j for j, take for j + 1 the sequence deVned by:

mi =(cid:26) X j+1

0 Y 1, aiY 2
X j+1
0 Y 0, ai−2j−1Y 2

if 0 ≤ i ≤ 2j,
if 2j + 1 ≤ i ≤ 2j+1.

8

To show that this is a desired sequence notice Vrst that deg(ai) ≤ 2j − 1. Hence
deg(mi) ≤ 2j + 2 and hmii 6⊇ hmi′i for i < i′.

(cid:3)

Lemma 2 M 0

d+2(j + c) ≥ M 0

d (j)c+1.

Proof: We construct sequences which show this. Taking a bad sequence a0, . . . aM ,
the elements of the new sequence will look like:

X c

d+2X 0

d+1ai0, . . . , X c−j

d+2X j

d+1aij , . . . , X 0

d+2X c

d+1aic.

The main idea is that the generators of the ideals in the new sequence get sepa-
rated into ‘tracks’, where due to the part X c−j
d+1 the generators from diUerent
tracks cannot divide each other. Hence if we change in this set of generators aij
into aij +1 the ideal generated by this new set is not a subset of the original ideal.
Using this we construct the new sequences by recursion on c.

d+2X j

For c = 0 we take mi = ai.
Given sequence b0, . . . , bN for c and 0 ≤ i ≤ M · N we take:

mi = Xd+2a i

N

, Xd+1bi%N .

To show this is a desired sequence notice Vrst that deg(mi) ≤ max{ai, bi} + 1 ≤
j + c + 1. To show that this is a bad sequence examine the following cases for
i < j:
• i

N and i%N < j%N : Because Xd+1bi%N does not contain Xd+2,

N = j
hmii 6⊇ hmji is inherited from the bi’s.
N < j
from the ai’s.

N : Because Xd+2a i

N

• i

does not contain Xd+1, hmii 6⊇ hmji is inherited

Lemma 3 M 0

2c(2c+1(j + 1)) ≥ 2jc+1

.

Proof: Combine the previous two lemmas, starting with the Vrst for c = 0, for
the induction step we use the latter.

(cid:3)

(cid:3)

With the constructions so far it is not possible to obtain double-exponential
lengths of such sequences, an attempt to do so would require using a non-
constant number of variables. We will later see that double exponential lengths

9

are not possible using any construction due to the upper bounds on M 0. We take
this ‘highest possible’ estimate of M 0 to prove unprovability for the following
‘low’ parameter.

Theorem 10 If fc(i) = cplog(i) then: IΣ2 0 MMfc.

Proof: We use Lemma 3 to convert bad sequences for identity into bad sequences
for fc. Together with Theorem 8 the following is suXcient to prove this theorem:

M fc

d+2c+3(l) ≥ M id

d (l) =: M,

for l ≥ 2(c+4)2 + 1. Our building blocks are bad sequences a0, . . . , aM from the
proof of Theorem 8 (d+2 variables) and b(i)0, . . . b(i)2(i+1)c from Lemma 3 (2c+2
new variables and i > 2(c+1)2). The new sequence is:

mi =( X 2(c+1)2

if i ≤ 2(c+1)2
afc(i), b(fc(i))i−2fc(i)c otherwise.

−i+1

d+2c+3

First note that deg(mi) ≤ max{2(c+1)2
to show that this sequence is bad, for i < j we have the following cases:
• i < j ≤ 2(c+1)2: hmii 6⊇ hmji follows directly from the deVnition.
• i ≤ 2(c+1)2

, l + fc(i), l + fc(i)} ≤ l + fc(i). It remains

< j: The generators of mi contain Xd+2c+3 whilst those of mj

do not, hence hmii 6⊇ hmji.

• 2(c+1)2

< i < j: The generators of the a’s contain diUerent variables from
the generators of the b’s, hence hmii 6⊇ hmji is inherited from the a’s
whenever fc(i) < fc(i) and inherited from the b’s if fc(i) = fc(j).

(cid:3)

Theorem 11 If f (i) = F

Proof: We show:

−1

ωω (i)plog(i) then: IΣ2 0 MMf .
+ 2l + 4) ≥ F (l).

3l+3(2(l+4)2

M f

Assume for a contradiction that M = M f

3l+3(2(l+4)2 + 2l + 4) < F (l). For i ≤ M
we know that F −1(i) ≤ l, in other formulas that F −1(i)plog(i) ≥ lplog(i) =
fl(i), using notation from the previous theorem. The estimates from Theorems 8

10

and 10 deliver:

+ 2l + 4)

3l+3(2(l+4)2
M ≥ M fl
≥ M id
l (2l + 4)
≥ Fωl(l) = F (l)

which contradicts our assumption.

(cid:3)

4 Upper bounds

For the upper bounds we use a simple counting of monomials, notice Vrst that:
Lemma 4 EFA ⊢ MMc for constant function c.
Proof: The number of ideals of degree less than l + c is bounded by the number
of sets of monomials of degree less than l + c. This number has (rough) upper
bound 2(l+c+1)d+2. Hence, by pigeon hole principle, M c

d(l) ≤ 2(l+c+1)d+2 + 1.

(cid:3)

Lemma 5 If B is an increasing multiply recursive function and

then:

f (i) = B−1(i)plog(i)
IΣ2 ⊢ MMf .

Proof: Assume without loss of generality that B(l) > 2l+2. We show for l >
d + 2:

M f

d (l) < 2B(l)d+2

.

Take R = 2B(l)d+2 and any sequence of monomial ideals I0, . . . , IR with deg(Ii) ≤
l + f (i). In this case we have:

deg(Ii) ≤ l + B−1(R)plog(R) ≤ l + B(l)

So by the upper bounds from the proof of lemma 4:

d+2

l ≤ l + B(l).

d (l) ≤ M B(l)
M f

d

(l) ≤ 2(l+B(l)+1)d+1

+ 1 < 22d+1B(l)d+1

+ 1 < 2B(l)d+2

.

(cid:3)

11

References

[1] T. Arai, Introduction to proof theory, on his old homepage.

http://kurt.scitec.kobe-u.ac.jp/~arai/

[2]

, Introduction to ordinal analysis, on his old homepage.

http://kurt.scitec.kobe-u.ac.jp/~arai/

[3] M. Aschenbrenner and W. Y. Pong, Orderings of monomial ideals, Fund.

Math. 181 (2004): 27–74.

[4] W. Buchholz, Homepage.

http://www.mathematik.uni-muenchen.de/~buchholz/

[5] S. R. Buss (ed.), Handbook of proof theory, Studies in Logic and the Founda-
tions of Mathematics, vol. 137, North-Holland Publishing Co., Amsterdam,
1998.

[6] H. M. Friedman, Adjacent Ramsey theory, draft (2010).

http://www.math.osu.edu/~friedman.8/pdf/PA%20incomp082910.pdf

[7] H. M. Friedman and F. Pelupessy, Independence of Ramsey theorem variants

using ε0, in press: Proceedings of the American Mathematical Society.

[8] D. Maclagan, Antichains of monomial ideals are Vnite, Proc. Amer. Math.

Soc. 129 (2001): 1609–1615 (electronic).

[9] F. Pelupessy and A. Weiermann, On the lengths of bad sequences of mono-

mial ideals over polynomial rings, Fund. Math. 216 (2012): 101–108.

[10] W. Pohlers, Proof theory, Lecture Notes in Mathematics, vol. 1407, Springer-

Verlag, Berlin Heidelberg, 1989.

[11] H. E. Rose, Subrecursion: functions and hierarchies, Oxford Logic Guides,

vol. 9, The Clarendon Press Oxford University Press, New York, 1984.

[12] G. Takeuti, Proof Theory, Dover Publications Inc., 1 Jan 2013.

[13] A. Weiermann, Webpage on phase transitions.

http://cage.ugent.be/~weierman//phase.html

12

