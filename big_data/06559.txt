6
1
0
2

 
r
a

 

M
1
2

 
 
]
T
G
h
t
a
m

.

[
 
 

1
v
9
5
5
6
0

.

3
0
6
1
:
v
i
X
r
a

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A

BIGRADED KNOT INVARIANT

PETER OZSV ´ATH AND ZOLT ´AN SZAB ´O

1. Introduction

The Alexander polynomial can be given a state sum formulation [6], as a count of
certain Kauﬀman states, each of which contributes a monomial in a formal variable
t.
In [19], this description is lifted to knot Floer homology [15, 21]: knot Floer
homology can be viewed as as a chain complex whose generators correspond to
Kauﬀman states. The Kauﬀman state model for knot Floer homology was rather
elusive: the diﬀerentials appearing in that description have a holomorphic deﬁnition
but at the time were not explicitly computed. A much larger model for knot Floer
homology was described in [13], where the generators correspond to certain states
in a grid diagram. The grid diagram can be used to compute invariants for small
knots [1, 4], but computations are limited by the size of the chain complex (which
has n! many generators for a grid diagram of size n).
The aim of this article is to construct and study an invariant of knots, H −(K),
with the following properties.

(H-1) Letting F = Z/2Z, H −(K) is a bigraded module over the polynomial alge-
d (K, s),

bra F[U ]. That is, there is a vector space splitting H −(K) ∼= ⊕d,sH −
and an endomorphism U of H −(K) with

U : H −

d (K, s) → H −

d−2(K, s − 1).

(H-2) If D is a diagram for K , with a marked edge, then H −(K) is obtained as

the homology of a chain complex C−(D) associated to the diagram.

(H-3) The complex C−(D) is a bigraded chain complex over F[U ], which is freely

generated by the Kauﬀman states of D .

(H-4) The graded Euler characteristic of H −(K) is related to the symmetrized
Alexander polynomial ∆K(t) of the knot K , as follows: there is an identi-
ﬁcation of Laurent series in Z[t, t−1K

(1.1)

Xd,s

(−1)d dim H −

d (K, s)ts =

∆K(t)

(1 − t−1)

.

From its description, this invariant comes equipped with a great deal of algebraic
structure, similar to the Khovanov and Khovanov-Rozansky categoriﬁcations of the
Jones polynomial and its generalizations. The structure also makes computations
of the invariant for large examples feasible. In this paper, we also give an algebraic
proof of invariance, hence giving a self-contained treatment of this invariant. In a

PSO was supported by NSF grant number DMS-1258274.
ZSz was supported by NSF grant numbers DMS-1006006 and DMS-1309152.

1

2

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

follow-up paper, we will show that the invariant constructed here is isomorphic to
knot Floer homology.

In a little more detail, a decorated knot diagram D for K is an oriented, generic
knot projection of K onto R2 , together with a choice of a distinguished edge, which
meets the inﬁnite region. The projection gives a planar graph G whose vertices
correspond to the double-points of the projection of K . Since G is four-valent,
there are four distinct quadrants (bounded by edges) emanating from each vertex,
each of which is a corner of the closure of some region of R2 \ G. Let m denote the
number of vertices of G. Clearly, G divides R2 into m + 2 regions, one of which
is the unbounded one.

Deﬁnition 1.1. A Kauﬀman state (cf. [6]) for a decorated knot projection of K is
a map K that associates to each vertex of G one of the four in-coming quadrants,
subject to the following constraints:

• The quadrants assigned by K to distinct vertices are subsets of distinct

bounded regions in R2 \ G.

• The quadrants of the bounded region that meets the distinguished edge are

not assigned by K to any of the vertices in G.

See Figure 1 for a picture.

Figure 1. Decorated knot projection for the left-handed
trefoil. The distinguished edge is marked with a star. We have
illustrated one of the three Kauﬀman states for this projection.

It is easy to see that a Kauﬀman state sets up a one-to-one correspondence between
vertices of G and the m connected components of R2 \ G that do not meet the
distinguished edge.

In [6], Kauﬀman describes the Alexander polynomial of a knot as a sum of monomi-
als in t associated to every Kauﬀman state. We recall this description (with slight
modiﬁcations to suit our purposes).
Deﬁnition 1.2. Label the four quadrants around each crossing with 0 , and ± 1
2 ,
according to the orientations as speciﬁed in the second line of Figure 2. The Alexan-
der function of a Kauﬀman state K, A(K), is the sum, over each crossing, of the

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 3

contribution of the quadrant occupied by the state. The Maslov function of a Kauﬀ-
man state K is obtained similarly, only now the local contributions are as speciﬁed
in the third line of Figure 2.

+

− 1
2

0

0

1
2

−1

0

0

0

0

−

1
2

0

0
− 1
2

1

0

0

Figure 2. Sign conventions
for crossings, and local
Alexander and Maslov contributions. The ﬁrst row illustrates
the chirality of a crossing; the second the Alexander contribution
of each quadrant; the third the Maslov contribution of each quad-
rant.

Let S = S(D) denote the set of Kauﬀman states. Kauﬀman shows that the
Alexander polynomial is computed by

∆K(t) = XK∈S

(−1)M(K)tA(K).

(Strictly speaking, Kauﬀman’s description is slightly diﬀerent; he does not deﬁne
the integer M (K), only its parity, which is needed for the Alexander polynomial.)

In [19], we gave a description of knot Floer homology as the homology groups
of a chain complex whose generators are Kauﬀman states, with bigradings given
by the M and A functions deﬁned above, and whose diﬀerential counts pseudo-
holomorphic disks. In certain special cases (for example, for alternating knot dia-
grams), these diﬀerentials could be computed explicitly; but in general, their com-
putation remained elusive. (Compare with [2].)
In the present paper, we deﬁne H −(K), which is the homology of a chain complex
C−(D) associated to a diagram. Its generators are Kauﬀman states, and its dif-
ferential is described algebraically. The construction will involve decompositions of
the knot diagram D .

Given a generic, oriented knot projection in the plane, equipped with its usual
(x, y) coordinates, we will consider the intersection of D with half-planes y ≥ t
and y ≤ t, for generic values of t. Intersections with y ≥ t are called upper partial
knot diagrams, and intersections with y ≤ t are called lower partial knot diagrams.
See Figure 3.

The decorated edge of D will be one of the points with minimal y value.

4

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

y = t

Slicing the trefoil diagram. Taking the y = t
Figure 3.
slice for the diagram on the left, we get the line with 2n = 4
marked points (and orientations) in the middle. At right is the
corresponding y ≥ t upper knot diagram.

Our knot invariant will be constructed out of invariants for upper and lower knot di-
agrams. In the spirit of bordered Floer homology [8], we will associate the following
algebraic objects to this picture:

• an algebra associated to the intersection of the knot diagram D with generic

lines y = t.

• a “type D structure” (in the sense of [8], recalled here in Section 2.4)

associated to each (generic) upper diagram.

• a right A∞ -module associated to each (generic) lower diagram.

Given this data, the complex C−(D) is obtained, for generic t, as the tensor product
(in the sense of [8], recalled here in Section 2.5) of the invariant associated to the
y ≥ t upper diagram with the y ≤ t lower diagram, where the pairing is taken over
the algebra associated to y = t slice.

In more detail, the intersection of the knot diagram D with a generic horizontal
line y = t can be encoded as a line equipped with 2n points p1, . . . , p2n (i.e. where
the knot meets the slice), half of which are oriented upwards, and half of which are
oriented downwards. Let S denote the subset of those points oriented upwards.
We will deﬁne an algebra associated to this conﬁguration. The points subdivide
the line into 2n − 1 bounded intervals, and two unbounded ones. There are certain
distinguished basic idempotents in the algebra which correspond to choices of n
of those bounded intervals. These algebras, and related ones, are constructed in
Section 3.

We will describe certain natural modules over this algebra in terms of the following:

Deﬁnition 1.3. An upper Kauﬀman state for an upper diagram y ≥ t is a pair
(K, I) where

• K associates to each crossing in the upper diagram one of the four adjacent

quadrants.

• I is a basic idempotent for the y = t algebra.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 5

Moreover, these data are required to satisfy the compatibility conditions:

• The quadrants assigned by K to distinct vertices are subsets of distinct

bounded regions in the upper diagram y ≥ t.

• The unbounded region meets none of the intervals in the idempotent I .
• Each bounded region in the upper diagram y ≥ t either:

– contains a quadrant associated to some vertex by K, and meets none

of the intervals in the idempotent I ; or

– meets exactly one of the intervals in the idempotent I , and is not

associated to any vertex by K.

It is easy to see that any Kauﬀman state can be restricted to give an upper Kauﬀman
state on any of its upper diagrams. On the other hand upper Kauﬀman states on
an upper diagram might not extend to give a global Kauﬀman state.

Figure 4. Upper Kauﬀman states. We have illustrated here
all three upper Kauﬀman states for the upper diagram obtained
from the trefoil diagram in Figure 3. The idempotent I is repre-
sented by the pairs of darkened intervals.

The type D structure of an upper diagram is generated by its upper Kauﬀman
states.

We will also describe bimodules for enlarging the upper knot diagram. Speciﬁcally,
we will associate bimodules to crossings, caps, and cups, in Sections 5, 8, and 9
respectively. These bimodules are generated by certain localized Kauﬀman states,
and the type D structure of an upper diagram is built as a tensor product of the
bimodules associated to these various pieces. Tensoring together all the pieces gives
the desired chain complex C−(D) whose generators are Kauﬀman states.
The topological invariance of H −(K) is established in Theorem 11.6. The proof
proceeds by showing that H −(D) is invariant under planar isotopies of the knot
diagram, and then locally verifying invariance under the three Reidemeister moves.
In fact, invariance under Reidemeister moves 2 and 3 are part of the “braid re-
lations” that the crossing bimodules satisfy (see Section 6), while Reidemeister 1
invariance is an easy computation.
The complex C−(D) is a chain complex over the polynomial ring in one genera-

tor U . We can set U = 0 to get another chain complex bC(D) whose homology
bH(K) is also a knot invariant. Thus, bH(K) corresponds to \HF K(K) and H −(K)

corresponds to HFK−(K).

Knot Floer homology [15] is an invariant with the above properties, according
to [14]. The diﬀerentials appearing in the original deﬁnition of knot Floer homology

6

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

involve analytical choices; algebraic constructions over a larger base ring were given
in [16] and [2], and a chain complex with many more generators was given in [13].

The methods of this paper are conceptually similar to the computation of Heegaard
Floer homology groups of three-manifolds by factoring mapping classes [9]; but the
present constructions are ultimately algebraic in nature, as is the invariance proof
we give here; compare [24]. In [17], we will in fact verify that H −(K) coincides
with knot Floer homology HFK−(K).

1.1. Organization. In Section 2 we discuss the algebraic preliminaries. Much of
this discussion is an adaptation of the algebraic portion of [11]. We will make
heavy use throughout of the notions of bimodules of various types (DD , DA,
and AA), in the language of [11]. Section 3 we describe the algebras associated
to knot diagram slices, along with a canonical (invertible) dualizing bimodule of
type DD .
In Section 4, we associate natural type DD bimodules to crossings,
which are simple to describe. In Section 5 we construct the corresponding type DA
bimodules, which are most useful to work with. These bimodules induce a braid
group action on the category of modules over our algebras, as veriﬁed in Section 6.
In Section 7, we construct the type DD bimodules associated to a critical point
in the knot diagram, and verify the “trident relation”, which describes how these
bimodules interact with nearby crossing bimodules. The critical point bimodules
have two kinds of corresponding type DA bimodules: the bimodule associated to
a maximum, constructed in Section 8, and the bimodule associated to a minimum,
constructed in Section 9. The theory is equipped with several symmetries, collected
in Section 10. In Section 11, we construct the knot invariant from the constitutent
bimodules, and verify its invariance properties. In Section 12 we verify a few basic
properties of this invariant.

A bordered theory for tangles in the grid context was developed by Ina Petkova
and Vera V´ertesi [20]; compare also [10].
In a quite diﬀerent direction, Rumen
Zarev [23] constructed a “bordered sutured” invariant that can also be used to

study knot Floer homology. Explicit computations of bH(K), for three-stranded

pretzel knots, were done by Andrew Manion. A version of this construction for
singular knots is also studied by Manion [12].

In [18], we give a slight variation on the present construction, together with a
sign reﬁnement. The techniques from that paper lead to eﬃcient computations
of H −(K) for large knots.
In fact, note that, similar to fast computations for
Khovanov homology [3] for non-alternating projections, there are various cancelling
diﬀerentials in the invariants associated to partial knot diagrams that allow for fast
computer calculation. Details will be explained in [18]. As an illustration using
the 91 -crossing presentation of the K3 knot from [5], we ﬁnd that the Poincar´e

polynomial of bH(K), deﬁned by

PK(m, t) =Xd,s

dim bHd(K, s)mdts,

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 7

is given by

2t4m6 + t3(7m5 + 3m3 + m)

+ t2(10m4 + m3 + 16m2 + m + 3)
+ t(7m3 + 2m2 + 39m + 2 + 3m−1)
+ (4m2 + 2m + 53 + 2m−1 + 2m−2)
+ t−1(7m + 2 + 39m−1 + 2m−2 + 3m−3)
+ t−2(10 + m−1 + 16m−2 + m−3 + 3m−4)
+ t−3(7m−1 + 3m−3 + m−5) + 2t−4m−2

Acknowledgements We wish to thank Adam Levine, Robert Lipshitz, Andy Man-
ion, B´ela R´acz, Dylan Thurston, Rumen Zarev, and Bohua Zhan for interesting
discussions.

8

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

2. Algebraic preliminaries

We recall some algebraic preliminaries from bordered Floer homology. Further
background on A∞ algebras can be found in [7]. Most of this material (except
Section 2.9) can be found, with more detail, in [11].

2.1. Algebras. In this paper, we will be concerned with diﬀerential graded alge-
bras A (DG algebras) in characteristic 2 .

The DG algebra A is an abelian group equipped with a diﬀerential

and a multiplication map

µ1 : A → A,

µ2 : A ⊗ A → A,

satisfying the usual compatibility conditions
µ2

1 = 0;

µ2 ◦ (µ1 ⊗ Id + Id ⊗µ1) = µ1 ◦ µ2;

µ2 ◦ (µ2 ⊗ Id) = µ2 ◦ (Id ⊗µ2).

(The latter two are the Leibnitz rule and associativity rule respectively.)
customary to abbreviate µ1(a) by da and µ2(a ⊗ b) by a · b .)

It is

Our algebras are strictly unital; i.e. they are equipped with a distinguished element
1 which is a cycle. We will typically think of our algebras as deﬁned over a ground
ring k, which in turn is a direct sum of ﬁnitely many copies of F = Z/2Z, equipped
with a vanishing diﬀerential. This means that there is a distinguished subalgebra
of A, identiﬁed with k, whose unit 1 is also the unit in A. This means that
we can think of A as a bimodule over k, µ1 as a bimodule homomorphism, and
µ2 : A ⊗k A → A as a bimodule homomorphism.

Note that our algebras will be typically not ﬁnitely generated over the ground ring
k.

2.2. Gradings. Our algebras will be equipped with gradings, a Maslov grading,
which takes values in Z, and an Alexander multi-grading which takes values in
some Abelian group Λ = ΛA , which are compatible with the algebra actions as
described presently.

Speciﬁcally, A is equipped with a direct sum splitting

A = M(d,ℓ)∈Z⊕Λ

Ad;ℓ.

A non-zero element a ∈ Ad;ℓ is called homogeneous with grading (d, ℓ); or simply
homogeneous with respect to the grading by Z ⊕ Λ , when we do not wish to specify

its actual grading. Similarly, if a ∈Ld∈Z Ad;ℓ for some ﬁxed ℓ ∈ Λ , we say that a

is Λ -homogeneous (with grading ℓ ).

The compatibility with the algebra actions is given by

µ1 : Ad;ℓ → Ad−1;ℓ

µ2 : Ad1;ℓ1 ⊗ Ad2;ℓ2 → Ad1+d2;ℓ1+ℓ2 .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 9

In our present applications, the group ΛA is ( 1

2 Z)m ⊂ Qm .

The algebras considered here will satisfy the following further condition:

Deﬁnition 2.1. We say that the Alexander multi-grading on A is positive over k
if the following two conditions hold:

• k is the set of algebra elements in A with Alexander multi-grading 0 .

• For a1, . . . , am with Alexander multi-gradings λ1, . . . , λm , if Pm

then each λi = 0 .

i=1 λi = 0 ,

2.3. Modules. We will consider several kinds of modules over our algebras.

A right diﬀerential module over A is a right k-module M , equipped with maps

m1 : M → M.

m2 : M ⊗k A → M.

and

satisfying

m2

1 = 0;

m2 ◦ (m1 ⊗ Id + Id ⊗µ1) = m1 ◦ m2;

m2 ◦ (m2 ⊗ Id) = m2 ◦ (Id ⊗µ2).

We will consider modules that are strictly unital, meaning that m2(x, 1) = x for all
x ∈ M . In this case, we can think of m2 as a right k-module map m2 : M ⊗k A →
M .

Weakening associativity, one naturally arrives at the notion of an A∞ module M .

A right A∞ module over A is a right k-module M , equipped with a sequence of
maps

mi : M ⊗k

A ⊗k · · · ⊗k A → M

z

i−1

}|

{

for i ≥ 1 satisfying the following strict unitality conditions:

(1) m2(x ⊗ 1) = x for all x ∈ M
(2) mi(x ⊗ a1 ⊗ · · · ⊗ ai−1) = 0 if i > 2 and there is some 1 ≤ j ≤ i − 1 with

aj = 1 ;

and a compatibility condition which is perhaps best phrased in terms of the bar
construction. (See Equation (2.1) below.) Deﬁne

T ∗(A) =

∞Mi=0

z

A ⊗k · · · ⊗k A,

i

}|

{

10

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

with the convention that the 0th tensor product of A is k. This is a chain complex,
with a diﬀerential induced by µ1 and µ2 ; i.e.

d(a1 ⊗ · · · ⊗ ai) =

+

iXj=1
i−1Xj=1

a1 ⊗ · · · ⊗ aj−1 ⊗ µ1(aj) ⊗ aj+1 ⊗ · · · ⊗ ai

a1 ⊗ · · · ⊗ aj−1 ⊗ µ2(aj ⊗ aj+1) ⊗ · · · ⊗ ai,

with the understanding that d vanishes on T 0(A). Consider

T ∗(M ) = M ⊗k T ∗(A)

The maps mi (i ≥ 1 ) induce a map

m : T ∗(M ) → T ∗(M );

by the formula

m(x ⊗ a1 ⊗ · · · ⊗ ai) =

iXj=0

mj+1(x ⊗ a1 ⊗ · · · ⊗ aj) ⊗ aj+1 ⊗ · · · ⊗ ai

The compatibility condition is equivalent to the condition that

m(m(x ⊗ a)) + m(x ⊗ d(a)) = 0;

(2.1)
or equivalently, the map dM : T ∗(M ) → T ∗(M ) deﬁned by
dM (x ⊗ a) = m(x ⊗ a) + x ⊗ d(a)

is a diﬀerential. A right diﬀerential module is a right A∞ module with mi = 0 for
all i ≥ 3 .

Left diﬀerential modules and A∞ modules are deﬁned analogously (though in ad-
herence with the conventions laid down in [8], our A∞ modules will typically be
right modules).

Gradings are as follows. The modules M we consider will typically have a Maslov
grading by Z, and a further Alexander multi-grading set S , which is a set S with
an action by ΛA . That is, there is a direct sum splitting (as k-modules):

M = Md∈Z,s∈S

Md;s

and we assume that each summand Md;s is a ﬁnitely generated k-module.

The actions mi will be graded as follows.

mi : Md0;s ⊗ Ad1;ℓ1 ⊗ . . . Adi−1;ℓi−1 → Mi−2+Pi−1

j=0 dj;s+Pi−1

j=1 ℓj

.

We will typically record the algebra A as a subscript for the A∞ -module M ,
writing MA if M is a right A∞ -module, and AM if M is a left A∞ -module.

Given two A∞ modules MA and NA , a morphism from MA to NA is a sequence

of k-module maps {φi : MA ⊗k
induces a map

A ⊗k · · · ⊗k A → NA}i≥1 . A morphism naturally

z

i−1

}|

{

φ : MA ⊗ T ∗(A) → NA ⊗ T ∗(A).

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 11

by

φ(x ⊗ a1 ⊗ · · · ⊗ an) =

nXi=0

φi+1(x ⊗ a1 ⊗ · · · ⊗ ai) ⊗ ai+1 ⊗ · · · ⊗ an.

When this induced map is a chain map, we say that the morphism is a homo-
morphism. More generally, the space of morphisms can be given a diﬀerential, so
that

dMor(φ) = dN ◦ φ + φ ◦ dM .

Let ModA resp. AMod denote the category of right resp. left A∞ modules over
A. This is a diﬀerential category (i.e. the morphism spaces are chain complexes).
Speciﬁcally, given MA, NA ∈ ModA , let MorA(M, N ) denote the chain complex
whose elements are maps {φi : M ⊗ Ai−1 → N }i≥1 , with diﬀerential given by

(dφ)i(x, a1, . . . , ai−1) =

iXj=1

φi−j+1(mM

j (x, a1, . . . , aj−1), aj, . . . , ai−1)

+

+

+

iXj=1
i−1Xj=1
i−2Xj=1

mN

i−j+1(φj (x, a1, . . . , aj−1), aj, . . . , ai−1)

φi(x, a1, . . . , µ1(aj ), . . . , ai−1)

φi−1(x, a1, . . . , µ2(aj , aj+1), . . . , ai−1).

There is a convenient graphical representation of formulas such as the one above.
We represent elements of M by dashed arrows, elements of T ∗(A) by doubled
arrows, and various maps between them by labelled nodes. For instance, the map
m : M ⊗ T ∗(A) → M , the morphism φ : M ⊗ T ∗(A) → N , and the diﬀerential
d : T ∗(A) → T ∗(A) are represented by the pictures

m

φ

d

Using the map ∆ : T ∗(A) → T ∗(A) ⊗ T ∗(A) deﬁned by

∆(a1 ⊗ · · · ⊗ aj) =

jXi=0

(a1 ⊗ · · · ⊗ ai) ⊗ (ai+1 ⊗ · · · ⊗ aj),

12

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

we can express the diﬀerential on φ deﬁned above as:

∆

∆

d

dφ

=

m

φ

+

φ

m

+

φ

.

Let MA be a right A∞ -module over k, with a (Z-valued) Maslov grading and an
Alexander multi-grading with values in S . We can form the opposite module AM ,
which is a space of maps from M to F, also equipped with a Maslov grading and
a grading by S ,

(2.2)

AM = Md∈Z,s∈S

HomF(M−d;−s, F),

with action speciﬁed as follows. For ﬁxed φ ∈ Homk(M, F) and a1 . . . , ai−1 ∈ A,
let mi(a1 ⊗ . . . ai−1 ⊗ φ) be the homomorphism from M to F whose evaluation on
x is given by φ(mi(x ⊗ ai−1 ⊗ · · · ⊗ a1)). (Note that the tensor factors appearing
here are over Z/2Z; when M is strictly unital, we can think of the tensor factors as
taken over k; with the understanding that in ai−1 ⊗ · · · ⊗ a1 , the bimodule actions
of k on the ai are also opposites.)

2.4. Type D structures. A left type D structure over A is a left k-module X ,
equipped with a k-linear map

δ1 : X → A ⊗k X,

satisfying the compatibility condition

(µ2 ⊗ IdX ) ◦ (IdA ⊗δ1) ◦ δ1 + (µ1 ⊗ Id) ◦ δ1 = 0.

A right type D structure is deﬁned analogously. The maps will be drawn as

δ1

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 13

and the structure relation is drawn

δ1

δ1

= 0

δ1

+

µ1

µ2

As in the case of modules, our type D structures will be given a grading by Z (the
Maslov grading) and a further Alexander grading set S = SX , a set with an action
by ΛA . This means that X is equipped with a direct sum splitting

X = Md∈Z;s∈S

Xd;s,

where each Xd;s is a k-module. (In fact, in the cases of relevance to us, X will be
ﬁnitely generated as a k-module.) The actions respect these gradings, in the sense
that

δ1 : Xd;s →

We abbreviate this, writing

Md0+d1=d−1;ℓ0+s1=s

Ad0;ℓ0 ⊗ Xd1;s1.

In practice, the grading set S will be a quotient of ΛA .

δ1 : Xd;s → (A ⊗ X)d−1;s.

A left type D structure X induces a left diﬀerential module A ⊠ X in a natural
way. As a left A-module, the space is A⊗k X ; i.e. given a ∈ A and b⊗x ∈ A⊗k X ,
we deﬁne

m2(a, b ⊗ x) = µ2(a, b) ⊗ x.

The operator

which can be graphically represented by

m1 = µ1 ⊗ IdX +(µ2 ⊗ IdX ) ◦ (IdA ⊗δ1

X )

δ1

µ1

+

µ2

induces diﬀerential on A ⊗k X = A ⊠ X ; i.e. m2
1 = 0 . It is straightforward to
check that the diﬀerential and the A-action satisfy a Leibniz rule; i.e. A ⊠ X is
a diﬀerential A-module. (This is the special case of a more general construction:
it is the tensor product of A, viewed as a bimodule over itself, with the type D
structure X .)

14

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Conversely, let M be a left DG-module over A, that splits as a left A-module as
a direct sum of modules that are isomorphic to left ideals in A by elements of k;
i.e.

(2.3)

M = Mg∈G

A · Y(g)

for some ﬁnite set G, and a map Y : G → k. There is a k-submodule of M ,

X = Mg∈G

k · Y(g).

Restricting the diﬀerential m1 to X gives a map δ1 : X → A ⊗ X = M ; the
hypothesis that m2
1 = 0 is equivalent to the condition that δ1 determines a type
D structure.

We will typically record the algebra as a superscript for a type D structure, writing
AX to denote a left type D structure X over A. There is an analogous notion of
right type D structures; for a right type D structure, we record the algebra (as a
superscript) on the right, e.g. writing X A .
Analogously, we let AMod and ModA denote the category of left resp. right type
D structures. For this category, Mor(AP, AQ) is deﬁned to be the chain complex
of maps

where the diﬀerential is speciﬁed by

h1 : P → A ⊗k Q,

d(h1) = (µA

1 ⊗ IdQ) ◦ h1 + (µA

2 ⊗ IdQ) ◦ (IdA ⊗h1) ◦ δ1

P + (µA

2 ⊗ IdQ) ◦ (IdA ⊗δ1

Q) ◦ h1.

There is also a composition map, which is a chain map Mor(AP,A Q)⊗Mor(AQ,A R) →
Mor(AP, AR), deﬁned by taking f 1 ⊗ g1 to

(2.4)

(f ◦ g)1 = (µ2 ⊗ IdZ) ◦ (IdA ⊗g1) ◦ f 1.

If AX is a left type D structure, we can form the opposite type D structure as
follows.

As a k-module, X

A

is a space of vector space maps from M to F:

A

X

= Md∈Z;s∈S

HomF(X−d;−s, F).

This inherits naturally the structure of a right k-module: the action of ι ∈ k on
φ : M → F is the map that sends x to φ(ι · x).

The requisite map

1

δ

: X

A

→ X

A

⊗ A

is adjoint to the map δ1 for AX ; i.e. given φ ∈A X , deﬁne δ
A ⊂ Hom(X, A) to be the map that sends x to hδ1x, φi, where

1

(φ) ∈ Hom(X, F) ⊗k

h·, ·i : A ⊗ X ⊗ Hom(X, F) → A

is induced by the evaluation map.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 15

2.5. Tensor products. We recall the pairing between A∞ modules and type D
structures from [8], which in fact can be thought of as a model for the derived
tensor product. (See for example [11, Proposition 2.3.18])
Fix ﬁrst a type D structure AX . There are maps for integers j ≥ 0 with

(2.5)

δj : X 7→

A ⊗k · · · ⊗k A ⊗kX,

with the following inductive deﬁnition:

z

j

}|

{

• δ0 is the identity map;
• δ1 is as speciﬁed by the type D structure;
• and ﬁnally,

δj = (IdA⊗j−1 ⊗δ1) ◦ δj−1.

The sum P∞

j=0 δj is notated

δ = +

δ1 +

δ1

δ1

+ . . . .

(Note that in general, the image of δ is contained in (Q∞

Recall that if M is a right A∞ -module and X is a left type D structure, then
under suitable circumstances, we can form the tensor product M ⊠ X . This is a
chain complex whose underlying vector space is M ⊗k X , and whose diﬀerential is
given by

m=0 T ∗(A)) ⊗ X .)

∂(p ⊗ x) =

∞Xj=0

(mj+1 ⊗ IdX ) ◦ (p ⊗ δj (x))

= m1

+

m2

δ1

+

m3

δ1

δ1

+ · · · =

m

δ

In general, the sum appearing in the deﬁnition of ∂ has inﬁnitely many terms.
The suitable circumstances needed to deﬁne ∂ are those where the above sum
is ﬁnite. For instance, if the module M has the property that for all p ∈ M ,
mj+1(p, a1, . . . , aj) = 0 for all suﬃciently large j and any sequence a1, . . . , aj ,
then the sum is guaranteed to be ﬁnite. Such an A∞ module is called a bounded
A∞ module. Similarly, ﬁniteness is guaranteed if X has the property that for all

16

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

x ∈ X , there is a j with the property that δjx = 0 for all suﬃciently large j . Such
a type D structure is called a bounded type D structure. To recapitulate, M ⊠ X
exists if either MA or AX is bounded.

Let M be a right A∞ module with Alexander grading set S and X a left type
D structure with Alexander grading set T . Then the tensor product M ⊠ X is
naturally graded by the product of Z (the Maslov grading) and the Alexander
grading set S ×Λ T = (S × T )/ΛA .

2.6. Bimodules. If A and B are two diﬀerential graded algebras over ground rings
j and k respectively, a left/left type DD bimodule is a type D structure over the
tensor product A ⊗ B . In particular, it is a left module over j ⊗F k. A left/right
type DD bimodule is a left/left type DD bimodule over A ⊗ Bop .

A left/right type DA bimodule is a j − k bimodule equipped with maps for i ≥ 1 :

δ1
i : X ⊗k
satisfying the structure equation

z

i−1

}|

{

B ⊗k · · · ⊗k B → A ⊗j X,

0 = (µA

1 ⊗ IdX ) ◦ δ1

i (x ⊗ a1 ⊗ · · · ⊗ ai−1)

+

+

+

i−1Xj=1
i−2Xj=1
iXj=1

i (x ⊗ a1 ⊗ · · · ⊗ aj−1 ⊗ µB
δ1

1 (aj) ⊗ aj+1 ⊗ · · · ⊗ ai−1)

i (x ⊗ a1 ⊗ · · · ⊗ aj−1 ⊗ µB
δ1

2 (aj ⊗ aj+1) ⊗ aj+2 ⊗ · · · ⊗ ai−1)

(µA

2 ⊗ IdX ) ◦ (IdA ⊗δ1

i−j+1) ◦ (δ1

j (x ⊗ a1 ⊗ · · · ⊗ aj−1) ⊗ aj ⊗ · · · ⊗ ai−1)

=

µ1

δ1

+

d

+

δ1

∆

δ1

δ1

µ2

Here, we think of B as the algebra of inputs, and A as the output algebra.

Example 2.2. Fix an algebra A over k. The identity bimodule AIdA is the type
DA bimodule whose underlying k- k bimodule is k, so that the maps δ1
j have the
form

δ1
j :

A ⊗k · · · ⊗k A → A

z

j−1

}|

{

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 17

and whose operations are given by δ1

2(a) = a, and δ1

j = 0 for j = 1 and j > 2 .

Example 2.3. Let φ : B → A be a homomorphism of DG algebras over a base ring
k. This can be viewed as a bimodule A[φ]B with a single generator over k, which
we denote 1, with

δ1
2(1, b) = φ(b) ⊗ 1.

The grading shifts are as follows:

δ1
i : Xd1;ℓ1 ⊗k Bd2;ℓ2 ⊗k · · · ⊗k Bdi;ℓi → (A ⊗ X)i−2+P dj;P ℓj .

A left/right type AA bimodule over A and B is a left/right bimodule over I(A)
and I(B), equipped with maps indexed by integers i, j ≥ 0 ,

z

i

}|

{

z

j

}|

{

mi|1|j :

A ⊗I(A) ⊗ · · · ⊗ A ⊗I(A) ⊗ X ⊗I(B)

B ⊗I(B) ⊗ · · · ⊗ B → X.

deﬁned for all non-negative integers i and j , satisfying a structure equation which
we will state shortly. The maps can mi|1|j can be assembled to form a map

m : T ∗(A) ⊗I(A) ⊗M ⊗I(B) T ∗(B) → M

that is represented by the diagram

a

x

b

m

and satisﬁes the structure equation (for all a ∈ T ∗(A) and b ∈ T ∗(B)):

x

b

+

a

x

b

= 0

a

x

b

+

d

a

d

m

m

∆

∆

m

m

As a basic example, if A is a DG algebra, we can view it as a bimodule over itself;
in this case, we write AAA . The operation m0|1|0 is the diﬀerential on the algebra,
m1|1|0(a ⊗ b) = a · b , and m0|1|1(b ⊗ c) = b · c, for any a, b, c ∈ A (except now b is
viewed as an element in the bimodule). All other operations vanish.

Sometimes, we will need to consider right/right type AA bimodules over A and B .
These can be thought of as left/right bimodules over Aop (the “opposite algebra”)
and B .

18

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Bimodules have opposites, deﬁned by the straightforward generalization of Equa-
tion (2.2). For example, the bimodule AAA , the opposite bimodule of AAA , con-
sists of maps from A → F; more precisely given (d, ℓ) ∈ Z ⊕ Λ ,

(2.6)

A(d,ℓ) = HomF(A(−d,−ℓ), F).

This has operations

m0|1|0(x 7→ ψ(x)) = (x 7→ ψ(dx))

m1|1|0(a ⊗ (x 7→ ψ(x))) = (x 7→ ψ(x · a))
m0|1|1((x 7→ ψ(x)) ⊗ b) = (x 7→ ψ(b · x))

A morphism between type DA bimodules h1 : AXB →A YB is a sequence of maps

{h1

j : X ⊗k

abbreviated

z

B ⊗k · · · ⊗k B → A ⊗j Y }∞

j=1,

j−1

}|

{

h1

The diﬀerential of h1 is the morphism dh1 represented as the sum

h1

+

µ1

d

h1

∆

∆

δ1

h1

+

h1

δ1

µ2

µ2

A homomorphism is a morphism whose diﬀerential is zero. Two homomorphisms
are homotopic if their diﬀerence is the diﬀerential of another morphism.

Morphisms can be composed; given morphisms

f 1 : AXB →A YB

g1 : AYB →A ZB,

the composition is deﬁned by the picture

∆

f 1

g1

µ2

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 19

Morphisms, homomorphisms, and homotopies can be deﬁned for bimodules of other
types in a straightforward way; see [11, Section 2.2.4].

2.7. Tensor products of bimodules. We recall here the tensor products of var-
ious types of bimodules; see [11, Section 2.3.2] for details. Let A, B , C be three
diﬀerential graded algebras over base rings i , j, and k respectively, and and let
AXB and BYC be type DA bimodules, their tensor product is a type DA bimodule
structure on the vector space X ⊗ Y (where the tensor product is taken over the
ground ring of B ), with structure maps δ1 : X ⊗j Y → A ⊗i X ⊗j Y which can be
represented as

δY

δ1
X

Here the map δY is obtained by iterating δ1

Y (as in Equation (2.5)).

The following is immediate from the deﬁnition:

Lemma 2.4. Let A, B , C , and D be four diﬀerential graded algebras, and ﬁx type
DA bimodules AXB and BYC and CZD . Then, there is an isomorphism

(AXB ⊠ BYC) ⊠ CZD ∼=AXB ⊠ (BYC ⊠ CZD).

Given a type DA bimodule AXB and a type DD bimodule BY C , their tensor
product AXB ⊠B Y C , when it makes sense, is a type DD bimodule over A and C .
The type DD structure map is described by

(cid:3)

(2.7)

δY

δ1
X

Π

where Π(b1 ⊗ · · · ⊗ bj) = b1 · · · bj .

Of course, the sum implicit in the above description is not always ﬁnite; we describe
a case where its is. (See also [11, Section 2.2.4].) Consider the map

δj
Y : Y → (B⊗j) ⊗ Y ⊗ (C⊗j)

obtained by iterating δ1 (i.e. so that the map δY appearing in Equation (2.7) is

Deﬁnition 2.5. For ﬁxed integer j ≥ 1 , a length j B -sequence out of y ∈ X is any
sequence of algebra elements (b1, . . . , bj) in B with the property that, for a suitable

given as δY =P∞

j=0 δj

Y ).

20

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

choice of z ∈ X and sequence (c1, . . . , cj) in C , (b1 ⊗ · · · ⊗ bj) ⊗ z ⊗ (c1 ⊗ · · · ⊗ cj)
appears with non-zero multiplicity in δj(y).

Deﬁnition 2.6. Fix DG algebras A, B , and C , and bimodules AXB and BY C .
We say that X is Y -compatible over B , or when it is unambiguous, simply Y -
compatible if for any non-zero x⊗y ∈ X⊗Y , if j is a suﬃciently large integer, then
for any length j B -sequence out of y (b1, . . . , bj), we have that δ1
j+1(x, b1, . . . bj) =
0 . Similarly, a morphism φ ∈ Mor(X, X ′) is called Y -compatible if for any x ⊗
y ∈ X ⊗ Y , if j is suﬃciently large, then for any length j B -sequence out of y
j+1(x, b1, . . . , bj) = 0 . If X and X ′ are Y -compatible,
(b1, . . . , bj), we have that φ1
we say that they are Y -compatibly homotopy equivalent if there are Y -compatible
morphisms φ : X → X ′ , ψ : X ′ → X , h : X → X , and h′ : X ′ → X ′ , so that
dφ = 0 , dψ = 0 , ψ ◦ φ = IdX +dh and φ ◦ ψ = IdX ′ +dh′ .

Proposition 2.7. Fix AXB and BY C . If X is Y -compatible, we can form the
type DD bimodule X ⊠ Y , as deﬁned in Equation (2.7). Moreover, if AX ′
B is also
Y -compatible, and it is Y -compatibly homotopy-equivalent to X , then X ⊠ Y and
X ′ ⊠ Y are homotopy equivalent type DD bimodules.

Proof. It is straightforward to see that the Y -compatibility ensures that all the
inﬁnite sums appearing in the needed maps are all ﬁnite.
(cid:3)

For a very simple special case, suppose that AXB has the property that for all
suﬃciently large j , δ1
j = 0 . This is Y -compatible for any type DD structure
BY C .

Lemma 2.8. Let A and B be DG modules, and let AMB be a type DA bimodule
with the property that δ1
j = 0 for all suﬃciently large j . Then, M is homotopy
equivalent to a type DA bimodule with δ1

j = 0 for j > 2 .

Proof. The DA bimodule M ′ is the bar resolution of M ; see [7] or [11]. Explicitly,

and the homotopy equivalence is obtained from the homotopy equivalence

AM ′

B =A MB ⊠ BBarB⊠BBB

BIdB → BBarB⊠BBB

by tensor product with the identity map on M . (Boundedness of M ensures that
this is a homotopy equivalence; compare [11, Lemma 2.3.19].)
(cid:3)

We have the following version of associativity (compare [11, Proposition 2.3.15]:

Lemma 2.9. Let A, B , C , and D be four diﬀerential graded algebras; AXB and
CZ D are bimodules of type DA; and, BY C is of type DD . Suppose moreover that
AXB and CZ D are both bounded, in the sense that for suﬃciently large j , δ1
j = 0 .
Then,

(AXB ⊠ BY C) ⊠ CZ D ≃A XB ⊠ (BY C ⊠ CZ D).

Proof. This is clear if δ1
by Lemma 2.8.

j = 0 for all j > 2 on AXB . We can reduce to this case
(cid:3)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 21

2.8. Taking homology of bimodules. By the “homological perturbation lemma”,
A∞ structures persist after taking homology. (See for example [7] for the case of
algebras.) We will make use of the analogous result for bimodules.

We start with a standard result from homological algebra:

Lemma 2.10. Let k ∼= Fk for some k . Let Y be an S -graded chain complex
over k, and Z = H(Y ). Then, Z is also an S -graded chain complex (with trivial
diﬀerential), and there are S -graded chain maps f : Z → Y and g : Y → Z and an
S -graded map T : Y → Y with T ◦T = 0 and g◦f = IdZ , f ◦g = IdY +∂ ◦T +T ◦∂ .

We will use two versions of the homological perturbation lemma:

Lemma 2.11. Let AYB be a strictly unital A∞ bimodule with grading set S ,
let Z denote its homology. Let f : Z → Y be the homotopy equivalence of S -
graded complexes of k-modules from Lemma 2.10. Then there is an A∞ bimodule
structure on Z , denoted AZB , and an A∞ homotopy equivalence φ : AZB → AYB
with φ0|1|0 = f .

Proof. By hypothesis, we have maps f : Z → Y and g : Y → Z so that f ◦ g =
Id +∂ ◦ T + T ◦ ∂ . The diﬀerential on Z vanishes; i.e. m0|1|0 = 0 . Operations
mi|1|j with i + j > 0 are described by

mZ(a ⊗ x ⊗ b) =

a

x

f

m

g

b

+

a

x

b

+

a

x

b

+ · · ·

f∆

∆

f∆

∆

m

T

m

g

m

T

m

T

m

g

where a1 ⊗ · · · ⊗ ai ∈ a ∈ T ∗(A) and b1 ⊗ · · · ⊗ bj = b ∈ T ∗(B); and each node
laebelled by m contains an operation ma|1|b with a + b > 0 ; where the splitting
operator ∆ is generalized to have arbitrarily many outputs. With those operations,
we have an A∞ -bimodule homomorphism deﬁned by φ0|1|0 = f and φi|1|j with

22

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

i + j > 0 speciﬁed by

φ(a ⊗ x ⊗ b) =

a

b

+ · · ·

∆

b

+

a

∆

x

f

m

T

x

f

m

T

m

T

(again where each m-labelled node must have at least two inputs). With these
deﬁnitions, it is straightforward to verify that φ is a homotopy equivalence of
A∞ bimodules; compare [7]. Using these explicit descriptions of mZ and φ, the
condition that T 2 = 0 and the strict unitality of Y , immediately implies that both
mZ and φ are strictly unital.
(cid:3)

We will also use a variant for DA bimodules:

Lemma 2.12. Let AYB be a strictly unital type DA bimodule with grading set S ,
and let AZ be type D structure over A. Suppose that there are type D structure
homomorphisms f : AZ →A Y (i.e. as the notation suggests, we are forgetting
here about the right B -action) and g : AY →A Z and a type D structure morphism
T : AY → AY so that

f ◦ g = IdZ,

g ◦ f = IdY +dT, T ◦ T = 0.

(Here, T ◦ T the composite of type D structures; see Equation (2.4).) Then AZ
can be turned into a strictly unital type DA bimodule, denoted AZB ; and there is
an A∞ homotopy equivalence φ : AZB →A YB with φ1

1 = f .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 23

Proof. AZ is already equipped with an action δ1
b = b1 ⊗ · · · ⊗ bj−1 are speciﬁed by

1 . For j > 1 , operations δ1

j on

δ1(x ⊗ b) =

b

+ · · ·

∆

b

+

x

f

m

g

Π

x

f

m

T

m

g

Π

b

+

∆

x

f

m

T

m

T

m

g

Π

similarly, deﬁne φ1

x

b

1 = f , and for j > 1 , φ1 on b = b1 ⊗ · · · ⊗ bj−1 is given by
φ1(x ⊗ b) =

+ · · ·

b +

x

f

m

T

Π

∆

f

m

T

m

T

Π

2.9. Koszul duality. Let A and B be two diﬀerential graded algebras Λ . Let
AX B be a type DD bimodule and BYA be a type AA bimodule. We say that
these two bimodules are quasi-inverses if there are homotopy equivalences

(cid:3)

AX B ⊠ BYA ≃A IdA
BYA ⊠ AX B ≃ BIdB

In this case, we call AX B resp. BYA quasi-invertible type DD resp. type AA
bimodules.

24

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

To see that X and Y are quasi-inverses, it suﬃces to exhibit homomorphisms

so that the maps

φ1 : AX B ⊠ BYA →A IdA
ψ1 : BYA ⊠ AX B → BIdB

IdA ⊠φ1 : AAA ⊠ AX B ⊠ BYA → AAA
ψ1 ⊠ IdB : BYA ⊠A X B ⊠ BBB → BBB

induce isomorphisms on homology, according to [11, Corollary 2.4.4].

Deﬁnition 2.13. Let k be a ring that is a ﬁnite direct sum of F. Let A and
B be two DG algebras, both of which are positively graded over k (in the sense
of Deﬁnition 2.1). A bimodule AX B is called a Koszul dualizing bimodule if it
satisﬁes the following properties:

(K-1) AX B is graded by Λ .
(K-2) AX B has rank one; i.e. there is an isomorphism

AX B ∼= k

as k- k bimodules.

(K-3) The image of δ1 is contained in Lλ∈Λ\0 Aλ ⊗A X B ⊗ Bλ .

(K-4) AX B is quasi-invertible.

If such a bimodule exists, then one says that A and B are Koszul dual to one
another.

Deﬁnition 2.14. If AX B is a type DD bimodule, we can form the candidate
quasi-inverse module

(2.8)

AMor(AX B ⊠ BBB,A IdA) ∼= BBB ⊠B X

A

⊠ AAA.

Lemma 2.15. For a type DD bimodule satisfying properties (K-2) and (K-3), the
candidate quasi-inverse module has a subcomplex k ⊠B X
⊠ k which is isomorphic
to k.

A

Proof. For any DD bimodule, k ⊠B X
⊠ A is a subcomplex of the candidate
quasi-inverse module. Condition (K-3) ensures that the induced diﬀerential on
k⊠BX
⊠k is a subcomplex.
Condition (K-2) now gives the desired identiﬁcation of the subcomplex with k. (cid:3)

⊠A is simply the diﬀerential on A; and hence k⊠BX

A

A

A

Lemma 2.16. Fix k as above in Deﬁnition 2.13, and let AX B be a type DD
bimodule satisfying Conditions (K-2) and (K-3). Suppose that the inclusion map
from k to the candidate quasi-inverse module coming from Lemma 2.15 induces
an isomorphism on homology. Then the candidate quasi-inverse module is a quasi-
inverse of AX B .

Proof. Let BYA be the candidate quasi-inverse. Our goal is to show, under the
stated hypotheses, that BYA is a quasi-inverse to AX B .

To this end, consider a DA bimodule by tensoring X with Y :

AX B ⊠ BYA =A X B ⊠ BBB ⊠B X

A

⊠ AAA.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 25

The diﬀerential on this bimodule is given pictorially by:

B X A

X B X A

X B

A

X B X A

X

δ1
X

+

mB

0|1|0

+

+

µA
1

mB

1|1|0

mB

0|1|1

µA
2

X

δ1
X

A

There is a natural map h : AX B ⊠BYA →A IdA, deﬁned by x⊗ψ → ψ(x⊗1), where
here 1 ∈ B is the unit; i.e. given x ∈ X and ψ ∈ Y =A Mor(AX B ⊠ BBB,A IdA),
x ⊗ 1 ∈A X B ⊠ BBB , so ψ(x ⊗ 1) ∈A IdA . This natural map can be viewed as a
DA morphism. Recall that a DA morphism AX B ⊠ BYA →A IdA is speciﬁed by
a sequence of maps indexed by j ≥ 1 :

j : AX B ⊠ BYA ⊗
h1

A ⊗ · · · ⊗ A → A.

{

z

j−1

}|

The morphism under question has h1
the case where j = 1 . Pictorially, h is represented as follows:

j = 0 for j > 1 , and it was speciﬁed above in

X B X A

1

F

K

Where here K denotes the Kronecker pairing, and 1 is dual to the map 1 : F → B .

The veriﬁcation that h is a DA bimodule homomorphism is straightforward.

So far, we have not used the hypothesis on the homology of BYA (which is needed
to verify that h is a homotopy equivalence). From the hypothesis, there is a rank
one bimodule BZA ; this is the bimodule structure induced on k from its quasi-
isomorphism with BYA as in Lemma 2.11. Let

φ : BZA → BYA

be the induced bimodule quasi-isomorphism. In more detail, denote the isomor-
phism k ∼= X by ι 7→ xι ; taking its dual and using an isomorphism k ∼= k induced
from an F-basis for k, we get an isomorphism k → X denoted ι 7→ xι . Now,

The map φ satisﬁes the following two properties:

φ0|1|0(ι) = 1 ⊗ xι ⊗ 1.

26

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

(1) On the bimodule BZA , for all k > 0 ,

(2.9)

mk|1|0 = 0

(2) On the bimodule homomorphism, for all k > 0 ,

(2.10)

φk|1|0 = 0.

Both of these follow from the formulas from Lemma 2.11.
In more detail, let
∆ ⊂ Λ × Λ denote the diagonal; i.e. the elements of the form (λ, λ). The image of
mk|1|0(a1, . . . , ak−1, x) would be supported in the portion in grading (λ(x)+(λ(a1)+
· · ·+λ(ak−1), 0))∩∆, which, since λ(x) ∈ ∆, means that λ(a1)+· · ·+λ(ak−1) = 0 .
By positivity of the grading on A, we conclude that each λ(ai) = 0 , and hence
that each ai ∈ k. But now positivity (Deﬁnition 2.1) implies Equation (2.9).
Equation (2.10) follows from the same reasoning.

To verify h is a DA bimodule quasi-isomorphism, consider the induced AA-
bimodule homomorphism

(IdA ⊠h) : AAA ⊠A X B ⊠ BYB = AAA ⊠A X B ⊠ BBB ⊠ BX A ⊠ AAA → AAA.

To verify that it is a quasi-isomorphism, we form the following composite
−→ A ⊠ X ⊠ B ⊠ X ⊠ A IdA ⊠h−→ AAA,

AAA ⊠A X B ⊠ BZA

IdA⊠X

⊠φ

which we denote κ. From Equation (2.9), we conclude that the chain complex on
the left is identiﬁed with A. From Equation (2.10), we conclude that that κ0|1|0 is
the chain map (IdA ⊗h1
1)◦ (IdA⊠X ⊗φ0|1|0) that sends a⊗ xι ⊗ ι to a; in particular,
it is an isomorphism of chain complexes.
(cid:3)

Remark 2.17. In fact, if AX B is quasi-invertible, the quasi-inverse is always
given by the above bimodules by the argument from [11, Proposition 9.2]; i.e. there
are quasi-isomorphisms:

BYA ≃ MorB(BBB, BYA)

≃ MorA(AX B ⊠ BBB,A X B ⊠ BBB)
≃ MorA(AX B ⊠ BBB,A IdA);

the ﬁrst of these is true for arbitrary BYA , the second uses the fact that X ⊠ induces
an equivalence of categories, and the third uses the fact that X and Y are quasi-
inverses.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 27

3. The algebras

We describe diﬀerential graded algebras used in the construction of our knot in-
variant.
In fact, we will ﬁnd it convenient to work with a more general con-
struction B(m, k, S), where 0 ≤ k ≤ m + 1 , and S is an arbitrary subset of
{1, ..., m} . The integer m is called the index. The integer k is the number of
occupied positions; together with the index, it determines the base ring k = I(B).
When S1 ⊂ S2 ⊂ {1, . . . , m} , then B(m, k, S1) will be a diﬀerential subalgebra of
B(m, k, S2).

When S = ∅ , the diﬀerential on the algebra B(m, k, ∅) = B(m, k) vanishes. In fact,
this algebra will be deﬁned as the quotient of a larger algebra B0(m, k), which we
deﬁne ﬁrst.

When constructing the knot invariant for a knot with bridge number n, we will
have m = 2n, k = n, and S will correspond to those (n) strands that are oriented
upwards. In fact, for the purposes of the knot invariant, it would suﬃce to work in a
summand corresponding to certain idempotents; see Remark 11.13. We have chosen
to use the larger algebra in our constructions, as it satisﬁes a duality described in
Section 3.8.

3.1. The algebra B0(m, k). We deﬁne B0(m, k), which is a graded algebra over
F[U1, . . . , Um], whose (Alexander multi-grading) set is ( 1
2 Z)m . (See Section 2.2.)
Basic idempotents in B0(m, k) correspond to idempotent states, or I-states for short,
x = (x1, . . . , xk), which are increasing sequences of integers

0 ≤ x1 < ... < xk ≤ m.

The basic idempotent corresponding to x will be denoted by Ix . The elements Ix
are generators of a ring k = I(m, k) satisfying:

Ix · Iy =(cid:26) Ix

0

if x = y
if x 6= y.

Remark 3.1. Recall from Section 1 that these idempotents can be interpreted as
marking intervals which are intersections of the regions in a knot diagram with the
y = t slice.

The unit 1 in the algebra is given by the sum of the basic idempotents.

Given an I-state x, deﬁne its weight vx ∈ Zm by

(3.1)
Given two I-states x and y , deﬁne their minimal relative weight vector wx,y ∈
( 1
2 Z)m to be given by

vx

i = #{x ∈ x(cid:12)(cid:12)x ≥ i}.
i(cid:12)(cid:12).

2(cid:12)(cid:12)vx

i − vy

1

wx,y

i =

B0(m, k) is deﬁned so that there is an identiﬁcation of F[U1, . . . , Um]-modules
Ix · B0(m, k) · Iy ∼= F[U1, . . . , Um]; denote the identiﬁcation by
φx,y : F[U1, . . . , Um] → Ix · B0(m, k) · Iy

A grading by ( 1

2 Z)m on Ix · B0(m, k) · Iy is speciﬁed by

(3.2)

w(φ(U t1

1 . . . U tm

m )) = wx,y + (t1, . . . , tm),

28

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

for non-negative integers t1, . . . , tm .

Multiplication

(cid:16)Ix · B0(m, k) · Iy(cid:17) ∗(cid:16)Iy · B0(m, k) · Iz(cid:17) →(cid:16)Ix · B0(m, k) · Iz(cid:17)

is the unique non-trivial, grading-preserving F[U1, . . . , Um]-equivariant map. Ex-
plicitly, given I-states x, y , and z, if we deﬁne

gx,y,z = U t1 · · · U tm,

where

ti = wx,y

i + wy,z

i − wx,z

i

,

then for a, b ∈ F[U1, . . . , Um],

φx,y(a) ∗ φy,z(b) = φx,z(a · b · gx,y,z).

Suppose that x is an I-state with j − 1 ∈ x but j 6∈ x. Then, we can form a new
I-state y = x ∪ {j} \ {j − 1} , and let Rx

j = φx,y(1). We deﬁne

so that

Rj = X{x(cid:12)(cid:12)j−1∈x,j6∈x}

Rx
j ,

Ix · Rj =(cid:26) Rx

0

j

if j − 1 ∈ x and j 6∈ x
otherwise.

Similarly, let Ly

j = φy,x(1), and

Lj = X{y(cid:12)(cid:12)j∈y,j−16∈y}

Ly
j .

Less formally Rj moves one of the coordinates of an I-state from the (j − 1)st
position to the jth , and Lj changes it back from jth to (j − 1)st .

The elements Lj and Rj are called the left shifts and right shifts respectively. See
Figure 5 for a picture.

For i = 1, . . . , m, each Ui induces a corresponding algebra element in B0 , which

is given as Px φx,x(Ui). For notational simplicity, we also denote this induced

element by Ui .

321

4

R1

L1

321

4

Figure 5. Picture of algebra elements in B0(4, 3). Idempo-
tents I{0,2,3} and I{1,2,3} are pictured here; the algebra elements
L1 and R1 which connect them are indicated (e.g. I{0,2,3} · R1 ·
I{1,2,3} is non-zero). Here, I{0,2,3} · R1 · L1 = I{0,2,3} · U1 .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 29

Proposition 3.2. The weight function from Equation (3.2) descends to a grading
w = (w1, . . . , wm) on B0(m, k) with values in ( 1

2 Z)m .

Proof. It suﬃces to show that

w(φx,y(1) ∗ φy,z(1)) = w(φx,y(1)) + w(φy,z(1)).

which follows from the deﬁnition of gx,y,z .

(cid:3)

We have no further need to distinguish the product on the algebra B0(m, k) from
other products; so we will abbreviate a ∗ b by a · b .

In the notation from Section 2.2, B0(m, k) is graded by the Abelian group Λ =
( 1
2 Z)m . Recall that an element a ∈ B0(m, k) that is supported in some ﬁxed
grading λ ∈ Λ is called homogeneous.

Proposition 3.3. The algebra B0(m, k) is generated over F by the elements Li ,
Ri , Ui , and the idempotents Ix .

Proof. Let a be a homogeneous algebra elements with Ix · a · Iy = a. If x = y ,
then a factors as a product of Ui . Otherwise, suppose that some i = xt > yt ;
and indeed choose t minimal with this property. Then, it is easy to see that we
can factor a = Li · b . Otherwise, there is some yt > xt = i , and we can choose t
maximal with this property. Then, we can factor a = Ri+1 · b . In both cases, the
total weight of b is smaller than that of a, so the result follows by induction on
weight.
(cid:3)

3.2. The B(m, k). The algebra B(m, k) is the quotient of B0(m, k) by the relations

(3.3)

(3.4)

Li+1 · Li = 0
Ri · Ri+1 = 0;

and also, if {x1, ..., xk} ∩ {j − 1, j} = ∅ , then

(3.5)

Ix · Uj = 0.

The quotient of B0(m, k) by these further relations (Equation (3.3), (3.4), and (3.5))
gives the algebra B(m, k).

As we shall see, the relations Equations (3.3) and (3.4) guarantee that algebra
elements in B(m, k) cannot move coordinates in the idempotents states by more
than one unit.

We can deﬁne the algebra more precisely, as follows:

Deﬁnition 3.4. Let J be the (two-sided) ideal in B0(m, k) that is generated by
Li+1 · Li , Ri · Ri+1 , and Ix · Uj , when {x1, ..., xk} ∩ {j − 1, j} = ∅ . Let B(m, k)
be the quotient of B0(m, k) by this two-sided ideal.

Note that ideal is generated by elements that are homogeneous with respect to the
weights. Thus, the grading speciﬁed by weights descends to the quotient algebra
B(m, k).

The ideal J can be understood concretely. To do so, we set up some notation.

30

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

321

4 5

76

8

9

10

11

12

Figure 6. The ideal I(x, y) is generated by U1U2 , U3 , U6 ,
U8U9 , and U11 .

Deﬁnition 3.5. Two I-states x and y are said to be far if there is some i =
1, . . . , k with |xi − yi| > 1 ; otherwise they are called close enough.

Given two I-states x and y , we deﬁne an ideal I(x, y) ⊂ F[U1, . . . , Um]. If the
I-states x and y are far, let I(x, y) = F[U1, . . . , Um].
If x and y are close
enough, let I(x, y) be the ideal generated by monomials Ui+1 · · · Uj , taken over all
0 ≤ i < j ≤ m where i and j satisfy the following conditions:

• i, j ∈ {0, . . . , m} \ (x ∩ y)
• for all integers t with i < t < j , t ∈ x ∩ y .
• wx,y

t = 0 for all i + 1 ≤ t ≤ j .

For i < j as above, we call the interval [i + 1, j] a generating interval for x and
y . (Observe that a generating interval can have i + 1 = j , and this corresponds to
Uj .)

Proposition 3.6. For all I-states x and y ,

Proof. Let

Ix · J · Iy = φx,y(I(x, y)).

I =Mx,y

φx,y(I(x, y)).

First we prove I ⊆ J ; i.e. for any two I-states x and y we have φx,y(I(x, y)) ⊂ J .
If x and y are far, so that I(x, y) = F[U1, . . . , Um], then we claim that φx,y(1)
can be factored as a product a · RtRt+1 · b or a · LtLt−1 · b for some t. This is
obvious, for example if there is an i with xi > yi + 1 , then φx,y(1) decomposes as
a · Lt · Lt−1 · b , where t = xi .

If x and y are not far, we show that for all generating intervals [i + 1, j] for x and
y , the algebra elements φx,y(Ui+1 . . . Uj) are in J .
Consider ﬁrst the case where i + 1 = j . Then, φx,y(Uj) can be factored as a · Iw ·
Uj · b , where j − 1, j 6∈ w . In general, if i < j is a generating interval for x and
y , φx,y(Ui+1 · · · Uj) has a decomposition as

(a · Li+1 · · · Lj−1) · Iw · Uj · Rj−1 · · · Ri+1 · b,

where j − 1, j 6∈ w . In these cases, Iw · Uj ∈ J . (For example, for the I-states x
and y in Figure 6,

φx,y(U3)
φx,y(U11)
where w = {1, 4, 5, 6, 7, 8, 9, 12}
φx,y(U1U2) = φx,w(1) · Iw · U2 · φw,y(1) where w = {0, 3, 4, 7, 8, 10, 12})

= φx,y(1) · Iy · U3 · φy,y(1)
= φx,w(1) · Iw · U11 · L12

This completes the proof that I ⊆ J .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 31

To prove the containment J ⊆ I , we ﬁrst prove that I is an ideal; i.e.
if a is
an arbitrary algebra element, then a · I ⊆ I ; and also I · a ⊆ I .
In view of
Proposition 3.3, it suﬃces to verify this in the case where a = Ix · Ui , Ix · Ri , or
Ix · Li .

When a = Ix · Ui , the result follows readily.

By symmetry, we can consider the case where a = Ix · Ri · Iy 6= 0 . Let t denote the
index with xt = i − 1 and yt = i . We wish to show that Ix · Ri · φy,z(I(y, z)) ⊂
φx,z(I(x, z)). There are cases:

(1) If x and z are far, the statement is vacuously true.
(2) If y and z are far, but x and z are close enough, then zt = i − 2 and
i = 0 . It follows

gx,y,z = Ui . Futhermore we have i 6∈ x, i − 1 6∈ z, and wx,z
that Ui ∈ I(x, z) and this ﬁnishes the argument in this subcase.

(3) If y and z are not far, and x and z are not far, as well, then there are

two subcases according to the value of zt .
(3a) If zt = i , the generating intervals for x, z are contained in the gener-

ating intervals for y, z, and the containment is clear.

(3b) If zt = i − 1 , there can be at most one generating interval for (y, z)
which is not also a generating interval for (x, z), and that is an interval
which terminates in i . Since gx,y,z = Ui , it follows that

Ix · Ri · φy,z(UjUj+1 · · · Ui−1) = φx,z(UjUj+1 · · · Ui).

The containment φx,y(I(x, y)) · Ri · Iz ⊂ φx,z(I(x, z)) follows symmetrically.

We must now verify that the deﬁnining relations for J are contained in I . Clearly,
if Ix · Ri · Ri+1 · Iy is non-zero in B0 , then x and y are too far, and so I(x, y) =
F[U1, . . . , Um], proving the containment. The same argument works for Li+1 · Li .
Finally, if x ∩ {i − 1, i} = ∅ , then Ui is a monomial corresponding to a generating
interval for (x, x), so Ui ∈ I(x, x).
(cid:3)

The following lemma will be useful later.

Lemma 3.7. Let a ∈ B(m, k) be homogeneous, and suppose that wi(a) ∈ Z. Then
a · Ri 6= 0 implies that a · Ui 6= 0 ; similarly, Ri · a 6= 0 implies that Ui · a 6= 0 .

Proof. Suppose that b = a · Ri 6= 0 , and b = Ix · b · Iy . Since wi(a) ∈ Z and b 6= 0 ,
it follows that wx,y
2 . Thus, it follows that i is not in any of the generating
intervals for x and y , so b · Ui 6= 0 , so a · Ui 6= 0 , as well.
(cid:3)

i = 1

Proposition 3.8. A homogeneous non-zero algebra element a = Ix ·a·Iy ∈ B(m, k)
is uniquely characterized by its initial (or terminal) idempotent and its weight.

Proof. Fix initial and terminal idempotent states x and y . By Proposition 3.6,
Ix · B(m, k) · Iy is the quotient of the polynomial algebra F[U1, . . . , Um] by an ideal
which is homogeneous with respect to the weights. An element of this quotient
space in turn is uniquely determined by its various weights.

Note that the weight of a modulo 1 determines wx,y . It follows that x and w(a)
determines y .
(cid:3)

32

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

3.3. Deﬁning B(m, k, S). Let S ⊂ {1, . . . , m} be a subset. Deﬁne B(m, k, S) to
be the diﬀerential graded algebra obtained by adjoining new algebra elements Ci
for i ∈ S to B(m, k), which satisfy the following properties:

• The Ci commute with all other algebra elements in B(m, k, S).
• The square of Ci vanishes.
• The diﬀerential of Ci is Ui .

This construction can be done since the Ui are in the center of B(m, k, S) and
dUi = 0 .

More formally, if S = {i1, ..., in} , then B(m, k, S) is deﬁned by the formula

B(m, k, S) =

B(m, k)[Ci1, . . . , Cin ]
{C2
j = 0, dCj = Uj}j∈S

.

The algebra B(m, k, S) is equipped with a distinguished basis as an F-vector space.
The basis vectors correspond to the following data:

• A pair of idempotents x and y that are not far,
• a monomial p in F[U1, . . . , Um] that is not divisible by any monomial as-

sociated to any generating interval for x and y ,

• a (possibly empty) subset J of S .

The corresponding algebra element is φx,y(p)·Qj∈J Cj . We call these basis vectors

pure algebra elements.

3.4. Gradings. Note ﬁrst since B(m, k) is obtained as a quotient of B0(m, k) by a
w -homogeneous ideal, the w -grading by ( 1
2 Z)m descends to a grading on B(m, k).
The w -gradings extend to B(m, k, S), by declaring wi(Cj) = 1 if i = j and 0
otherwise.
Explicitly, for 1 ≤ i ≤ m, the ith weight wi of Li and Ri is 1/2 , and wi of Ui
and Ci is 1 , and wi vanishes on Lj , Rj , Uj , and Cj with j 6= i . These functions
each induce gradings on B(m, k, S); i.e. if a and b are homogenous elements with
a · b 6= 0 , then wi(a · b) = wi(a) + wi(b).

We will be especially interested in the following specialization, called the Alexander
grading:

(3.6)

Alex(a) = −Xs∈S

ws(a) +Xt6∈S

wt(a).

For i = 1, . . . , m, there is a ﬁltration mi B(m, k, S) with values in {0, 1} , speciﬁed
by the function on pure algebra elements b so that mi(b) = 1 if b is divisible by
Ci and 0 otherwise. This extends to a ﬁltration on the algebra:

B(m, k, S) = B(m, k, S)mi=0 ⊕ B(m, k, S)mi=1,

where B(m, k, S)mi=c for c = 0 or 1 is the vector space spanned by generators a ∈
B(m, k, S) with mi(a) = c. We call this a ﬁltration, because the diﬀerential on the
algebra d preseves B(m, k, S)mi=0 , but not B(m, k, S)mi=1 . Elements of B(m, k, S)
that are contained entirely in B(m, k, S)mi=0 or B(m, k, S)mi=1 are called mi -
mi induces a Z-grading on B(m, k, S) that drops

homogeneous. Note that Pm

i=1

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 33

by one under the diﬀerential. We will be interested in a diﬀerent normalization of
this, the Maslov grading, deﬁned by

(3.7)

m(a) = #( Ci in a) − 2Xs∈S

ws(a) =

mXi=1

mi(a) − 2Xs∈S

ws(a).

3.5. Examples. When k = 0 , B(m, 0) ∼= F; where 1 = I∅ . The elements Li , Ri ,
and Ui are zero. When k = m + 1

there is only one idempotent 1 = I{0,...,m} .

B(m, m + 1) = F[U1, ..., Um];

Some other examples can be illustrated by the use of path algebras. Given a directed
graph Γ, the path algebra is the F-vector space generated by sequences of edges
e1 ∗ · · · ∗ en where the terminal vertex of ei is the initial vertex of ei+1 . We include
also trivial paths, based at any vertex. If two paths can be concatenated, then their
product is the concatenation; otherwise it is zero.

For example, consider Figure 7, which is a graph with two vertices and four edges.
Two of the edges (closed loops) are labelled by U , but they are not the same, as
they have diﬀerent initial points. Identifying L∗R and R∗L with the corresponding
closed loops labelled by U , we obtain the algebra B(1, 1).

U

R

L

U

Figure 7. Picture of B(1, 1). The two idempotents I{0} and
I{1} are pictured, with arrows corresponding to algebra elements
connecting idempotents. The algebra B(1, 1) is the quotient of the
pictured path algebra, where R ∗ L and L ∗ R are identiﬁed with
the two closed loops labelled by U (that are distinguished by their
starting points).

R1

U2

R2

U1

U2

L1

L2

U1

Figure 8. Picture of B(2, 1). The three idempotents I{0} ,
I{1} , and I{2} are pictured, with arrows corresponding to alge-
bra elements connecting idempotents. The algebra B(2, 1) can be
thought of as a quotient of the pictured path algebra, divided out
by relations R1 ∗ R2 = 0 , L2 ∗ L1 = 0 , Ri ∗ Li = Ui , Li ∗ Ri = Ui ,
U1 ∗ U2 = U2 ∗ U1 .

34

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

U1

R2

U1

R1

U1

L2

L1

U2

U2

U2

Figure 9. Picture of B(2, 2). The three idempotents I{0,1} ,
I{0,2} , and I{1,2} are pictured, with arrows corresponding to alge-
bra generators. The algebra B(2, 2) can be thought of as a quo-
tient of the pictured path algebra by Ri ∗ Li = Ui , Li ∗ Ri = Ui ,
U1 ∗ L2 = L2 ∗ U1 , U1 ∗ R2 = R2 ∗ U1 , U2 ∗ L1 = L1 ∗ U2 , and
U2 ∗ R1 = R1 ∗ U2 .

3.6. Symmetries in the algebras. Consider the map ρ : {0, . . . , m} → {0, . . . , m}
with ρ(i) = m − i . There is a map

(3.8)
where ρ′

R : B(m, k, S) → B(m, k, ρ′

m(S))

m(i) = m + 1 − i , characterized by the following properties. First,

and if a ∈ B(m, k) is non-zero and homogeneous with speciﬁed weights

R(Ix) = Iρ(x);

(w1(a), . . . , wm(a)),

then R(a) = b is the non-zero element that is homogeneous with speciﬁed weights
wi(b) = wm+1−i(a). We extend this to B(m, k, S) ⊃ B(m, k) by requiring

Note that for all i = 1, . . . , m and j ∈ S ,

R(Cj · a) = Cm+1−j · R(a).

R(Li) = Rm+1−i R(Ri) = Lm+1−i R(Ui) = Um+1−i R(Cj ) = Cm+1−j

Clearly, this induced map R induces an isomorphism of algebras.

Another symmetry identiﬁes the algebra with its “opposite” algebra. Speciﬁcally,
the map o(Ix) = Ix extends to an isomorphism of rings
o : B(m, k, S) → B(m, k, S)op,

(3.9)

with

o(Li) = Ri

o(Ri) = Li

o(Ui) = Ui

o(Cj ) = Cj.

3.7. Canonical DD -bimodules. Let

(3.10)

B1 = B(m, k1, S1), B2 = B(m, k2, S2)

where k1 + k2 = m + 1 and S2 = {1, ..., m} − S1 .

Note that there is a natural one-to-one correspondence between the I -states for B1
and B2 : if x ⊂ {0, . . . , m} is a k1 -element subset, then its complement x′ is a k2 -
element subset of {0, . . . , m} . In this case, we say that x and x′ are complementary
I -states.

A DD bimodule over B1 − B2 is speciﬁed as follows. Let K be the F-vector
space whose generators kx correspond to I -states for B(m, k1, S1). We give K the

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 35

structure of a left module over I(B1) ⊗ I(B2), so that the action of I(B1) ⊗ I(B2)
is speciﬁed by

(Iy ⊗ Iw) · kx =(cid:26) kx

0

if x = y and w is complementary to x
otherwise.

The algebra element

A =

mXi=1

(Li ⊗ Ri + Ri ⊗ Li) + Xs∈S1

Cs ⊗ Us + Xt∈S2

Ut ⊗ Ct ∈ B1 ⊗ B2

speciﬁes a map

δ1 : K → B1 ⊗ B2 ⊗ K.

by δ1(v) = A ⊗ v (where the tensor product is taken over I(B1) ⊗ I(B2)).

This data can be represented graphically, as follows. Take m vertical segments,
and orient them arbitrarily. The upwards pointing segments specify S2 and the
downwards pointing ones specify S1 . We draw a horizontal arc crossing each of
the vertical segment as a placeholder, and keep only half of each vertical segment
above (resp. below) the horizontal arc if the segment is oriented upwards (resp.
downwards). The horizontal arc is divided into m + 1 intervals by the vertical arcs.
An element of kx is represented as a collection of m + 1 dark dots corresponding
to the intervals in the horizontal segment, each of distributed either above or below
te horizontal segment. The set of intervals whose dots are below give x. When
illustrating generators of B1 ⊗ B2 ⊗ K , we draw the algebra element from B1 below
the diagram for kx and the algebra element from B2 above. See Figure 10 for an
illustration.

Lemma 3.9. The map δ1 satisﬁes the type DD structure relation.

Proof. This is equivalent to the statement that

dA + A · A = 0,

thought of as an element of B1 ⊗ B2 .

We consider the four types of terms A:

• Li ⊗ Ri
• Ri ⊗ Li
• Ci ⊗ Ui when i ∈ S1
• Ui ⊗ Ci when i ∈ S2 .

In dA + A · A, some of the terms cancel since Ui and Ci are in the center; other
terms cancel when the indices i and j are suﬃciently far (|i − j| > 1 ). When
|i − j| = 1 , terms of the ﬁrst type and the second type cancel. When i = j , a term
of the ﬁrst and second type cancel with diﬀerentials of terms of the third or fourth
type.
(cid:3)

The two out-going algebras B1 and B2 are graded by 1

2 Zm ,

grB1(a1) = (w1(a1), . . . , wm(a1))

grB2(a2) = (w1(a2), . . . , wm(a2));

36

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

δ1

δ1

δ1

=

+

U2

C2

=

+

+

C1

U1

+

U2

C2

=

+

C1

U1

+

U2

C2

Figure 10. The canonical DD bimodule. In the left column,
we have the three generators for the DD bimodule, with B1 =
B(2, 1, {2}) and B2 = B(2, 2, {1}). They correspond to the I -
states {2} , {1} , and {0} respectively. To the right we have the
non-zero terms in the diﬀerential. To read oﬀ the algebra element
in B1 , reﬂect the picture vertically. For example, if the three
generators on the left are denoted E , F , and G, then the ﬁrst
equation expresses δ1(E) = (L2 ⊗ R2) ⊗ F + (C2 ⊗ U2) ⊗ E .

the canonical DD bimodule is also graded by 1
2 Zm
acts on w ∈ 1
2 Zm by (v1, v2) · w = (v1 − v2 + w). In fact, the module is supported
in grading 0 ; i.e. for each term a1 ⊗ a2 in A specifying δ1 , grB2(a2) = grB1(a1).

2 Zm where (v1, v2) ∈ 1

2 Zm ⊕ 1

3.8. The canonical DD bimodule is invertible.

3.8.1. A candidate for the inverse module. The main result is to prove that the
bimodule deﬁned in the previous section is invertible.

We consider

YB1,B2 = MorB1 ((B2 (B2)B2

) ⊠B2 (B1,B2K),B1 IB1 ).

This is naturally a B2 − B1 -bimodule (of type AA, with both actions on the right).

As a vector space, Y is spanned by elements of the form (a(cid:12)(cid:12)b), where a ∈ B2

and b ∈ B1 , where here B is opposite bimodule to B , thought of as a bimodule
(as in Equation (2.6)), subject the restriction that the left idempotent of a is
complementary to the left idempotent of b . Recall that B2 is the B2 -bimodule
consisting of maps from B2 to F. This is a left-right B2 − B2 bimodule by the rule

for x, y ∈ B2 and a ∈ B2 .

x · a · y = (ξ 7→ a(y · ξ · x)),

We can take these generating vectors so that a is dual to a generating algebra
element in B2 ; note that the right idempotent of a is the left idempotent of its
dual a .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 37

The diﬀerential on Y has terms

and furthermore

if i ∈ S1 ; otherwise

Finally,

and

(a|b) 7→ (Li · a|Ri · b)
(a|b) 7→ (Ri · a|Li · b)

(a|b) 7→ (Ui · a|Ci · b)

(a|b) 7→ (Ci · a|Ui · b).

(a|Ci · b) 7→ (a|Ui · b)

(Ui · a|b) 7→ (Ci · a|b).

Note that the action by B2 − B1 is given by

(a|b) · (b2 ⊗ b1) = (ξ 7→ a(b2 · ξ)(cid:12)(cid:12)b · b1)

We draw pictures of this action as follows. We draw a pair (a|b) where a and b are
pure algebra elements, by drawing ﬁrst a graphical representation of a (dual to a)
on top of a graphical representation for b . In this picture, the right idempotent of
b is on the bottom, and the right idempotent of a is the initial state (on the top)
of a. See Figure 11.

U 2
1

C2

U2

Figure 11. Graphical representative of elements of Y .
Here we have a picture of (L1 · U 2
1 · C2|L1 · L2 · U2) in Y , thought
of as an element of B2(2, 1, {1, 2}) ⊗ B1(2, 2, ∅).

3.8.2. An example: Consider B1 = B(1, 1, {1}) and B2 = B(1, 1, ∅). The algebra
B2 has generators L , R , and U , and idempotents I{0} and I{1} . Moreover,

I{0} · R · I{1} = R

I{1} · L · I{0} = L,

while B1 has the same generators, and an additional C . The bimodule decomposes
into four summands, according to the right idempotent of (a|b).

In right idempotent I{1} ⊗ I{0} , the complex further decomposes into summands.
One of these summands contains the single element (I{1}|I{0}). Another summand
is the square

(L|L)

(I{1} · U |I{0})

(I{1}|U · I{0})

(3.11)

(I{1}|C · I{0})

38

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

See Figure 12 for a picture. (In fact, there are inﬁnitely many diﬀerent summands.)

U

U

C

Figure 12. Terms in the diﬀerential of Y . We have drawn pairs
of algebra elements; the top algebra element should be dualized to
get the corresponding generator.

In right idempotent I{0} ⊗ I{0} , there is a collection of acyclic complexes. For
example, in the portion with total weight 1/2 , we have:

(3.12)

(R|I{0})

(I{0}|L).

In the portion with total weight 3/2 , we have:

(R|C · I{0})

(I{0}|L · C)

(R · U |I{0})

(I{0} · U |L)

(R|U · I{0})

(I{0}|L · U ).

(3.13)

3.8.3. The candidate is the inverse. We show now that the candidate inverse from
Section 3.8.1 is indeed the inverse for the canonical type DD bimodule, by verifying
the hypotheses of Lemma 2.16. Continuing notation from earlier, the algebras B1
and B2 are as in Equation (3.10); Y is as in Section 3.8.1, generated by pairs (a|b),
with a ∈ B2 and b ∈ B1 .

Proposition 3.10. The rank of the homology group of Y is (cid:0)m+1

erated by the elements of the form (Ix′ |Ix), where x and x′ are complementary
idempotents.

k (cid:1) ; it is gen-

Lemma 3.11. The candidate complex Y decomposes into a direct sum of com-
plexes C(Z, x, y), indexed by idempotent states x and y and Z ∈ ( 1
2 Z)m , where
C(Z, x, y) is the vector space generated by pairs (a|b) where a and b are pure
algebra elements with Ix · a = a and b · Iy = b , and w(a) + w(b) = Z .

Proof. Since the left idempotent of a is the right idempotent of a , the splitting by
idempotents corresponds to the splitting of Y according to right idempotents. The
fact that the splitting by Z is well deﬁned follows immediately from the deﬁnition
(More abstractly, it is a formal consequence of the fact that δ1 on the
of ∂ .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 39

the weight of ai equals the weight of bi .)

tautological DD bimodule is speciﬁed by an algebra element A =P ai ⊗ bi where
We can write the diﬀerential ∂ on Y as a sum of terms ∂ =Pm

i=1 ∂i , where ∂i in-
volves terms on the ith strand. More precisely, there is a diﬀerential di : B(m, k, S) →
B(m, k, S) that vanishes unless i ∈ S , in which case di(Ci) = Ui , but di(Cj) = 0
for all j 6= i and di(Lj) = di(Uj) = di(Rj ) = 0 for all j = 1, . . . , m. Deﬁne
(3.14)

(cid:3)

∂i(a|b) =(cid:26) (a|dib) + (Ri · a|Li · b) + (Li · a|Ri · b) + (Ui · a|Ci · b)

(dia|b) + (Ri · a|Li · b) + (Li · a|Ri · b) + (Ci · a|Ui · b)

if i ∈ S1
if i ∈ S2,

where di : B2 → B2 is dual to the diﬀerential di : B2 → B2 .

Lemma 3.12. The diﬀerential ∂ on Y can be written as ∂ = Pm

∂2
i = 0 and ∂i ◦ ∂j = ∂j ◦ ∂i for i 6= j .

i=1 ∂i , where

Proof. This can be seen directly. A little more conceptually, on homogeneous
generators (a|b) where a and b are pure algebra elements, the functions wj(a) for
j = 1, . . . , m and

(3.15)

mj(a|b) =(cid:26) mj(b)

1 − mj(a)

if j ∈ S1
if j ∈ S2,

for j = 1, . . . , m induce a ﬁltration on C(Z, x, y) by ( 1
to values with j 6= i , we have a ﬁltration on C(Z, x, y) with ( 1
The associated graded object is clearly (C(Z, x, y), ∂i).

2 Z)m × {0, 1}m . Restricting
2 Z)m−1 × {0, 1}m−1 .

(cid:3)

Proposition 3.13. Fix idempotents x and y and a total weight Z ; suppose more-
over that the weight Z is non-zero. Then there is a position i with the property
that H∗(C(Z, x, y), ∂i) = 0

Proposition 3.13 is proved using the following lemma:

Lemma 3.14. The chain complex (C(Z, x, y), ∂i) splits into subcomplexes indexed
by ( 1
2 Z)m−1 × {0, 1}m−1 that are spanned by (a|b), where a and b are pure al-
gebra elements whose weights wj (b) with j 6= i and values mj(a|b) (as deﬁned in
Equation (3.15) above) for all j 6= i are speciﬁed.

Proof. This follows from the form of ∂i : it does not involve any of the Cj with
j 6= i , and it does not change the weight of b away from i .
(cid:3)

Lemma 3.15. For ﬁxed Z and i ∈ {1, . . . , m} , x, y and ( 1
2 Z)m−1 × {0, 1}m−1 ,
consider the corresponding subcomplex C of (C(Z, x, y), ∂i) as in Lemma 3.14.
Then H(C) 6= 0 precisely when there is a single element in C . When the homology
of C is non-zero, there are pure algebra elements a and b , and a single generator
(a|b) in C ; and one of the following holds:

• wi(a) = wi(b) = 0
• wi(a) + wi(b) = 1
2
• wi(a) + wi(b) = 1 and either a = a0 · Ci or b = b0 · Ci .

In particular, writing zi = wi(a) + wi(b), if H(C(Z, x, y), ∂i) 6= 0 , then zi ≤ 1 .

40

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Proof. When zi = 0 , the statement is clear; otherwise, there are cases, according
to the local picture of the summand of C(Z, x, y) near i . Speciﬁcally, if C(Z, x, y)
contains an element (a|b) with a = Ix · a · Iw , we consider separately the following
two cases:

(C-1) i − 1, i ∈ w .
(C-2) Exactly one of i − 1 or i is in w .

There is a third case, where neither i−1, i ∈ w ; but that is symmetric to Case (C-1)
by a symmetry that exchanges roles of B1 and B2 , and then dualizes C .

if i − 1 and i are the
There are ﬁve further subcases of Case (C-1), as follows.
jth and j + 1st terms in the sequence w , we further subdivide according to the
placement of the jth and the j + 1st terms in the sequence of x. Since x and w
are not too far, the pair {j, j + 1} must be one of {i − 2, i − 1} , {i, i + 1} , {i − 2, i} ,
{i − 1, i + 1} , {i − 1, i} , {i − 2, i + 1} .

The cases where {j, j+1} = {i−2, i} and {i−1, i+1} are exchanged by reﬂection of
through a vertical axis (compare the map R from Equation (3.8)), as are {i−2, i−1}
and {i, i + 1} . Dropping two symmetric cases, we arrive at the four pictures in the
ﬁrst three columns of Figure 13.

Similarly, in Case (C-2), if i − 1 ∈ w (which can be arranged after a vertical
reﬂection) is the jth term in w and i is the kth one in the left idempotent of b ,
then we further subdivide according to the placement of the jth and kth terms in
x and y respectively. These possibilities (after eliminating symmetric duplicates)
are represented in the remaining pictures in Figure 13.

Figure 13. C(Z, x, y) cases.

We consider now Cases (C-1) and (C-2) separately, and further subdivide them into
subcases (that are related to the cases in Figure 13), verifying the lemma in each
subcase.

Case (C-1), with zi = 1/2 . (The ﬁrst column in Figure 13.) There is now a
single generator of this type, of the form (a|b) with wi(a) = 1/2 and wi(b) = 0 .
so the homology is one-dimensional.

Case (C-1), with zi 6∈ Z and zi > 1/2 . (Again, this is illustrated in ﬁrst column
in Figure 13.) This has two further subcases, according to whether i ∈ S1 or S2

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 41

i |b) and (aU k−1

(i.e. whether Ci ∈ B1 or B2 ). If i ∈ S2 , there are two generators of the complex,
(aU k
2 ≥ 1 , and a and b are ﬁxed pure algebra
elements with wi(a) = 1
2 , wi(b) = 0 . To see that both types of terms appear, note
that under the present hypotheses on a = a · Iw and w , if a 6= 0 then Ui · a 6= 0 ,
as well. Clearly,

i Ci|b) where k = zi − 1

∂i(aU k

i |b) = (aU k−1

i Ci|b),

so the homology of the corresponding complex vanishes. When i 6∈ S2 , the terms
are of the form (aU n

|Cib), and the homology again vanishes.

i |b) and (aU n−1

i

Case (C-1), with zi ∈ Z. When i 6∈ S2 , we either have a single element (a|Cib)
with wi(a) = wi(b) = 0 (as in the third column of Figure 13; this can also appear
in the second column), or elements of the form (aU j
i |Cib), with ﬁxed
a, b so that wi(a) = wi(b) = 0 , where j = zi and the diﬀerential is given by

i |b) and (aU j

∂i(aU j

i |b) = (aU j−1

i

|Ci · b);

i Ci|b). Once again, the diﬀerentials cancel out the homology.

so the homology is trivial. The case where i ∈ S2 works similarly. We either have a
single element element (aCi|b), wi(a) = wi(b) = 0 or elements of the form (aU j
i |b)
and (aU j−1
Case (C-2), with zi = 1
2 . (This is the ﬁfth or the eight column of Figure 13.)
There are two possibly non-zero elements in the complex. These elements have the
form (a · Ri|b) and (a|Li · b), where wi(a) = wi(b) = 0 . There are two subcases: in
one subcase, only one of a · Ri or Li · b is zero, so we have a single generator. (This
case occurs in the ﬁfth column of Figure 13.) In the other case, when both a · Ri
and Li · b are non-zero (which occurs now only in the eighth column of Figure 13),
we have that

∂i(a · Ri|b) = (a|Li · b),

so the homology is trivial.
Case (C-2), with zi 6∈ Z, and zi = 1
2 . (These cases are illustrated in the
ﬁfth and eighth columns of Figure 13.) Suppose that i 6∈ S2 . We can assume that
all the generators a corresponding summand of C(Z, x, y) have the following form
(aRiU j
i |LibU k
), for ﬁxed a
and b with wi(a) = wi(b) = 0 , and j + k + 1

i ), and (aU j
2 = zi .

i |LibCiU k−1

i ), (aRiU j

i |bCiU k−1

2 + t > 1

), (aU j

i |bU k

i

i

i

i , b) and (aU t−1

Note that at least one of aRi 6= 0 or Lib 6= 0 , otherwise the chain complex would
be trivial. If aRi 6= 0 and Lib = 0 , then there are exactly two elements in the
chain complex, (aRiU t
, Cib), and the diﬀerential cancels them.
(Again, cases of this kind can occur in either the ﬁfth or the eighth columns of
Figure 13.) If aRi = 0 and Lib 6= 0 , there are once again two terms, (a, LibU t
i )
and (a, LibCiU t−1
In the remaining case where aRi 6= 0 and Lib 6= 0 , we show that H(C(Z, x, y), ∂i) =
0 , using a further ﬁltration on the complex, induced by the function on pure al-
gebra elements a and b that associates to (a|b) the ith weight of b , wi(b). This
Z Fk . Writing

induces a grading on the vector space underlying C(Z, x, y) =Lk∈ 1

), and these two terms cancel in the diﬀerential.

∂i
0(a|b) = (a|dib), we have that

i

2

∂i = ∂i

0 + L,

42

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

0 : Fk → Fk , and L : Fk → Lℓ>k Fℓ .

where ∂i
(We are using the form of ∂i
from Equation (3.14).) Thus, the associated graded complex on (C(Z, x, y), ∂i) is
equipped with the diﬀerential ∂i

0 , and we will show that its homology vanishes.
i , bCiU k−1

i ) and (aRiU j

i , bU k

i

2

i , LibCiU k−1

i ), and (aU j
0 . Thus, H(Fk, ∂i

When k ∈ Z, the complex Fk is spanned by (aRiU j
),
and they are connected by a diﬀerential in ∂i
0 . Similarly, when k ≥ 1 , the complex
contains the two elements when (aU j
i , LibU k
Fk+ 1
), and
these elements are connected by a diﬀerential in ∂i
0) = 0 except
when k = 0 and 1/2 ; and F0 is generated by the single element (aRiU t
i |b) and
F1/2 is generated by the element (aU t
i |Lib). Thus, by a simple ﬁltration argu-
ment, H(C(Z, x, y), ∂i) is computed as the homology of a two-dimensional vector
space generated by these latter two generators (aRiU t
i |Lib); and these
two elements are connected by a diﬀerential. This completes the veriﬁcation that
H(C(Z, x, y), ∂i) = 0 in this case. See Equation (3.13) for an illustration when
z = 3/2 (and observe that for the diagram, the horizontal coordinate in the plane
measures the ﬁltration considered here). The case where i ∈ S2 works similarly:
the homology of ∂i
i b)
and (a|LiU t

0 is now supported in Ft and Ft+1/2 , with generators (aRi|U t

i b), with a cancelling diﬀerential.

i |b) and (aU t

i

Case (C-2), with zi = 1 . Assume that i 6∈ S2 . The chain complex C(Z, x, y) is
spanned by four vectors elements of the form

(a|Cib),

(a|Uib),

(aUi|b),

(aRi|Ri · b),

where a and b are pure algebra elements with wi(a) = wi(b) = 0 . One of the
following must hold:

• All four elements are non-zero (which can occur in the ninth column of

Figure 13). In this case,

∂i(aUi|b) = (aRi|Ri · b) + (a|Cib)
∂i(a|Cib) = (a|Uib)

∂i(aRi|Ri · b) = (a|Uib),

and the complex has trivial homology. (See Equation (3.11) for an exam-
ple.)

• a · Ri = 0 and Ri · b = 0 , in which case also aUi = bUi = 0 , so three of
the four vectors are zero, and the remaining vector (a|Cib) generates the
homology.

• a · Ri = 0 but Ri · b 6= 0 . In this case Ui · b 6= 0 (by Lemma 3.7), so two of
the above elements (a|Cib) and (a|Uib) are non-zero. These two elements
are connected by a diﬀerential, and the homology is trivial.

• a · Ri 6= 0 and Ri · b = 0 .

In this case, once again, two of the above
elements are zero, and the remaining two are connected by a diﬀerential,
so once again the homology is trivial.

The case where i ∈ S2 works similarly.

Case (C-2), with zi ∈ Z and zi > 1 . Let (a|b) be some non-trivial generator in
the complex, where i ∈ w , so i + 1 6∈ w . If either a · Ri = 0 or Ri · b = 0 , then the
argument works as in earlier cases (i.e. we have a pair of generators that cancel in

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 43

homology). Otherwise, as in the case where zi 6∈ Z and zi > 1
2 , we consider the
ﬁltration by the weight wi of the b component. If i 6∈ S2 , then for Fk with k ≥ 1 ,
H(Fk, ∂i
0) = 0 , since the complex Fk has two terms in it that are connected by a
diﬀerential in ∂i
0 . The remaining two terms are the generators of Fk with k = 0
and 1
i Ri|Ri · b); and these two terms are
connected by a diﬀerential. The case where i ∈ S2 works similarly.
(cid:3)

2 , which have the form (aU t

i |b) and (aU t−1

Proof of Proposition 3.13. Let f : {1, . . . , m + 1} → Z be deﬁned by

f (i) = #{j(cid:12)(cid:12)j < i and j ∈ x} + #{j(cid:12)(cid:12)j < i and j ∈ y}

It is easy to see that i − 1 ≤ f (i) ≤ i + 1 .

Choose n minimal so that the weight zn 6= 0 . There are three cases:

Case 1: f (n) = n. (Note that in this case, zi ∈ Z.) We claim that H∗(C(Z, x, y), ∂n) =
0 . By Lemma 3.15, we need only consider cases where zn = 1 .

See Figure 14 when n − 1 ∈ x; the cases where n − 1 ∈ y work similarly.

Figure 14. Four cases where f (n) = n. This is Case 1 from
the proof of Proposition 3.13.

We claim that in all the cases from the ﬁgure, we will have an element of the form
(a · Un|b) (where wn(a) = 0 ) in the subcomplex. This is clear because in each
case, either n is not contained in a generating interval, or the generating interval
containing n also contains n − 1 ; but wn−1(a · Un) = 0 . Thus, Lemma 3.15
completes the case.

Case 2: f (n) = n+1 . (See Figure 15.) Again, we claim that H∗(C(Z, x, y), ∂n) =
2 + Z; so by Lemma 3.15, we can assume zn = 1
0 . Note that in this case, zn ∈ 1
2 .
The two possible chain complex generators are (a|Ln · b) and (a · Rn|b). Since
by assumption zi = 0 for i < n, and clearly n is not the left endpoint of any
generating interval (in either B1 or B2 ), it follows that both aUn 6= 0 and bUn 6= 0 ;
and correspondingly a · Rn 6= 0 and Ln · b 6= 0 ; i.e. both generators are non-zero,
so they cancel in homology.

Case 3: f (n) = n − 1 . Since f (m + 1) = m + 1 , we can ﬁnd a minimal j > n so
that f (j) = j . Note that zj−1 ≡ 1
2 (mod 1). We distinguish four further subcases.
Case 3a: zj−1 > 1
Case 3b: j < m + 1 and zj−1 = 1

2 . By Lemma 3.15, H∗(C(Z, x, y), ∂j−1) = 0 .
2 and zj = 0 . We claim that

H∗(C(Z, x, y), ∂j−1) = 0.

44

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Figure 15.

f (n) = n + 1 . This is Case 2 from the proof.

The two possible generators are of the form (a|Rj · b) and (a · Lj|b). Since zj = 0 ,

j

j

Figure 16.

f (n) = n − 1 and zj−1 = 1
2 .

it follows that a · Uj−1 6= 0 . and b · Uj−1 6= 0 , so both generators are non-zero, and
cancel in homology.
Case 3c: j = m + 1 and zm = 1
Case 3b.
Case 3d: j < m+1 and zj−1 = 1
2 and zj > 0 . We will show H∗(C(Z, x, y), ∂j ) =
0 . We have illustrated ﬁve cases in Figure 17. The remaining cases are symmetric,

2 . Then H∗(C(Z, x, y), ∂m) = 0 , exactly as in

j

j

j

j

j

Figure 17.

f (n) = n − 1 , zj−1 = 1

2 , zj = 1 .

obtained by switching the roles of a and b .

In the ﬁrst four of these ﬁve cases, observe that the corresponding chain complex
contains a non-zero element of the form (a · Uj|b) with wj(a) = wj (b) = 0 . Thus,
by Lemma 3.15, the homology is trivial (since the generating intervals on B2 con-
taining j also contain j − 1 ).
In the ﬁnal case, the homology is also trivial by
Lemma 3.15, since Cj is not present in the displayed generator.
(cid:3)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 45

Proof of Proposition 3.10. Decompose H(Y ) into the summands C(Z, x, y) as
before. Suppose that the total weight Z is non-zero, and choose i as in Propo-
sition 3.13. As in the proof of Lemma 3.12, there is a ﬁltration on the complex
C(Z, x, y) of Y , whose associated graded object is (C(Z, x, y), ∂i). It follows at
once by an elementary spectral sequence argument that H(C(Z, x, y), ∂) = 0 if Z
is a non-zero weight vector.

It remains to consider summands where the weight is zero. These correspond to
pairs of complementary idempotents, equipped with a vanishing diﬀerential. There
(cid:3)

are, of course, (cid:0)m+1

k (cid:1) such complementary pairs, as claimed.

Theorem 3.16. The module Y is a quasi-inverse of the type DD bimodule K .

Proof. Note that B is positively graded over k, using the grading set Λ = ( 1
2 Z)m .
Property (K-2) from Lemma 2.16 was veriﬁed in Proposition 3.10; Property (K-3)
is obvious from the form of K ; Lemma 2.16 now applies.
(cid:3)

3.9. Grading sets associated to one-manifolds. Our knot invariant will be
constructed by tensoring together bimodules with a particular kind of grading set.
We formalize these grading sets presently, and study the boundedness needed for
forming the tensor product.

Let W be an oriented disjoint union of ﬁnitely many intervals, equipped with a
partition of its boundary ∂W = Y1 ∪ Y2 into two sets of points. Let Yi consist of
mi points. Let si denote the number of intervals in W that connect Yi to itself,
and s0 denote the number of intervals that connect Y1 to Y2 in W . Let S1 be
those points in Y1 for which the oriented boundary of W appears with positive
multiplicity in the oriented boundary of W , and let S2 be those points in Y2
for which the oriented boundary of W appears with negative multiplicity in W .
Choose any integer 0 ≤ s ≤ s0 + 1 . Let B1 = B(m1, s + s1, S1), B2(m2, s + s2, S2).
We can think of the Alexander multi-grading of Bi as H 0(Yi; Q): the weights of
algebra elements are functions on the points in Yi . The sum of grading groups
H 0(Y1; Q) ⊕ H 0(Y2; Q) = H 0(∂W ; Q) act on H 1(W, ∂W ; Q), via the coboundary
map d0 : H 0(∂W ) → H 1(W, ∂W ).

Remark 3.17. In fact, the grading on the algebras is supported in H 0(Yi; 1
H 0(Yi; Q). Also, the grading set for our modules is contained in H 1(W, ∂W ; 1
compare Equation (4.5).

2 Z) ⊂
4 Z);

Deﬁnition 3.18. Fix W as above. A type DA bimodule over X = B2 XB1 is
called adapted to W if it is graded by the grading set H 1(W, ∂W ) described above,
and it is ﬁnite dimensional (as a vector space).

Proposition 3.19. Let W1 be a disjoint union of ﬁnitely many intervals joining
Y1 to Y2 ; and let W2 be a disjoint union of ﬁnitely many intervals joining Y2 to
Y3 . Suppose moreover that W1 ∪ W2 has no closed components, i.e. it is a disjoint
union of ﬁnitely many intervals joining Y1 to Y3 . Given any two bimodules B2X 1
B1
and B3X 2
adapted to W1 and W2 respectively, we can form their tensor product
B2
B3X 2
(i.e. the inﬁnite sums in its deﬁnition are ﬁnite); and moreover,
B2
it is a bimodule that is adapted to W1 ∪ W2 .

⊠ B2 X 1
B1

46

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Proof. Recall that the grading set of X 2 ⊠X 1 is H 1(W2, Y3 ∪Y2)⊕H 1(W1, Y2 ∪Y1)
modulo the coboundary of H 0(Y2), which is identiﬁed with H 1(W2 ∪ W1, Y3 ∪ Y1).
Clearly, the tensor product is ﬁnite-dimensional.

Next, we argue the necessary ﬁniteness. Fix algebra elements (a1, . . . , aℓ) ∈ B1 .
Fix generators x1, y1 for X 1 and x2, y2 for X 2 . Suppose that (b1 ⊗ · · · ⊗ bj) ⊗ y1
appears in δj
i (x1, a1, . . . , aℓ). Since X 1 is graded, for each point i in Y2 that is
matched by W1 to a point in Y1 , we have a constant K , depending only on the
gradings of (a1, . . . , aℓ) and x1 and y1 , so that

|wi(b1 ⊗ · · · ⊗ bj)| ≤ K.

(In more detail, consider the component of W1 that matched i ∈ Y2 with some
i′ ∈ Y1 , and let ξi and ηi be the coeﬃcient of gr(x1) and gr(y1) in that component.
Since X1 is graded,

wi(b1 ⊗ · · · ⊗ bj) + ηi = ξi + wi(a1 ⊗ · · · ⊗ aℓ).

Now let K = |ξi + wi(a1 ⊗ · · · ⊗ aℓ) − ηi|.) By the same reasonining, we can adjust
K so that, for any two points i and i′ in Y2 that are matched in W1 ,

|wi(b1 ⊗ · · · ⊗ bj) − wi′ (b1 ⊗ · · · ⊗ bj)| ≤ K.

Suppose that c ⊗ y2 appears with non-zero multiplicity in δ1
j+1(x2, b1, . . . , bj),
then for any point i′ in Y2 that is matched by W2 to Y3 , we can further adjust K
(depending now on x2 and y2 ) so that

|wi(b1 ⊗ · · · ⊗ bj) − wi′ (c)| ≤ K.

By further adjusting K if necessary (depending only on x2 and y2 ), we can arrange
that for any two points i and i′ in Y2 that are matched in W2 ,

|wi(b1 ⊗ · · · ⊗ bj) − wi′ (b1, . . . , bj)| ≤ K.

Grading properties ensure that

(3.16)

m(x1) + m(x2) − m(y1) − m(y2) +

ℓXi=1

m(ai) = m(c) + ℓ − 1

By the above considerations, for any point i in Y2 that is contained in a path
connected component of W2∪W1 that meets Y1 , there is a bound on wi(b1⊗· · ·⊗bj)
depending only on x1 , x2 , y1 , y2 , and (a1, . . . , aℓ).

Suppose next that i ∈ Y2 is contained in a component of W2 ∪ W1 that meets Y3
but not Y1 . Consider the inital point p of that arc, with respect to the orientation
it inherits from W , and observe that p ∈ S3 . The above considerations give a
bound on |wi(b1 ⊗ · · · ⊗ bj) − wp(c)|, again depending only on on x1 , x2 , y1 , y2 ,
and (a1, . . . , aℓ). Finally, observe that since p ∈ S3 , Equation (3.7) shows that we
can adjust K so that (depending on |S2|) with

|m(c) + 2wp(c)| ≤ K.

An upper bound on m(c) is provided by Equation (3.16). Thus, we have an upper
bound on wi(b1 ⊗ · · · ⊗ bj) for any i in Y2 that is contained in component of
W2 ∪ W1 that meets Y3 but not Y1 .

Since W2 ∪ W1 has no closed components, we have obtained a universal bound
on any weight wi(b1 ⊗ · · · ⊗ bj) for i ∈ Y2 Now, for at least j − ℓ of the algebra

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 47

elements bk , we have some i with wi(bk) ≥ 1/2 , so we have obtained a bound on
j in terms of x1 , x2 , y1 , y2 , and (a1, . . . , aℓ). This shows that the coeﬃcient of
y1 ⊠ y2 in ∂(x1 ⊠ x2) is a sum of ﬁntely many terms. Since X 2 ⊠ X 1 is ﬁnitely
generated, the stated ﬁniteness follows. See Figure 18
(cid:3)

Y1

W1

Y2

Y3

W2

In the proof of Proposition 3.19, the total weights
Figure 18.
of the algebra elements at the circled points in Y1 and Y3 give
bounds on the weights at points of Y2 (drawn as dark dots) of the
algebra elements in b1 ⊗ · · · ⊗ bj .

48

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

4. DD bimodules for crossings

Having deﬁned the algebra associated to y = t slice of the generic diagram, we
turn now to the deﬁnitions of the modules associated to the partial knot diagrams.
In Section 5, we will construct DA bimodules associated to special partial knot
diagrams, consisting of a collection of vertical strands passing through the region
y1 ≤ y ≤ y2 in the plane, containing exactly one crossing. Before doing this, we
construct presently a simpler type DD bimodule associated to such a conﬁguration.

4.1. The DD bimodule of a positive crossing. We describe ﬁrst the DD
bimodule Pi associated to a positive crossing between the ith and (i + 1)st strands.

Let τ : {1, . . . , m} → {1, . . . , m} be the transposition that switches i and i + 1 .
Let

(4.1)

B1 = B(m, k1, S1)

and

B2 = B(m, k2, S2),

where k1 +k2 = m+1 , |S1|+|S2| = m, and S1 ∩τ (S2) = ∅ . We think of the algebra
B1 as coming from below the crossing and algebra B2 as coming from above the
crossing.

i

i + 1

i

i + 1

i

i + 1

i

i + 1

i

i + 1

i − 1

i

N

i + 1

W

E

S

N

S

W

E

Figure 19. Positive crossing DD bimodule generators.
The four generator types are pictured to the right.

As an I(m, k1, S1) − I(m, k2, S2)-bimodule, Pi is the submodule of I(m, k1, S1) ⊗F
I(m, k2, S2) generated by elements Ix ⊗ Iy where x ∩ y = ∅ or

x ∩ y = {i}

and

{0, . . . , m} \ (x ∪ y) = {i − 1} or {i + 1}.

In a little more detail, generators correspond to certain pairs of idempotent states
x and y , where |x| = k1 and |y| = k2 . They are further classiﬁed into four
types, N, S, W , and E . For generators of type N the subsets x and y are
complementary subsets of {0, . . . , m} and i ∈ x. For generators of type S, x and
y are complementary subsets of {0, . . . , m} with i ∈ y . For generators of type W ,
i − 1 6∈ x and i − 1 6∈ y , and x ∩ y = {i} . For generators of type E , i + 1 6∈ x and
i + 1 6∈ y , and x ∩ y = {i} .

The diﬀerential has the following types of terms:

(P-1) Rj ⊗ Lj and Lj ⊗ Rj for all j ∈ {1, . . . , m} \ {i, i + 1} ; these connect

generators of the same type.

(P-2) Cj ⊗ Uτ (j) if j ∈ S1 and Uj ⊗ Cτ (j) if j 6∈ S1 ; these connect generators of

the same type.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 49

(P-3) Terms in the diagram below connect generators of diﬀerent types:

L i + 1

⊗

R i

R i + 1

+

L i

1 ⊗

R i

⊗

U i + 1

W

R

i

⊗

U

L

i

⊗

1

i

+

1

+

L

i

+

1

⊗

R

i

+

1R

(4.2)

i

N

U

i⊗

L

i

+

1

+

L

iL

i

+

1

1

⊗

R

i

+

1

⊗

R

i

E

⊗ 1

R i + 1

R i

+

U i

⊗

L i + 1

L i

⊗

S

L i + 1

Note that for a generator of type E , the terms of Type (P-1) with j = i + 2 vanish;
while for one of type W , the terms of Type (P-1) with j = i − 1 vanish.

Proposition 4.1. The bimodule B1,B2Pi is a DD bimodule.

Proof. The square of the diﬀerential, which we must verify vanishes, is obtained by
either diﬀerentiating any of the terms of the Types (P-1)-(P-3) above or, multiplying
together two of them.

We start by analyzing the terms of Types (P-3). Clearly, all of those terms have
vanishing diﬀerential. The non-zero algebra elements obtained as products of pairs
of such elements either connect generators of any type to itself, or it connects N
and S or W and E .

As an example, consider products of terms of Type (P-3) connecting W to itself.
Those products that factor through N give terms

(1 ⊗ Li) · (Ui+1 ⊗ Ri + Ri+1Ri ⊗ Li+1) = Ui+1 ⊗ Ui + Ri+1Ri ⊗ LiLi+1

and those that factor through S give

(Li ⊗ 1) · (Ri ⊗ Ui+1 + Li+1 ⊗ Ri+1Ri) = Ui ⊗ Ui+1 + LiLi+1 ⊗ Ri+1Ri.

Note that (Ri+1Ri ⊗ LiLi+1 + LiLi+1 ⊗ Ri+1Ri) ⊗ W vanishes for idempotent
reasons: if x and y are pairs of idempotent states with (Ix ⊗ Iy) · W 6= 0 , then

|x ∩ {i − 1, i, i + 1}| + |y ∩ {i − 1, i, i + 1}| = 3.

The terms Ui ⊗ Ui+1 and Ui+1 ⊗ Ui cancel with the diﬀerentials of terms of
Type (P-2) with j = i and i + 1 .

Next consider products of terms of Type (P-3) connecting N to S. The products
that factor through W give terms:

(Ui+1 ⊗ Ri + Ri+1Ri ⊗ Li+1) · (Li ⊗ 1) = LiUi+1 ⊗ Ri + Ri+1Ui ⊗ Li+1.

Similarly, the products that factor through E give

(Ui ⊗ Li+1 + LiLi+1 ⊗ Ri) · (Ri+1 ⊗ 1) = Ri+1Ui ⊗ Li+1 + LiUi+1 ⊗ Ri;

thus, these two factorizations give terms that cancel in pairs.

The cancellation of terms of Type (P-3) in pairs or with diﬀerentials of terms of
Type (P-2) with j = i and i + 1 proceeds to other types of generators in the same
way.

50

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Next, we consider products of pairs of terms of Type (P-1). When j 6= i, i+1 , these
terms cancel diﬀerentials of terms of Type (P-2) exactly as in the proof Lemma 3.9.
When the generators are of type E and W , there is a possible complication in this
argument, since in that case, the corresponding term with j = i + 2 or i − 1 of
Type (P-1) might vanish. For example, for terms of type E , and i + 2 6∈ S1 , there
is a possibly non-zero term Ui+2 ⊗ Ci+2 of Type (P-2), but the terms of Type (P-1)
of the form Li+2 ⊗ Ri+2 and Ri+2 ⊗ Li+2 vanish. However, the diﬀerential of
Ui+2 ⊗ Ci+2 vanishes in the idempotents of E (since if Ix ⊗ Iy is of type E , then
i + 1 6∈ x and i + 1 6∈ y , and either i + 2 6∈ x or i + 2 6∈ y ; in either case,
(Ui+2 ⊗ Ui+2) · (Ix ⊗ Iy) = 0 ).

Consider next terms that are products of terms of Type (P-3) and those of Type (P-1).
Typically, these are easily seen to cancel in pairs; the case where support of the
Type (P-1) is immediately next to {i, i + 1} requires special care. Consider for
example the terms of the form Li+2 ⊗ Ri+2 . Each term of Type (P-3) commutes
with this term; but both product might be zero. For example, Li ⊗ 1 commutes
with (Li+2 ⊗ Ri+2). Also, if a = LiLi+1 ⊗ Ri , then (Li+2 ⊗ Ri+2) · a = 0 and
a · (Li+2 ⊗ Ri+2) = 0 .

The remaining terms of Type (P-2) and are easily seen to commute with each other
and with terms of Type (P-3), giving the desired cancellation.
(cid:3)

It is interesting to note that the bimodule has some symmetries; for instance,

(4.3)

B1,B2Pi ∼=B2,B1 Pi,

by a symmetry which switches the roles of N and S, and ﬁxes W and E .

4.2. DD bimodule for a negative crossing. We can deﬁne a type DD bimodule
for a negative crossing. The generators are the same as for a positive crossing.
Terms in the diﬀerential are also the same, except that those of Type (P-3) are
replaced by the following:

R i + 1

⊗

N

U

i⊗

R

i

+

1

+

R

i

+

1R

L i

⊗

U i + 1

L i + 1

L i

+

R i

1 ⊗

W

L

i⊗

U

R

i

⊗

1

i

+

1

+

R

1

⊗

L

i⊗

L

i

i

+

1

E

⊗ 1

L i + 1

L i

+

U i

⊗

R i

R i + 1

⊗

S

R i + 1

(4.4)

i

+

1

⊗

L

iL

i

+

1

Proposition 4.2. The bimodule Ni is a DD bimodule.

Proof. This follows exactly as in the proof of Proposition 4.1. Note that Dia-
gram (4.4) is obtained from Diagram 4.2 by reversing all the arrows, and switching
the roles of Lj and Rj . More formally, for B1 and B2 as in Equation (4.1),

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 51

B1,B2Ni is obtained from the opposite module of Pi , P
isomorphisms Bi ∼= Bop
(denoted o in Equation (3.9)).
i

B1,B2
i

=Bop

1 ,Bop

2 P i using the
(cid:3)

4.3. Gradings. The bimodules Pi are graded by the set S = Qm as follows Let
e1, . . . , em be the standard basis for Qm . Let
(4.5)

gr(N) = ei+ei+1

4

gr(W) = ei−ei+1

gr(E) = −ei+ei+1

gr(S) = −ei−ei+1

,

4

4

4

Now, if (a ⊗ b) ⊗ Y appears in ∂X , then

gr(X) = gr(a) − τ grgr(b) + gr(Y ),

(4.6)
where τ gr
is the linear transformation acting by τi on the standard basis vectors,
and gr(a) = (w1(a), . . . , wm(a)). Verifying Equation (4.6) is straightforward, using
Equation (4.2).

i

In the notation of Section 2.2, the grading set of Pi is half-integral valued functions
on the the arcs in the diagram, thought of as an aﬃne space for ΛB1 × ΛB2 in an
obvious way.

Similarly, for Ni , the gradings of the four generators N, S, E , W are given by
(4.7)

gr(N) = −ei−ei+1

gr(W) = −ei+ei+1

gr(E) = ei−ei+1

4

gr(S) = ei+ei+1

4

,

4

4

Note that the modules determine these gradings only up to an overall additive
shift. The present gradings are consistent with conventions on the multivariable
Alexander polynomial [6]; for further motivation, see Remark 7.3.

52

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

5. DA bimodules associated to crossings

Choose integers k and m with 0 ≤ k ≤ m + 1 , and let S ⊂ {1, . . . , m} be
arbitrary. Let τi : {1, . . . , m} → {1, . . . , m} be the map that transposes i and
i + 1 . Let B1 = B(m, k, S) and B2 = B(m, k, τ (S)). The aim of the present section
is to construct a type DA bimodule B2P i
, which we think of as the bimodule
B1
associated to a region in the knot diagram t2 ≤ y ≤ t1 that contains exactly
one “positive” crossing, and no local maxima or minima; and the crossing occurs
between the ith and (i + 1)st strands, as shown on the left in Figure 20. (Positivity
here is meant with respect to a braid orientation, e.g. where all the strands are
oriented upwards, which might diﬀer from the orientation speciﬁed by S .)

i

i + 1

i

i + 1

i

i + 1

i

i + 1

i

i + 1

i − 1

i

N

i + 1

W

E

S

N

S

W

E

Figure 20. Positive crossing DA bimodule generators.
The four generator types are pictured to the right.

Consider the submodule P i of I(m, k) ⊗F I(m, k) , consisting of Ix ⊗ Iy where
either x = y or there is some w ⊂ {1, . . . , i − 1, i + 1, . . . , m} with x = w ∪ {i}
and y = w ∪ {i − 1} or y = w ∪ {i + 1} . Thus, there are once again four types of
generators, of type N, S, W , E as pictured in Figure 20; i.e.

Xi∈x

Ix · N · Ix = N, Xi6∈x

Ix · S · Ix = S,

Ix · W · I{i−1}∪x\{i} = W,

Ix · E · I{i+1}∪x\{i} = E.

Xi ∈ x

i − 1 6∈ x

Xi ∈ x

i + 1 6∈ x

This description has a geometric interpretation in terms of Kauﬀman states.

Deﬁnition 5.1. A partial knot diagram is the portion of a knot diagram contained
in the (x, y) plane with t2 ≤ y ≤ t1 , so that the diagram meets the slices y = t1
and y = t2 generically. The knot projection divides the partial knot diagram into
regions. A partial Kauﬀman state is a triple of data (K, x, y), where K is a map
that associates to each crossing one of its four adjacent regions; y is a collection
of intervals in the intersection of the diagram with the y = t1 slice; and x is a
collection of intervals in the intersection of the diagram with the y = t2 slice. The
regions assigned to the crossings are called occupied regions; those that are not are
called unoccupied. The data in a partial Kauﬀman state are further required to
satisfy the following compatibility conditions:

• No two crossings are assigned to the same region.
• If a region R is occupied, then y contains all the intervals in R ∩ (y = t1)

and x contains none of the regions in R ∩ (y = t2)

• If a region R is unoccupied, then either y contains all but one of the regions
in R ∩ (y = t1) and x contains none of the regions in R ∩ (y = t2); or y

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 53

contains all of the regions in R ∩ (y = t1) and the region x contains exactly
one of the regions of R ∩ (y = t2)

The picture is simpliﬁed considerably when the partial knot diagram contains a
single crossing. In that case, it is straightforward to see that the generators of the
bimodule P i deﬁned above correspond to partial Kauﬀman states; K is one of
N, S, W , or E ; y speciﬁes the right idempotent of the generator and x the left
idempotent of the generator.

The bimodules P i are graded by the set Qm in the following sense. Deﬁne gradings
of the generators N, S, E , and W as in Equation (4.5) (only now thinking of these
as generators of P i rather than Pi ). The actions δ1
ℓ respect this grading, in the
following sense. Suppose that X is some homogeneous generator, and a1, . . . , aℓ ∈
B1 are homogeneous elements, then δ1
ℓ (X, a1, . . . , aℓ) can be written as a sum of
elements of the form b ⊗ Y where Y are homogeneous generators and b ∈ B2 is
are homogeneous elements of the algebra, with

(5.1)

gr(X) + τ gr

i (gr(a1) + · · · + gr(aℓ−1)) = gr(b) + gr(Y ),

where here gr(ai) and gr(b) denote the weight gradings on B1 and B2 .

There is also a Z-grading, speciﬁed by where the grading of a generator type
coincides with the local Maslov contribution of the corresponding Kauﬀman state
as in Figure 2. For instance, if all crossings are oriented upwards, then

(5.2)

M (N) = −1

M (S) = M (W) = M (E) = 0.

The modules respect this Z-grading in the sense that, for X , Y , a1, . . . , aℓ−1 and
b as above,

(5.3)

M (X) + M (a1) + · · · + M (aℓ−1) + ℓ − 1 = M (b) + M (Y ).

The partial knot diagram with a single crossing in it determines in an obvious way
a collection of arcs. Equation (5.1) can be interpreted as saying that the bimodule
P i is adapted to this one-manifold with boundary, in the sense of Deﬁnition 3.18.

We consider ﬁrst the case where S ∩ {i, i + 1} = ∅ , we will specify these actions
by localizing to the crossing region, deﬁning ﬁrst bimodules over B(2) = B(2, 0) ⊕
B(2, 1) ⊕ B(2, 2) ⊕ B(2, 3), and then extending them to B(m, k, S) (with S ∩ {i, i +
1} = ∅ ) in Subsection 5.2. The local models when S ∩ {i, i + 1} is non-empty is
deﬁned in Section 5.3, and it is extended in the general case in 5.4.

5.1. Local bimodule for a positive crossing. We deﬁne ﬁrst a type DA bi-
module P over B(2) = B(2, 0) ⊕ B(2, 1) ⊕ B(2, 2) ⊕ B(2, 3). Note that B(2) is
deﬁned over I(2) = I(2, 0) ⊕ I(2, 1) ⊕ I(2, 2) ⊕ I(2, 3) ∼= F8 .
As an I(2)−I(2)-module, P has four generators N, S, W , and E . As an F-vector
space, P is 12 dimensional, and all 12 basis vectors appear on the right hand sides
of the following four expressions, which determine the I(2)−I(2)-module structure:

N = I{1} · N · I{1} + I{0,1} · N · I{0,1} + I{1,2} · N · I{1,2} + I{1,2,3} · N · I{1,2,3}
S = I∅ · S · I∅ + I{0} · S · I{0} + I{2} · S · I{2} + I{0,2} · S · I{0,2}

W = I{1} · W · I{0} + I{1,2} · W · I{0,2}
E = I{1} · E · I{2} + I{0,1} · E · I{0,2}.

54

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Next, we deﬁne the δ1
in the following diagram:
(5.4)

1 and δ1

2 actions on P . Some of these actions are speciﬁed

1 ⊗ 1 + L1L2 ⊗ L1 L2 + R2 R1 ⊗ R2 R1

R 2

⊗

L 2

L 1

U 1

L 2

⊗

L 1

⊗

U 2

R 1

R 2

+

+

R 1

1 ⊗

1
⊗
1

W

N

U

1

⊗

R

1

⊗

L

2

+

R

2

+

L

1L

2

R

1

⊗

R

1U

2

L1L2 ⊗ U1

R2R1 ⊗ U2

2

⊗

L

1

E

1
⊗
1

L

1

R 2

S

1 ⊗ 1

Here, dashed arrows indicate δ1

1 actions. For example, δ1

1(W) = L1 ⊗ S.

Further actions are obtained by the following local extension rules. For any X ∈
{N, W, E, S} and any pure algebra element a ∈ B(2),

(5.5)

and also:

δ1
2(X, U1U2 · a) = U1U2 · δ1

2(X, a).

2(N, a), then (b · U2) ⊗ Y
2(N, a · U1) and (b · U1) ⊗ Y appears

• If b ⊗ Y appears with non-zero coeﬃcient in δ1

appears with non-zero coeﬃcient in δ1
with non-zero coeﬃcient in δ1

2(N, a · U2).

• If b ⊗ Y appears with non-zero coeﬃcient in δ1

appears with non-zero coeﬃcient in δ1

2(W, U1 · a).

• If b ⊗ Y appears with non-zero coeﬃcient in δ1
2(E, U2 · a).

appears with non-zero coeﬃcient in δ1

2(W, a), then (U2 · b) ⊗ Y

2(E, a), then (U1 · b) ⊗ Y

For example, the action δ1
shows that

2(W, 1) = W combined with the local extension rules

δ1
2(W, U1) = U2 ⊗ W + L1L2 ⊗ E.

The above rules uniquely specify the F-linear map δ1

2 : P ⊗ B(2) → B(2) ⊗ P(2).
We wish next to specify δ1
2 , we deﬁne these on a basis. More
formally, an algebra element is called elementary if it is of the form p · e , where p
is a monomial in U1 and U2 , and

3 . As in the case for δ1

e ∈ {1,

L1,

R1,

L2,
2 by specifying the δ1
2 actions of the form δ1

L1L2,

R2,

We have deﬁned δ1
{N, S, W, E} and a is elementary. We will specify δ1
are elementary.

2(X, a), where X ∈
3(X, a1, a2) where a1 and a2

R2R1}.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 55

Suppose that a1 and a2 are elementary algebra elements with a1 ⊗ a2 6= 0 (i.e.
there is an idempotent state x so that a1 · Ix 6= 0 and Ix · a2 6= 0 ); and suppose
moreover that U1 · U2 does not divide either a1 nor a2 . In this case, δ1
3(S, a1, a2)
is the sum of terms:

2) and t ≥ 0

• R1U t
• L2U t

1 ⊗ E if (a1, a2) = (R1, R2U t
1U n
{(U n+1
, U t
1
2, U n+1
{(U t

2 ⊗ E if (a1, a2) ∈
1 , L1U t
2, L1U n

(R1U n
(R1U t

2),
1 ),

2),
),

1

1 ),
),

1 ),
2),

• L2U t

(L2U t
(L2U n

• L2U n
• R1U t

2 ⊗ N if (a1, a2) ∈

2 ⊗ W if (a1, a2) ∈
2, R2U n
1 , R2U t

2 ⊗ W if (a1, a2) = (L2, L1U n
1U n
{(U t+1
, U n
2
1 , U t+1
{(U n
2
1U n
, L2U t
2, U n+1
)}
1
• R1U t
1U n
{(U t+1
, R1U n
1 , U t+1
{(R1U n
2
{(R1, U t+1
)}
2

{(U n+1
{(L2U t
1
{(L2, U n+1

2, R2R1U n
),

(R1U n
(U t

(L2U t
(U n

1 , R1U t+1

2, L2U n+1

1 , L1L2U t

2),

1 ),
)

2),
),

1 ),

)

1

2

1

2

2 ⊗ N if (a1, a2) is in the following list:

(L2U n+1
(L2U t−1

, R2U t−1
, R2U n+1

1

2

2

1

)} when 0 ≤ n < t
)} when 1 ≤ t ≤ n

1 ) and n ≥ 0

(R1U t+1
(R1U n−1

, L1U n−1
, L1U t+1

2

1

1

2

)} when 0 ≤ t < n
)}, when 1 ≤ n ≤ t

, U t

(L2U n+1
2)}
1
2, L1L2U n
(R1U t

when 0 ≤ n < t
1 )} when 1 ≤ t ≤ n
when 0 = t ≤ n

, U n

(R1U t+1
1 )}
2
(L2U n
1 , R2R1U t

when 0 ≤ t < n
2)} when 1 ≤ n ≤ t
when 0 = n ≤ t.

For example

δ1
3(S, U1, U 2

2 ) = (L2U 2

1 ) ⊗ E + (R1U1U2) ⊗ W.

Extend this to the case where U1U2 divides a1 or a2 or both, by requiring

(5.6)

δ1
3(Z, (U1U2) · a, b) = δ1

3(Z, a, (U1U2) · b) = (U1U2) · δ1

3(Z, a, b).

Proposition 5.2. The operations δ1
ℓ deﬁned above give P the structure of a DA
bimodule over B(2) = B(2, 0) ⊕ B(2, 1) ⊕ B(2, 2) ⊕ B(2, 3), which is graded as in
Equations (5.1) and (5.3).

We prove the above proposition after some lemmas.

Lemma 5.3. The actions δ1

ℓ respect the gradings, as in Equation (5.1).

Proof. In the present case, the gradings on P i are speciﬁed by

gr(N) = ei+ei+1

4

gr(W) = ei−ei+1

4

gr(E) = −ei+ei+1

4

gr(S) = −ei−ei+1

4

,

Bearing this in mind, the lemma is a straighforward veriﬁcation using the above
deﬁned actions δ1
ℓ .
(cid:3)

Observe that if b ⊗ Y appears with non-zero multiplicity in δ1
ℓ (X, a1, . . . , aℓ−1),
and X is a ﬁxed generator, and the ai ∈ B(2) are elementary for i = 1, . . . , ℓ − 1 ,
then the output algebra b is uniquely speciﬁed in Equation (5.1).

56

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Lemma 5.4. Given a monomial p in U1 and U2 and an algebra element

a ∈ {p,

R1 · p,

L2 · p,

R2R1 · p,

L1L2 · p},

there is a unique X ∈ {N, W, E} and b so that b ⊗ N appears with non-zero
multiplicity in δ1
2(X, a). Similarly, given a monomial p in U1 and U2 an algebra
element from

a ∈ {p,

L1 · p,

R2 · p},

and a ﬁxed state type Y ∈ {W, E} , there is a unique state type X ∈ {N, W, E}
and b so that b ⊗ Y appears with non-zero multiplicity in δ1

2(X, a).

Proof. This follows from a straightforward inspection of Diagram (5.4) and the
local extension rules. For example, if Y = N, then if a = p · e where p is a
monomial in U1 and U2 , and e ∈ {1, L1L2, R2R1} , then X = N. For e = L2 ,
write p = U x
2 . If x > y , then X = W , and if x ≤ y , then X = E . The case
where e = R1 works similarly.
(cid:3)

1 U y

For any elementary a and Y ∈ {N, W, E} with a ⊗ Y 6= 0 , deﬁne I(a, Y ) to be
the generator X ∈ {N, W, E} as deﬁned in Lemma 5.4. Otherwise (i.e. if the pair
(a, Y ) is not covered by the lists of Lemma 5.4), deﬁne I(a, Y ) = 0 .

Lemma 5.5. Fix elementary algebra elements a1 , a2 in B(2), with S⊗a1⊗a2 6= 0 ,
an elementary b and Y ∈ {N, W, E} so that b ⊗ Y 6= 0 and

(5.7)

gr(S ⊗ a1 ⊗ a2) = gr(b ⊗ Y ).

Suppose moreover that a1 · a2 6= 0 . Then the element b ⊗ Y appears with non-
zero multiplicity in δ1
3(S, a1, a2) if and only if I(a2, Y ) 6= 0 and I(a1, I(a2, Y )) 6=
I(a1 · a2, Y ); (i.e. one of them is E and the other is W ).

Proof. This follows from a straightforward inspection of the deﬁnition of δ1

3 . (cid:3)

We introduce a notational shorthand. The maps

naturally extend to maps

δ1
i : P ⊗

B ⊗ · · · ⊗ B → B ⊗ P

z

i−1

}|
}|

i−1

z

{

{

by the rule

i : B ⊗ P ⊗

eδ1

B ⊗ · · · ⊗ B → B ⊗ P,

i (b ⊗ x ⊗ a1 ⊗ · · · ⊗ ai−1) = b · δ1
δ1

i (x ⊗ a1 · · · ⊗ . . . ai−1).

Fix elementary algebra elements a1, a2 ∈ B(2, k), so that S ⊗ a1 ⊗ a2 6= 0 . When
k = 2 , a1 · a2 is always non-zero. On the other hand, when k = 1 , the actions
δ1
3(S, a1, a2) are those for which a1·a2 = 0 and b⊗Y (as speciﬁed by Equation (5.7))

appears with non-zero multiplicity in eδ1

2(δ1

2(S, a1), a2).

Lemma 5.6. With the above deﬁnition, if a1 , a2 , and a3 are elementary, then

eδ1

2(δ1

3(S, a1, a2), a3) +eδ1

+ δ1

3(δ1
2(S, a1), a2, a3)
3(S, a1 · a2, a3) + δ1

3(S, a1, a2 · a3) = 0

(5.8)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 57

3 deﬁned above vanish on B(2, 0) and B(2, 3), so Equa-

Proof. The above actions δ1
tion (5.8) is obvious. On B(2, 1), the non-trivial δ1
2) = R1U t
1 ) = L2U n
) = L2U n
) = R1U t

δ1
3(S, R1, R2U t
δ1
3(S, L2, L1U n
3(S, L2, U n+1
δ1
3(S, R1, U t+1
δ1

3 actions are
1 ⊗ E
2 ⊗ W
2 ⊗ N
1 ⊗ N

1

2

with k, n ≥ 0 . For these, the veriﬁcation of Equation (5.8) is straightforward.

In B(2, 2), if a1 ⊗ a2 ⊗ a3 6= 0 , then in fact a1 · a2 · a3 6= 0 ; so we wil henceforth
assume that a1 ·a2 ·a3 6= 0 . We treat two subcases separately, according to whether
or not a1 = (U1U2)ℓ .
Case 1: a1 = (U1U2)ℓ . The ﬁrst and the fourth terms in Equation (5.8) vanish,
and the middle two agree by Equation (5.6).
Case 2: a1 6= (U1U2)ℓ . In this case, δ1
tion (5.8) is missing. Given Y ∈ {N, W, E} , let

2(S, a1) = 0 , so the second term in Equa-

α = I(a1 · a2, I(a3, Y )),
γ = I(a1, I(a2 · a3, Y )),

β = I(a1 · a2 · a3, Y ),
δ = I(a1, I(a2, I(a3, Y ))).

By Lemma 5.5, b ⊗ Y (where gr(S ⊗ a1 ⊗ a2 ⊗ a3) = gr(b ⊗ Y )) appears with
non-zero multiplicity in:

3(S, a1 · a2, a3) if the set {α, β} equals {W, E}
3(S, a1, a2 · a3) if {γ, β} = {W, E}
2(δ1

3(S, a1, a2), a3) if {α, δ} = {W, E}

• δ1
• δ1

• eδ1

Equation 5.8 states that either α = β = γ = δ or exactly one of the three relations
(α = β, β = γ, α = δ) holds. To establish this, we will need the following two
observations about I(a, Z):

Observation 1. If a is elementary and Z is a generator type, then I(a, Z) is
uniquely determined by a and whether or not Z = N, except in the special case
where a = (U1U2)ℓ for some ℓ ≥ 0 . For example, if a = L1 · p or R2 · p, where p
is a monomial in U1 and U2 , then I(a, Z) = N; if a = U x
2 and Z ∈ {W, E} ,
then I(a, Z) = W if x > y and I(a, Z) = E if x < y .

1 · U y

The generator types {N, W, E} are further grouped into two classes, {N} and
{W, E} ;
in this language, the Observation 1 can be phrased as saying that if
a 6= (U1U2)ℓ , the class of Z and the algebra element a uniquely determines I(a, Z).

Observation 2. If a1 and a2 are elementary and a1 · a2 6= 0 , then the class of
I(a1, I(a2, Z)) agrees with the class of I(a1 · a2, Z).

By the second observation, the class of I(a2 · a3, Y ) agrees with the class of
I(a2, I(a3, Y )), so by the ﬁrst observation, I(a1, I(a2·a3, Y )) = I(a1, I(a2, I(a3, Y )));
i.e. γ = δ , so if any two of the conditions (α = β, β = γ, α = δ) holds, the third
one holds, verifying Equation (5.8) when a1 6= (U1U2)ℓ .
(cid:3)

Proof of Proposition 5.2. Note that in B(2, 3), there is only one non-trivial
In fact, P 1 in this case is
generator, and it is N; so δ1

ℓ = 0 for all ℓ > 2 .

58

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

simply the identity bimodule for B(2, 3), and the A∞ relation holds. A similar
simpliﬁcation occurs for B(2, 0), where the algebra is one-dimensional, and S is
the only module generator.

We turn to the more interesting cases, in the summands B(2, 1) and B(2, 2). Vary-
ing n, we verify the DA bimodule relation with n algebra inputs a1, . . . , an (and
one module input), subdividing further each veriﬁcation according to whether we
are in B(2, 1) or B(2, 2).
When n = 0 , the A∞ relation is clear from the form of δ1
1 .

When n = 1 , terms of the form eδ1
where a1 = (U1U2)ℓ , in which case a term of the form eδ1
of the form eδ1

2 ◦ δ1
1 .

1 ◦ δ1

2 cancel in pairs, except in the special case
2 cancels with another

1 ◦ δ1

When n = 2 , we ﬁnd it convenient to label the terms in the A∞ relation as follows:
(5.9)

a1

a2

a1

a2

a1

a2

A =

δ1
3

µ1

B =

µ1

δ1
3

µ1

C =

a1

a2

δ1
3

δ1
3

δ1
1

a1

a2

δ1
2

δ1
2

E =

µ2

F =

µ2

a1

a2

D =

µ2

δ1
2

a1

a2

δ1
1

δ1
3

G =

µ2

So that the A∞ relation on a DA bimodule with two inputs reads

A + B + C + D + E + F + G = 0.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 59

On the algebras we are considering presently, µ1 = 0 , so A = B = C = 0 .

When n = 2 , since all actions are U1U2 -equivariant, the case where at least one of
a1 or a2 is (U1U2)ℓ is straightforward: the only two possibly non-zero terms are
D and E , and they cancel.

When n = 2 , and we are in the summand in B(2, 2), and the starting and ending
generator is in {E, W, N} , the A∞ relation follows from Lemma 5.5, and the
observation that a1 · a2 6= 0 . Speciﬁcally, in this case, A = B = C = 0 , and the δ1
3
actions are deﬁned so that the term in G cancels D and E .

When n = 2 and we are in the summand in B(2, 2), and the starting and ending
generator is S, then A = B = C = G = 0 , and we ﬁnd that terms of type F
cancel in pairs, except in the special cases where a1 · a2 = (U1U2)ℓ , which are the
cases where D 6= 0 , in which case there is a single cancelling term of type F . This
is veriﬁed by looking at the formulas deﬁning δ1
3 . For example, consider an A∞
relation with generator of type S, a1 = U n
2 . If 1 ≤ n ≤ t, there is a
term of type F , factoring through E , and this cancels against another term of type
D , factoring through W , when n < t; otherwise, it cancels against a contribution
of type D .

1 , and a2 = U t

When n = 2 and we are in the summand in B(2, 1) and the initial generator is of
type {E, W, N} , terms of type D and E cancel except in special cases where E
contributes but a1 · a2 = 0 , in which case there is a cancelling non-zero term of
type G. When the initial generator is of type S, and neither of a1 nor a2 equals
(U1U2)ℓ , the only possible non-zero term, which is of type F , vanishes thanks to
the algebra; for example, in the A∞ relation δ1
1 ⊗ E , and
δ1
1(E) = R2 ⊗ S, but R1 · R2 = 0 in B(2, 1).
The cases where n = 3 , the A∞ relation trivially holds except in the special cases
where the initial generator is of type S. That case was covered by Lemma 5.6.

3(S, R1, R2U t

2) = R1U t

The case where n > 3 is obvious.

(cid:3)

5.2. Extension. Fix integers k and m with 0 ≤ k ≤ m + 1 , we extend the
bimodule P to a bimodule B(m,k)P i

B(m,k) , as follows.

Let a ∈ B0(m, k) with a = Ix · a · Iy , and suppose that x and y are close enough.
Suppose moreover that a is pure, in the sense that it corresponds to some monomial
in U1, . . . , Um under φx,y . We deﬁne the type of a, denoted t(a), which is an

60

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

expression in in U1 , U2 , R1 , L1 R2 and L2 , deﬁned as follows:

R2R1U

wi(a)− 1
2
1

wi+1(a)− 1
2
2

U

L1L2U

wi(a)− 1
2
1

wi+1(a)− 1
2
2

U

R2U wi(a)

1

U

wi+1(a)− 1
2
2

L2U wi(a)

1

U

wi+1(a)− 1
2
2

R1U

wi(a)− 1
2
1

U wi+1(a)

2

L1U

wi(a)− 1
2
1

U wi+1(a)

2

U wi(a)

1

U wi+1(a)

2

i+1

i+1

(mod Z)

(mod Z)

i+1 < vy

i+1

i+1 < vy

i+1 > vy

if wi(a) ≡ wi+1(a) ≡ 1
2
and vx
if wi(a) ≡ wi+1(a) ≡ 1
2
and vx
if wi(a) ∈ Z and wi+1(a) ≡ 1
2
and vx
if wi(a) ∈ Z and wi+1(a) ≡ 1
2
and vx
if wi(a) ≡ 1
2
i < vy
and vx
i
if wi(a) ≡ 1
2
i > vy
and vx
i
if wi(a) and wi+1(a) are integers.

i+1 > vy

i+1

(mod Z) and wi+1(a) ∈ Z,

(mod Z) and wi+1(a) ∈ Z,

(mod Z),

(mod Z),

t(a) =




Similarly, there is a map t from generators of P i to the four generators of P , that
remembers only the type (N, S, W , E ) of the generator of P i .

Deﬁnition 5.7. For X ∈ P i , an integer ℓ ≥ 1 , and a sequence of algebra elements
a1, . . . , aℓ−1 in B0(m, k) with speciﬁed weights, so that there exists a sequence of
idempotent states x0, . . . , xℓ with

• X = Ix0 · X · Ix1
• at = Ixt · at · Ixt+1 for t = 1, . . . , ℓ − 1
• xt and xt+1 are close enough (for t = 0, . . . , ℓ − 1 ),

deﬁne Dℓ(X, a1, . . . , aℓ−1) ∈ B0(m, k) ⊗ P i as the sum of pairs b ⊗ Y where b ∈
B0(m, k) and Y is a generator of P i , satisfying the following conditions:

• the weights of b and Y satisfy

(5.10)

gr(X) + τ gr

i (gr(a1) + · · · + gr(aℓ−1)) = gr(b) + gr(Y )

• There are generators X0 and Y0 with the same type (i.e. with the same
label {N, S, W, E} ) as X and Y respectively, so that t(b) ⊗ Y0 appears
with non-zero multiplicity in δ1

ℓ (X0, t(a1), . . . , t(aℓ−1)).

Clearly, D1

ℓ = 0 for ℓ > 3 . Deﬁne δ1

1 = D1 , we get

δ1
1(W) = L1 ⊗ S,

δ1
1(E) = R2 ⊗ S,

δ1
1(N) = δ1

1(S) = 0.

Lemma 5.8. Suppose that any at ∈ I(xt, xt+1), then the projection of D1
to B(m, k) ⊗ P i vanishes; i.e. the maps Dℓ induce well-deﬁned maps

ℓ (X, a1, . . . , aℓ−1)

ℓ : P i ⊗
δ1

for all ℓ = 2, 3 .

z

B(m, k) ⊗ · · · ⊗ B(m, k) → B(m, k) ⊗ P i,

ℓ−1

}|

{

Proof. For the δ1

1 operations, the result is obvious.

The operation δ1
in the labels on Figure 5.4.

2 can be written as a sum of 16 terms, corresponding to the terms

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 61

For example, consider δ1
According to Equation 5.4, this can be written as a sum of two terms,

i+1), where wi(a) = wi+1(a) = 0 and ℓ > 0 .

2(E, a · U ℓ

Ri+1Ri · a · U ℓ−1

i ⊗ W + a · U ℓ

i ⊗ E.

We check that for any idempotent states x and y with E·Ix 6= 0 and Ix·a·U ℓ
i+1·Ix 6=
0 , if Ix · a · U ℓ
i+1 ∈ J , then the two output terms also vanish. If a is divisible by
a monomial corresponding to a generating interval for (x, y) that is disjoint from
{i, i + 1} , each output elements are also divisible by such monomials, and the claim
is clear. It remains to check the claim when a · Ui+1 is the monomial corresponding
to a generating interval Ui+1 · · · Uβ for the incoming element.
In this case, the
output is divisible by Ui+2 · · · Uβ , which corresponds to a generating interval in
both output algebras.

The other non-trivial checks include the following:

δ1
2(W, Uα · · · Ui) = (Uα · · · Ui−1Ui+1) ⊗ W + LiLi+1(Uα · · · Ui−1) ⊗ E

δ1
2(N, Ui+1 · · · Uβ · Li) = (Ui · · · Uβ) ⊗ W + LiLi+1Ui(Ui+2 · · · Uβ) ⊗ E
δ1
2(N, Uα · · · Ui−1 · Li) = (Uα · · · Ui) ⊗ W + LiLi+1(Uα · · · Ui−1) ⊗ E
δ1
2(W, Uα · · · Ui · Li+1) = Uα · · · Ui−1 · Li · Li+1 ⊗ N
δ1
2(W, Uα · · · Ui−1 · Ri) = Uα · · · Ui−1 ⊗ N

where the monomials Uα · · · Ui and Ui+1 · · · Uβ (with α ≤ i and β ≥ i + 2 )
correspond to generating intervals for the input, for suitable choices of idempotents;
it is then straightforward to check that the outputs are also zero. The remaining
non-trivial checks are symmetric to the above ones (under the symmetry exchanging
W and E , and Li with Ri+1 ).
For δ1
3(X, a1, a2) projects
to zero in B(m, k)⊗P i . In cases where min(wi(a1)+wi(a2), wi+1(a1)+wi+1(a2)) =
1
2 , i.e. when (t(a1), t(a2)) ∈ {(R1, R2U t
)} , are
considered separately. In all these cases, the generating intervals for a1 and a2 do
not contain i or i + 1 , so the result is obvious.

3 , we must show that if a1 or a2 ∈ J , then the output D1

1 ), (L2, U n+1

2), (L2, L1U n

1

), (R1, U t+1

2

For the remaining cases, we have the following stronger assertion:
satisfy

if a1 and a2

(5.11)

min(wi(a1) + wi(a2), wi+1(a1) + wi+1(a2)) >

1
2

,

3(X, a1, a2) ∈ J . For instance, the terms in δ1

and a1 · a2 ∈ J (i.e. a1 · a2 projects to zero in B(m, k)), and with Ix · a1 = a1
then D1
3(S, a1, a2) in B(2) that
output L2U t
2 ⊗ E (all of which satisfy Equation (5.11)) give rise to actions with
a1, a2 ∈ B(k, m) with Ix · a1 · a2 = a1 · a2 with

1U n

i 6∈ p, wi(a1 · a2) = n + 1 ≥ 1, wi+1(a1 · a2) = t ≥ 1

and output algebra element b = Ix · b · Iy with

i ∈ y,

i + 1 6∈ y wi(b) = t ≥ 1

It is easy to see that if a1 · a2 is divisible by a monomial corresponding to a
generating interval of the form Uα · · · Ui , then so is b ; checking cases where a1 · a2
is divisible by other generating intervals is even more straightforward. Remaining
cases where the output contains W work similarly. Cases where the output contains

62

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

N are easily veriﬁed, as well. The stronger statement (following Equation (5.11))
now follows.
(cid:3)

For example,

δ1
2(N, Ri+2Ri+1) = Ri+2Ri+1Ri ⊗ W + Ri+2Ui ⊗ E.

As another example, choose Rj with j 6= i or i + 1 . Then, for all generators X ,
δ1
2(X, Rj) = Rj ⊗ X . (Note that in this example, t(Rj) = 1 .)
As another example,

δ1
3(S, Ri, Ri+2Ri+1) = δ1

3(S, RiRi+2, Ri+1) = RiRi+2 ⊗ E.

Let δ1

ℓ = 0 for all ℓ ≥ 4 .

It will be useful to have the following characterization of δ1
3 :

Lemma 5.9. The operation δ1
both Equation (5.10) holds, and one of the following two conditions holds:

3(X, a1, a2) contains only those terms b ⊗ Y where

(C-1) (t(a1), t(a2)) ∈ {(R1, R2U t

2), (L2, L1U n

1 ), (L2, U n+1

1

), (R1, U t+1

2

)} and t(b)⊗

t(Y ) appears with non-zero multiplicity in δ1

3(t(X), t(a1), t(a2));

(C-2) a1 ·a2 6= 0 , I(a2, Y ) 6= 0 and I(t(a1), I(t(a2), t(Y ))) 6= I(t(a1)·t(a2), t(Y )).

Proof. In the proof of Lemma 5.8, we showed that if we are not in Case (C-1), then
Equation (5.11) holds, and so we conclude that a1 · a2 6= 0 . Thus, our description
of δ1
(cid:3)

3 follows from Lemma 5.5.

Proposition 5.10. The above maps give P i the structure of a type DA bimodule
over B(m, k)-B(m, k).

Proof. The proof of Proposition 5.2 adapts, with a few remarks. In the veriﬁca-
tion of the A∞ relation with two algebra inputs, that proof decomposed accord-
ing to whether we were working in B(2, 1) or B(2, 2). In the present case, when
(t(a1), t(a2)) ∈ {(R1, R2U t
), ( the A∞ relation holds ex-
actly as it did in B(2, 1). Otherwise , if a1 · a2 6= 0 , the proof of the A∞ relation
for B(2, 2) applies, using Lemma 5.9. Finally, if a1 · a2 = 0 , then by Lemma 5.9,
the term involving δ1
3 (F or G) vanishes. The term D vanishes by Lemma 5.8.
The veriﬁcation of the A∞ relation in B(2, 2) shows that the remaining possible
non-zero term, which is of type E , has the same contribution as a term of type F ,
G, or D , all of which contribute 0 .

1 ), (L2, U n+1

2), (L2, L1U n

1

Consider next the case of three algebra inputs a1 , a2 , and a3 . When a1 ·a2 ·a3 = 0 ,
the veriﬁcation (now in the proof of Lemma 5.6) works as it did in B(2, 1). In the
remaining cases, the earlier proof of the A∞ relation in B(2, 2) (contained in the
proof of Lemma 5.6) still applies, as it hinges on the description of δ1
3 (Lemma 5.5)
which still holds in this case (according to Lemma 5.9).
(cid:3)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 63

5.3. Adding Ci , locally. We extend the local bimodule P deﬁned over B(2) to
a bimodule B(2,τ (S))PB(2,S) , where S is a non-empty subset of {1, 2} .
In the local module P , there were δ1
{N, W, E} to {N, W, E} or S to S. We extend these to similar actions so that

2 actions connecting generators of types

δ1
2(X, C1 · a) = C2 · δ1
(5.12)
Similarly, we extend the previous δ1
2(X, a1, a2) = δ1
2(X, a1, a2) = δ1
3(C1R1, C2R2) = δ1

C2 · δ1
C1 · δ1

For example, δ1
ther δ1

2(X, a)

δ1
2(X, C2 · a) = C1 · δ1

2(X, a)
3 actions so that
3(X, C1 · a1, a2) = δ1
3(X, C2 · a1, a2) = δ1
3(C1C2R1, R2) = R1C1C2 ⊗ E . We specify fur-

3(X, a1, C1 · a2)
3(X, a1, C2 · a2)

2 actions from S to {N, W, E} :
δ1
2(S, C2) = R1 ⊗ W
δ1
δ1
2(S, C1C2) = C2R1 ⊗ W + C1L2 ⊗ E
2(S, C1) = L2 ⊗ E
δ1
δ1
2(S, U1C1C2) = U1C2L2 ⊗ E
2(S, U1C2) = U1L2 ⊗ E
2(S, C1U2) = R1U2 ⊗ W δ1
δ1
2(S, C1C2U2) = C1R1U2 ⊗ W
δ1
δ1
2(S, R1C2) = R1 ⊗ N
2(S, R1C1C2) = R1C2 ⊗ N
δ1
δ1
2(S, C1L2C2) = C1L2 ⊗ N
2(S, L2C1) = L2 ⊗ N
2(S, R1C1U2) = R1U2 ⊗ N δ1
δ1
2(S, R1C1U2C2) = R1C1U2 ⊗ N
δ1
2(S, U1L2C2) = L2U1 ⊗ N δ1
2(S, U1C1L2C2) = U1L2C2 ⊗ N

These are extended to commute with multiplication by U1U2 (as in Equation (5.5)).
By Equation (5.12), the actions δ1
2(S, C2) =
C1 ⊗ S. The ﬁrst action listed above, i.e. the relation δ1
2(S, C2) = R1 ⊗ W , is now
a consequence of this fact, together with the A∞ relation with module element S,
the single algebra input C2 , and output module element S. The second action on
the above list follows symmetrically. The actions on the left column of rows three,
ﬁve, and seven respectively are forced by the following δ1

2(S, 1) = S gives rise to actions δ1

3 actions (with S = ∅ )

δ1
3(S, U1, U2) = L2U1 ⊗ E
δ1
3(S, L2, U1) = L2 ⊗ N

δ1
3(S, R1U2, U1) = R1U2 ⊗ N

and the A∞ relations with inputs (S, U1, C2), (S, L2, C1) and (S, R1U2, C1) re-
spectively. The remaining actions on the left column follow symmetrically. The
actions in the second column follow from actions from the ﬁrst column column of
the form (S, da) and A∞ relations with inputs (S, a).

Lemma 5.11. For any S ⊂ {1, 2} , the above actions induce a type DA bimodule
structure on B(2,τ (S))PB(2,S) .

Proof. It suﬃces to prove the lemma in the case where S = {1, 2} . For example,
if S = {1} , the outputs of the δ1

j actions lie in the subalgebra B(2, {2}).

We consider the A∞ relation with n incoming algebra elements a1, . . . , an .

It is a straightforward veriﬁcation to check that the actions deﬁned above are con-
sistent with the A∞ relation with n = 1 input.

When n = 2 , and the incoming generator is not S, the A∞ relation follows from
Equation (5.12) together with the A∞ relation with S = ∅ .

64

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

When n = 2 and the incoming generator is S, label the terms in the A∞ relation
as in Equation (5.9). The key point to verifying this relation now is that when
diﬀerentiating a1 or a2 (in terms B or C above), the U1 or U2 -power can change
by at most one so the corresponding δ1
3 action with a1 and a2 is non-zero when the
action with (da1, a2) and (a1, da2) is. However, there are borderline cases where
this change in the U1 or the U2 power is enough to to turn oﬀ one of those actions.
These are precisely the cases either the product a1a2 acts non-trivially (i.e. where
D contributes), or there is an iterated δ1
For example, consider the case where a1 = U n
2 with n, t ≥ 0 , and
consider the terms where the output generator has type E . We have the following
non-zero terms in the A∞ relation:
A 6= 0 ⇔ 0 ≤ n − 1 < t, B 6= 0 ⇔ 0 ≤ n < t, D 6= 0 ⇔ n = t ≥ 0, E 6= 0 ⇔ n = 0, t ≥ 0;

2 (i.e. E contributes).
1 C1 , and a2 = U t

Thus, for all choices of n, t ≥ 0 , there are either no non-zero terms or exactly two,
and so the A∞ relation holds. Other cases where n = 2 and the initial generator
is of type S work similarly.

Consider the case where n = 3 . Recall that the algebra has a ﬁltration in {0, 1} ×
{0, 1} given by the functions (m1, m2), with the property that if a is a pure algebra
element not divisible by Cj , then mj(a) = 0 and mj(Cj a) = 1 . Clearly, the
operations δ1
ℓ respect this ﬁltration, in the sense that if a (m1, m2)-homogeneous
element b ⊗ Y appears with non-zero multiplicity in δ1
ℓ (a1, . . . , aℓ−1), and each ai
is homogeneous (with respect to µ), then for j = 1, 2 ,

(m1(b), m2(b)) ≤

ℓ−1Xk=1

(m1(ak), m2(ak)).

For the terms that preserve this {0, 1} × {0, 1} -ﬁltration, the A∞ relation with 3
inputs is an immediate consequence of Proposition 5.10. Consider next terms that
drop ﬁltration level by one. Note that each δ1
ℓ action of this type has ℓ = 2 and
end in the span of {N, W, E} , while all δ1
3 actions start from S. It follows that
there are no such terms that appear in the A∞ relation with 3 inputs. (It also
follows that there are no terms of this kind in the A∞ relation which drop by more
than 1 .)

For n > 3 , the A∞ relation is easy.

(cid:3)

5.4. The general case of P i . Let B1 = B(m, k, S), where 0 ≤ k ≤ m + 1
and S ⊂ {1, . . . , m} is arbitrary; and let B2 = B(m, k, τ (S)).
In cases where
S ∩ {i, i + 1} 6= ∅ , we must modify our earlier constructions as follows.

Extend the type t(a) now to be a monomial in U1, U2, L1, L2, C1, C2, R1, R2 , so
that

t(Ci · a) = C1 · t(a)
t(Ci+1 · a) = C2 · t(a)

if Ci · a 6= 0
if Ci+1 · a 6= 0;

and t(a) is as deﬁned before when a is a pure algebra element not divisible by Ci
or Ci+1 .

Let t(S) ⊂ {1, 2} be the set with 1 ∈ t(S) iﬀ i ∈ S and 2 ∈ t(S) iﬀ i + 1 ∈ S .
Deﬁnition 5.12. For X ∈ P i and a sequence of pure algebra elements a1, . . . , aℓ−1
in B0(m, k, S), so that there exist a sequence of idempotent states x0, . . . , xℓ with

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 65

• X = Ix0 · X · Ix1
• at = Ixt · at · Ixt+1 for t = 1, . . . , ℓ
• xt and xt+1 are close enough (for k = 0, . . . , ℓ − 1 ),

deﬁne Dℓ(X, a1, . . . , aℓ−1) ∈ B0(m, k, τ (S)) ⊗ P i as the sum of pairs b ⊗ Y where
b ∈ B0(m, k, t(τ (S))) and Y is a generator of P i , satisfying the the conditions of
Deﬁnition 5.7, with the understanding that now δ1
ℓ (X0, t(a1), . . . , t(aℓ−1) is com-
puted using the crossing over B(2,t◦τ (S))PB(2,t(S)) ; and the additional condition that
for any k 6= i or i + 1 , and any m = 1, . . . , ℓ − 1 ,

Dℓ(X, a1, . . . , Ck · am, . . . , aℓ−1) = Ck · Dℓ(X, a1, . . . , am, . . . , aℓ−1).

Lemma 5.13. If any at ∈ I(xt, xt+1), then the projection of D1
to B(m, k) ⊗ P i vanishes; i.e. the maps Dℓ induce well-deﬁned maps

ℓ (X, a1, . . . , aℓ−1)

δ1
ℓ : P i ⊗

for all ℓ = 2, 3 .

z

B(m, k, S) ⊗ · · · ⊗ B(m, k, S) → B(m, k, τ (S)) ⊗ P i,

ℓ−1

}|

{

Proof. Lemma 5.8 takes care of most of this; we must check further the additional
δ1
2 actions from S to {N, W, E} listed in the beginning of this subsection; but this
is straightforward.
(cid:3)

Proposition 5.14. The above maps give P i the structure of a type DA bimodule
over B(m, k, τ (S))-B(m, k, S).

Proof. This follows easily from Proposition 5.10, handling terms with Ci inputs
as in Lemma 5.11.
(cid:3)

5.5. The negative crossing. Consider the map R : B(m, k, S) → B(m, k, S) from
Section 3.6. Recall that o(a · b) = o(b) · o(a), o(Ix) = Ix , o(Lt) = Rt o(Rt) = Lt
o(Ut) = Ut and o(Cj ) = Cj for all t = 1, . . . , m and j ∈ S .
Let N i be generated by the same generators {N, S, W, E} as before. If δ1
b ⊗ Y in P i , then δ1
δ1
2(Y, o(a))) = o(b)⊗X in N i If δ1
o(b) ⊗ X .

1(X) =
2(X, a) = o(b) ⊗ Y in P i , then

3(X, a1, a2) = b⊗Y in P i , then δ1

1(Y ) = o(b) ⊗ X in N i If δ1

3(Y, o(a2), o(a1)) =

More succinctly, the opposite module of P i is identiﬁed with

i

B2 (P
under the identiﬁcation of Bop
t
For example, in N i , we have actions
δ1
1(S) = Ri ⊗ W + Li+1 ⊗ E

)B1 ∼=Bop
∼= Bt for t = 1, 2 (Equation (3.9)).

=B1 N i

1 P

B2;

i
Bop
2

δ1
2(E, Ri) = Ri+1Ri ⊗ N
i , Ri+1) = Ri+1U n
δ1
3(W, RiU n

i+1 ⊗ S.

Proposition 5.15. The above maps give N i the structure of a type DA bimodule
over B(m, k, τ (S))-B(m, k, S).

Proof. This is a formal consequence of the above deﬁnition.

(cid:3)

66

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

5.6. Gradings and partial Kauﬀman states. As noted earlier, P i is adapted
to the underlying manifold. Thus, its grading set takes values in H 1(W, ∂W ). We
can specialize to a simply Q -graded-graded setting as follows.

Recall (Equation (3.6)) that the algebra has an Alexander grading with values in
Q , obtained from the map φ : 1

2 Zm → 1

2 Z deﬁned by

φ(ei) =(cid:26) −1 if i ∈ S

if i 6∈ S.

1

There is an induced grading on the bimodule, given by

(5.13)

A(X) = φ(gr(X));

which we can think of, more abstractly, as the evaluation of the grading, thought
of as an element of H 1(W, ∂W ), against the element [W, ∂] ∈ H1(W, ∂W ) induced
by the orientation of W .)

It is now an immediate consequence of Equation (5.1) that

A(X, a1, . . . , aℓ) = A(X) + A(a1) + · · · + A(aℓ) = A(b) + A(Y ),

if b ⊗ Y appears with non-zero multiplicity in δ1

ℓ+1(X, a1, . . . , aℓ).

Proposition 5.16. The Q -valued Alexander grading on generators from Equa-
tion (5.13) for the crossing bimodules is computed by the local Kauﬀman contribu-
tions displayed in Figure 2.

Proof. This a straightforward check using Equation (5.13) Equation (4.5), and (4.7),
considering all the possible orientations of the braidlike positive and negative cross-
ing.
(cid:3)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 67

6. Braid relations

We prove that the DA bimodules P i and N i satisfy the following braid relations:

Theorem 6.1. Fix m, k with 0 ≤ k ≤ m + 1 , i with 1 ≤ i ≤ m − 1 , and
S ⊂ {1, . . . , m} . Let B1 = B(m, k, S) and B2 = B(m, k, τi(S)). Then,

(6.1)

B1P i
B2

⊠ B2 N i

B1 ≃ B1 IdB1 ≃ B1N i
B2

⊠ B2P i
B1

Given j 6= i with 1 ≤ j ≤ m − 1 , let

B3 = B(m, k, τjτi(S))

and

B4 = B(m, k, τj(S)).

If |i − j| > 1

(6.2)

while if j = i + 1 , let

B3 P j
B2

⊠ B2P i

B1 ≃ B3P i
B4

⊠ B4 P j
B1

.

B5 = B(m, k, τiτi+1τi(S))

and

B6 = B(m, k, τiτi+1(S));

then,

(6.3)

B1

B2

B1

B5P i
B3

⊠B3 P i+1
B2

⊠B2 P i

B1 ≃ B5P i+1
B6

⊠ B6P i
B4

⊠ B4 P i+1
B1

.

≃

B1

B4

B3

B1

B1

B2

B3

B2

B1

≃

B1

B4

B6

B5

≃

≃

B1

B2

B3

B5

Figure 21. Bimodules and algebras appearing in Theorem 6.1.

We will prove the above with the help of the following:

Lemma 6.2. Fix m, k with 0 ≤ k ≤ m + 1 , i with 1 ≤ i ≤ m − 1 , and
S ⊂ {1, . . . , m} . Let

B1 = B(m, k, S) B2 = B(m, k, τi(S)), B′

1 = B(m, m + 1 − k, {1, . . . , m} \ S).

68

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Let B2P i
B1
type DD bimodule from Section 3.7. Then,

be the DA bimodule from Section 5, and let B1,B′

1K be the canonical

(6.4)

(6.5)

B2P i
B1
B2 N i
B1

⊠B1,B′

⊠B1,B′

1 K ≃ B2,B′
1 K ≃ B2,B′

1Pi

1Ni

where the type DD bimodule appearing on the right is the one deﬁned in Section 7.

Proof. We start by verifying Equation (6.4); and for simplicity, we assume i = 1 .
The computation depends on S ∩ {1, 2} .

In fact, in this case, P i ⊠ K = Pi .
We start with the case where {1, 2} ⊂ S .
The arrows connecting N, W , and E are all induced from δ2 actions on P i . For
example, the diﬀerential from N to E labelled by L1L2 ⊗ R1 from Figure 4.2 is
obtained by pairing the term L1 ⊗ R1 term in the canonical DD bimodule pairs
with the action δ1

2(N, L1) = L1L2 ⊗ E in the P 1 , as shown on the left diagram:

N

N

δ1
K

1

L

R

1

2

L

1

L

δ1
P 1

E

δ1
K

1

C

U

1

2

C

δ1
P 1

N

On the right, we demonstrate how to construct the term (C2 ⊗ U1) ⊗ N in δ1(N)
(of Type (P-2)).

The diﬀerentials into S come from the δ1
of S come from δ1
involving the generator E arise as follows:

2 and δ1

1 action on P i , and the diﬀerentials out
3 actions on P i . For example, the two terms out of S

S

δ1
K

1

C

2

L

δ1
P 1

E

S

U

1

R 1

δ1
P 1

E

δ1
K

δ1
K

1

R

R 2

L

1

L

2

µ2

L

1

L

2

(Note that since K bimodule is a left/left bimodule, the multiplication appearing
on the right is taking place in (B′

1)op .)

Terms of Type (P-1) are easily constructed from pairing diﬀerentials in the identity
DD bimodule with the part of P i that behaves like an identity bimodule.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 69

Consider next the case where S ∩ {1, 2} = {2} . Then, P 1 ⊠ K is given by:

C1 ⊗ U2 + U2 ⊗ C1

1
C
⊗
2
U
+
2
U
⊗
1
C

1

R

2

R

+

1

R

⊗

2

U

2

L

1

L

⊗

⊗

1

W

L1L2 ⊗ C1

R

1

L

1

⊗

⊗

U

2

+

1

L

2

⊗

R

2

R

1

N

2
R
1
C
⊗
2
L

S

C1 ⊗ U2

U

1

⊗

L

2

+

L

1

L

1

2

⊗

⊗

R

2

R

1

1

⊗

2

R

2

L

1

L

⊗

1

R

E

C
1
⊗
U
2

and outside actions (i.e. of Type (P-1) and (P-2) with j 6= 1, 2 ). Consider the map
h1 : P 1 ⊠ K → P1

h1(X) =(cid:26) S + (L2 ⊗ C1) ⊗ E if X = S

otherwise.

X

Let g1 : P1 → P 1 ⊠ K be given by the same formula. It is easy to verify that h1
and g1 are homomorphisms of type DD structures, h1 ◦ g1 = Id, and g1 ◦ h1 = Id.

The case where S ∩ {1, 2} = {1} works similarly.

70

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

When S ∩ {1, 2} = ∅ , P 1 ⊠ K is given by

U1 ⊗ C2 + U2 ⊗ C1

2

L

⊗

1

R

2

R

+

1

L

⊗

1

1

R

⊗

2

U

1
C
⊗
2
U

W

L1L2 ⊗ C1

R

1

U

2

⊗

L

1

⊗

1

C

1

C

2

+

L

2

⊗

R

2

R

1

N

2
C
1
L
⊗
1
R
+
2
R
1
C
⊗
2
L

S

U

1

⊗

L

2

+

L

1

L

2

⊗

R

1

1

⊗

R

2

R2R1 ⊗ C2

2

C

1

C

⊗

1

U

2

L

1

⊗

2

R

L

⊗

1

R

+

2

L

1

E

U
1
⊗
C
2

Consider the map h1 : P 1 ⊠ K → P1

X

h1(X) =(cid:26) S + (L2 ⊗ C1) · E + (R1 ⊗ C2) · W if X = S

otherwise.

Let g1 : P1 → P 1 ⊠ K be given by the same formula. It is easy to verify that h1
and g1 are homomorphisms of type DD structures, h1 ◦ g1 = Id, and g1 ◦ h1 = Id.

Equation (6.4) in cases where i 6= 1 works the same way. Equation (6.5) can be
proved similarly. (Or alternatively, it can be seen as a consequence of Equation (6.4)
and the symmetry of the bimodules, phrased in terms of the opposite algebras.) (cid:3)

Next we verify Equation (6.1).

Lemma 6.3. Equation (6.1) holds.

Proof. Since (P i ⊠ N i) ⊠ K ≃ P i ⊠ (N i ⊠ K) ≃ P i ⊠ Ni (by associativity of ⊠ and
Lemma 6.2), the veriﬁcation that P i ⊠ N i ≃ IdB1 , will follow from the identity

(6.6)

P i ⊠ Ni ≃ K,

which we verify presently. For notational simplicity, we assume that i = 1 .

The veriﬁcation of Equation (6.6) can be divided into cases, according to S ∩{1, 2} .
Consider ﬁrst the case where S ∩ {1, 2} = {1, 2} . Classify the generators of P i ⊠ Ni
into types, labeled XY , where X, Y ∈ {N, S, W, E} , where the ﬁrst symbol X
denotes the generator type in P i and Y denotes the generator type in Ni , as
illustrated in Figure 22.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 71

B′
1

B1

B2

B1

Figure 22. Tensoring bimodules on the left; at the right, the
generator type of NE = N ⊠ E ⊠ 1.

By a straightforward computation, we ﬁnd the following kinds of diﬀerential: the
outside actions, C1 ⊗ U1 , C2 ⊗ U2 , and additional arrows indicated on the diagram
on the left:

L 2

L 1

+

L 1

⊗

U 1

R 1

1 ⊗

NW

R 2

⊗

NN

U

2

⊗

R

2

+

R

2R

1

⊗

L

2

1

⊗

L

1

NE

R
1
⊗
L
1
+
L
2
⊗
R
2

1
⊗
1

2
U
⊗
2
U

R 1

R 2

WS

R 1

R 2

⊗

U 2

+

U 1

⊗

L

1

⊗

1

R

1

⊗

U

1

+

L

2

⊗

R

2R

1

SS

1
U
⊗
1
U

1
⊗
1

⇒

L

1L

2

⊗

U

2

+

U

1

⊗

L

1L

2

ES

L 2

L 1

⊗

R 1

+

⊗ 1

R 2

U 2

⊗

L 2

L
1
⊗
R
1
+
R
2
⊗
L
2

N

S

2
R
⊗
2
L
+
1
L
⊗
1
R

Canceling arrows (i.e. setting N = NN + (1 ⊗ R1)WS + (1 ⊗ L2)ES and S = SS;
and noting that the quotient complex is acyclic) gives the diagram on the right (in
addition to the Ci ⊗ Ui arrows for i = 1, 2 and the outside arrows). This is, in
fact, the canonical DD bimodule, verifying Equation (6.6).

72

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Similarly, if S ∩ {1, 2} = {2} , we compute the bimodule to be

U1 ⊗ C1

R 2

⊗

NN

U

2

⊗

R

2

+

R

2R

L 2

L 1

+

L 1

⊗

U 1

1
C
⊗
1
U

NW

R 1

1 ⊗

R

1

⊗

C

1

2
U
⊗
2
U

1
⊗
1

WS

L

1

⊗

1

L

2

⊗

R

2R

1

1

⊗

L

1

R 1

NE

R 2

⊗

R
1
⊗
L
1
+
L
2
⊗
R
2

1

⊗

L

2

U 2

+

U 1

⊗

R 1

R 2

1
U
⊗
1
U

1
⊗
1

L

1L

2

⊗

U

2

+

U

1

⊗

L

1L

2

ES

R2R1 ⊗ C1

⊗ 1

R 2

L 2

L 1

⊗

R 1

+

SS

U 2

⊗

L 2

U
1
⊗
C
1

U
1
⊗
C
1

We have suppressed the outside arrows, and additional arrows of the form C2 ⊗ U2
that connect every generator to themselves. By contrast, we did include self-arrows
of the form U1 ⊗C1 , since not all generator types have these kinds of terms. We can
reduce to the previous case by changing basis; replacing SS by SS+(R1⊗C1)⊗WS.
A similar computation works for S ∩ {1, 2} = {1} , only now the reduction to the
previous case involves the change of basis SS + (L2 ⊗ C2) ⊗ ES. Finally, when
S ∩ {1, 2} = ∅ , we get a bimodule which can be reduced to the earlier case by the
basis change SS + (R1 ⊗ C1) ⊗ WS + (L2 ⊗ C2) ⊗ ES.

Once again, cancelling arrows we ﬁnd that this gives the identity DD bimdoule.
The other two computations needed to verify Equation (6.6) work similarly.
Having veriﬁed that P i ⊠ N i ≃ B1IdB1 , the veriﬁcation that N i ⊠ P i ≃ B1IdB1 is
a formality:

Id = Id ≃ B1P i
B2
⊠ Bop

=Bop

Bop
2

i

1 P

⊠B2 N i
B1

≃ B1N

iB2

iB1

⊠ B2P

2 N

i

Bop
1

=B1 N i

B2

⊠B2 P i

B2

(cid:3)

Lemma 6.4. Equation (6.2) holds.

Proof. In view of Lemma 6.2 and the invertibility of K , it suﬃces to show that

P j ⊠ Pi ∼ P i ⊠ Pj.

Note that generators for both bimodules in Equation (6.2) correspond to partial
Kauﬀman states in the partial knot diagrams contianing the two crossings. Clearly,

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 73

these generators are independent of the order; to see that the bimodules are in-
dependent of the order, it suﬃces to construct a third, more symmetric bimodule
(where we think of the two crossings as appearing in the same level), that is quasi-
isomorphic to both.

Genrators for this bimodule will also correspond to partial Kauﬀman states. There
will in general be 16 generator types, labelled by pairs of letters among N, S, W ,
and E , corresponding to the four local choices at each of the two crossings. The
computation is mostly straightforward. In the special case where the two crossings
are adjacent, there are only 15 generator types: there are no generators of type
EW . This occurs, for example, when i = 1 and j = 3 ; see Figure 23. In this case,
the DD bimodule has the following local terms:

Figure 23. When the two crossings appearing in Equation (6.2)
are adjacent, there are only 15 types of partial Kauﬀman states; a
partial Kauﬀman state cannot associate E to the crossing on the
left and W to the one on the right.

74

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

1
R
⊗
2
L
1
L
+
2
L
⊗
1
U

1
⊗
R
2

1
R
⊗
2
L
1
L
+
2
L
⊗
1
U

1
⊗
R
2

1
R
⊗
2
L
1
L
+
2
L
⊗
1
U

1
⊗
R
2

1⊗L3

U3 ⊗ L4 + L3 L4 ⊗ R3

R4 ⊗ 1

R3 ⊗U4 + L4 ⊗R4R3

NW

NN

NE

NS

U4 ⊗R3 + R4R3 ⊗L4

1⊗R4

L4 ⊗U3 + R3 ⊗L3L4

L3 ⊗ 1

1
L
⊗
1

U
2
⊗
R
1
+
R
2
R
1
⊗
L
2

1
L
⊗
1

U
2
⊗
R
1
+
R
2
R
1
⊗
L
2

1
L
⊗
1

U
2
⊗
R
1
+
R
2
R
1
⊗
L
2

1
L
⊗
1

U
2
⊗
R
1
+
R
2
R
1
⊗
L
2

1⊗L3

U3 ⊗ L4 + L3 L4 ⊗ R3

R4 ⊗ 1

R3 ⊗U4 + L4 ⊗R4R3

WW

WN

WE

WS

U4 ⊗R3 + R4R3 ⊗L4

1⊗R4

L4 ⊗U3 + R3 ⊗L3L4

L3 ⊗ 1

1
R
2
R
⊗
2
L
+
2
U
⊗
1
R

L
1
⊗
1

1
R
2
R
⊗
2
L
+
2
U
⊗
1
R

L
1
⊗
1

1
R
2
R
⊗
2
L
+
2
U
⊗
1
R

L
1
⊗
1

1
R
2
R
⊗
2
L
+
2
U
⊗
1
R

L
1
⊗
1

1⊗L3

U3 ⊗ L4 + L3 L4 ⊗ R3

R4 ⊗ 1

R3 ⊗U4 + L4 ⊗R4R3

SW

SN

SE

SS

U4 ⊗R3 + R4R3 ⊗L4

1⊗R4

L4 ⊗U3 + R3 ⊗L3L4

L3 ⊗ 1

1
⊗
2
R

L
2
⊗
U
1
+
R
1
⊗
L
1
L
2

1
⊗
2
R

L
2
⊗
U
1
+
R
1
⊗
L
1
L
2

1
⊗
2
R

L
2
⊗
U
1
+
R
1
⊗
L
1
L
2

U3 ⊗ L4 + L3 L4 ⊗ R3

R4 ⊗ 1

EN

EE

ES

1⊗R4

L4 ⊗U3 + R3 ⊗L3L4

As usual, we have suppressed here the distant arrows and the additional arrows of
the form Uτ (i) ⊗ Ci or Cτ (i) ⊗ Ui .
(cid:3)

Lemma 6.5. Equation (6.3) holds.

Proof. We describe the case where i = 1 . We ﬁrst compute B3P 2
1 P1 .
B2
Again, generators correspond to partial Kauﬀman states, which we now label as an
ordered pair, showing which crossing is associated to which region; see Figure 24.
When {1, 2, 3} ⊂ S , after cancelling arrows, we ﬁnd that the bimodule is given by

⊠B2,B′

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 75

0

1

4

0

3

2

5

1

4

2

5

3

Figure 24. At the right, we have shown a generator of type
SW ; or equivalently, X05 .

L
3
⊗
R
3
R
2
R
1

X45

1
⊗
1
L

R
1
⊗
U
2

X04

1
⊗
2
L

R
2
⊗
U
3

X05

L3 ⊗ U1

R3 ⊗ 1

1 ⊗ L 1

L3 ⊗ U1

R3 ⊗ 1

1 ⊗ L1

1

⊗

R
3

R
2

R1 ⊗ L1 L2

R1 ⊗ L1 L2

L2 ⊗ R3

R2 ⊗ L3

X35

1
⊗
1
L

R
1
⊗
U
2

X24

2
L
⊗
1
U

1
⊗
R
2

X03

R2 R1 ⊗ L2 L3

X14

L3 ⊗ U1

R3 ⊗ 1

1

⊗L

1

L3 ⊗ U1

R3 ⊗ 1

1

⊗

R

3

1
R
⊗
3
L
2
L

1

⊗

2

L

3

U

⊗

2

R

1
⊗
2
L
1
L

L
3
⊗
R
3
R
1

U

2

⊗

R1 ⊗ L2

L

3

1 ⊗ L1

X15

X02

U3 ⊗ R1

L1 ⊗ R2

U3 ⊗ R1

R3 R2 ⊗ L3

R3 R2 ⊗ L3

X23

2
L
⊗
1
U

1
⊗
R
2

X13

3
L
⊗
2
U

1
⊗
R
3

X12

1
R
⊗
3
L
2
L
1
L

along with the usual outside arrows and self-arrows of the form Ci ⊗ Uτ2τ1(i) or
Ui ⊗ Cτ2τ1(i) , depending on whether or not i ∈ S . When {1, 2, 3} ∩ S is a proper
subset of {1, 2, 3} , we need to apply additional homotopies to obtain this bimodule,
as in the proof of Lemma 6.2.
Tensoring this on the left with B5P i
B3
Figure 25, we ﬁnd that the bimodule is homotopic to one of the following form:

, and following the labelling conventions from

76

0

1

5

2

4

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

3

0

1

5

2

4

3

0

1

5

2

4

3

Figure 25. We illustrate here generators of type Y15 and Y24 respectively.

L2 ⊗ U2

R2 ⊗ 1

R1 ⊗ L1 L2L3

Y35

1
⊗
1
L

R
1
⊗
U
3

Y34

3
L
⊗
1
U

1
⊗
R
3

1

⊗

L

1L

2

R2R1 ⊗ L3

Y24

L3 ⊗ U1

R3 ⊗ 1

(6.7)

Y45

1
⊗
1
L

R
1
⊗
U
3

Y04

1
⊗
2
L

R
2
⊗
U
2

Y05

L
3

⊗

R
3

R
2

R
1

L3 ⊗ U1

R3 ⊗ 1

L 2

1 ⊗ L 1
L3 ⊗ U1

R3 ⊗ 1

1

⊗

R
3

R
2

1 ⊗ L1

U3 ⊗ R1

R

3R

2 ⊗1

1

⊗

U

2

2

L

⊗

2

L

P03

1
R
⊗
3
L
2
L

Y15

1
⊗
2
L
1
L

2

R

⊗

2

R

L
3
⊗
R
2
R
1

U

2

⊗

1

R1 ⊗ L2 L3

1 ⊗ L1

Q03

U3 ⊗ R1
⊗ 1

R 2

R 3

1
⊗
1
L

1

⊗

R

3

R

2

R
1
⊗
U
3

3
L
⊗
1
U

1
⊗
R
3

1
⊗
2

L
1
L

Y01

1 ⊗ L2

U2 ⊗ R2

Y02

R3R2R1 ⊗ L3

1 ⊗ L1

U3 ⊗ R1

along with the usual outside arrows and self-arrows.

Y23

2
L
⊗
2
U

1
⊗
R
2

Y13

3
L
⊗
1
U

1
⊗
R
3

Y12

1
R
⊗
3
L
2
L
1
L

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 77

Tensoring in the other order gives the same bimodule; this can be seen quickly
from a symmetry on the answer. The picture after the Reidemeister move can be
realized as a rotation by 180◦ (i.e. rotate the leftmost picture in Figure 25). There
is a corresponding action on the algebra, exchanging the two tensor factors of the
algebra, and further exchanging Ri and L4−i . The corresponding symmetry of the
bimodule can be realized by rotating the description from Equation (6.7) by 180◦ .
The fact that the bimodule is ﬁxed by the symmetry implies the claimed invariance
under Reidemeister 3 moves.
(cid:3)

6.1. Other symmetries in the crossing bimodule. The canonical DD bimod-
ules commute with the action of the braid group, in the following sense.

Lemma 6.6. Fix 0 ≤ k ≤ m + 1 and an arbitrary subset S ⊂ {1, . . . , m} , and let

B1 = B(m, k, S),
1 = B(m, m + 1 − k, {1, . . . , m} \ S) B′
B′

B2 = B(m, k, τi(S))

2 = B(m, m + 1 − k, {1, . . . , m} \ τi(S))

There is an equivalence

B2P i
B1

⊠ B1,B′

1K ≃ B′

1P i
B′
2

⊠ B′

2,B2 K.

Proof. This is an immediate consequence of Lemma 6.2, and the symmetry of the
Pi from Equation (4.3).
(cid:3)

78

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

7. The DD bimodule of a critical point

In Sections 8 and 9, we will construct DA bimodules B2 ΩB′
(where the
algebras will be made precise shortly) associated to a region in the knot diagram
where there are no crossings and a single critical point, which can be a maximum
(as in Section 8) or a minimum (as in Section 9). In the present section, we will
construct a type DD bimodule, called the type DD bimodule for a critical point,
B1,B2E which is related to the aforementioned type DA bimodules via equivalences

and B1 ℧B′

1

2

B2ΩB′

1

⊠ B′

1,B1K ≃ B2,B1E

and B2 ℧B′

1

⊠ B′

1,B1K ≃ B2,B1 E.

(See Propositions 8.4 and 9.5 for precise statements.)

Fix integers c, k , and m with 1 ≤ c ≤ m + 1 and 0 ≤ k ≤ m + 1 . The
algebras appearing in the bimodule for a critical point are speciﬁed as follows. Let
φc : {1, . . . , m} → {1, . . . , m + 2} be the function

(7.1)

Let

φc(j) =(cid:26) j

j + 2

if j < c
if j ≥ c.

B1 = B(m, k, S1)

and

B2 = B(m + 2, m + 2 − k, S2),

where S1 ⊂ {1, . . . , m} and S2 ⊂ {1, . . . , m + 2} , so that

φc(S1) ∩ S2 = ∅

and

|S1| + |S2| = m + 1

and

|S2 ∩ {c, c + 1}| = 1;

equivalently,

S2 = φc({1, . . . , m} \ S1) ∪ {c}

or

S2 = φc({1, . . . , m} \ S1) ∪ {c + 1}.

In this section, we construct the type DD bimodule for a critical point, denoted
Ec =B1,B2 Ec , where here c (which we will sometimes drop from the notation)
indicates where the critical point occurs.

Having speciﬁed the algebras, we now describe the underlying vector space for Ec .
We call an idempotent state y for B2 an allowed idempotent state for B2 if

|y ∩ {c − 1, c, c + 1}| ≤ 2

and

c ∈ y.

There is a map ψ from allowed idempotent states y for B2 to idempotent states
for B1 , where x = ψ(y) ⊂ {0, . . . , m} is characterized by

(7.2)

|y ∩ {c − 1, c, c + 1}| + |x ∩ {c − 1}| = 2

and

φc(x) ∩ y = ∅.

As a vector space, Ec is spanned by vectors that are in one-to-one correspondence
with allowed idempotent states for B2 . The bimodule structure, over the rings of
idempotents I(B1) and I(B2), is speciﬁed as follows. If P = Py is the generator
associated to the idempotent state y , then for idempotent states x and z for B1
and B2 respectively,

(Ix ⊗ Iz) · Py =(cid:26) Py

0

if y = z and x = ψ(y)
otherwise.

.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 79

To specify the diﬀerential, consider the element A ∈ B1 ⊗ B2

(7.3)

A = (1 ⊗ LcLc+1) + (1 ⊗ Rc+1Rc) +

mXj=1
if c + 1 ∈ S2, (cid:27) +

if c ∈ S2

+(cid:26) (1 ⊗ CcUc+1)

(1 ⊗ UcCc+1)

Rj ⊗ Lφ(j) + Lj ⊗ Rφ(j)

(cid:26) Cj ⊗ Uφ(j)

Uj ⊗ Cφ(j)

if j ∈ S1

if j 6∈ S1 (cid:27) .

mXj=1

where we have dropped the subscript c from φc = φ. Let

δ1(Py) = (Iψ(y) ⊗ Iy) · A ⊗Xz

Pz,

where the latter sum is taken over all allowed idempotent states z for B2 .

Lemma 7.1. The space B1,B2Ec deﬁned above, and equipped with the map

speciﬁed above, is a type DD bimodule over B1 and B2 .

δ1 : Ec → (B1 ⊗ B2) ⊗ Ec,

Proof. The proof is a straightforward adaptation of Lemma 3.9.

(cid:3)

It is helpful to understand Ec a little more explicitly. To this end, we classify the
allowed idempotents for B2 into three types, labelled X, Y , and Z:

• y is of type X if y ∩ {c − 1, c, c + 1} = {c − 1, c} ,
• y is of type Y if y ∩ {c − 1, c, c + 1} = {c, c + 1} ,
• y is of type Z if y ∩ {c − 1, c, c + 1} = {c} .

There is a corresponding classiﬁcation of the generators Py into X, Y , and Z,
according to the type of y ; see Figure 26.

X

Y

Z

Figure 26. DD bimodule of a critical point. Three gener-
ator types are illustrated.

With respect to this decomposition, terms in the diﬀerential are of the following
four types:

(P-1) Rj ⊗ Lφ(j) and Lj ⊗ Rφ(j) for all j ∈ {1, . . . , m} \ {c − 1, c} ; these connect

generators of the same type.

(P-2) Cj ⊗ Uφ(j) if j ∈ S1 and Uj ⊗ Cφ(j) if j ∈ {1, . . . , m} \ S1
(P-3) 1 ⊗ UcCc+1 if c + 1 ∈ S2 or 1 ⊗ CcUc+1 if c ∈ S2 .

80

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

(P-4) Terms in the diagram below connect generators of diﬀerent types.

1 ⊗ Lc Lc+1

1 ⊗ Rc+1Rc

Y

X

R

c

−

1

L

c

−

1

⊗

R

c

−

⊗

⊗

L c

2

R c +

⊗

R c

2

L c +

(7.4)

L

1

c

−

1

Z

With the understanding that if c = 1 , then the terms containing Lc−1 or Rc−1 are
missing; similarly, if c = m + 1 , the terms containing Rc+2 and Lc+2 are missing.

7.1. Grading sets. For any generator P of Ec , if (a2 ⊗ a1) ⊗ Q appears with
non-zero multiplicity in d1(P ), then for all i = 1, . . . , m, wi(a1) = wφc(i)(a2) and
wc(a2) = wc+1(a2). This is obvious from the form of the bimodule (Equation (7.3)).
In the language of Section 3.9, we can express this by saying that the bimodule is
supported in grading 0 in H1(W, ∂W ), where W is the partial knot diagram with
a single critical point in it.

7.2. Critical points and crossings. Later, we will study in detail how the bi-
modules of critical points interact with the bimodules associated to crossings. For
the time being, we will content ourselves with the following special case, where the
critical point and the crossing are connected to each other.

To set notation, let ψc : {1, . . . , m} → {1, . . . , m + 2} be the function

ψc(j) =


if j < c
j
c + 1
if j = c
j + 2 if j > c;

i.e. ψc = τc+1 ◦ φc = τcφc+1 .

Lemma 7.2. Fix integers 0 ≤ k ≤ m+1 , and an arbitrary subset S1 ⊂ {1, . . . , m} ,
and let B1 = B(m, k, S1), B2 = B(m+2, m+2−k, S2) B3 = B(m+2, m+2−k, S3),
B4 = B(m + 2, m + 2 − k, S4) where

S2 = φc+1({1, . . . , m})\S1)∪{c+1}

or

S2 = φc+1({1, . . . , m}\S1)∪{c+2},

S3 = τc(S2) and S4 = τc+1(S3). There is homotopy equivalence of graded bimod-
ules:

(7.5)

B3P c
B2

⊠ B2,B1Ec+1 ≃B3 N c+1

B4

⊠ B4,B1Ec

Remark 7.3. The gradings on the crossing bimodules were chosen so that Equa-
tion (7.5) holds as a bigraded module map.

The above lemma is a straightforward computation, using the following trident
bimodule B1,B3T .

Generators correspond to pairs of idempotents x and y for B1 and B3 with the
following properties:

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 81

• Letting, then ψc(x) ∩ y = ∅ .
• |y| = |x| + 1
• |y ∩ {c, c + 1} ≥ 1
• if |y ∩ {c, c + 1}| = 2 then either c − 1 6∈ x and c − 1 6∈ y or c 6∈ x and

c + 2 6∈ y

We separate these pairs into four types:

• (x, y) is of Type P if c − 1 6∈ x and c − 1 6∈ y (so {c, c + 1} ⊂ y )
• (x, y) is of Type Q if c 6∈ x and c + 2 6∈ y (so {c, c + 1} ⊂ y )
• (x, y) is of Type X if c 6∈ y
• (x, y) is of Type Y if c + 1 6∈ y

See Figure 27 for a picture. (Note that these generator types correspond to the
partial Kauﬀman states in the sense of Deﬁnition 5.1 of the diagram containing the
maximum and the crossing, with the understanding that the incoming idempotent
is complementary to idempotent state coming from the top of the diagram.)

P

X

Q

Y

Figure 27. Trident bimodule. The four generator types are illustrated.

Let Tx,y be the corresponding generator of T . As a left module over I(B1)⊗I(B3),
the action is speciﬁed by (Ix ⊗ Iy) · Tx,y = Tx,y . The diﬀerential has the following
types of terms:

(1) Rj ⊗ Lj and Lj ⊗ Rj for all j ∈ {1, . . . , m} \ {c} ; these connect generators

of the same type.

(2) Cj ⊗ Uψc(j) if j ∈ S1 \ {c} and Uj ⊗ Cψc(j) if j ∈ {1, . . . , m} \ (S1 ∪ {c});

these connect generators of the same type.

(3) Cc ⊗ Uc+1 if c ∈ S1 and Uc ⊗ Cc+1 if c 6∈ S1

82

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

(4) Terms in the diagram below connect generators of diﬀerent types:

Lc ⊗ Uc+1 + 1 ⊗ LcLc+1Lc+2

Rc ⊗ 1

Uc ⊗ Rc+1 + Rc ⊗ Lc Lc+2

1
⊗
L
c
U
c
+
2
+
L
c
⊗
R
c
+
2
R
c
+
1

P

X

c
R
⊗
1

1
⊗
U
c
L
c
+
2

Q

Y

c
R
1
+
c
R
⊗
c
L
+
2
+
c
R
⊗
1

(7.6)

1 ⊗ Lc+1

Proof of Lemma 7.2. A straightforward computation identiﬁes both sides with
the trident bimodule speciﬁed above, after a possible homotopy (as in the proof
of Lemma 6.2). The fact that the map respects gradings follows quickly from the
grading conventions; see Equations (4.5) and(4.7).
(cid:3)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 83

8. The DA bimodule associated to a maximum

We will describe now the type DA bimodule B2Ωc
of a region in the knot diagram
B′
1
where there are no crossings and a single local maximum, which occurs between
the cth and the (c + 1)st outgoing strand.

Speciﬁcally, ﬁx integers c, k , and m with 1 ≤ c ≤ m + 1 and 0 ≤ k ≤ m + 1 . Let

B′

1 = B(m, k, S1)

and

B2 = B(m + 2, k + 1, S2),

where S′

1 ⊂ {1, . . . , m} is arbitrary, and S2 ⊂ {1, . . . , m + 2} is given by

S2 = φc(S1) ∪ {c} or S2 = φc(S1) ∪ {c + 1}.

The two cases as corresponding to the two possible orientations of the strand with
the maximum; see Figure 28.

c − 1

c

c − 1

c

c + 1 c + 2

Figure 28. Picture of maximum. Here the maximum is ori-
ented from left to right, so S2 ∩ {c, c + 1} = c.

As in Section 7, an allowed idempotent state for B2 is an idempotent state y for
B2 with

c ∈ y

and

|y ∩ {c − 1, c + 1}| ≤ 1

There is a map ψ′ from allowed idempotent states for B2 and idempotent states
for B′

1 , given by

ψ′(x) =(cid:26) φ−1(y)

if c + 1 6∈ y
φ−1(y) ∪ {c − 1} if c + 1 ∈ y

Observe that ψ′(y) = {0, . . . , m} \ ψ(y), where ψ is the map from Section 7 (c.f.
Equation (7.2)).
A basis for the underlying vector space of B2 Ωc
is speciﬁed by the allowed idem-
B′
1
potent states for B2 . The bimodule structure, over the rings of idempotents I(B′
1)
and I(B2), is speciﬁed as follows. If Qy is the generator associated to the allowed
idempotent state y , then for idempotent states x and z for B′
1 and B2 respectively,

Iz · Qy · Ix =(cid:26) Qy

0

if y = z and x = ψ′(y)
otherwise.

The map

1 : B2Ωc
δ1
B′
1

→ B2 ⊗I(B2)

B2Ωc
B′
1

is given by

Qy 7→ Iy ·(cid:18)Rc+1Rc + LcLc+1 +(cid:26) UcCc+1

CcUc+1

if c + 1 ∈ S2
if c ∈ S2,

(cid:27)(cid:19) ⊗Xz

Qz.

where the sum is taken over all allowed idempotents z for B2 .

84

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

We split the bimodule

B2 Ωc
B′
1

∼= X ⊕ Y ⊕ Z

according to the types of the corresponding idempotents as deﬁned in Section 7;
i.e.

Qy

Qy

X =

Y =

Z =

M
M
M

{y(cid:12)(cid:12)y∩{c−1,c,c+1}={c−1,c}}
{y(cid:12)(cid:12)y∩{c−1,c,c+1}={c,c+1}}
{y(cid:12)(cid:12)y∩{c−1,c,c+1}={c}}

Qy

With respect to this splitting, δ1

1 can be expressed as follows. If c ∈ S2 , then

whereas if c + 1 ∈ S2 ,

δ1
1(X) =CcUc+1 ⊗ X + Rc+1Rc ⊗ Y
δ1
1(Y) =CcUc+1 ⊗ Y + LcLc+1 ⊗ X
δ1
1(Z) =CcUc+1 ⊗ Z;

δ1
1(X) =UcCc+1 ⊗ X + Rc+1Rc ⊗ Y
δ1
1(Y) =UcCc+1 ⊗ Y + LcLc+1 ⊗ X
δ1
1(Z) =UcCc+1 ⊗ Z;

To deﬁne δ1

2 , it is helpful to have the following:

Lemma 8.1. Let x′ and y′ be two idempotents for B′
1 that are close enough, and
x be an allowed idempotent state for B2 with ψ′(x) = x′ . Then, there is a uniquely
associated allowed idempotent state y with ψ′(y) = y′ so that there is a surjective
map

that maps the portion of Ix′ · B′
the portion of Ix · B2 · Iy with wφc(i) = w′
the relations

m) surjectively onto
i and wc = wc+1 = 0 , and that satisﬁes

1, . . . , w′

Φx : Ix′ · B′

1 · Iy′ → Ix · B2 · Iy
1 · Iy′ with weights (w′

Φx(Ui · a) = Uφc(i) · Φx(a)

and

Φx(Cj · a) = Cφ(j) · Φx(a)

for any i ∈ 1, . . . , m, j ∈ S′

1 , and a ∈ Ix′ · B′

1 · Iy′ .

Proof. Recall the weight vx of idempotents, as deﬁned in Equation (3.1). Since
x′ and y′ are close enough, then there is some integer j ∈ Z so that exactly one
of the following holds:

(1) (vx′
(2) (vx′
(3) (vx′
(4) (vx′
(5) (vx′

c−1, vx′
c−1, vx′
c−1, vx′
c−1, vx′
c−1, vx′

c ) = (j, j) and (vy′
c−1, vy′
c ) = (j, j) and (vy′
c−1, vy′
c ) = (j, j) and (vy′
c−1, vy′
c ) = (j, j − 1) and (vy′
c ) = (j, j − 1) and (vy′

c ) = (j, j − 1)
c ) = (j, j)
c ) = (j + 1, j)
c−1, vy′
c−1, vy′

c ) = (j − 1, j − 2)
c ) = (j − 1, j − 1)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 85

(6) (vx′
(7) (vx′
(8) (vx′

c−1, vx′
c−1, vx′
c−1, vx′

c ) = (j, j − 1) and (vy′
c ) = (j, j − 1) and (vy′
c ) = (j, j − 1) and (vy′

c−1, vy′
c−1, vy′
c−1, vy′

c ) = (j, j − 1)
c ) = (j, j)
c ) = (j + 1, j)

In each of these cases, we claim that there is a unique allowed idempotent state y
for B2 with ψ′(y) = y′ so that

(8.1)

(vy

c−1, vy

c ) = (vx

c−1, vx

c ).

To specify y , it now suﬃces to specify its type, as we do in the eight cases listed
above:

(1) x is of type Z; y is of type Y .
(2) x is of type Z and y is of type Z
(3) x is of type Z; y is of type X.
(4) x is of type X and y is of type Y .
(5) x is of type X and y is of type Z
(6) x and y are both of type X or both of type Y
(7) x is of type Y and y is of type Z
(8) x is of type Y and y is of type X.

Recall that there are graded identiﬁcations

: F[U1, . . . , Um] → Ix′ · B0(m, k) · Iy′

φx′,y′
φx,y : F[U1, . . . , Um+2] → Ix · B0(m + 2, k + 1) · Iy.

The ring map

ϕ : F[U1, . . . , Um] → F[U1, . . . , Um+2]

with ϕ(1) = 1 and ϕ(Ui) = Uφ(i) induces a map

Ix′ · B0(m, k) · Iy′ → Ix · B0(m + 2, k + 1) · Iy

1, . . . , w′

m)
φ(i) and

that maps the portion of Ix′ · B0(m, k) · Iy′ with weights ﬁxed at (w′
onto the portion of Ix · B0(m + 2, k + 1) · Iy with weights ﬁxed at wi = w′
wc = wc+1 = 0 .
In the eight above cases, we check that ϕ(I(x′, y′)) is mapped into I(x, y). In all
cases other than Case 6, there are no generating intervals for (x′, y′) that contain
c − 1 in their interior. Moreover, the images of these generating intervals under φc
are generating intervals for (x, y). In Case 6, there is a generating interval [p, q]
with p < c−1 < q . If, furthermore, x and y are of type X, then [c+2, . . . , q +2] is
a generating interval for (x, y), so I(x′, y′) is still mapped into I(x, y). Similarly,
if x and y are of type Y , [p, . . . , c − 1] is a generating interval for (x, y), so once
again I(x′, y′) is mapped into I(x, y).
It follows that ϕ induces the map Φx on B(m, k) ⊂ B′
that Φx(a · Cj) = Cφ(j) · Φx(a) for all j ∈ S′
lemma.

1 , which we can extend so
1 to get the map required by the
(cid:3)

Lemma 8.2. Suppose that x′
that x′
Let x2 be the idempotent state associated to (x1, x′

1 , so
i+1 for i = 1, 2 ; and choose any x1 so that ψ(x1) = x′
1 .
2) as in Lemma 8.1, and

3 are three idempotent states for B′

i is close enough to x′

2 , and x′

1 , x′

1, x′

2

Φx1 ⊗Φx2y

yΦx1

86

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

then x3 be associated to (x2, x′
diagram:

2, x′

3) by that lemma. Then, there is a commutative

(Ix′

1

· B′

1 · Ix′

) ⊗ (Ix′

2

· B′

1 · Ix′

3

)

µ′

2−−−−→ Ix′

· B′

1 · Ix′

3

1

(Ix1 · B2 · Ix2) ⊗ (Ix2 · B2 · Ix3 )

µ2−−−−→ Ix1 · B2 · Ix3 ,

where µ′

2 and µ2 are multiplications on B′

1 and B2 respectively.

Proof. Commutativity of this diagram is an immediate consequence of the fact
that Φ preserves the weights, which in turn determine the multiplication on the
algebras.
(cid:3)

If a = Ix′ · a · Iy′ ∈ B(m, k) ⊂ B′
idempotent with ψ′(x) = x′ , let

1 is a non-zero idempotent, and x is any allowed

δ1
2(Qx, a) = Φx(a) ⊗ Qy,

where y is the idempotent from Lemma 8.1 associated to (x, x′, y′); i.e. Φx(a)·Iy =
Φx(a).

Theorem 8.3. These actions give B2 Ωc
the structure of a DA bimodule that is
B′
1
adapted to the corresponding partial knot diagram (containing a single maximum).

Proof. We consider the case where c + 1 ∈ S2 ; the case where c ∈ S2 works
similarly.

The A∞ relation with no incoming algebra elements has the form

δ1
1

(8.2)

δ1
1

+

δ1
1

= 0.

µB2
2

µB2
1

The terms that change type from X to Y and back to X (contributing on the left
to Equation (8.2)) contribute

(Rc+1 · Rc · Lc · Lc+1) ⊗ X = Uc · Uc+1 ⊗ X;

which cancels with d(Cc+1 · Uc) ⊗ X (contributing on the right to Equation (8.2)).
We get a similar argument for generators of type Y . Since UcUc+1 ⊗ Z = 0 ,
Equation (8.2) now follows.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 87

The A∞ relation with one algebra input follows from the equations

(8.3)

and

(8.4)

δ1
2

δ1
1

+

δ1
2

δ1
1

= 0

µB2
2

µB2
2

δ1
2

µB′

1

1

+

= 0.

µB2
1

δ1
1

We verify Equation (8.3) for incoming algebra elements a = Ix′ ·a·Iy′ . For the terms
in δ1
1 that preserve type, UcCc+1 , both have the same contribution: multiplication
by Uc · Cc+1 induces an endomorphism of Ix · B2 · Iy that maps the portion with
wc = wc+1 = 0 injectively into wc = wc+1 = 1 (since the generating interval for
(x, y) containing c or c + 1 contains both c and c + 1 ).
Consider next the terms (LcLc+1 and Rc+1Rc ) where δ1
1 changes the type of the
idempotent. When δ1
2 changes the type of the idempotent, as well, both terms
in Equation (8.3) vanish, since in that case the outgoing algebra element moves
too far. Finally, consider the the case where δ1
2 preserves the idempotent, and
suppose the incoming generator is of the form Qx1 where x1 is of type X and
ψ′(x1) = x. Let x2 be the allowed algebra element of type Y with ψ′(x2) = y , so
that Ix1 · LcLc+1 = LcLc+1 · Ix2 . The cancellation of the corresponding terms in
Equation (8.3) now follows from the easily veriﬁed identity

Φx1(a) · LcLc+1 = LcLc+1 · Φx2 (a).

The case where the incoming generator is of type Y follows from the similar equia-
tion:

Φx2(a) · Rc+1Rc = Rc+1Rc · Φx1(a).

Equation (8.4) follows from the fact that Cφc(j) · Φx = Φx · Cj for all j ∈ S1 .

88

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

The relation

µB′

2

1

δ1
2

δ1
2

δ1
1

+

µB2
2

= 0.

is equivalent to Lemma 8.2. Since δ1

ℓ = 0 for ℓ > 2 , the A∞ relations now follow.
To verify the grading, note that all the algebra output in the bimodule satisfy
wc(b) = wc+1(b). Combined with the grading properties from Lemma 8.1, it follows
that Ωc is graded by H 1(W, ∂W ), where W is speciﬁed by the partial knot diagram,
and the module is thought of as supported in grading 0 . To verify the Maslov
grading, note that all the algebra outputs appearing in δ1
1 have Maslov grading
−1 . We can think of Ωc as supported in Maslov grading 0 . It follows readily that
Ωc is adapted to W , as in Deﬁnition 3.18.
(cid:3)

It is convenient to summarize this as follows: when c + 1 ∈ S2 , the δ1
speciﬁed by the following diagram:

1 actions are

CcUc+1

CcUc+1

X

Lc Lc+1

Rc+1Rc

CcUc+1

Z

and the δ1

2 actions are speciﬁed by the diagram

X

Rc+2 Rc−1 ⊗ RcRc−1

Lc−1Lc+2 ⊗ Lc−1Lc

R

c

−

1

⊗

R

L

c

−

1

⊗

L

c

−

1

c

−

1

⊗

2

c +

R

L c

R c

⊗

2

L c +

Z

Y

Y

once we include outside actions Li ⊗ Lφc(i) , Ri ⊗ Rφ(i) , Ui ⊗ Uφ(i) and Cj ⊗ Cφc(j)
for i ∈ {1, . . . , m} and j ∈ S1 , with the further understanding that δ1
2 is extended
to be multiplicative in the incoming algebra elements.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 89

Proposition 8.4. Ωc is dual to the module Ec from Section 7, in the following
sense. Let B1 = B(m, k, S1), where S1 ⊂ {1, . . . , m} ; B′
1),
where S′
1 ∪ {c}
or S′

1 = {1, . . . , m} \ S1 ; and B2 = B(m, m + 1 − k, S2), where S2 = S′

1 = B(m, m + 1 − k, S′

1 ∪ {c + 1} . Then,

B2Ωc
B′
1

⊠ B′

1,B1K ≃ B2,B1Ec.

Proof. This is straightforward to check using the deﬁnitions.

(cid:3)

8.1. A special case. When there is a single maximum, and no other strands, we
deﬁne a type D structure over the algebra B2 = B(2, 1, {1}) or B(2, 1, {2}), B2Ω.
This type D structure has one generator Z with I{1} · Z = Z.

δ1(Z) = C1U2 ⊗ Z

or

δ1(Z) = U1C2 ⊗ Z,

according to how the strand is oriented. Obviously, this can be thought of as
a degenerate case of the earlier construction, where the incoming algebra B′
1 =
B(0, 0, ∅) ∼= F.

8.2. Partial Kauﬀman states and grading sets. Formally, the generators can
be thought of as corresponding to partial Kauﬀman states. There are no crossings,
and it has the following types of regions:

• one of these regions does not meet the top slice, and so it must be “unoccu-
pied”, and so its only intersection with the bottom slice must be occupied,
• one of these regions meets the top slice in one interval and the bottom in
two: thinking of this region as “occupied” gives the generator of type Z;
thinking of it as unoccupied gives the other two generator types X and Y ,
• all other regions meet both the top and the bottom slice in one interval

apiece; they can be either occupied or unoccupied.

The bimodules can be graded by 1
2 Zm exactly as in the case of Section 7. The
fact that δ1
2 respects this grading is contained in Lemma 8.1; the fact that δ1
1
respects it is clear. As in Section 7.1, the grading set of can be thought of as 1
2 Z-
valued functions on the arcs in the partial knot diagram. This grading is consistent
with the grading of K by 1
2 Zm , combined with the induced grading on the tensor
product, Proposition 8.4.

90

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

9. The minimum

Fix integers 0 ≤ k ≤ m + 1 and some 1 ≤ c ≤ m + 1 , and let

(9.1)

B1 = B(m + 2, k + 1, S1)

and

B2 = B(m, k, S2)

and where S2 ⊂ {1, . . . , m} is arbitrary and

S1 = φc(S2) ∪ {c}

or

S1 = φc(S2) ∪ {c + 1},

where φc is the function from Equation (7.1). We will describe a bimodule B2℧c
B1
that will correspond to introducing a new minimum (or cup) in the diagram that
connects the incoming strands c and c + 1 . (We will be primarily interested in the
case where m = 2n, k = n = |S|.) Note that we follow the convention that B1 is
the incoming algebra and B2 is the outgoing algebra; thus the notation for B1 and
B2 is opposite to the one used in Section 8.

9.1. Description of the bimodule when c = 1 . We start by describing B2℧c
B1
when c = 1 and 2 ∈ S1 (and so 1 6∈ S1 ).

A preferred idempotent state for B1 = B(m + 2, k + 1, S2) is an idempotent state x
with

x ∩ {0, 1, 2} ∈ {{0}, {2}, {0, 2}}.

We deﬁne a map ψ from preferred idempotent states of B1 to idempotent states of
B2 , as follows. Given preferred idempotent state x for B1 , order the components
x = {x1, . . . , xk+1} so that x1 < · · · < xk+1 . Deﬁne

ψ(x) =(cid:26) {0, x3 − 2, . . . , xk+1 − 2} if |x ∩ {0, 1, 2}| = 2

{x2 − 2, . . . , xk+1 − 2}

if |x ∩ {0, 1, 2}| = 1

Generators of the DA bimodule ℧1 =B2 ℧1
correspond to preferred idempotent
B1
states; and its bimodule structure over the idempotent algebras is speciﬁed by the
property that if x is such a preferred idempotent state, then the corresponding
generator Tx satisﬁes

Iy · Tx · Iz =(cid:26) Tx

0

if x = z and y = ψ(x)
otherwise.

The bimodule structure is expressed in terms of an oriented graph Γ, which we
describe presently. The vertices of Γ correspond to words

{C2, L1C2, R2, U t

1, L1U t

1}t≥0,

with the understanding that U 0
oriented edges, labelled by words of the form {1, L1, U n

1 = 1 . The graph comes equipped with the following

1 , U t

1C2, R1U t

1C2}t≥0,n>0 :

• An edge labelled 1 from R2 to R2 .
• An edge labelled 1 from L1C2 to L1C2 .
• An edge labelled L1C2 from 1 to L1C2 .
• An edge labelled L1 from C2 to L1C2 .
• An edge labelled R2 from from 1 to R2 .
• An edge labelled U2 from 1 to C2 .
• An edge labelled L2 from R2 to C2 .
• For each n > 0 , an edge labelled U n

1 from L1C2 to L1U n−1 .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 91

• For each t ≥ 0 , an edge labelled R1U t
• For each s ≥ 0 and t ≥ 0 so that s + t > 0 , an edge labelled C2U s

1 from
L1 .
1
• For each s ≥ 0 and t ≥ 0 with s + t > 0 an edge labelled C2U s
1 L1 from

; and another with the same label from U t

1 from L1C2 to U t
1 .

1L1 to U s+t−1

1 to U s+t−1
U t

1

1 to U s+t−1
U t

1

L1 .

• For each s ≥ 0 and t ≥ 0 , an edge labelled C2U s
• For each n ≥ 1 , an edge labelled U n
• For each n ≥ 1 , an edge labelled U n

1 from C2 to U n−1
1 L1 from C2 to U n

1

.

1 R1 from U t

1L1 to U s+t

1

.

1 L1 .

We illustrate a portion of the graph as follows:

U1C2

U1

2
C
1
L

U1C2

U
1
R
1
C
2

2
C

L1

R 1

U 1

2
C
1
R

U1C2

1

2
C
1
U
1
L

U

1

2
U

1

U

2

C

R 1

C 2

L 1

L

1

2
C
2 1
U

U
1

L
1

U
21

R

2

L 2

L1C2

1

R2

1

(9.2)

C2

Fix a sequence a1, . . . , aℓ−1 of pure algebra elements in B(m + 2, k + 1, S1). We
call the sequence an preferred sequence if the following conditions are satisﬁed:

(℧-1) there are idempotent states x1, . . . , xℓ so that Ixi · ai · Ixi+1 = ai

for

i = 1, . . . , ℓ − 1 ,

(℧-2) The idempotent states x1 and xℓ are preferred idempotent states.
(℧-3) Each Cj with j ∈ S1 \ {2} divides at most one of the ak .
(℧-4) There is an oriented path e1, . . . , eℓ in Γ beginning at C2L1 if 0 ∈ x1 and
at R2 if 0 6∈ x1 . The label on the edge ei , thought of as an algebra element
in B(m + 2, k + 1, S1), has w1(ai) = w1(ei) and w2(ai) = w2(ei); and ai

92

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

is divisible by C2 if and only if ei is divisible by C2 , none of the internal
vertices are at R2 or L1C2 , and the terminal vertex is at L1C2 or R2 .

For a preferred sequence, there is at most one pure non-zero element b ∈ B2 char-
acterized by the following properties

(PS-1) b = Iψ(x1) · b
(PS-2) For j ∈ S2 , Cj divides b if and only if Cj+2 divides some ak
(PS-3) For i = 1, . . . , m,

(9.3)

Deﬁne maps

wi(b) =

ℓ−1Xj=1

wi+2(aj).

ℓ : B2℧1
δ1

B1 ⊗

B1 ⊗ · · · ⊗ B1 → B2 ⊗ B2℧1
B1

z

ℓ−1

}|

{

by specifying them on sequences a1, . . . , aℓ−1 ∈ B(m + 2, k + 1, S1) for which there
are idempotent states x1, . . . , xℓ with Ixi · ai · Ixi+1 = ai and the ai are pure. For
such a sequence, the operation δ1
ℓ (Tx1 , a1, . . . , aℓ−1) is non-zero only if the sequence
is a preferred sequence, and we deﬁne

δ1
ℓ (Tx1 , a1, . . . , aℓ−1) = b ⊗ Txℓ,

where b is the algebra element speciﬁed by the sequence. For ℓ = 1 , we deﬁne
δ1
1 = 0 .
For example, sequences (a1, . . . , aℓ−1) for which δ1
suitably chosen T) include the sequences

ℓ (T, a1, . . . , aℓ) is non-zero (for

(9.4)

(L2, L1),

(R1, R2),

(L2, U1, R2),

(U1, C2);

the ﬁrst comes from a path from R2 to L1C2 ; the second comes from a path from
L1C2 to R2 , the third goes from R2 to itself, and the last goes from L1C2 to
itself). The loops labelled 1 also give rise to the following actions: if x1 and x2
are preferred idempotent states, then:

δ1
2(Tx1 , Ri) = Ri−2 ⊗ Tx2
δ1
2(Tx1 , Li) = Li−2 ⊗ Tx2
δ1
2(Tx1 , Ui) = Ui−2 ⊗ Tx1
δ1
2(Tx1 , Cj) = Cj−2 ⊗ Tx1

if i > 2 and Ix1 · Ri = Ri · Ix2
if i > 2 and if Ix1 · Li = Li · Ix2
if i > 2
if 2 < j ∈ S1.

As an illustration, we list some other preferred sequences:

(U1R1, L1C2, C2),

(L1,

U1, U2, . . . , U1, U2, L2),

z

n

}|

{

(U n
1 ,

C2, . . . , C2).

z

n

}|

{

So far, we described the case where 2 ∈ S1 . In cases where 1 ∈ S1 , we modify the
earlier construction slightly as follows: in the description of the graph Γ, switch the
roles of U1 and U2 , L1 and R2 , R1 and L2 , C2 and C1 . To read oﬀ the actions,
allowed idempotent states with 0 ∈ x correspond to the starting vertex L1 , and
those with 0 6∈ x correspond to R2C1 . With this adjustment, the bimodule is
deﬁned as before.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 93

U2 C1

U2

1
C
2
R

U2 C1

U
2
L
2
C
1

1
C

R2

L 2

U 2

1
C
2
L

U2 C1

1

1
C
2
U
2
R

U

2

1
U

2

U

1

C

L 2

C 1

R 2

R

2

1
C
2 2
U

U
2

R
2

U
22

L

1

R 1

R2C1

1

L1

1

(9.5)

C1

Proposition 9.1. The above maps δ1
satisfy the DA bimodule rela-
tions; and indeed, if we let W be the collection of arcs in the partial knot diagram
with a leftmost minimum, then the bimodule ℧1 is adapted to W , in the sense of
Deﬁnition 3.18.

ℓ on B2℧1
B1

Proposition 9.1 will be proved after we give an alternative construction of ℧1 , later
in this section. The signiﬁcance of ℧1 is formulated in the following:

Lemma 9.2. ℧1 is dual to E1 , in the following sense. Fix arbitrary integers
0 ≤ k < m and a subsequence S2 = {u1, . . . , uℓ} ⊂ {1, . . . , m} , let

S1 = {1, u1 + 2, . . . , uℓ + 2} or

S1 = {2, u1 + 2, . . . , uℓ + 2},

S3 = {1, . . . , m + 2} \ S1 , and

B1 = B(m + 2, k + 1, S1), B2 = B(m, k, S2), B3 = B(m + 2, m + 1 − k, S3).

The following identity holds:

B2 ℧B1

⊠ B1,B3K ≃ B2,B3 E1.

94

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Proof. The generators of ℧1 corresponding to idempotent states with x∩{0, 1, 2} =
⊠ B1,B3K which cor-
{2} , {0} , and {0, 2} respectively induce generators in B2℧B1
respond to generators of Ω which, in Section 8, were called of type X, Y , and Z
respectively.

If 2 ∈ S1 , we can pair the actions from Equation (9.4) (counting the last one twice)
with the diﬀerential from K to give the diﬀerentials

X → (1 ⊗ L1L2) ⊗ Y, Y → (1 ⊗ R2R1) ⊗ X, Y → (1 ⊗ C1U2) ⊗ Y
X → (1 ⊗ C1U2) ⊗ X, Z → (1 ⊗ C1U2) ⊗ Z

appearing in the description of B2,B3E1 . The loops labelled 1 induce δ1
2 actions by
the part of the algebra with w1 = w2 = 0 . These actions give rise to the remaining
terms for the diﬀerential in E1 . The case where 1 ∈ S1 works similarly.
(cid:3)

9.2. An alternative construction. We describe a B2 −B1 DG bimodule M that
is quasi-isomorphic to the bimodule B2℧c
with c = 1 . Proposition 9.1 will be an
B1
immediate consequence of this construction. We continue with the hypothesis that
2 ∈ S1 , returning to the other case at the end of the subsection.

Let I =P{x(cid:12)(cid:12)x1=1}

Ix ∈ B1 .

There is a natural inclusion of φ : B2 → I·B1 ·I, whose image consists of the portion
of I · B1 · I with w1 = w2 = 0 . In particular, φ(Ri) = I · Ri+2 and φ(Li) = I · Li+2 .
Thus, we can think of I · B1 as a left module for B2 ; it is also a right module for
B1 . Consider the bimodule

B2 MB1 = I · B1/L1L2 · B1,

thought of as a B2 − B1 -module, i.e., with m1|1|0(b, a) = φ(b) · a and m0|1|1(a, a′) =
a · a′ ; and equipped with the equipped with the endomorphism ∂ = d + U1C2 .

Lemma 9.3. The bi-module B2MB1 equipped with endomorphism m0|1|0 = ∂ is
isomorphic as left module over B2 to a direct sum of

B2M ∼=Mai

B2 ⊗I(B2) ai,

where the ai are chosen from the generating set

(9.6)

{R2U t

2, U n

2 , C2R2U t

2, C2U t
2,

L1U t

1, U t

1, C2U t

1}t≥0,n>0.

Proof. Consider any a = Ix · a · Iy with x1 = 1 , and with non-trivial projection
to I · B1/L1L2 · B1 . If y1 = 0 , we can write in fact, a = L1U t
1 · a2 with w1(a2) =
2 and a′
w2(a2) = 0 ; indeed, in this case, a = a′
2L1U t
1 diﬀer in their
initial idempotent). If y1 = 2 , then a = b · R2U t
2C2 . Finally, if y1 = 1 ,
then a = b · U t
1 . This shows that the generating sets are as enumerated
above.

1 (where a′
2 or b · R2U t

2 or a = b · U t

So far, we have identiﬁed the B2 -orbits inside of we have shown that

B2M ∼=Mai

B2 · ai,

where the ai are as listed above. For each of the above summands,

B2 · ai ∼= B2 ⊗I(B2) ai

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 95

since for x and y with x1 = 1 and x · B2 · y 6= 0 , the generating intervals that
contain 2 also contain 1 .
(cid:3)

According to the above lemma, B2MB1 can be thought of as a type DA-bimodule
with generating set speciﬁed in the lemma (see Equation (2.3)); i.e. there is a type
DA bimodule B2XB1 so that B2MB1 = B2 ⊠B2 XB1 . There is a much smaller model
for this type DA bimodule using the following:

Lemma 9.4. The inclusion map (B2 · L1C2) ⊕ (B2 · R2) ⊂ B2MB1
isomorphism in homology.

induces an

Proof. In view of Lemma 9.3, we can deﬁne H : M → M by specifying

H(b2 · R2U n
H(b2 · U n
H(b2 · C2U n

2 ) = b2R2U n−1
2 ) = b2U n−1
2 C2
1 ) = b2U n−1

1

2 C2

H(b2) = H(b2 · R2) = H(b2C2R2U t

2) = H(b2 · L1U t
1)

= H(b2 · C2R2U t

2) = H(b2 · L1C2U t

1) = 0

for all n > 0 , t ≥ 0 , and b2 ∈ B2 (thought of as the subalgebra of I · B1 · I with
w1 = w2 = 0 ). It is straightforward to verify that

(9.7)

Id +∂ ◦ H + H ◦ ∂

is projection onto the image of (B2 · L1C2) ⊕ (B2 · R2) ⊂ B2MB1 . For example,
if a = b2 · C2U n
, and H ◦ ∂(a) =
(db2)U n−1
(cid:3)

1 with n > 0 , then ∂ ◦ H(a) = a + (db2)U n−1

; so (Id +∂ ◦ H + H ◦ ∂)(a) = 0 .

2

1

Proof of Proposition 9.1. We continue with the hypothesis that 2 ∈ S1 . By
Lemma 9.4 (and the homological perturbation lemma, in the form of Lemma 2.12)
(B2 · C2L1) ⊕ (B2 · R2) inherits an A∞ bimodule structure quasi-isomorphic to M .
To this end, note that the maps H appearing in Lemma 9.4 are B2 -linear, and so
they can be thought of as morphisms of type D structures as in Lemma 2.12.

The induced DA bimodule structure on (B2 · C2L1) ⊕ (B2 · R2) coincides with
the bimodule structure on B2℧1
B1 . In a little more detail, the labels on the edges
e1, . . . , eℓ−1 , associated to the algebra elements a1, . . . , aℓ−1 are chosen according
to the following rules:

• labels for the possible edges e1 out of v1 = R1 or L1C2 are chosen so that,
according to Lemma 9.3 we have b1 ∈ B2 with v1 · a1 = b1 · v2 (thinking of
vi as certain left B2 -module generators of M from Equation (9.6));

• labels for the edges ei with 1 < i < ℓ − 1 from vi to vi+1 (thought of as
certain elements of B1 ) are chosen so that, according to Lemma 9.3, there
is bi ∈ B2 with

and vi+1 = H(wi)

vi · ai = bi · wi,

• For the choices of ﬁnal edges eℓ−1 into (with vℓ = R1 or L1C2 ), once again

the labels were chosen so that for some bℓ−1 ∈ B2 ,

vℓ−1 · aℓ−1 = bℓ−1 · vℓ.

96

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Thus, as in Lemma 2.12, the induced DA bimodule structure associates to the
sequence a1, . . . , aℓ−1 , is the product b = b1 · · · bℓ−1 . It is easy to see that this is
is the output element associated to the pure sequence in our deﬁnition of δ1
ℓ from
Section 9.1

Observe that for all sequences a1 ⊗ · · · ⊗ aℓ−1 appearing in the A∞ operations,

ℓ−1Xi=1

w1(ai) =

ℓ−1Xi=1

w2(ai).

This, together with Equation (9.3) amounts to the statement that ℧i is graded by
the set H 1(W, ∂W ). Observe also that for each preferred sequence a1, . . . , aℓ−1 ,

ℓXi=1

m2(ai) − 2w2(ai) = 1 − ℓ.

(To see this, note that the change in the vertical coordinate of an arrow labelled by
an algebra element a in Figure 9.2 is given by m2(a) − 2w2(a) − 1 .) This, together
with Property (PS-2) ensures that the operations respect a Z-valued Maslov grad-
ing. Obviously, ℧i is ﬁnite dimensional. We have thus veriﬁed that ℧i is adapted
to the one-manifold underlying the partial knot diagram with a left-most minimum.

When 1 ∈ S1 , the above discussion applies with straightforward notational changes,
switching the roles of U1 and U2 , L1 and R2 , R1 and L2 , C2 and C1 . For
example, the analogue of Lemma 9.3 holds, where now ai are chosen from
2}t≥0,n>0.

1 , C1L1U t

1, C1U t
1,

1, U n

{L1U t

R2U t

2, U t

2, C1U t

The analogue of Lemma 9.4 gives a model generated by (B2 · R2C1) ⊕ (B2 · L1). The
inherited A∞ structure now is obtained from the graph Γ with the corresponding
modiﬁcation.
(cid:3)

9.3. The bimodule of a minimum with arbitrary c. Having deﬁned B2℧c
B1
for c = 1 , we can inductively deﬁne it for arbitrary c by the relation

(9.8)

B2℧c

B1 =B2 ℧c−1
B4

⊠B4 P c
B3

⊠ B3 P c−1
B1

;

with algebras B1 and B2 chosen as in the beginning of the section; and

B3 = B(m + 2, k + 1, τc−1(S1))

and

B4 = B(m + 2, k + 1, τc ◦ τc−1(S1)).

See Figure 29 for a picture.

c − 1 c

B1

B3

B4

B2

Figure 29. To deﬁne ℧c , tensor ℧c−1 with P c and P c−1 , as shown.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 97

Proposition 9.5. For any 1 ≤ c ≤ m + 1 , ℧c is a type DA bimodule that is
adapted to the one-manifold underlying its partial knot diagram. Moreover, this
bimodule is dual to Ec , in the sense that
⊠ B1,B′

1K ≃ B2,B′

1Ec,

(9.9)

B2℧c
B1

where B1 and B2 are as in Equation (9.1), and

B′

1 = B(m + 2, m + 2 − k, {1, . . . , m + 2} \ S1).

Proof. The tensor product deﬁning ℧c is well deﬁned thanks to Proposition 3.19,
and induction on c.

Equation (9.9) is veriﬁed by induction on c, and the basic case c = 1 is Lemma 9.2.
For the inductive step, we compute:

B2℧c
B1

⊠ B1,B′

1K ≃ B2℧c−1
B4

⊠ B4P c
B3

B1

B′
3

1 P c−1

⊠(cid:16)B3 P c−1
⊠(cid:16)B′
⊠ (cid:16)B4P c
⊠ (cid:16)B′
⊠ (cid:16)B2℧c−1

B4

⊠ B′

4,B2Ec−1

3P c
B′
4

⊠ B1,B′

⊠ B′

1K(cid:17)
3,B3K(cid:17)
3K(cid:17)(cid:17)
4,B4K(cid:17)(cid:17)
4K(cid:17)

⊠ B3,B′

B3

⊠ B′

⊠ B4,B′

≃ B2℧c−1
B4

≃ B2℧c−1
B4

≃ B2℧c−1
B4

≃ B′

1P c−1

B′
3

⊠ B4P c
B3

⊠ (cid:16)B′
⊠ (cid:16)B′

⊠ B′

1 P c−1

B′
3

1 P c−1

B′
3

3 P c
B′
4

1P c−1

B′
3

⊠ B′

3 P c
B′
4

1P c−1

B′
3

⊠ B′

3 N c−1

B′
1

⊠ B′

1,B2Ec

≃ B′
≃ B′
≃ B′

1,B2Ec,

using associativity of ⊠ (Lemmas 2.4 and 2.9), Lemma 6.6, the trident relation
(Lemma 7.2), the inductive hypothesis, and the fact that P and N are inverses
(Equation (6.1)); these steps are illustrated in Figure 30. (Note that the hypotheses

Verifying the inductive step in Proposi-
Figure 30.
tion 9.1. Boxed components correspond to type DD bimodules,
and unboxed ones correspond to type DA bimodules. Since the
order of tensor products is not indicated in these pictures, we have
skipped those steps that correspond to associating in diﬀerent or-
der from the picture.

of Lemma 2.9, are satisﬁed: the crossing bimodules P k for any k have δ1
all j > 3 .)

j = 0 for
(cid:3)

98

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

9.4. The terminal Type A module. We have described the DA bimodule as-
sociated to a local (but not global) minimum. For the global minimum, we give
the following diﬀerent construction. Note that the algebra immediately above the
global minimum has B = B(2, 1, {2}) or B(2, 1, {1}), depending on the orientation
on the global minimum (left to right or right to left). Consider ﬁrst the case where
B = B(2, 1, {2}). Since the outgoing algebra has no strands (and so it can be
thought of as F), the we construct a type A module over the incoming algebra.

As a vector space, t℧B(2,1,{2}) is a two-dimensional, with generators X and Y .
The right I(B(2, 1, {2}))-module structure is determined by

(9.10)

X = X · I{1}

Y = Y · I{0}.

The right module structure is determined by the formulas:

(9.11)

X · L1 = Y

Y · R1 = X

X · C2 = Y · C2 = 0.

The idempotent relations imply that X · R2 = 0 . It follows that

X · L1U t

Y · R1U t
for all t ≥ 0 ; and U2 acts trivially.

1 = Y

1 = X

X · U t

1 = X

Y · U t

1 = Y,

Deﬁning

M (X) = M (Y) = 0,
it follows that t℧ has a Z-valued Maslov grading.

Unlike the modules encountered thus far, t℧ is not graded by Alexander set, which
in this case is 1
2 Z. However, it is ﬁltered by it, in the sense that if a is a homoge-
neous element with m2(X, a) 6= 0 , then w2(a) − w1(a) ≤ 0 .

An analogous construction works for B = A(1, {1}). In that case,

X = X · I{1}

Y = Y · I{2},

and

X · R2 = Y

Y · L2 = X

X · C1 = Y · C1 = 0.

Again, this module is ﬁltered.

Both versions of t℧ have an associated graded object, with two generators X and
Y satisfying Equation (9.10). The actions by L1 L2 , R1 , R2 , U1 , U2 are all 0 ;
the action by C1 or C2 (whichever is in the algbera) is also 0 .

Proposition 9.6. Let Y be a type D structure over B = B(2, 1, {1}) or B(2, 1, {2}),
with equipped with a Z-valued Maslov grading and a 1
2 Z-valued Alexander grading.
Then, the tensor product t℧ ⊠ Y is naturally Z-graded (by the Maslov grading) and
it is ﬁltered by the Alexander grading. Its associated graded object coincides with

the tensor product ct℧ ⊠ Y .

Proof. The sums in the tensor product are ﬁnite since t℧ is bounded. The Maslov
gradings on Y and t℧ induce Maslov gradings on the tensor product as usual, and

is the associated graded object for t℧, it follows that the associated graded object
(cid:3)

the Alexander grading on Y induces an Alexander function on t℧ ⊠ Y . Since ct℧
for t℧ ⊠ Y is ct℧ ⊠ Y .

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT 99

10. Symmetries

We note some symmetries in the algebras and bimodules described above.

One symmetry, which can be visualized as rotation through a vertical axis, is in-
duced by an isomorphism between the algebras. That is, consider the isomorphism
R : B(m, k, S) → B(m, k, ρ(S)) deﬁned in Equation (3.8). As in Example 2.3, this
map gives a DA bimodule, denoted [R] =B(m,k,ρ(S)) [R]B(m,k,S) .
The bimodules for crossings and critical points are symmetric under this vertical
rotation, according to the following:

Lemma 10.1. Fix integers c, k , and m, with 1 ≤ c ≤ m + 1 and 0 ≤ k ≤ m + 1 ;
and ﬁx S1 ⊂ {1, . . . , m} , S2 ⊂ {1, . . . , m + 2} so that S2 = φc(S1) ∪ {c} or
S2 = φc(S1) ∪ {c + 1} (with φc as in Equation (7.1)). Let B1 = B(m, k, S1) where
0 ≤ k , and B2 = B(m, k, S2), B′
m+2(S2))
(using notation from Section 3.6). The following identities hold:

2 = B(m, k, ρ′

1 = B(m, k, ρ′

m(S1)), B′

B′
2 [R]B2
B′
1 [R]B1

⊠B2 Ωc

⊠B1 ℧c

B1 ≃B′
B2 ≃B′

Ωm−c

B′
1

⊠B′

1 [R]B1

1 ℧m−c

B′
2

⊠B′

2 [R]B′

Also, for any i = 1, . . . , m−1 , let B3 = B(m, k, τ (S1)) and B′
we have identities

3 = B(m, k, ρ′

m(τ (S1))

B′
3 [R]B3

B′
3[R]B3

⊠B3 P i

⊠B3 N i

B3 ≃B′
B3 ≃B′

3 P m−i

B′
1

3 N m−i

B′
1

⊠B′

1 [R]B1

⊠B′

1 [R]B1

Proof. It is easy to see that [R] ⊠ K ∼= K ⊠ [R].

The above results then follow from the invertibility of the DD bimodule, and the
easily veriﬁed identities

and

[R] ⊠ Ec ∼= Em+2−c ⊠ [R]

[R] ⊠ Pi ∼= Pm−i ⊠ [R],

where the latter isomorphism preserves N and S and switches E and W .

(cid:3)

Recall that there is an algebra isomorphism

o : B(m, k, S) → B(m, k, S)op,

(Equation (3.9)) deﬁned using the identiﬁcation

Ix · B(m, k, S) · Iy → Iy · B(m, k, S) · Ix.

An arbitrary DA bimodule B2XB1 has an opposite module X , of the form B1 X B2 ∼=Bop
. If Bi = B(mi, ki, Si) for i = 1, 2 , we can view the opposite module X op as
X Bop
a bimodule over the same two algebras, X op = [o] ⊠ X ⊠ [o].

2

1

Proposition 10.2. Under the identiﬁcation M : B(m, k, S) → B(m, k, S)op , we
have that

Ωop

c ≃ Ωc ℧op

c ≃ ℧c

(P i)op ≃ Ni

(N i)op ≃ Pi

100

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Proof. We claim that E op
c ≃ Ec . The identiﬁcation switches the roles of X and
Y , and ﬁxes Z. For each pair of generators in Equation (7.4), there are two arrows,
and the symmetry switches those two arrows; observe that if one arrow is labelled
by a ⊗ b , then the other is labelled by o(a) ⊗ o(b).
The identity (Pi)op ≃ Ni follows from the deﬁnition of Ni given in Section 5.5. (cid:3)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT101

11. Construction and invariance of the invariant

11.1. Topological preliminaries.

Deﬁnition 11.1. A pointed knot diagram is a projection of an oriented knot dia-
gram in S2 , with a marked point on it.

Deﬁnition 11.2. A pointed Reidemeister move is a Reidemeister move disjoint
from the supported in a complement of the marked point.

Proposition 11.3. Any two pointed knot diagrams for the same knot can be con-
nected by a sequence of planar isotopies pointed Reidemeister moves.

Proof. According to Reidemeister’s theorem [22], any two knot diagrams for the
same knot can be connected by a sequence of Reidemeister moves. To see that
we can arrange to make those moves disjoint from the marked point p, we argue
that p can be moved through a crossing by a sequence of pointed Reidemeister
moves, as follows. Suppose we are attempting to move an overcrossing strand
across p, situated immediately south of overcrossing. Viewing the knot projection
as supported in S3 , we could equivalently move the overcrossing strand north across
the knot diagram, bringing it back north through the point at inﬁnity, as shown
in Figure 31. This move can be represented as a sequence of Reidemeister 2 and
3 moves disjoint from p, and it has same eﬀect as moving the overcrossing strand
south across p. In this way, we can ensure that all Reidemeister moves are disjoint

Figure 31. Moving an overpass across the basepoint is
equivalent to a sequence of Reidemeister moves away from
the basepoint.

of p.

(cid:3)

Consider a pointed knot diagram in the plane, and consider the projection to the y
axis. We say that the diagram is in bridge position if the following properties hold:

• All critical points are all either minima or maxima.
• The minima, maxima, and crossings all project to distinct points in the y

axis.

• The global minimum is the marked point.

Deﬁnition 11.4. A bridge move connecting two diagrams D1 and D2 in bridge
position is any of the following types of moves:

• Creation of a single local maximum and local minimum; or the cancellation

of such a pair. This is called a pair creation or pair annihilation.

102

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

• Sliding a maximum or minimum through a crossing, called a trident move
• Commutations betweein distant pairs of of special points (each of which is
a maxmimum, non-global minimum, or a crossing); this is called a commu-
tation move.

Figure 32. Bridge moves. The top row illustrates annihilation
and creation of a pair of local minimum and a maximum. The sec-
ond row illustrates a trident move. The three other trident moves
are obtained by changing the two crossings, reﬂecting through a
horizontal line, or both. The third row illustrates commutations
of a maximum and a distant crossing.

In the above description, “distant” refers to special points not on the same strand,
which are covered by the other two kinds of moves.

By adding a point at inﬁnity, a pointed knot diagram in the plane induces a pointed
knot diagram in the sphere.

Lemma 11.5. Any pointed knot diagram is planar isotopic to one in bridge posi-
tion. Moreover, any two isotopic pointed knot diagrams in bridge position can be
connected by a sequence of bridge moves as above.

Proof. In a codimension one set, the following phenomena can occur: two critical
points create or cancel, a crossing contas a critical point, or any other two distant
special points project to the same y coordinate. Crossing this codimension one
locus, the projection undergoes a pair creation or annihilation, a trident move, or
a commutation move.

Thus, a generic pointed knot diagram is in bridge position, and any two such
diagrams, when connected by a generic isotopy, are connected by a ﬁnite sequence
of the above moves.
(cid:3)

11.2. Constructing the invariant. Choose a knot planar knot diagram D in
bridge position. We slice up the knot diagram into pieces t1 < · · · < tk so that the
following conditions hold:

• for i = 1, . . . , k − 1 , the interval [ti, ti+1] contains the projection onto the

y axis of exactly one crossing or critical point

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT103

• for i = 1, . . . , k , ti is not the projection of any crossing or critical point
• there are no crossings or critical points whose y value is greater than tk

(and so [tk−1, tk] contains the global maximum)

• there are no crossings below t1 , and the only critical point whose y value

is smaller than t1 is the global minium.

For i = 1, . . . , k − 1 , we have seen how to associate a type DA bimodule to the
portion of the diagram that projects into [ti, ti+1]; it is either of the form P j ,
N j , Ωc or ℧c . The top portion [tk−1, tk] contains the global maximum, where
the incoming algebra has no strands, so the DA bimodule is, in fact, simply a
type D module (see Section 8.1). The bottom portion [−∞, t1] has only the global
minimum, so the outgoing algebra has no strands; there we attach the terminal
type A module t℧ from Section 9.4. Note that for each partial knot diagram,
the assoicated bimodule is adapted to the one-manifold underlying the partial knot
diagram; and the hypothesis that our diagram is a indeed one for a knot ensures
that the tensor products can always be taken; see Proposition 3.19. It is also worth
noting that the generating sets for all the partial knot diagrams correspond to
partial Kauﬀman states; this property is evidently preserved by ⊠ .

The chain complex C(D) is now obtained as an iterated tensor product (via ⊠ ) of

these pieces. It inherits a ﬁltration, whose associated graded object, bC(D), can be
computed by exchanging t℧ with the simpler terminal module ct℧.

Theorem 11.6. The ﬁltered homotopy type of C(D) is a knot invariant.

The quasi-isomorphism type of the chain complex C(D) does not depend on the
order in which the type DA bimodules are tensored together (Lemma 2.4). Thus, to
check the invariance of C(D), it suﬃces to check identities between DA bimodules
associated to the bridge moves, which we do in the next section. The proof of
Theorem 11.6 is then given in Subsection 11.4.

11.3. Invariance under bridge moves. We order bridge moves as follows:

(1) Commutations of distant crossings
(2) Trident moves
(3) Critical points commute with distant crossings
(4) Commuting crossings with critical points
(5) Commuting distant critical points
(6) Pair creation and annihilation.

We verify the invariance of our invariant under bridge moves in the above order.

Bridge moves involve the interactions of two consecutive pieces in the chopped up
knot diagram, The above procedure associates bimodules to each of those consecu-
tive pieces which we tensor together, and the bridge moves are veriﬁed by verifying
identities between the bimodule associated to the two bimodules tensored together
and the tensor of the two bimodules after the bridge move (except in pair creation
or annihilation, which states a relation between the tensor of two bimodules and a
third bimodule, the identity bimodue). Thus, for example, commutations of distant
positive crossings asserts the relation

P i ⊠ P j ∼ P j ⊠ P i

104

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

when |i − j| > 1 , which was already veriﬁed in the veriﬁcation of the braid relations
(Theorem 6.1).

Consider next trident moves. Note that there are four types of trident moves:
the one illustrated in the second row of Figure 32, the one obtained by changing
the crossings in the picture, the one obtained by mirroring the picture through a
horizontal line, and the one obtained by changing the crossings in the horizontally
reﬂected picture.

Lemma 11.7. The DA bimodules associated to the two pictures before and af-
ter a trident move are quasi-isomorphic; i.e.
the following four identities hold,
corresponding to the four kinds of trident moves:

(11.1)

(11.2)

(11.3)

(11.4)

B3P c
B4
B3 P c+1
B2
B3℧c+1
B2

B3℧c
B2

≃ B3 N c+1

⊠ B4Ωc+1
B1
B2
B1 ≃ B3 N c
⊠ B2 Ωc
B4
B1 ≃ B3 ℧c
⊠B2 P c
B4
≃ B3 ℧c+1
⊠B2 P c+1
B4
B1

⊠ B2Ωc
B1
⊠ B4 Ωc+1
B1
⊠ B4N c+1
B1
⊠ B4N c
B1

Proof. All four identities follow from Lemma 7.2, together with symmetries of the
bimodules, as follows.

Since the canonical DD bimodule is invertible (Theorem 3.16), Equation (11.1)
follows from the fact that

P c ⊠ Ωc+1 ⊠ K ≃ N c+1 ⊠ Ωc ⊠ K;

which follows from Proposition 8.4 and Lemma 7.2.

Applying horizontal rotation to Equation (11.1) (with m − c − 1 in place of c),
together with Lemma 10.1, Equation (11.2) follows from Equation (11.1)

Similarly, observe that

B3 ℧c+1
B2

⊠ B2P c
B1

⊠B1,B′

1 K ≃ B3℧c+1
B2
1P c
B′
2
1P c
B′
2

≃ B′
≃ B′

⊠ (B′

1 P c
B′
2
⊠ (B3℧c+1
B2
⊠ B′

2,B3 Ec+1

⊠B′

2,B2 K)

⊠B2,B′

2 K)

(using Lemma 6.6 twice, Lemma 2.9, Proposition 9.5); and by the same logic,

B3 ℧c
B4

⊠ B4 N c+1

B1

⊠ B1,B′

1K ≃ B′

1N c+1

B′
4

⊠ B′

4,B3Ec.

Thus, Equation (11.3) follows from Lemma 7.2.

Equation (11.4) follows from Equation (11.3) by horizontal rotation.

(cid:3)

Lemma 11.8. The DA bimodules for positive crossings commute with those for
local maxima and minima, in the sense that if |c + 1 − i| > 0 , then

(11.5)

(11.6)

P i ⊠ Ωc ≃ Ωc ⊠ P i
P i ⊠ ℧c ≃ ℧c ⊠ P i

Proof. Direct computation, as in the proof of Lemma 6.4, shows that

(11.7)

P i ⊠ Ec ≃ Ωc ⊠ Pi.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT105

Both stated equations now follow from Equation (11.7), the invertibility of the
canonical type DD bimodule, and Propositions 8.4 and 9.5; compare the proof of
Lemma 11.7.
(cid:3)

Lemma 11.9. The DA bimodules for arbitrary crossings commute with those for
arbitrary distant critical points.

Proof. Lemma 11.8 handles positive crossings. Multiplying Equation (11.5) on
both sides by N i and using the fact that N i and P i are inverses of one another
(Equation (6.1)), it follows that negative crossings also commute with local maxima;
in the same way, Equation (11.6) shows that negative crossings also commute with
local minima.
(cid:3)

Lemma 11.10. The DA bimodules associated to pairs of distant critical points
commute.

Proof. Fix i < j . The lemma states identiﬁcations
Ωi ⊠ Ωj−1 ≃ Ωj+1 ⊠ Ωi
℧i ⊠ ℧j+1 ≃ ℧j−1 ⊠ ℧i
Ωj−1 ⊠ ℧i ≃ ℧i ⊠ Ωj+1
℧j+1 ⊠ Ωi ≃ Ωi ⊠ ℧j−1.

To verify the ﬁrst identity, we tensor on the right with K , to reduce to the identity
between two type DD bimodules (using Proposition 8.4):

(11.8)

Ωi ⊠ Ej−1 ≃ Ωj+1 ⊠ Ei,

which is easy to verify in the spirit of the proof of Lemma 6.4. Tensoring on the
right with K , the second on the right,

B3 ℧i

B2

⊠B2 ℧j+1
B1

⊠B1,B′

1 K ≃B3 ℧i
B2
≃B3 ℧i
B2

⊠B2,B′

⊠B2,B′

2 K(cid:17)
2 K(cid:17)

⊠B2,B′

1 Ej+1

1 Ωj+1
B′
2

⊠(cid:16)B′
⊠(cid:16)B3℧i

B′
2

⊠B′

2,B3 Ei

≃B′

≃B′

1 Ωj+1
B′
2
1 Ωj+1
B′
2

Similarly,

℧j−1 ⊠ ℧i ⊠ K ≃ Ωi ⊠ Ej−1,
so the second identity also follows from Equation (11.8).

Consider the third identity, now with i = 1 . Tensoring on the right with K , we
reduce to the easily veriﬁed identity

Ωj−1 ⊠ E1 ≃ ℧1 ⊠ Ej+1.

(Compare Equation (11.8).) The cases where i > 1 now follow from the case where
i = 1 , the inductive deﬁnition of ℧i (Equation (9.8)), and Lemma 11.8.

The fourth identity follows from the third and Lemma 10.1.

(cid:3)

Lemma 11.11. The DA bimodules are invariant under pair creation and annihi-
lations, in the sense that ℧c ⊠ Ωc+1 ≃ Id ≃ ℧c+1 ⊠ Ωc

106

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Proof. Rotating through a vertical axis, i.e. using Lemma 10.1, we see that ℧c ⊠
Ωc+1 ≃ Id implies also that Id ≃ ℧c+1 ⊠ Ωc . The veriﬁcation of ℧c ⊠ Ωc+1 ≃ Id
can be reduced to the case where c = 1 using Reidemeister 2 moves, as follows.
First, introduce a sequence of c − 1 positive crossings that carry the cth strand to
the far left, and let P be the corresponding bimodule; then let N be its inverse,
i.e. N ⊠ P ≃ Id . (Clearly, N is obtained from P by reversing all the crossings
and taking them in reverse order.) (cf. Equation (6.1)). In view of Lemma 11.7,
a sequence of trident moves identiﬁes P ⊠ ℧c ⊠ Ωc+1 ≃ ℧1 ⊠ Ω2 ⊠ P . Thus,
if ℧1 ⊠ Ω2 ≃ Id, we can conclude that ℧c ⊠ Ωc+1 ≃ N ⊠ P ⊠ ℧c ⊠ Ωc+1 ≃
N ⊠ ℧1 ⊠ Ω2 ⊠ P ≃ N ⊠ P ≃ Id .

It remains now to verify that ℧1 ⊠ Ω2 ≃ Id .
We claim that the generators of B1℧1
⊠B2 Ω2
correspond to the idempotents in
B2
B1
the algebra B1 ; see Figure 33. Speciﬁcally, Ω2
B , the generator is constrained to be

B1

B2

B1

Figure 33. Generators of B1℧1
. Generators cor-
B2
respond to the idempotents in the incoming algebra B1 ; the con-
straints on the intermediate generators are as shown.

⊠B2 Ω2
B1

either of type Y or Z; while in ℧1 , the generator is either of type X or Z. Thus,
in the tensor product, we divide the generators into four types X ⊠ Y , X ⊠ Z,
Z ⊠ Y , and Z ⊠ Z. We claim that

X ⊠ Z

X ⊠ Y

Z

Y

X

X

Z ⊠ Z

Z ⊠ Y

Z

Y

Z

Z

Figure 34. Generators types for B1 ℧1
B2

⊠B2 Ω2
B1

.

(11.9)

δ1
2(X ⊠ Y, L1) = L1 ⊗ (Z ⊠ Z)

δ1
2(Z ⊠ Z, R1) = R1 ⊗ (X ⊠ Y),

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT107

as can be seen from the following diagrams:

℧1
B2

Ω2
B1

B1

℧1
B2

Ω2
B1

B1

Y

X

Z

δ1
2

δ1
1

X

δ1
3

1

L

Z

3

L

2

L

L 1

L 1

Z

δ1
3

1

R

X

1

R

Z

1

R

R 2

R 3

δ1
2

δ1
1

X

Y

If the leftmost strand is downwards, then furthermore

(11.10)

δ1
2(p ⊠ q, U1) = U1 ⊗ (p ⊠ q)

for all choices of p ∈ {X, Z} and q ∈ {Y, Z} : when p ⊠ q = X ⊠ Z, both sides
vanish; for the other cases:

℧1
B2

Ω2
B1

B1

℧1
B2

1

U

Z

δ1
2

δ1
1

Z

Z

Z

δ1
3

1

U

Z

1

U

U 3

C 2

3

L

2

L

1

U

R 2

R 3

X

δ1
4

1

U

X

1

U

Ω2
B1

δ1
1

δ1
2

δ1
1

Y

X

X

Y

B1

℧1
B2

Ω2
B1

B1

1

U

Y

δ1
2

δ1
1

Y

Y

Z

δ1
3

1

U

Z

1

U

U 3

C 2

With these computations in hand, it is easy to verify that ℧1 ⊠ Ω2 ⊠ K = K , and
so that ℧1 ⊠ Ω2 ≃ Id .

If the leftmost strand is upwards, then instead of Equation (11.10), we claim that

δ1
2(X ⊠ q, C1) = C1 ⊗ (X ⊠ q)

108

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

for q ∈ {Y, Z} ; for example,

℧1
B2

Ω2
B1

B1

1

C

Y

Y

Y

δ1
2

δ1
1

X

δ1
3

1

C

X

3

C

2

U

C 1

We also claim that

since

δ1
3(Z ⊠ Z, R1, L1) = C1 ⊗ Z ⊠ Z,

℧1
B2

Ω2
B1

B1

B1

1

R

Z

1

L

1

2

R

U

3

C

L 1

δ1
1

δ1
2

δ1
1

X

X

Z

Z

δ1
4

1

C

Z

Again, it is straightforward to verify now that ℧1 ⊠ Ω2 ≃ Id.

(cid:3)

11.4. The invariance proof. We can now assemble the pieces to prove Theo-
rem 11.6; and tie it with the discussion from the introduction.

Proof of Theorem 11.6. The tensor product description gives a chain complex
thanks to a combination of Proposition 3.19, and ﬁnally Proposition 9.6 when at-
taching the ﬁnal stage, to get a ﬁltered complex. Combining Proposition 11.3
with the invariance of the bimodules under bridge moves (Theorem 6.1, Lem-
mas 11.7, 11.8, 11.9, 11.11) shows that (Alexander-)ﬁltered chain homotopy type
of C(K) depends only on the planar diagram for K . (Keeping in mind that ho-
motopy equivalences of DA bimodules induce homotopy equivalences under tensor
product.) Invariance under Reidemeister (1) moves follows from the easily checked
relation

Pc ⊠ Ωc

r ≃ Ωc
ℓ.

r and Ωc

(Here Ωc
ℓ are bimodules associated to maxima, with opposite orientations
on the new strand.) Invariance under Reidemeister (2) and (3) moves now follows
from the braid relations, Theorem 6.1.

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT109

The Alexander ﬁltration, takes values in the H 1 of the knot modulo a neighborhood
of the global minimum, can be turned into a rational number by evaluating against
the orientation class of the knot. This evaluation is computed by the local formula
from Figure 2 according to Proposition 5.16. Since it coincides with the exponent
of t in the contribution of the corresponding Kauﬀman state to the Alexander
polynomial (compare [6]), it follows that the Alexander ﬁltration takes values in
Z.
(cid:3)

Corollary 11.12. The homology of bC(D) is a bigraded knot invariant, whose Euler

characteristic agrees with the Alexander polynomial.

Proof. Invariance follows from Theorem 11.6, since the homology of the associated
graded object is invariant under ﬁltered homotopy equivalences. The Euler char-
acteristic computation follows from the fact that generators correspond to Kauﬀ-
man states; and inspecting Figure 2, we see that (−1)M(x)tA(x) coincides with the
monomial associated to a Kauﬀman state in the computation of the Alexander
polynomial from [6].
(cid:3)

It is a straightforward matter to go from the ﬁltered homotopy type to the invariant
over a polynomial algebra described in the introduction. Explicitly, we replace the
ﬁltered terminal type A module t℧, with the following variant, which is a module
with the following. The same information can be encoded by viewing the terminal
minimum t℧ as an Alexander graded module t℧− over a polynomial algebra F[v];
for the case B(2, 1{2}) replacing Equation (9.11) with

X · L1 = v · Y

Y · R1 = v · X

X · C2 = Y · C2 = 0

(and making the analogous construction for B(2, 1, {1})). In this construction the
base algebra now is F[v], and v is thought of as an element with A(v) = −1/2
and M (v) = −1 . Replacing t℧ with t℧− and forming the same tensor product
as before, we arrive at a bigraded complex C− over F[v]. Since the Alexander
grading of generators is integral, we can restrict this to a complex over F[U ] with
U = v2 . According to Theorem 11.6, the homology of the associated graded object,
thought of as a bigraded module over F[U ], is a knot invariant. Setting v = 0 (and

Maslov grading by 2 , Equation (1.1) follows from the fact that the graded Euler

Remark 11.13. We have described t℧ as having two generators. In fact, to deﬁne
our knot invariants, it suﬃces to work with the submodule t℧·I{1} , since the outputs
of our D modules are all contained in the subalgebras of B(m, k, S)

so U = 0 ) clearly recaptures bC . Since U drops Alexander grading by one and
characteristic of bC is the Alexander polynomial.
Ix
 · B(m, k, S) ·


 Xx(cid:12)(cid:12)0,m6∈x

Ix
 .

 Xx(cid:12)(cid:12)0,m6∈x

110

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

12. First properties

We will discuss eﬃcient computations of these invariants in [18]; but there are
some easy computations that can be done readily by hand. As a trivial example,

the unknot has one-dimensional bH , supported in bigrading (0, 0), since it has a

diagram with a single Kauﬀman state in it.

More generally, for an alternating diagram:

signature σ = σ(K) of K and the symmetrized Alexander polynomial ∆K(t) =

Proposition 12.1. If K is an alternating knot, then bH(K) is determined by the
Pi ai · ti by

bHd(K, s) =(cid:26) F|as|

0

if d = s + σ
2
otherwise.

Proof. As in [14], this result is simply a consequence of the local contributions
to the Alexander and Maslov gradings (pictured in Figure 2). Those formulas
show that for an alternating diagram M − A = σ
2 . The rest now follows from the
interpretation of the Alexander polynomial in terms of Kauﬀman states [6].
(cid:3)

We list a few of the properties that follow immediately from the constructions from

H − will be established in a follow-up paper [18].

Proposition 12.2. Let K be a knot and K ′ denote its mirror. There is an iden-

this paper. The methods of this paper are best suited for bH ; analogous results for
tiﬁcation bHd(K, s) ∼= bH−d(K ′, −s)
Proof. According to Lemma 10.2, the complex of bC(K ′) is computed by tensoring
together the opposites of the various bimodules used to compute bC(K). It follows
that bC(K) and bC(K ′) are dual complexes. Since we are working over the ﬁeld F,
Proposition 12.3. Let K1 and K2 be two knots. Then, bH(K1#K2) is the bi-
graded tensor product of bH(K1) and bH(K2).

the proposition now follows from the universal coeﬃcient theorem.

Before turning to the proof, we start with some more general properties.

(cid:3)

Let D be a knot diagram with a single global minimum, oriented up and to the
left. Let B = B(2, 1{1}) and let BC(D) denote the type D structure associated to
the diagram with minimum removed.

Lemma 12.4. Let B = B(2, 1, {1}) and B′ = I{1} · B · I{1} . The output algebra
for BC(D) is contained in B′ ; i.e. if B[i]B′ denotes the bimodule associated to the
inclusion i : B′ → B , then we have a type D structure B′

C(D) so that

B[i]B′ ⊠ B′

C(D) =B C(D).

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT111

Proof. For any ﬁxed pair of integers m, k with 0 ≤ k ≤ m+1 and S ⊂ {1, . . . , m} ,
let B′(m, k, S) ⊂ B(m, k, S), be the subalgebra

B′(m, k, S) =

 Xx(cid:12)(cid:12)0,m6∈x

Ix
 · B(m, k) ·

 Xx(cid:12)(cid:12)0,m6∈x

Ix
 .

We claim that all of the DA bimodules Ωc , ℧c , P i , N i have the property that their
restriction to B′ ⊂ B (with appropriate decorations) have their output algebras in
the corresponding B′ ⊂ B . Moreover, the global maximum has output algebra
contained in B′ (c.f. Subsection 8.1).
(cid:3)

Recall that B′ = I{1} · B(2, 1, {1}) · I{1} is F[C1, U1, U2]/C2
with gradings

1 = 0 , with dC1 = U1 ,

(w1(U1), w2(U1)) = (1, 0)
It has a subalgebra B′′ ⊂ B′
diﬀerential), and

(w1(C1), w2(C1)) = (1, 0)

isomorphic to F[E1, U2]/E2

(w1(U2), w2(U2)) = (0, 1).
1 = 0 (with vanishing

(w1(E1), w2(E1)) = (1, 1)

(w1(U2), w2(U2)) = (0, 1).

The subalgebra is speciﬁed by E1 = C1U2 .

Lemma 12.5. With B = B(2, 1, {1}), the type D module BC(D) is homotopy
equivalent to a type D module over B′′ ⊂ B .

Proof. Use Lemma 12.4 to restrict to B′ . This result then from homological
perturbation theory, and the observation that the inclusion B′′ ⊂ B′ is a homotopy
equivalence.
(cid:3)

Proof of Proposition 12.3. Consider a connected sum diagram for K1 and K2 ,
where the connected sum region is taken to be the global minimum and the next
minimum above it, as pictured in Figure 35.

K1

1

2

K2

3

4

K1

1

2

K2

3

4

Figure 35. Connected sums. Form the disjoint union of the
two diagrams on the left; and then .

Taking the disjoint union of K1 and K2 (missing the two minima), we obtain a
type D structure C(K1 ∪ K2) over B(4, 2, {1, 3}). Arguing as in Lemma 12.4, the
output algebra of this D module is contained in I{1,3} · B(4, 2, {1, 3}) · I{1,3} . Note
that there is a natural identiﬁcation

(cid:0)I{1} · B(2, 1, {1}) · I{1}(cid:1) ⊗(cid:0)I{1} · B(2, 1, {1}) · I{1}(cid:1) ∼= I{1,3} · B(4, 2, {1, 3}) · I{1,3};

and under this identiﬁcation,

C(K1 ∪ K2) = C(K1) ⊗ C(K2).

112

PETER S. OZSV ´ATH AND ZOLT ´AN SZAB ´O

Consider the type A structure N over B(4, 2, {1, 3}) with one generator X satis-
fying

and trivial action by all other pure algebra elements. Clearly,

X · I{1,3} = X,

N ⊠ (C(K1 ∪ K2)) ∼= bC(K1) ⊗ bC(K2)

Consider next the type A structure P over B(4, 2, {1, 3}) obtained by tensoring
together a minimum with a global minimum to obtain the type A structure pictured
on the right in Figure 35. We restrict to the idempotent type P · I{1,3} .

It is easy to see that P has actions m2(X, I{1,3}) = X. Moreover, if mℓ+1(X, a1, . . . , aℓ) 6=
0 , then

(12.1)

and

(12.2)

Let

w1(ai) = 0 =

w4(ai)

ℓXi=1
ℓXi=1

ℓXi=1
ℓXi=1

w2(ai) =

w3(ai).

B′ = I{1,3} · B(4, 2, {1, 3}) · I{1,3},

and B′′ be the subalgebra isomorphic to

F[E1, E3, U2, U4]/E2

1 = E2

2 = 0,

were E1 = C1U2 and E2 = C3U4 . Lemma 12.5 gives type D structures B′′(2,1,{1})Q1
and B′′(2,1,{1})Q2 so that

B(2,1,{1})C(K1) ≃ Q1

and

B(2,1,{1})C(K2) ≃ Q2;

and so

B′′

(Q1 ⊗ Q2) ≃ B′

C(K1 ∪ K2).

Since w1(E1) > 0 , we see that the action by E1 on P is trivial. Next, we claim that
any output algebra element in Q1 of the form U t
2 with t ≥ 0 must pair with some
action on P with w2 > 0 ; but such an action must also involve an output from
Q2 with w3 > 0 (by Equation (12.2)), and so it must come from some multiple of
E3 . But any sequence containing a non-trivial factor of E3 in it acts trivially on
P , since w4(E3) > 0 . Similarly, outputs from Q2 containing a non-trivial multiple
of E3 or U4 act trivially since w4 of both of those algebra elements are trivial.

We have shown that the outputs from Q1 ⊗ Q2 giving non-zero diﬀerentials when
paired with P consist only of the trivial output (1 ), showing that

N ⊠ (Q1 ⊗ Q2) ∼= P ⊠ (Q1 ⊗ Q2) = bC(K1#K2).

Combining this with Equation (12.1), we conclude an isomorphism of chain com-
plexes

and the proposition follows readily.

bC(K1#K2) ∼= bC(K1) ⊗ bC(K2);

(cid:3)

KAUFFMAN STATES, BORDERED ALGEBRAS, AND A BIGRADED KNOT INVARIANT113

References

[1] J. Baldwin and W. Gillam. Computations of Heegaard-Floer knot homology. J. Knot Theory

Ramiﬁcations, 21(8):1250075, 65, 2012.

[2] J. A. Baldwin and A. S. Levine. A combinatorial spanning tree model for knot Floer homology.

Adv. Math., 231(3-4):1886–1939, 2012.

[3] D. Bar-Natan. On Khovanov’s categoriﬁcation of the Jones polynomial. Algebraic and Geo-

metric Topology, 2:337–370, 2002.

[4] Jean-Marie Droz. Eﬀective computation of knot Floer homology. Acta Math. Vietnam.,

33(3):471–491, 2008.

[5] M. Freedman, R. Gompf, S. Morrison, and K. Walker. Man and machine thinking about the

smooth 4-dimensional Poincar´e conjecture. Quantum Topol., 1(2):171–208, 2010.

[6] L. H. Kauﬀman. Formal knot theory. Number 30 in Mathematical Notes. Princeton University

Press, 1983.

[7] B. Keller. Introduction to A -inﬁnity algebras and modules. Homology Homotopy Appl.,

3(1):1–35, 2001.

[8] R. Lipshitz, P. S. Ozsv´ath, and D. P. Thurston. Bordered Floer homology. arXiv:0810.0687.
[9] R. Lipshitz, P. S. Ozsv´ath, and D. P. Thurston. Computing dH F by factoring mapping classes.

Geom. Topol., 18(5):2547–2681, 2014.

[10] Robert Lipshitz, Peter Ozsv´ath, and Dylan Thurston. Slicing planar grid diagrams: a gentle
introduction to bordered Heegaard Floer homology. In Proceedings of G¨okova Geometry-
Topology Conference 2008, pages 91–119. G¨okova Geometry/Topology Conference (GGT),
G¨okova, 2009.

[11] Robert Lipshitz, Peter S. Ozsv´ath, and Dylan P. Thurston. Bimodules in bordered Heegaard

Floer homology, 2015. To appear in Geometry & Topology.

[12] A. Manion. Ozsv´ath and szab´o’s bordered knot invariant and singular crossings. In prepara-

tion.

[13] C. Manolescu, P. Ozsv´ath, and S. Sarkar. A combinatorial description of knot Floer homology.

Ann. of Math. (2), 169(2):633–660, 2009.

[14] P. Ozsv´ath and Z. Szab´o. Heegaard Floer homology and alternating knots. Geom. Topol.,

7:225–254, 2003.

[15] P. Ozsv´ath and Z. Szab´o. Holomorphic disks and knot invariants. Adv. Math., 186(1):58–116,

2004.

[16] P. Ozsv´ath and Z. Szab´o. A cube of resolutions for knot Floer homology. J. Topol., 2(4):865–

910, 2009.

[17] P. S. Ozsv´ath and Z. Szab´o. Bordered algebras compute knot Floer homology. In preparation.
[18] P. S. Ozsv´ath and Z. Szab´o. Bordered knot algebra with matchings. In preparation.
[19] Peter Ozsv´ath and Zolt´an Szab´o. Heegaard Floer homology and alternating knots. Geom.

Topol., 7:225–254 (electronic), 2003.

[20] I. Petkova and V. V´ertesi. Combinatorial tangle Floer homology. arXiv/1410.2161, To appear

in Geometry & Topology.

[21] J. A. Rasmussen. Floer homology and knot complements. PhD thesis, Harvard University,

2003.

[22] K. Reidemeister. Knotentheorie. Springer-Verlag, Berlin, 1974. Reprint.
[23] R. Zarev. Bordered Floer homology for sutured manifolds. arXiv/0908.1106, To appear in

Geometry & Topology.

[24] B. Zhan. Explicit Koszul-dualizing bimodules in bordered Heegaard Floer homology. Algebr.

Geom. Topol., 16(1):231–266, 2016.

Department of Mathematics, Princeton University, Princeton, New Jersey 08544

E-mail address: petero@math.princeton.edu

Department of Mathematics, Princeton University, Princeton, New Jersey 08544

E-mail address: szabo@math.princeton.edu

