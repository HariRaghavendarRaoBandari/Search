Cooperative Device-to-Device Communications

With Caching

Binqiang Chen and Chenyang Yang

Beihang University, Beijing, China
Email: {chenbq,cyyang}@buaa.edu.cn

Gang Wang

NEC Labs, China

Email: wang gang@nec.cn

6
1
0
2

 
r
a

 

M
5
1

 
 
]
T
I
.
s
c
[
 
 

1
v
4
6
6
4
0

.

3
0
6
1
:
v
i
X
r
a

Abstract—Device-to-Device (D2D) communications can in-
crease the throughput of cellular networks signiﬁcantly, where
the interference among D2D links should be properly managed.
In this paper, we propose an opportunistic cooperative D2D
transmission strategy by exploiting the caching capability at the
users to deal with the interference among D2D links. To increase
the cooperative opportunity and improve spatial reuse gain, we
divide the D2D users into clusters and cache different popular
ﬁles at the users within a cluster, and then ﬁnd the optimal
cluster size. To maximize the network throughput, we assign
different frequency bands to cooperative and non-cooperative
D2D links and optimize the bandwidth partition. Simulation
results demonstrate that
the proposed strategy can provide
500% ∼ 600% throughput gain over existing cache-enabled
D2D communications when the popularity distribution is skewed,
and can provide 40% ∼ 80% gain even when the popularity
distribution is uniform.

Index Terms—Caching, D2D, Cooperative transmission

I. INTRODUCTION

Device-to-device (D2D) communications is a promising
technique to boost the throughput for ﬁfth-generation (5G)
cellular networks [1]. Its typical use-cases include cellular
ofﬂoading, content distribution, and relaying, etc. [2], where
content delivery has attracted considerable attention recently.
Motivated by the observation that a large amount of trafﬁc
is generated by a few contents while the storage of mobile
devices grows rapidly with low cost,
the authors of [3,
4] proposed to cache popular ﬁles on mobile devices and
then employ D2D communications to increase the network
throughput. Nonetheless, the interference between active D2D
links is simply treated as noise [3] or managed using time
division multiple access (TDMA) [4]. This inevitably limits
the throughput gain.

In [5], the authors proposed to apply interference alignment
(IA) to mitigate the interference among D2D links, However,
only three D2D links are coordinated within each cluster, and
the interference among the clusters are treated as noise. In [6–
8], cooperative relay techniques were proposed to mitigate the
interference between cellular and D2D links, which can not
manage the interference among D2D links.

In fact, when contents are cached at transmitters, coopera-
tive transmission becomes possible, which is a more effective

This work was supported by China NSFC under Grant 61429101 and NEC

Labs.

way to deal with interference than IA. In [9], the authors
proposed a base station (BS) cooperative transmission strategy
by exploiting caches at BSs, where precoding and caching
policy are jointly optimized. In the network with D2D links,
if some D2D transmitters (DTs) have cached the ﬁles re-
quested by some D2D receivers (DRs), these DTs can jointly
transmit the requested ﬁles to these DRs without the need of
exchanging data. This strategy of opportunistic cooperative
D2D communications with caching is called as Coop strategy
in the sequel for simplicity.

This strategy is viable in practice. First, in D2D communica-
tions, a DT can assist other users in additional to transmitting
data to its destined DR, e.g., cooperative relay [7]. Second,
the channel state information among D2D links required by
the Coop strategy can be obtained at DTs and the BS through
channel probing and feedback [10], while the synchronization
among cooperated DTs can be realized with the assistance
of the BS [1] or can be realized at users with the methods
proposed in [11].

In this paper, we propose a Coop strategy to manage
the interference among D2D links. To facilitate cooperative
transmission and exploit spatial reuse, we divide a cell into
virtual clusters and cache different popular ﬁles at the users
within each cluster. To avoid mutual interference, we assign
different frequency bands to cooperative and non-cooperative
D2D links. Aimed at improving the network throughput while
ensure user fairness, we ﬁrst optimize cluster size to maximize
the average number of cooperative users, and then optimize
bandwidth partition to maximize the average network through-
put under the constraint on average user rate.

II. SYSTEM MODEL

Consider a cellular network, where M single-antenna users
are uniformly located in a hotpot area within a macro cell,
which is assumed as a square area with side length of Dc.
The square hotpot area is divided into B smaller square areas
√
called clusters as in [3], where the side length of each cluster
is D = Dc/
B. For mathematical simplicity, we assume that
the number of users per cluster is K = M/B and each user
transmits with its maximal power P as in [4].

Each user can cache N ﬁles. The BS is aware of the cached
ﬁles of the users and coordinates the D2D communications.
We consider static content catalog including N f ﬁles that the

users may request, where the ﬁles are indexed according to the
popularity, e.g., the 1st ﬁle is the most popular ﬁle. According
to the user cache capacity N, all ﬁles are divided into K0 =
N f /N groups, where the kth ﬁle group Gk consists of the
ﬁles with indices (k − 1)N + 1,··· , kN, 1 ≤ k ≤ K0, e.g.,
the 1st ﬁle group G1 contains the most popular N ﬁles.

Because the users usually do not allow the operator to
occupy a large portion of their storage space, not all the ﬁles
possibly interested by the users in a cell can be cached at the
users. Hence, K ≤ K0.

i−β/(cid:80)N f

The probability that the ith ﬁle is requested by a user
is assumed to follow Zipf distribution, which is PN f (i) =
k=1 k−β, where the parameter β reﬂects the popularity
of the ﬁles [12]. Then, the probability that a user requests a
ﬁle within the kth ﬁle group Gk can be obtained as

(cid:80)kN
(cid:80)N f
j=(k−1)N +1 j−β

i=1 i−β

Pk =

.

(1)

To increase the cooperative opportunity and improve spatial
reuse, we consider the following cache placement policy as in
[3]. In every cluster, the kth user caches the kth ﬁle group
Gk. Since each cluster contains K users, the ﬁle groups with
indices exceeding K are not cached at users. Hence, the most
popular KN ﬁles are cached in every cluster. We consider
such a policy since only when the users within a cluster cache
different ﬁles, the probability that one user can fetch ﬁles
through D2D links can be maximized. In practice, these ﬁles
can be proactively downloaded by the operator from the BS to
the caches at each user via broadcasting during off-peak time
according to the user demand statistics.

Considering that the users within each cluster cannot co-
operate due to caching different ﬁles, we randomly select
one D2D link in each cluster to transmit in the same time-
frequency resource to avoid intra-cluster interference.

If the ﬁle requested by a user is cached at any other user in
the cluster it belongs to (called local cluster of the user), then
the user can directly obtain the ﬁle with D2D communication.
If the ﬁle requested by a user is in its local cache, it can fetch
the ﬁle immediately with zero delay, but we ignore this case
for analysis simplicity as in [4]. Otherwise, the ﬁle will be
fetched via backhaul and then transmitted to the user by the
BS. We consider overlay inband D2D [2], and assume that a
ﬁxed bandwidth of W is assigned to the D2D links.

Then, all the M users can be classiﬁed into three types:
• Cellular users: These users need to fetch their requested

ﬁles from the BS, whose number is denoted as N b.
• Coop users: If there exist users in a cluster requesting the
ﬁles in Gk, then the cluster hits the kth ﬁle group. If every
cluster hits the same ﬁle group Gk, the users requesting
the ﬁles in Gk can establish cooperative D2D links, where
the kth user in each cluster who caches Gk acting as DT,
and the DTs can jointly transmit to the users who request
the ﬁles in Gk (called Coop D2D users or Coop users for
simplicity), whose number is denoted as N c.

• N-Coop users: The remaining users except the cellular
and Coop users are Non-Coop D2D users (N-Coop users
for simplicity), whose number is N n = M − N b − N c.
To avoid mutual interference, we assign ηW for Coop users
and remaining bandwidth (1 − η)W for N-Coop users, where
η is the bandwidth allocation factor and 0 ≤ η < 1.

This is an opportunistic Coop strategy, which may operate
in the following two modes. In Mode 0, there exist clusters not
hitting the ﬁle group Gk for any k. Then, all the DTs transmit
independently, and hence all the bandwidth is assigned to the
N-Coop users, i.e., η = 0. In Mode 1, there exist ﬁle groups
hit by every cluster. Then, there exist both Coop and N-Coop
users, i.e., 0 < η < 1.

III. OPTIMIZING CLUSTER SIZE

In this section we optimize the cluster size characterized by
the number of users per cluster to maximize the average active
Coop users. Since only one D2D link is active in each cluster
each time, B users out of all Coop users can be scheduled
simultaneously in Mode 1. Therefore, the number of active
Coop users N a = B in Mode 1, and N a = 0 in Mode 0. N a
reﬂects how many interference-free D2D links can be active
concurrently. A large value of N a indicates a high throughput.
Note that N a (cid:54)= N c.
A cluster hits the kth ﬁle group if at least one of the K
users in the cluster requests a ﬁle in Gk, whose probability
can be obtained from (1) as

k = 1 − (1 − Pk)K,
P h

(2)

which increases with K. Then, the probability that there exist
ﬁle groups hit by all the B clusters (i.e., the network operates
in Mode 1, called cooperative probability) can be derived as

P c = 1 − K(cid:89)

k=1

(1 − (P h

k )B),

(3)

where 1− (P h
P c is an increasing function of K.

k )B decreases with K since B = M/K. Hence,

Consequently, the average active Coop users is
E{N a} = BP c + 0(1 − P c) = BP c.

When the number of users per cluster K is large, the co-
operative probability is high, but the number of active Coop
users N a = M/K is small. This suggests that there is a
tradeoff between two counter-running effects: a small value
of K means more active Coop users in Mode 1, and a large
value of K means high cooperative probability.
Thus, the optimal cluster size that maximizes E{N a} can

be found from the following problem

max

K

BP c

s.t. BK = M,

1 ≤ K ≤ K0.

The optimal number of users per cluster K∗ can be found
by one-dimensional searching, which is of low complexity.
From (1), (2) and (3), we can see that K∗ depends on the
catalog size Nf , the popularity parameter β, the number of

(4)

(5)

users in the hotpot area M and the user cache capacity N,
which do not often change. Hence, it is unnecessary to update
the optimal cluster frequently.

IV. OPTIMIZING BANDWIDTH PARTITION

Since the numbers of Coop users and N-Coop users are
random and hardly equal,
the spectral efﬁciency will be
reduced if we simply assign identical bandwidth to these two
types of users. In this section, we optimize the bandwidth
partition to maximize the average throughput of the network
under the fairness constraints of the users.

A. Average Throughput

Since only one D2D link is active in a cluster in each time,
the average throughput of the network operating in Mode 0
can be obtained as follows,
¯R0 = E{W

B(cid:88)

= W B ¯Rn
i ,

i } (b)
Rn

(6)

i=1

i and ¯Rn

where Rn
i are respectively the instantaneous and
average throughputs of a N-Coop link per unit bandwidth,
and the expectation is taken over small scale channel fading
and user location. Since all users are randomly located and
transmit with equal power, (b) can be obtained.

Analogically, the average throughput of the network oper-

ating in Mode 1 can be obtained as

B(cid:88)
i + (1 − η) ¯Rn
i ),

i=1

i + (1 − η)W
Rc

B(cid:88)

i=1

i }
Rn

(7)

where Rc
average throughputs per unit bandwidth of a Coop link.

i are respectively the instantaneous and

Further considering the cooperative probability in (3), the

average throughput of the network is
¯R = P c ¯R1+(1−P c) ¯R0 = W B(P cη ¯Rc
i ). (8)
1) Average Throughput of N-Coop Link: Without coopera-
tion, a DT delivers the requested ﬁle to its corresponding DR
in a way by treating the inter-cluster interference as noise.
Then, the signal to interference plus noise ratio (SINR) at the
DR of the active link in the ith cluster can be expressed as

i +(1−P cη) ¯Rn

P|hii|2r−α
ii
Ii + σ2

γn
i =

,

(9)

j=1,j(cid:54)=i r−α

Gaussian noise, Ii = P(cid:80)B

where P is the transmit power, σ2 is the variance of white
ij |hij|2 is the power
of inter-cluster interference, hij and rij are respectively the
channel coefﬁcient and distance between the DT and the DR
with hij following complex Gaussian distribution with zero
mean and unit variance, and α is the path loss exponent.
Due to the short distance of a D2D link, we consider
interference-limited scenario and assume Ii (cid:29) σ2. Then,
the N-Coop link throughput
i =
log2(1 + P|hii|2r
|hij|2 follows Ex-
ponential distribution, which is a special case of Gamma

in unit bandwidth is Rn

). Considering that

−α
ii

Ii

¯R1 = E{ηW

= W B(η ¯Rc
i and ¯Rc

distribution, the interference power Ii can be approximated as
Gamma distribution [13]. Further considering that for Gamma
distributed random variable X with parameters k and θ,
E{ln(X)} = ψ(k) + ln(θ), where ψ(k) is the Digamma
function, the average throughput of a N-Coop link per unit
bandwidth taken over the small scale channel fading is

P r−α
ii
¯Ii

Eh{Rn

where ¯Ii = P(cid:80)B

i } ≈ log2(1 +
j=1,j(cid:54)=i r−α

ij . Since channel fading and
user location are with independent distribution, the average
throughput of a N-Coop link per unit bandwidth taken over
both channel fading and user location can be obtained as

),

(10)

i = Ep{log2(1 +
¯Rn

)}.

(11)

P r−α
ii
¯Ii

Because the joint probability density function (PDF) of the
distances among D2D users is hard to obtain, we introduce
the ﬁrst order approximation to derive the expression of ¯Rn
i .
Speciﬁcally, for a random variable X, the expectation of a
function of X, ϕ(X), can be approximated as [14]

E{ϕ(X)} = E{ϕ(µx + X − µx)}
≈ E{ϕ(µx) + ϕ(cid:48)(µx)(X − µx)} = ϕ(µx),

(12)

where µx = E{X}.

With this approximation, ¯Rn
i

in (11) is approximated as

i ≈ log2(Ep{P r−α
¯Rn

ii + ¯Ii}) − log2(Ep{ ¯Ii}).

(13)
To simplify the analysis, interference generated by each sur-
rounding cluster is regarded statistically identical. Then, the
interference link distance rij has the same distribution f (r),
where r = rij/D. The PDF of the signal link distance rii can
be obtained from [15] by variable substitution r = rii/D as

2r(r2 − 4r + π),

8r − 2r(r2 + 2)
+4rarcsin( 1

g(r) =

1
D

0 ≤ r < 1
√

. (14)

2

r ) − arccos( 1

r ), 1 ≤ r <



0 ≤ r < 1
√

Using similar way as that in [15] and after some tedious
derivations, we can obtain the PDF of the interference link
distance rij as follows,
2r2 − r3,
2r − 4r2 + 2r3 − 2r + 2r
− 2r3
 + 4r arcsin( 
4r + 4r arcsin( 1
r )
−r − 4r2,
−5r − r3 + 4r
r ) − arcsin( 1
−4r arcsin( ξ
r )
− 4r
ξ + rξ + r3
ξ ,
r2 − 1, and ξ (cid:44) √

where  (cid:44) √

1 ≤ r <
√



2 ≤ r < 2

2 ≤ r <

r2 − 4.

f (r) =

(15)

1
D

r ),

√

To further simplify the expression, we only consider dom-
inant interference generated from the nearest eight clusters
around the ith cluster. Then, from (13) we can obtain

2

5

i ≈ log2(Q1(α)) − log2(Q2(α)) − 3,
¯Rn

(16)

r−αg(r)dr + 8(cid:82) √

where Q1(α) (cid:44) (cid:82) √
Q2(α) (cid:44) (cid:82) √

0

5

0

0

5

2

r−αf (r)dr, and
r−αf (r)dr, which are easy to compute nu-
merically with the closed-form expression of f (r) and g(r).
Note that ¯Rn

i only depends on path loss exponent α.

2) Average Throughput of Coop Link: In Mode 1, all DTs
jointly transmit the requested ﬁles to the users with zero-foring
beamforming (ZFBF), where the ZFBF can be computed at BS
and broadcasted to all DTs. Then, the SINR of the DR of the
active link in the ith cluster can be expressed as
ij |hij|2

P(cid:107)hi(cid:107)2δi

≈ P(cid:80)B

(17)

,

γc
i =

(cid:113)

σ2

(cid:113)

j=1 r−α
(cid:113)
Bσ2

r−α
i1 hi1,

r−α
i2 hi2, ...,

r−α
where hi = [
iB hiB] is the com-
posite channel vector between all DTs and the DR, 0 ≤ δi ≤ 1,
a larger value of δi indicates a better orthogonality between
hi and hj for i (cid:54)= j. The approximation comes from the fact
δi ≈ (BN t − B + 1)/B = 1/B [16], where N t is the number
of antennas per DT that is one in this paper.

Using the same approximation as deriving (10), the average
throughput of a Coop link per unit bandwidth is obtained as

P(cid:80)B

j=1 r−α
Bσ2

ij

i ≈ Ep{log2(1 +
¯Rc

)}.

(18)

Again, by applying the ﬁrst-order approximation in (12),
using (14) and (15), and only considering dominant signal,
we can further approximate ¯Rc
i ≈ log2(1 +
¯Rc
where Q1(α) is deﬁned in (16).

i as
P D−α
Bσ2 Q1(α)),

(19)

3) Average Network Throughput: Finally, from (8), (16)
and (19) the average network throughput can be obtained as

¯R = W BP cη(log2(Q1(α)) − log2(Q2(α)) − 3)

+ W B(1 − P cη) log2(1 +
B. Optimizing Bandwidth Partition

P D−α
Bσ2 Q1(α).

(20)

To optimize the value of η to maximize the average network
throughput while guarantee user fairness, we consider the
constraints that the average user throughput is larger than
a given value µ. Since only one D2D link is active in a
cluster each time, with round robin scheduling, from (16) and
(19) the average Coop and N-Coop user throughputs can be
respectively obtained as

¯Rc
u

¯Rn
u

i

(a)≈ W Bη ¯Rc
(b)≈ W B(1 − η) ¯Rn

¯N c

=

i

¯N n

W Bη(log2(Q1(α)) − log2(Q2(α)) − 3)

¯N c

W B(1 − η)

=

¯N n

log2(1 +

P D−α
Bσ2 Q1(α)),

(21)
where ¯N c = E{N c} and ¯N n = E{N n} are respectively
the average numbers of Coop users and N-Coop users. (a)
and (b) come from the fact that Rc
i and N c are independent
i}E{1/N c} ≈
random variables,
E{Rc

thus E{Rc
i /N c} = E{Rc
i / ¯N c according to (12).

i}/E{N c} = ¯Rc

K(cid:88)

B(cid:88)

1) Average Numbers of Coop and N-Coop users: Denote
the number of users in the ith cluster who requesting ﬁles in
Gk as nik, 1 ≤ k ≤ K0, 1 ≤ i ≤ B, and Ni (cid:44) {ni1, ..., niK0}.
Since the users request ﬁles independently, the probability that
the numbers of users in the ith cluster who requesting ﬁles in
Gk are ni1, ..., niK0 can be derived as

K0(cid:89)

m=1

pNi =

K−(cid:80)m−1

C nim

j=1 nij

K0(cid:89)

k=1

P nik

k

K!(cid:81)K0
(cid:81)K0

(a)
=

k=1 P nik
k
j=1 nij!
m!k!(n−m−k)!.

, (22)

n!

n C k

n−m =

where (a) comes from C m
Only when all the B clusters hit a ﬁle group Gk and k ≤ K
(i.e., nik > 0 is satisﬁed for k ≤ K and any i, 1 ≤ i ≤ B),
the users requesting the ﬁles within Gk are Coop users, and
we call Gk a hit ﬁle group. The number of Coop users for all
hit ﬁle groups can be obtained as

k=1

i=1

N c =

ζ(k)nik,

(23)

where ζ(k) = (cid:100)(cid:80)B
0,(cid:80)K0

i=1 sgn(nik) − B + 1)(cid:101)+ (k ≤ K) indicate
whether Gk is a hit ﬁle group, sgn(x) = 1 when x > 0,
otherwise sgn(x) = 0, and (cid:100)Λ(cid:101)+ = max(Λ, 0).
Denote N = {N1,N2, ...,NB}. ΦN = {N|nik ≥
k=1 nik = K} represents all possible combinations of
N . Then, by taking average of N c in (23) over ΦN , we can
derive the average number of Coop users as

(cid:88)

B(cid:89)

ΦN

i=1

K!(cid:81)K0
(cid:81)K0

k=1 P nik
k
j=1 nij!

K(cid:88)

B(cid:88)

k=1

i=1

¯N c =

ζ(k)nik.

(24)

Considering that N n + N c + N b = N n, we can obtain ¯N n
by deriving the average number of cellular users ¯Nb = E{N b}.
Since all requests follow Zipf distribution independently, the
number of ﬁles that can not be fetched via D2D is a random
variable following Binomial distribution and N b ∼ B(M, 1−
k=1 Pk). Then, the

(cid:80)K
k=1 Pk). Therefore, ¯N b = M (1 −(cid:80)K

average number of N-Coop users can be derived as

¯N n = M − ¯N c − ¯N b.

(25)

2) Optimal Bandwidth Allocation Factor: The optimal

bandwidth partition problem is formulated as follows

(26)

max

η
s.t.

¯R = W B(P cη ¯Rc
u ≥ µ,
¯Rc

i + (1 − P cη) ¯Rn
i )

u ≥ µ, 0 < η ≤ 1
¯Rn
u and ¯Rn
u are in (21).

where the expressions of ¯Rc

i ). If ¯Rc

i − ¯Rn

i ≥ ¯Rn

By taking the derivative of ¯R in (26), we have ∂ ¯R

∂ ¯η =
W BP c( ¯Rc
i , ¯R is an increasing function
of η and the optimal solution is η∗ = W B ¯Rn
, otherwise
i ≥ ¯Rn
η∗ = W B ¯Rc
if
¯Ii ≥ Bσ2, which is easy to satisfy in D2D communications.
Except the system parameters W and µ, the optimal band-
width allocation factor η∗ depends on Nf , β, B, M and N,
which can be updated together with the optimal cluster size.

¯N cµ . In fact, it is not hard to prove that ¯Rc

i −µ ¯N n

W Bµ

i

i

V. NUMERICAL AND SIMULATION RESULTS

In the sequel, we evaluate the performance of Coop strategy
via simulation and numerical results. We consider a square
hotpot area with the side length Dc = 75 m, where M = 135
users are randomly located. Such a setting is the same as [4],
where 2 ∼ 3 users are located within every area of 10 × 10
m2. The path-loss model is 37.6 + 36.8 log10(r) [4]. Each
user is with transmit power P = 20 dBm. W = 20 MHz,
and σ2 = −95 dBm. The ﬁle catalog size N f = 300 ﬁles,
and each user caches N = 20 ﬁles [4]. The parameter of Zipf
distribution β = 1. The user throughput constraint is µ = 1
Mbps or µ = 2 Mbps. This setup is used in the sequel unless
otherwise speciﬁed.

In Fig. 1, we provide numerical results of the average active
Coop users ¯N a for different number of users per cluster K
and the optimal cluster size K∗ for different number of users
in the hotpot area M. As expected, ¯N a increases with β. By
contrast, K∗ decreases with β. With the growth of M, K∗
ﬁrst increases, and then approaches a constant that equals to
K0 = N f /N. This is because when K = K0, all ﬁles in the
catalog have been cached at the users. Assigning more than
K0 users to each cluster can not increase the Coop users.

Fig. 1.

¯N a versus K and optimal cluster size K∗ versus M.

Fig. 2. η∗ and maximal average network throughput ¯R versus β.

In Fig. 2(a), we present the optimal solution of problem (26)
η∗ versus β. As expected, η∗ increases with β. However, η∗
decreases as µ increases, because more bandwidth is needed
for N-Coop users to support higher user throughput.

In Fig. 2(b), we provide the simulation results for maximal
throughput. In the legends, “η = 0” refers to the strategy in

[3] and “TDMA” is the strategy in [4] (where each cluster can
select an active D2D link every 4 rounds of scheduling), which
serve as the baseline for comparison. “η = 0.5” refers to a
Coop strategy without optimizing K and η, and “η∗, K = 15”
refers to a Coop strategy without optimizing K. We can
see that optimizing the cluster size and bandwidth partition
become necessary when β > 0.4. With K∗ and η∗,
the
throughput gain over the baseline for β = 1 is 500% ∼ 600%.
Even when β = 0, the throughput gain is still 40% ∼ 80%.

VI. CONCLUSIONS

In this paper, we proposed an opportunistic cooperative D2D
communication strategy with caching at devices. We optimized
the cluster size and the bandwidth allocated to Coop and N-
coop users. Simulation and numerical results show that the
proposed strategy can improve the throughput signiﬁcantly,
even when the user requests follow uniform distribution.

REFERENCES

[1] X. Lin, J. Andrews, A. Ghosh, and R. Ratasuk, “An overview of 3GPP
device-to-device proximity services,” IEEE Commun. Mag., vol. 52,
no. 4, pp. 40–48, 2014.

[2] A. Asadi, Q. Wang, and V. Mancuso, “A survey on device-to-device
communication in cellular networks,” IEEE Commun. Surveys Tuts.,
vol. 16, no. 4, pp. 1801–1819, 2014.

[3] N. Golrezaei, P. Mansourifard, A. Molisch, and A. Dimakis, “Base-
station assisted device-to-device communications for high-throughput
wireless video networks,” IEEE Trans. Wireless Commun., vol. 13, no. 7,
pp. 3665–3676, 2014.

[4] M. Ji, G. Caire, and A. Molisch, “Wireless device-to-device caching
networks: Basic principles and system performance,” IEEE J. Sel. Areas
Commun., early access.

[5] H. Elkotby, K. Elsayed, and M. Ismail, “Exploiting interference align-
ment for sum rate enhancement in D2D-enabled cellular networks,”
IEEE WCNC, 2012.

[6] Y. Cao, T. Jiang, and C. Wang, “Cooperative device-to-device commu-
nications in cellular networks,” IEEE Wireless Commun., vol. 22, no. 3,
pp. 124–129, 2015.

[7] C. Ma, G. Sun, X. Tian, K. Ying, Y. Hui, and X. Wang, “Coopera-
tive relaying schemes for device-to-device communication underlaying
cellular networks,” IEEE GLOBECOM, 2013.

[8] Y. Pei and Y. chang Liang, “Resource allocation for device-to-device
communications overlaying two-way cellular networks,” IEEE Trans.
Wireless Commun., vol. 12, no. 7, pp. 3611–3621, 2013.

[9] A. Liu and V. K. Lau, “Mixed-timescale precoding and cache control
in cached MIMO interference network,” IEEE Trans. Signal Process.,
vol. 61, no. 24, pp. 6320–6332, 2013.

[10] K. Doppler, C.-H. Yu, C. Ribeiro, and P. Janis, “Mode selection
for device-to-device communication underlaying an LTE-advanced net-
work,” IEEE WCNC, 2010.

[11] Y. Jiang and X. You, “Research of synchronization and training sequence
design for cooperative D2D communications underlaying hyper-cellular
networks,” IEEE ICC, 2013.

[12] L. Breslau, P. Cao, L. Fan, G. Phillips, and S. Shenker, “Web caching and
Zipf-like distributions: Evidence and implications,” IEEE INFOCOM,
1999.

[13] R. W. Heath, T. Wu, Y. H. Kwon, and A. C. Soong, “Multiuser MIMO in
distributed antenna systems with out-of-cell interference,” IEEE Trans.
Signal Process., vol. 59, no. 10, pp. 4885–4899, 2011.

[14] A. Papanicolaou, “Taylor approximation and the delta method,” 2009.
[15] L. E. Miller, “Distribution of link distances in a wireless network,” J.

Res. Natl. Inst. Stand. Technol., vol. 106, no. 2, pp. 401–412, 2001.

[16] Q. Zhang and C. Yang, “Transmission mode selection for downlink
coordinated multipoint systems,” IEEE Trans. Veh. Technol., vol. 62,
no. 1, pp. 465–471, 2013.

5101502468101214Average−active−Coop−usersK:users−per−cluster(a)β=1β=0.8β=0.6β=0.4β=0.2β=010110210346810121416Optimal−users−per−cluster K*M:total−users(b)β=0β=0.2β=0.4β=0.6β=0.8β=100.20.40.60.810.40.50.60.70.80.91Optimal−patation−factor−ηβ(a)00.20.40.60.8100.511.522.533.54x 109Maximal−throughput(bps)β(b)μ=1−K*η*μ=2−K*η*μ=1−η*,K=15μ=2−η*,K=15η=0.5η=0TDMAμ=1μ=2