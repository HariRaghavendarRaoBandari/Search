Studies of Beam Induced Electron Cloud Resonances in Dipole

Magnetic Fields

J. R. Calvey∗, W. Hartung†, and J. Makita‡

Cornell Laboratory for Accelerator-based Sciences

and Education, Cornell University, Ithaca, NY

M. Venturini

Lawrence Berkeley National Laboratory, Berkeley, CA

(Dated: March 16, 2016)

Abstract

The buildup of low energy electrons in an accelerator, known as electron cloud, can be severely

detrimental to machine performance. Under certain beam conditions, the beam can become res-

onant with the cloud dynamics, accelerating the buildup of electrons. This paper will examine

two such eﬀects: multipacting resonances, in which the cloud development time is resonant with

the bunch spacing, and cyclotron resonances, in which the cyclotron period of electrons in a mag-

netic ﬁeld is a multiple of bunch spacing. Both resonances have been studied directly in dipole

ﬁelds using retarding ﬁeld analyzers installed in the Cornell Electron Storage Ring (CESR). These

measurements are supported by both analytical models and computer simulations.

PACS numbers: 29.20.db, 52.35.Qz, 29.27.-a, 79.20.Hx

6
1
0
2

 
r
a

 

M
5
1

 
 
]
h
p
-
c
c
a
.
s
c
i
s
y
h
p
[
 
 

1
v
7
1
8
4
0

.

3
0
6
1
:
v
i
X
r
a

∗ Present address: Advanced Photon Source, Argonne National Laboratory, Argonne, IL
† Present address: Facility for Rare Isotope Beams, Michigan State University, East Lansing MI
‡ Present address: Department of Physics, Old Dominion University, Norfolk, VA

1

I.

INTRODUCTION

As a part of the CESRTA program at Cornell [1], the Cornell Electron Storage Ring

(CESR) was instrumented with several retarding ﬁeld analyzers (RFAs) [2], to study the

buildup of low energy electrons in an accelerator vacuum chamber. This eﬀect, known as

electron cloud [3, 4], has been observed in a number of machines [5–11], and is known to cause

emittance growth and beam instabilities [12]. It is especially dangerous for low emittance,

positively charged beams, and is expected to be a limiting factor in next generation positron

and proton storage rings, such as the International Linear Collider damping ring [13, 14].

In lepton machines, electron cloud is usually seeded by photoelectrons generated by syn-

chrotron radiation. The collision of these electrons with the beam pipe can then produce

one or more secondary electrons, depending on the secondary electron yield (SEY) of the

material. The SEY depends on the energy and angle of the incident electron [15], with peak
secondary production occurring at Emax ≈ 300 eV. If the average SEY is greater than unity,
the cloud density will grow exponentially, until a saturation is reached. Most secondary

electrons are generated with low energy (< 10 eV), but can be given additional energy by

the beam. As we will show in this paper, an unfortunate choice of beam parameters (partic-

ulary bunch spacing and charge) can drive up the average electron energy up into a regime

of high secondary production (near Emax), resulting in a higher cloud density.

Retarding ﬁeld analyzers provide information on the local electron cloud density, en-

ergy, and transverse distributions. Previous papers have described the use of RFAs at

CESRTA to directly compare diﬀerent electron cloud mitigation techniques [16, 17]. In ad-

dition, computer simulations have been compared to RFA measurements, to quantify the

electron emission properties of diﬀerent cloud mitigating coatings in ﬁeld free regions [18].

Simulations of cloud dynamics in dipole and wiggler ﬁelds have been presented in conference

proceedings [19–22]. This paper will summarize and expand on these results. In particular,

multipacting and cyclotron resonances will be examined in detail. These eﬀects, in which

resonant interactions between the beam and electrons lead to accelerated cloud development,

should be avoided to ensure optimal machine performance.

2

A. Retarding Field Analyzers

A retarding ﬁeld analyzer consists of three main components [2]: holes drilled in the

beam pipe to allow electrons to enter the device; a retarding grid, to which a voltage can be

applied, rejecting electrons with less than a certain energy; and a positively biased collector,

to capture any electrons which make it past the grid. If space permits, additional (grounded)

grids can be added to produce a more ideal retarding ﬁeld. In addition, the collectors of most

RFAs used in CESRTA are segmented to allow characterization of the spatial structure of the

cloud build-up. Thus a single RFA measurement provides information on the local cloud

density, energy, and transverse distribution. Some of the data presented here are voltage
scans, in which the retarding voltage is varied (typically from +100 to −250 V or −400 V)
while beam conditions are held constant. In other measurements, where we want to study

the detector response as a function of some external parameter (e.g. bunch spacing), the

retarding grid was biased at +50 V, to capture all incoming electrons. The collector was set

to +100 V for all of our measurements.

An example voltage scan is given in Fig. 1. The RFA response is plotted as a function

of collector number and retarding voltage. Roughly speaking, this is a description of the

transverse and energy distribution of the cloud. Collector 1 is closest to the outside of

the chamber (where direct synchrotron radiation hits) The signal is strongly peaked in the

central collector (no. 9), which is aligned with the horizontal position of the beam. The sign

convention for retarding voltage is chosen so that a positive value on this axis corresponds to

a negative physical voltage on the grid (and thus a rejection of lower energy electrons). The

beam conditions are given as “1x45x1.25 mA e+, 14 ns, 5.3 GeV.” This notation indicates
one train of 45 positron bunches, with a per-bunch current of 1.25 mA (1 mA = 1.6 × 1010
particles), with 14 ns bunch spacing, and a beam energy of 5.3 GeV.

B. Electron Cloud in Dipoles

In the presence of a dipole magnetic ﬁeld, an electron will undergo helical motion, spi-

ralling around the ﬁeld lines. For a standard dipole magnet in an accelerator (with strength
∼ 1 kilogauss), a typical cloud electron (with energy ∼ 10 - 100 eV) will have a cyclotron
radius on the order of a few hundred µm. In other words, the motion of the electron will be

3

FIG. 1: Dipole RFA voltage scan: 1x45x1.25 mA e+, 14 ns, 5.3 GeV, 810 gauss ﬁeld. The central

collector is no. 9.

approximately one dimensional, along the direction of the dipole ﬁeld. This pinning of the

motion to the ﬁeld lines often results in a strong concentration of the cloud in the center

of the chamber, where beam kicks are strongest. Stronger beam kicks drive the average

electron energy up, which typically results in a higher average SEY (since most secondary
electrons are emitted with Esec (cid:28) Emax). This eﬀect is seen clearly in Fig. 1. In addition,
multipacting and cyclotron resonances, described below, can appear in dipole ﬁelds.

1. Multipacting Resonances

A multipacting resonance occurs when a characteristic time for the cloud development is

equal to the bunch spacing. As originally proposed by Gr¨obner [23], this happens when the

kick from the beam gives secondary electrons near the vacuum chamber wall just enough

energy to reach the opposite wall in time for the next bunch. These electrons generate more

secondaries, which are again given energy by the beam. This process continues, resulting in

a resonant buildup of the cloud. The resonant condition is given by Eq. (1).

tb =

b2

creNb

(1)

Here tb is the bunch spacing, b is the chamber half-height, c is the speed of light, re is

the classical electron radius, and Nb is the bunch population. A more general condition

4

was derived by Harkay et al. [8, 24], which includes nonzero secondary emission velocity.

In Section III A, we develop an even more general model of multipacting resonances, which

includes the possibility of multiple beam kicks.

2. Cyclotron Resonances

A cyclotron resonance occurs when the bunch spacing is an integral multiple of the

cyclotron period of an electron in a dipole ﬁeld [25]. Under these conditions, the transverse

beam kick to a given electron will always be in the same direction, resulting in a steady

increase in the particle’s energy, and (usually) a higher secondary electron yield when it

hits the vacuum chamber wall. The resonant condition is given in Eq. (2), where me is the

electron mass, qe is the electron charge, n is an integer, and B is the magnetic ﬁeld strength.

tb =

2πmen

qeB

(2)

Cyclotron resonances were observed at SLAC using a chicane of four dipole magnets

instrumented with RFAs [26]. Unexpectedly, the resonances sometimes appeared as peaks

in the signal, and other times as dips. This chicane was moved to CESR early in the

CESRTA program. In Section III B, we conﬁrm the existence of cyclotron resonances, and in

Section IV C, we provide an explanation for the peak/dip phenomenon.

II.

INSTRUMENTATION

Detailed descriptions of the CESRTA electron cloud experimental program, design of the

ﬁeld region RFAs, and data acquisition system can be found elsewhere [17, 27]; here we

provide only a brief summary. RFAs in each ﬁeld region had to be specially designed to ﬁt

inside the narrow magnet apertures. The key parameters of each RFA type are listed in

Table I.

a. CESR Dipole RFA To study cloud buildup in a realistic dipole ﬁeld environment,

a thin RFA was installed inside a CESR dipole magnet. The magnetic ﬁeld in this magnet

depends on the beam energy: 790 gauss at 2.1 GeV, 1520 gauss at 4 GeV, and 2010 gauss

at 5.3 GeV. The chamber is made of uncoated (6063) aluminum.

5

TABLE I: List of dipole/wiggler RFA locations. The elliptical and rectangular chambers are 9 cm

in width by 5 cm in height. The circular chamber is 4.5 cm in radius. “Grid trans.” refers to the

optical transparency of the grids. Note that the wiggler RFAs used two generations of grids with

diﬀerent transparencies.

RFA

Chamber type

Field Strength

Grids

Collectors

Grid trans.

CESR dipole

Elliptical Al

0.079 - 0.2010 T

Chicane dipole

Circular Al

0 - 0.12 T

Wiggler

Rectangular Cu

1.9 T

1

3

1

9

17

12

38%

92%

38/92%

b. Chicane RFAs A chicane of four dipole magnets designed at SLAC [26] was installed

in the L3 straight. The ﬁeld of these magnets can be varied over the range of 0 to 1.46 kilo-

gauss, which allowed for the study of the eﬀect of dipole ﬁeld strength on cloud dynamics,

without aﬀecting the trajectory of stored beams in the rest of the ring. Three of the chicane

dipole chambers tested diﬀerent electron cloud mitigation techniques: two of the chambers

were TiN coated [28], and one was both grooved [29, 30] and TiN coated (the fourth was

bare aluminum).

c. Wiggler RFAs During the CESRTA reconﬁguration in 2008, six superconducting

wigglers were installed in the L0 straight section of CESR. They were typically operated

with a peak transverse ﬁeld of 1.9 T. Three of these wigglers were instrumented with RFAs,

at three diﬀerent locations in the wiggler ﬁeld: in the center of the wiggler pole (eﬀectively

a 1.9 T dipole ﬁeld), half way between two poles (where the ﬁeld is longitudinal), and in an

intermediate region [17]. This paper will focus on the pole center RFAs.

The ﬁrst generation wiggler RFAs were equipped with low-transparency stainless steel

grids. However, as described in Section III C, secondary emission from these grids lead to a

signiﬁcant interaction between the electron cloud and the RFA, complicating the interpre-

tation of the measurements. Consequently, in the second generation of wiggler chambers,

the grids were changed to high-transparency copper meshes. The use of high transparency

grids eﬀectively solved the grid emission problem.

6

III. MEASUREMENTS AND ANALYTICAL MODELS

Many measurements have been taken in CESR with RFAs in dipole ﬁelds, under a wide

variety of diﬀerent beam conditions. This has allowed for detailed studies of electron cloud

dynamics, in particular of multipacting and cyclotron resonances.

A. Multipacting Resonances

To study the time evolution of the electron cloud, we collected RFA data with bunch

spacings varying from 4 ns to 112 ns. All of the data presented in this section were taken with

a single train of 20 bunches, at beam energy 5.3 GeV. Fig. 2 shows the signal in the central

collector of the chicane RFA as a function of bunch spacing, for diﬀerent bunch currents, and

for both electron and positron beams. A few interesting features are readily apparent in the

data. Except at the lowest current value, both the electron and positron beam data show a

peak at 56 ns. The positron data has another peak, which moves to lower bunch spacings

at higher currents. These data are not consistent with a simple multipacting resonance

(Eq. (1)), which would account for only one resonance in the positron measurement, and

none in the electron measurement. Additionally, the beam kicks at the wall are very small

for this case (amounting to 13 eV for a 3.5 mA beam), and so are unlikely to drive electrons

at the wall into a regime of high secondary production.

A similar set of data for the CESR dipole RFA is shown in Fig. 3. In this case, both the

electron and positron beam data contain a single peak that moves to lower spacings as the

current increases. The positron data peaks occur at much lower spacings that the electron

peaks.

1. Analytical Model

These resonances can be explained if we allow the secondary electrons to be generated

with some (small) energy. If the time for a typical secondary electron to travel to the center

of the beam pipe is equal to the bunch spacing, this electron will be kicked strongly by the

beam, and is likely to produce more secondary electrons [8].

If we ignore the time for the kicked electron to travel to the beam pipe wall, the resonance

condition is given by Eq. (3), where tb is the bunch spacing, b is the chamber half-height

7

FIG. 2: Central collector signal in the chicane dipole RFA (set to 810 gauss) as a function of bunch

spacing, at diﬀerent bunch currents. Top: positron beam; bottom: electron beam. Note that the

signals have been normalized to be on the same scale. In absolute terms, the peak positron signal

was about ﬁve times the peak electron signal.

(i.e. the distance from the wall to the beam), and vsec is a characteristic secondary electron

velocity.

tb = b/vsec

(3)

For a (plausible [15]) secondary emission energy of 1.5 eV, this peak will occur at 61 ns

for the chicane dipole case (b = 4.5 cm). Because aluminum has a high SEY for a broad

range of incident energies, we expect the resonance to be somewhat broad. The fact that

8

0204060801001200.20.30.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  1.4 mA1.9 mA2.8 mA3.4 mA02040608010012000.10.20.30.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  1.4 mA1.9 mA3.4 mAFIG. 3: Central collector signal in the CESR dipole RFA as a function of bunch spacing, at diﬀerent

bunch currents. Top: positron beam; bottom: electron beam. Note that the signals have been

normalized to be on the same scale. In absolute terms, the peak positron signal was about four

times the peak electron signal.

there is a ﬁnite width to the secondary energy distribution will further smear out the peak.

Because this model does not distinguish between electron and positron beams, we expect

this peak to be in the same location for both species. This is indeed what we observe in the

measured data.

For the CESR dipole RFA (b = 2.5 cm), the resonance should occur at 34 ns, which

does not agree with either the electron or positron data. In order to derive a more accurate

prediction, we need to take into account the time it takes for a kicked electron to reach

9

0204060801001200.10.20.30.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  1.4 mA1.9 mA2.8 mA02040608010012000.10.20.30.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  1.0 mA1.4 mA2.4 mA3.3 mAthe chamber wall. We deﬁne the resonant condition as the bunch spacing that results in

an electron energy E2 = Emax, where Emax is the energy corresponding to peak secondary

production. This process is diagrammed in Fig. 4.

The resonant condition now becomes:

tb =

vmax ≡

b ± r
vmax

b − r
vsec

(cid:114)2qeEmax

+

=

2cNbre

r

± vsec

me

(4)

Here r is the distance from the electron to the beam during the bunch passage, Nb is the
bunch population and re is the classical electron radius. Where there is a ± symbol, the
plus sign applies for positron beams, and the minus for electron beams.

Eliminating r from Eq. (4) and deﬁning k ≡ 2cNbre gives us a resonant bunch spacing

(Eq. (5)). Interestingly, the condition is still the same for electron and positron beams.

tb,1 =

b(vmax + vsec) − k

vmaxvsec

(5)

In this analysis we have used the impulse approximation for determining the beam kick [4,

(cid:113)

Nbreσz

31], which assumes that r is much greater than the beam size. This approximation is valid

(cid:112)2/π, where σz is the bunch length. For the conditions presented here,

as long as the distance from the electron to the beam is greater than a critical radius
rc ≈ 2
σz ≈ 17 mm, so the critical radius is 1.6 mm at 1 mA, and 2.9 mm at 3.4 mA. For the
resonant condition in Eq. (4), r ≈ 2.8 mm at 1 mA, and 9.6 mm at 3.4 mA. So the impulse
approximation is always valid, although it’s close at low current.

The 14 ns peak in the positron data is due to a higher order multipacting resonance,

where it takes two bunches to set up the resonance condition. Here we consider the case

where the ﬁrst bunch gives some additional energy to the electron, so that it arrives near

the center of the chamber in time for the second bunch, when it receives a large enough kick

to give it energy Emax. The resonance condition becomes:

10

FIG. 4: Diagram of single bunch multipacting resonances: positron beams (top) and electron beams

(bottom). A secondary electron is released from the bottom wall (left), travels upward at speed

vsec, receives a kick from a passing bunch (middle), and hits the wall, releasing another secondary

electron at time t = tb (right).

tb,2 =

b − r1
vsec

+

r2 + b
vmax

=

r1 − r2

v2

v2 = vsec +

vmax = v2 +

k
r1
k
r2

(6)

Here r1 is the distance between the beam and the electron during the ﬁrst bunch passage,

r2 is this distance during the second bunch passage, and v2 is the electron velocity after the

ﬁrst beam kick (see Fig. 5). Note that this condition only applies to positron beams, since

the kicks must be towards the beam. These equations are a bit too unwieldily to be solved

analytically, but they can be solved numerically to give predictions for the resonant bunch

spacings.

2. Comparison with Measured Data

Fig. 6 compares the measured and predicted resonances for both the chicane and CESR

dipole chambers. Eﬀectively, we have varied the two most important parameters of the

model: bunch current, and chamber size (since the two dipole RFAs have diﬀerent chamber

heights). Overall there is good agreement between the data and model for all measured

resonances. In particular, the model captures the major features of the data:

11

t=0t=(b-r)/vsecvsecvmaxbrt=tbvsecbt=0t=(b-r)/vsecvsecvmaxbrt=tbvsecbFIG. 5: Diagram of a two-bunch multipacting resonance. From left to right: a secondary electron

is released from the bottom wall with speed vsec. It receives a kick from a passing bunch, and

continues with higher velocity (v2). It is kicked again by a second bunch, bringing its speed up to

vmax. Finally, it hits the wall, releasing another secondary electron at time t = 2tb.

• For the chicane RFA, the 1-bunch resonance appears in both the electron and positron
data, at the same bunch spacing. This resonance is not seen as clearly in the CESR

dipole RFA positron data, though a “shelf” can be seen at 1.4 mA, which does corre-

spond to the electron data peak.

• The 2-bunch resonance is only observed in the positron data.
• All resonances move toward lower bunch spacing at higher current.

The model and data are also in quantitative agreement, with two exceptions: the 1-bunch

resonance for the chicane dipole at low current, and the 1-bunch resonance for the CESR

dipole at high current. The former discrepancy may be due to the impulse approximation

not being valid (as explained above). The latter discrepancy may be due to the fact that

we are ignoring the beam’s image charge, and the cloud’s space charge. The chicane RFA

chamber is in a circular chamber, so there will be no image charge (assuming a centrally

located beam).

It is also located in a long straight section that receives relatively little

synchrotron radiation. This means the overall cloud density is lower, and space charge is

less important. The CESR dipole chamber, however, is (approximately) elliptical, so image

charge can be important. It is also located in a high radiation environment. An improved

model, which takes image charge and space charge into account, would probably ﬁt this data

better.

Measurements of multipacting resonances with a positron beam at the Advanced Photon
Source [8] found a peak at 20 ns for bunch populations in the range of 3.45 × 1010 to
5.75 × 1010. Plugging these numbers and the chamber half-height (21 mm) into Eq. (5)

12

r1t=0t=(b-r1)/vsecvsecv2bt=2 tbvsecbr2t=(b-r1)/vsec+ (r1–r2)/v2vmaxFIG. 6: Comparison of measured and predicted multipacting resonances for the chicane (top) and

CESR dipole (bottom) RFAs. The solid lines represent 1-bunch resonances (Eq. (5)), the dashed

lines 2-bunch resonances (Eq. (6)), and the points are measured data. The error bars are deﬁned

as half the diﬀerence in bunch spacing between successive measurements.

gives a resonant spacing of 18-23 ns, consistent with their result. However, they measured

a diﬀerent resonance (30 ns) for an electron beam, which is not predicted by our theory.

Their measurements were made in a ﬁeld-free region, with an RFA located at an angle with

respect to the top of the chamber, so our one-dimensional model may not be completely

valid. Nonetheless it is suggestive that the location of the positron peak agrees with our

prediction.

Table II lists the predicted locations of multipacting resonances for some proposed ac-

celerators with positively charged beams. Also included for comparison are the two most

common operating modes of the APS (which now uses electron beams, so there is no 2-bunch

resonance). The LHC is not included, because the beam is so intense that E2 > Emax at the

beam pipe wall, so the machine will generate high energy secondaries regardless of bunch

spacing.

13

resonantspacing(ns)●●●●●●■■■■■123420406080n=1,modeln=2,model●n=1,data■n=2,databunchcurrent(mA)resonantspacing(ns)●●●●●●■■■■■■123410203040n=1,modeln=2,model●n=1,data■n=2,databunchcurrent(mA)TABLE II: Resonant bunch spacings (tb,1, tb,2) compared to operational spacing (tb) for diﬀerent

accelerators.

Machine

ILC DR

CLIC DR

SuperKEKB

APS (324b)

APS (24b)

Nb

2 × 1010
4.1 × 109
9 × 1010
7.1 × 109
9.5 × 1010

b (cm)

tb (ns)

tb,1 (ns)

tb,2 (ns)

2.5

3

4.5

2.1

2.1

6

0.5

4

11

153

32

43

46

29

9

7.6

17.4

5.4

X

X

It is worth noting that running with very short bunch spacing (as many cutting edge

accelerators do) can actually be advantageous from an electron cloud point of view, since

it avoids both multipacting resonances. Running with high current and very large bunch

spacing (as some light sources do) also works. However, it is important to keep in mind that

this model does not include the cloud’s space charge, which could be an important eﬀect in

these high intensity machines. Particle tracking simulations (see Section IV B) can be used

to more accurately predict the resonances.

B. Cyclotron Resonances

By varying the strength of the chicane magnets, we can also study the behavior of the

cloud at diﬀerent dipole magnetic ﬁeld values. Fig. 7 shows RFA data taken as a function of

magnetic ﬁeld strength, at two diﬀerent bunch spacings. The most prominent feature of the

data is regularly occurring spikes or dips, which are seen in all cases. These correspond to

“cyclotron resonances,” which occur whenever the cyclotron period of cloud electrons is an

integral multiple of the bunch spacing (see Section I B 2). For 4 ns bunch spacing we expect

them every 89 gauss; and for 12 ns spacing, every 30 gauss. This is exactly what is seen in

the data. Another interesting feature of this measurement is that these resonances appear

as peaks in the RFA signal in the aluminum chamber, but as dips in the coated chambers.

This diﬀerence in the behavior of the two chamber materials is explained in Section IV C.

14

FIG. 7: RFA signal as a function of chicane magnetic ﬁeld: 1x45x1 mA e+, 5 GeV. Top: 4 ns

spacing. Bottom: 12 ns spacing. Cyclotron resonances are observed every 89 gauss with 4 ns

spacing, and every 30 gauss with 12 ns spacing, as predicted by Equation (2). Note that the

aluminum chamber signal is divided by 20.

C. Anomalous Enhancement

Detailed analysis of the wiggler RFA data is complicated by an interaction between the

cloud and the RFA itself. Fig. 8 shows a voltage scan done with an RFA in the center pole

of a wiggler (approximated by a 1.9 T dipole ﬁeld). Here one can see a clear enhancement in

the signal at low (but nonzero) retarding voltage. Since the RFA should simply be collecting

all electrons with an energy more than the magnitude of the retarding voltage, the signal

should be a monotonically decreasing function of the voltage. So the RFA is not behaving

15

02004006008001000120000.020.040.060.080.10.120.140.16chicane field (Gauss)average collector current density (nA/mm2)  Aluminum / 20TiN coatedTiN + grooves02004006008001000120000.050.10.150.2chicane field (Gauss)average collector current density (nA/mm2)  Aluminum / 20TiN coatedTiN + groovesFIG. 8: Resonant enhancement in wiggler data, 45 bunches, 1.25 mA/bunch, e+, 2.1 GeV, 14 ns.

Note that there are 12 collectors, so collector 6 is one of the central ones.

simply as a passive monitor. A similar eﬀect has been observed in a strong dipole ﬁeld at

KEKB [32]. The spike in collector current is accompanied by a corresponding dip in the

grid current, suggesting that the grid is the source of the extra collector current.

This spurious signal comes from a resonance between the bunch spacing and retarding

voltage. To understand this, consider an electron which collides with the retarding grid and

generates a secondary. Because electrons are so strongly pinned to the magnetic ﬁeld lines

in a 1.9 T ﬁeld, this electron is likely to escape through the same beam pipe hole through

which it entered. An electron ejected from the grid will gain energy from the retarding ﬁeld

before it re-enters the vacuum chamber. If it is given the right amount of energy, it will

be near the center of the vacuum chamber during the next bunch passage, and get a large

beam kick, putting it in a position to generate even more secondaries. This process, which

we have dubbed the “trampoline eﬀect”, is essentially an artiﬁcial multipacting resonance.

If we take Eq. (5) from Section III A, and use the retarding voltage in place of the secondary

electron energy, the resonance conditions becomes:

Vret =

meb2
2qet2
b

(7)

Here Vret is the retarding voltage, b is the chamber half-height, tb is the bunch spacing, me

is the electron mass, and qe is the electron charge. Fig. 9 plots a series of retarding voltage

scans done with a wiggler RFA, for 4, 8, 12, and 20 ns bunch spacing. The trampoline

16

−100−50050100150200−505101520retarding voltage (−V)current density (nA / mm2)  collector 6gridFIG. 9: Resonant spike location at diﬀerent bunch spacings, 1x45x1.25 mA e+, 5 GeV. Only the

signal in the central collector is plotted.

eﬀect is seen in all cases, with the spike occurring at ∼110, 30, 15, and 10 V, respectively.
Meanwhile, the simple model given in Eq. (7) predicts 111, 28, 12, and 4 V, respectively.

The predictions are quite close to the measurements, especially for short bunch spacing.

The second spike at low voltage in the 4 ns data corresponds to a two-bunch resonance, also

described in Section III A.

IV. SIMULATIONS

While the analytical models described above are generally successful at explaining our

data, additional insight can be gained by using more detailed computer simulations. The

results presented here were obtained with the particle tracking code POSINST [15, 33, 34].

In POSINST, a simulated photoelectron is generated on the chamber surface and tracked

under the action of the beam. Secondary electrons are generated via a probabilistic process.

Space charge and image charge are also included in the simulation.

A. RFA Modeling

In order to accurately predict the RFA signal, a sophisticated model of the detector must

be incorporated into the code. Our model has been described in detail for the RFAs installed

17

05010015000.10.20.30.40.50.60.70.80.91retarding voltage (−V)normalized collector current (arb)  4ns8ns12ns20nsFIG. 10: Simulated RFA eﬃciency vs incident angle for the chicane dipole RFA, with a 810 gauss

magnetic ﬁeld.

in ﬁeld free regions [18]; the dipole RFA models are essentially the same. In short, when a

macroparticle in the simulation collides with the vacuum chamber wall in the region covered

by the RFA, a special function is called which calculates a simulated RFA signal based on

the particle’s incident energy and angle. The signal is binned by energy and transverse

position, reproducing the energy and position resolution of the RFA.

Fig. 10 shows the eﬃciency (fraction of the macroparticle’s charge that contributes to

the RFA signal) as a function of incident angle in the chicane RFA. This represents the

probability that an incoming electron will make it through the beam pipe hole and grids,

and to the collector. Note that low energy particles have a very high eﬃciency, due to their

small cyclotron radius.

Using the model described above, we ran simulations for the dipole RFAs, for various

beam conditions. Fig. 11 shows a typical example, for the aluminum chicane RFA. Over-

all, the agreement with data (Fig. 1) is reasonable, without any additional tuning of the

simulation parameters.

18

00.40.81.2Incident angle (radians)10.50Efficiency1 eV10 eV100 eV1000 eV3180215−012FIG. 11: Example aluminum chicane RFA simulation: 1x45x1.25 mA e+, 14 ns, 5.3 GeV. Compare

to Fig. 1.

B. Simulation of Multipacting Resonances

Because the simulation contains all the relevant features of our multipacting model (i.e.

secondary emission, beam kicks, chamber geometry), it should be able to reproduce the

resonances predicted by the model. In addition, we are able to vary the secondary emission

energy, to study the eﬀect this has on the resonant spacings. According to Eq. (3), the 1-

bunch resonance should have an approximately inverse dependence on the emission velocity,

√
tb,1 ∼ 1/

i.e.

Esec. The 2-bunch resonance should have a much weaker dependence on

emission energy.

Fig. 12 plots the simulated central collector signal as a function of bunch spacing, for

four diﬀerent combinations of chamber, bunch current, and beam species. Both the 1-bunch

and 2-bunch multipacting peaks are observed. As predicted by the model, the locations of

these peaks (especially for the 1-bunch resonance) are sensitive to the energy spectrum of

emitted secondary electrons. A secondary emission energy distribution peaked at 1.5 eV

is generally consistent with the data, in particular with the locations of the multipacting

peaks. Lowering the emission energy to 0.75 eV moves the peaks to higher bunch spacings,

and broadens the peaks. Increasing the energy to 3 eV moves the peaks to lower spacings,

and also results in narrower peaks. Neither of these cases are consistent with the measured

19

−500501001502005101551015grid voltage (−V)collector numbercollector current density (nA/mm2)data. Thus this comparison provides a fairly sensitive indirect measurement of the secondary

emission energy.

In general, the data, analytical model, and simulation are in good agreement, assuming

1.5 eV secondary electrons.

It is notable that the simulation agrees well with the high

current electron beam data in the CESR chamber (which the analytical model did not

match well). This is most likely because the simulation includes space and image charge,

which are important in the high current regime.

For the sake of simplicity, the angular distribution of emitted secondaries was set to be

strongly peaked at normal to the vacuum chamber wall (POSINST parameter pangsec [15]

was set to 10). This was done to make it easy to compare the location of resonances to

those predicted by the model. In reality the electrons should be emitted at various angles,

which would complicate the analysis, but may give a qualitatively better ﬁt to the data.

Studying the eﬀect of pangsec and other simulation parameters on these results would be

an interesting subject for future study.

C. Simulation of Cyclotron Resonances

Under the conditions of a cyclotron resonance, we expect to see a increase in the RFA

signal, due to the increased energy of the cloud electrons. As discussed in Section III B, we

do indeed observe peaks in the RFA current in the aluminum chicane chamber, but in the

TiN-coated chambers we observe dips. Fig. 13 shows a simulated magnetic ﬁeld scan over

a cyclotron resonance, in both an aluminum and TiN-coated chamber. Consistent with the

data, we observe an increase in the aluminum chamber signal, but a decrease in the TiN

chamber signal. Fig. 14 provides an explanation: since the additional energy in the resonant

electrons comes from transverse beam kicks, these electrons will have a larger cyclotron

radius, and thus a lower RFA eﬃciency (see Fig. 10). Thus there are two competing eﬀects:

an increased cloud density due to a higher average SEY, and lower overall detector sensitivity.

In the aluminum chamber (where the peak SEY is high) the former eﬀect dominates, while

in the coated chamber (where the peak SEY is low) the latter one does. The net result is

resonant peaks in the uncoated chamber, and dips in the coated one.

20

FIG. 12: Simulation of the multipacting resonances, compared to measurements, for diﬀerent

secondary emission energies. Top left: chicane RFA, 1.4 mA, e+; top right: chicane RFA, 3.4 mA,
e+; bottom left: CESR dipole RFA, 1 mA e−; bottom right: CESR dipole RFA, 3.4 mA, e−. All

cases were done with 20 bunches, at beam energy 5.3 GeV.

D. Simulation of Anomalous Enhancement in the Wiggler RFA

The main disadvantage of treating the RFA analytically (as described in Section IV A) is

that we cannot self-consistently model any interaction between the detector and the cloud,

such as the trampoline eﬀect described in Section III C. Motivated by these measurements,

we have incorporated into POSINST a model of the RFA geared toward reproducing the ge-

ometry of the RFAs installed in the wiggler vacuum chambers. The motion of the electrons

within the RFA, including the electrostatic force from the retarding ﬁeld, is tracked using

a special add-on routine. The grid is modeled realistically, and secondary electrons can be

produced there, with the same secondary yield model used for normal vacuum chamber col-

lisions. The peak secondary electron yield and peak yield energy can be speciﬁed separately

21

0204060801001200.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  dataEsec = 0.75 eVEsec = 1.5 eVEsec = 3 eV0204060801001200.20.30.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  dataEsec = 0.75 eVEsec = 1.5 eVEsec = 3 eV02040608010012000.10.20.30.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  dataEsec = 0.75 eVEsec = 1.5 eVEsec = 3 eV02040608010012000.10.20.30.40.50.60.70.80.91bunch spacing (ns)central collector current (arb)  dataEsec = 0.75 eVEsec = 1.5 eVEsec = 3 eVFIG. 13: Simulation of cyclotron resonances observed by an RFA in aluminum (left) and TiN

(right) chambers, 1x45x1 mA e+, 4 ns, 5 GeV. Note that, as in Fig. 7, the resonance appears as

an increase in the aluminum chamber signal, but a decrease in the TiN chamber signal.

FIG. 14: Eﬀect of cyclotron resonance on RFA eﬃciency, 1x45x1 mA e+, 4 ns, 5 GeV. Under the

resonant ﬁeld, the average electron cyclotron radius increases, resulting in a decrease in the average

RFA eﬃciency.

for the grid. Because the actual retarding ﬁeld is included in the wiggler RFA model, the

retarding voltage must be speciﬁed in the input ﬁle, and a separate simulation must be run

for each voltage.

Fig 15 shows the result of running this full particle tracking simulation, for the set of

beam conditions corresponding to Fig. 8. Notably, the simulation reproduces the resonant

22

7707807908008108208308402.52.62.72.82.933.13.23.33.43.5chicane field (Gauss)average collector current density (nA / mm2)2302402502602702802903002.62.833.23.43.63.8chicane field (Gauss)average collector current density (nA / mm2)2502552602652702752802850.50.60.70.80.91chicane field (Gauss)  Average cyclotron radius (mm)Average RFA efficiency (arb)FIG. 15: POSINST simulation showing resonant enhancement in a wiggler RFA, 1x45x1.2 mA e+,

2.1 GeV, 14 ns, central collector. Compare to Fig. 8.

enhancement seen in the data, at approximately the same voltage (∼10 V for 14 ns spacing),
and shows that the extra signal comes from the grid.

V. CONCLUSIONS

Electron cloud buildup has been investigated in dipole ﬁeld regions throughout CESR.

Measurements of multipacting and cyclotron resonances have been made at diﬀerent bunch

spacings, bunch currents, and with electron and positron beams.

A sophisticated analytical model for multipacting resonances has been developed, which

takes into account secondary emission energy, as well as the time for kicked electrons to

reach the chamber wall. This model is generally consistent with data, and has been further

validated by computer simulations. An anomalous enhancement in the center-pole wiggler

RFA signal has also been identiﬁed as an artiﬁcial multipacting resonance.

Cyclotron resonances have been observed in the chicane RFAs, at ﬁeld values that corre-

spond well to basic theory. The question of these resonances sometimes appearing as dips,

rather than peaks in the signal, has been explained as a detector eﬃciency eﬀect.

The electron cloud density is very sensitive to multipacting eﬀects. On resonance, we

observe as much as a factor of 3 increase in electron cloud signal for positron beams, and

several orders of magnitude for electron beams (though the measured signal for electron

23

−100−50050100150200250−505101520retarding voltage (−V)current density (nA/mm2)  Collector 6Gridbeams was always lower than for positrons). Because electron cloud is a potential limit-

ing factor for high current, low emittance beams, avoiding these resonances is crucial for

achieving emittance and stability goals in present and future accelerators.

Acknowledgments

This research was supported by NSF and DOE Contracts No. PHY-0734867, No. PHY-

1002467, No. PHYS-1068662, No. DE-FC02-08ER41538, No. DE-SC0006505, and the

Japan/U.S. Cooperation Program.

The authors would like to thank D. Rubin, G. Dugan, J.A. Crittenden, J. Sikora, J.

Livesey, M. Palmer, and K. Harkay for their helpful advice and suggestions; R. Schwartz, S.

Santos, and S. Roy for assisting with the RFA measurements; and M. Furman at LBNL for

his support with the POSINST simulation code.

[1] M. Billing, “The Conversion of CESR to Operate as the Test Accelerator, CesrTA. Part 1:

Overview,” Journal of Instrumentation 10, p. P07012 (2015).

[2] R. A. Rosenberg & K. C. Harkay, “A Rudimentary Electron Energy Analyzer for Accelerator

Diagnostics,” Nucl. Instrum. Methods Phys. Res. A453, p. 507–513 (Oct. 2000).

[3] M. Furman, “Electron Cloud Eﬀects in Accelerators,” in Proceedings of ECLOUD 2012: 5th

International Workshop on Electron-Cloud Eﬀects, La Biodola, Elba, Italy (2012), p. 1–8.

[4] R. Cimino & T. Demma, “Electron cloud in accelerators,” Int. J. of Mod. Phys. A 29, 430023

(2014).

[5] Y. Cai, M. Pivi & M. A. Furman, “Buildup of Electron Cloud in the PEP-II Particle Accel-

erator in the Presence of a Solenoid Field and with Diﬀerent Bunch Pattern,” Phys. Rev. ST

Accel. Beams 7, 024402 (Feb. 2004).

[6] C. Yin Vallgren et al., “Amorphous Carbon Coatings for the Mitigation of Electron Cloud in

the CERN Super Proton Synchrotron,” Phys. Rev. ST Accel. Beams 14, 071001 (Jul. 2011).

[7] Y. Suetsugu et al., “Continuing Study on the Photoelectron and Secondary Electron Yield

of TiN Coating and NEG (Ti-Zr-V) Coating Under Intense Photon Irradiation at the KEKB

Positron Ring,” Nucl. Instrum. Methods Phys. Res. A556, p. 399–409 (Jan. 2006).

24

[8] K. C. Harkay & R. A. Rosenberg, “Properties of the Electron Cloud in a High-Energy Positron

and Electron Storage Ring,” Phys. Rev. ST Accel. Beams 6, 034402 (Mar. 2003).

[9] N. Eddy et al., “Measurement of Electron Cloud Development in the Fermilab Main Injector

Using Microwave Transmission,” in Proceedings of the 2009 Particle Accelerator Conference,

Vancouver, BC (2009), p. 1967–1969.

[10] M. Blaskiewicz et al., “Electron cloud instabilities in the Proton Storage Ring and Spallation

Neutron Source,” Phys. Rev. ST Accel. Beams 6, 014203 (Jan 2003).

[11] O. Dominguez et al., “First electron-cloud studies at the Large Hadron Collider,” Phys. Rev.

ST Accel. Beams 16, 011003 (Jan. 2013).

[12] F. Zimmermann, “Review of single bunch instabilities driven by an electron cloud,” Phys.

Rev. ST Accel. Beams 7, 124801 (Dec. 2004).

[13] G. Aarons et al., “International Linear Collider Reference Design Report,” Tech. Rep. ILC-

REPORT-2007-001, International Linear Collider, Batavia, IL/Tsukuba, Japan/Hamburg,

Germany (Aug. 2007).

[14] J. A. Crittenden et al., “Investigation into Electron Cloud Eﬀects in the International Linear

Collider Positron Damping Ring,” Phys. Rev. ST Accel. Beams 17, 031002 (Mar. 2014).

[15] M. A. Furman & M. T. F. Pivi, “Probabilistic Model for the Simulation of Secondary Electron

Emission,” Phys. Rev. ST Accel. Beams 5, 124404 (Dec. 2002).

[16] J. R. Calvey et al., “Comparison of Electron Cloud Mitigating Coatings Using Retarding Field

Analyzers,” Nucl. Instrum. Methods Phys. Res. A760, p. 86–97 (Oct. 2014).

[17] J. R. Calvey et al., “Measurements of Electron Cloud Growth and Mitigation in Dipole,

Quadrupole, and Wiggler Magnets,” Nucl. Instrum. Methods Phys. Res. A770, p. 141–154

(Jan. 2015).

[18] J. R. Calvey et al., “Measurement and Modeling of Electron Cloud in a Field Free Environment

Using Retarding Field Analyzers,” Phys. Rev. ST Accel. Beams 17, 061001 (Jun. 2014).

[19] J. Calvey et al., “Simulations of Electron-Cloud Current Density Measurements in Dipoles,

Drifts and Wigglers at CesrTA,” in Proceedings of the 2009 Particle Accelerator Conference,

Vancouver, BC (2009), p. 4628–4630.

[20] J. R. Calvey et al., “CesrTA Retarding Field Analyzer Modeling Results,” in Proceedings of

the 2010 International Particle Accelerator Conference, Kyoto, Japan (2010), p. 1970–1972.

[21] J. R. Calvey et al., “Update on Electron Cloud Mitigation Studies at Cesr-TA,” in Proceedings

25

of the 2011 International Particle Accelerator Conference, San Sebasti´an, Spain (2011), p.

796–798.

[22] J. R. Calvey et al., “Modeling and Simulation of Retarding Field Analyzers at CESRTA,”

in Proceedings of the 2012 International Particle Accelerator Conference, New Orleans, LA

(2012), p. 3138–3140.

[23] O. Gr¨obner, “Bunch Induced Multipactoring,” in Proceedings of the X International Confer-

ence on High Energy Accelerators, Protvino, USSR, 1977, Y. M. Ado et al., Eds. (1977), p.

277–282.

[24] K. C. Harkay, L. Loiacono & R. A. Rosenberg, “Studies of a Generalized Beam-Induced Mul-

tipacting Resonance Condition,” in Proceedings of the 2003 Particle Accelerator Conference,

Portland, OR, J. Chew, P. Lucas & S. Webber, Eds. (2003), p. 3183–3185.

[25] C. M. Celata et al., “Electron Cloud Cyclotron Resonances in the Presence of a Short-Bunch-

Length Relativistic Beam,” Phys. Rev. ST Accel. Beams 11, 091002 (Sep. 2008).

[26] M. T. F. Pivi et al., “Observation of Magnetic Resonances in Electron Clouds in a Positron

Storage Ring,” Nucl. Instrum. Methods Phys. Res. A621, p. 33–38 (Sep. 2010).

[27] “The CESR Test Accelerator Electron Cloud Research Program: Phase I Report,” Tech. Rep.

CLNS-12-2084, LEPP, Cornell University, Ithaca, NY (Jan. 2013).

[28] F. Le Pimpec et al., “Properties of TiN and TiZrV Thin Film as a Remedy Against Electron

Cloud,” Nucl. Instrum. Methods Phys. Res. A551, p. 187–199 (Jul. 2005).

[29] L. Wang, T. O. Raubenheimer & G. Stupakov, “Suppression of Secondary Emission in a

Magnetic Field Using Triangular and Rectangular Surfaces,” Nucl. Instrum. Methods Phys.

Res. A571, p. 588–598 (Feb. 2007).

[30] M. Venturini et al., “Modelling of E-cloud Build-up in Grooved Vacuum Chambers Using

POSINST,” in Proceedings of the 2007 Particle Accelerator Conference, Albuquerque, NM,

C. Petit-Jean-Genaz, Ed. (2007), p. 2993–2995.

[31] J. Berg, “Energy Gain in an Electron Cloud During the Passage of a Bunch,” Tech. Rep. LHC

Project Note 97, CERN, Geneva, Switzerland (1997).

[32] Y. Suetsugu et al., “Demonstration of Electron Clearing Eﬀect by Means of a Clearing Elec-

trode in High-Intensity Positron Ring,” Nucl. Instrum. Methods Phys. Res. A598, p. 372–378

(Jan. 2009).

[33] M. A. Furman & G. R. Lambertson, “The Electron-Cloud Instability in the Arcs of the PEP-II

26

Positron Ring,” in Proceedings of MBI97: International Workshop on Multibunch Instabilities

in Future Electron and Positron Accelerators, Tsukuba, Japan, 1997, Y. H. Chin, Ed. (1997),

KEK Proceedings 97-17, p. 170.

[34] M. A. Furman, “The Electron-Cloud Eﬀect in the Arcs of the LHC,” Tech. Rep. LHC Project

Report 180/LBNL-41482/CBP Note 247, CERN, Geneva, Switzerland (May 1998).

27

