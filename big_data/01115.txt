A Generalized Optimization Framework for
Wireless Powered Communication Networks

1

Mohamed A. Abd-Elmagid∗, Tamer ElBatt∗†, and Karim G. Seddik‡

∗Wireless Intelligent Networks Center (WINC), Nile University, Giza, Egypt.

†Dept. of EECE, Faculty of Engineering, Cairo University, Giza, Egypt.

‡Electronics and Communications Engineering Department, American University, AUC Avenue, New Cairo 11835, Egypt.

email: m.abdelaziz@nu.edu.eg, telbatt@ieee.org, kseddik@aucegypt.edu

Abstract

In this paper, we study wireless networks where nodes have two energy sources, namely a battery
and radio frequency (RF) energy harvesting circuitry. We formulate two optimization problems with
different objective functions, namely maximizing the sum throughput and maximizing the minimum
throughput, for enhanced fairness. Furthermore, we show the generality of the proposed system model
through characterizing the conditions under which the two formulated optimization problems can be
reduced to the corresponding problems of different known wireless networks, namely, conventional
wireless networks (battery-powered) and wireless powered communications networks (WPCNs) with
only RF energy harvesting nodes. In addition, we introduce WPCNs with two types of nodes, with and
without RF energy harvesting capability, in which the nodes without RF energy harvesting are utilized
to enhance the sum throughput, even beyond WPCNs with all energy harvesting nodes. We establish the
convexity of all formulated problems which opens room for efﬁcient solution using standard techniques.
Our numerical results show that the two types of wireless networks, namely WPCNs with only RF energy
harvesting nodes and conventional wireless networks, are considered, respectively, as lower and upper
bounds on the performance of the generalized problem setting in terms of the maximum sum throughput
and the maxmin throughput. Moreover, the results reveal new insights and throughput-fairness trade-offs
unique to our new problem setting.

Index Terms

Cellular networks, green communications, RF energy harvesting, convex optimization, numer-

ical results.

6
1
0
2

 
r
a

M
3

 

 
 
]
T
I
.
s
c
[
 
 

1
v
5
1
1
1
0

.

3
0
6
1
:
v
i
X
r
a

I. INTRODUCTION

2

One of the signiﬁcant challenges is to prolong the life-time of energy-constrained wireless
networks which are powered by ﬁnite capacity batteries. Although, the life-time of such networks
can be extended by replacing or recharging the batteries, it may be inconvenient and costly.
Therefore, energy harvesting has been considered a promising technique to prolong the network’s
life-time [1], [2] since it provides wireless devices with the capability of perpetual charging of
their batteries through harvesting energy from the surrounding environment. Energy harvesting
wireless devices can harvest energy from different natural sources, e.g., solar, thermal, vibrational,
electromagnetic, etc. [3]–[6].

RF energy harvesting has recently become a growing research thrust enabled by harvesting cir-
cuitries which allow wireless devices to continuously harvest energy from the surrounding radio
environment. Exploiting the fact that RF signals can carry energy and information at the same
time, a dynamic simultaneous wireless information and power transfer scheme called SWIPT
is proposed in [7]–[12]. SWIPT was ﬁrst studied from an information theoretic perspective [7],
[8]. The fundamental trade-off between transmitting energy and transmitting information at the
same time is characterized for a narrow-band noisy channels in [7] and for frequency-selective
channels in [8]. Afterwards, from a communication theoretic perspective, the fundamental trade-
off between transmitting energy and transmitting information over a point-to-point noisy link
is studied in [9]. Motivated by the fact that energy harvesting circuits are not able to harvest
energy and decode information at the same time, the authors in [10] proposed two practical
receiver designs, namely, time switching and power splitting. For the time switching scheme,
each receiving antenna periodically switches between the energy harvesting receiver and the
information decoder receiver; whereas for the splitting power scheme, the received signal is
split into two streams with different power levels; one is sent to the energy harvesting receiver
and the other to the information decoder receiver. In addition, [11] introduced dynamic power
splitting as a general SWIPT receiver operation and proposed two practical SWIPT receiver
architectures: 1) separated information and energy receivers and 2) integrated information and
energy receivers. Moreover, SWIPT is studied and proposed for orthogonal frequency division
multiplexing (OFDM) systems in [12].

Another line of research has recently considered RF-powered cognitive radio networks [13]–

3

[15]; in which the secondary users are assumed to have RF energy harvesting capability so that
they could harvest energy whether from the RF primary users’ signals or from other ambient RF
sources. The amount of harvested energy can be stored in rechargeable batteries and then used for
data transmissions. First, [13] studied the optimal mode selection policy of whether the secondary
users should harvest RF energy or access the spectrum in each slot time in order to maximize
the expected total throughput. Then, the optimal spectrum sensing policy was investigated in
[14] to maximize the expected total throughput subject to two different constraints, namely,
energy causality constraint and collision constraint; the energy causality constraint guarantees
that the total consumed energy is less than or equal the total harvested energy, while the collision
constraint protects the primary user by guaranteeing a certain lower quality of service. In [15],
the optimal transmission power and density, for the cognitive nodes, were derived in order to
maximize the secondary network throughput under given outage probability constraints in both
the primary and secondary networks.

A new type of wireless networks, namely, wireless powered communication networks (WPCNs)
has been studied in [16]–[20]. In WPCN, wireless devices use the harvested wireless energy to
communicate with each other. WPCNs have been studied under various network setups; the
wireless powered cellular network was investigated in [16], where power beacons are deployed
randomly to charge the mobile devices. On the other hand, wireless powered sensor networks
were investigated in [17], [18], where a mobile charging vehicle is moving in the network in
order to continuously provide sensor nodes with wireless energy. Moreover, [19] has proposed
a new routing metric for wireless powered sensor networks, which is based on the charging
ability of the sensor nodes. In addition, the optimal charging and transmission cycles, with the
objective of enhancing the life-time of the network under user-speciﬁed end-to-end constraints
(throughput and latency), have been characterized. Motivated by the fact that wireless energy
transfer directly impacts data communication since they both share the same frequency band,
[20] has proposed a distributed medium access protocol for sufﬁciently sharing the channel for
these two major functions.

An alternative model for WPCNs has recently attracted considerable attention [21]–[27]. In
this particular WPCN model, users ﬁrst harvest RF energy on the downlink from wireless energy
signals broadcast by a hybrid access point (HAP). Afterwards, users transmit their information
signals to the HAP on the uplink using harvested energy in the downlink phase, e.g., using

4

TDMA in [21]. In addition, [22] introduced user cooperation as a solution for the doubly near-far
phenomenon that results in unfair rate allocation among users as observed in [21]. Furthermore,
a full-duplex WPCN scheme has been introduced in [23]. Taking into consideration the practical
energy causality constraints, [24] has studied the full-duplex WPCN scheme in which each
user can only use the harvested amount of energy before its allocated uplink time for data
transmission. Cognitive radio WPCNs has been introduced in [25], where the WPCN shares the
same spectrum, for both downlink wireless energy transfer and uplink data transmissions, with
the primary wireless communication system. In addition, the authors proposed two models for
spectrum sharing, namely, underlay and overlay based cognitive WPCN, depending on the type of
available information for the cognitive WPCN about the primary wireless communication system.
Motivated by the fact that the location of HAPs and wireless energy nodes (WENs) would have
a signiﬁcant effect on the WPCN performance, the optimal node placement has been investigated
in [26]. The network deployment cost was minimized via characterizing the minimum number of
HAPs and WENs needed to achieve the performance requirements of wireless devices. WPCNs
with two types of nodes, with and without RF energy harvesting capability, was introduced in a
previous work [27]. In WPCNs with two types of nodes, the nodes without RF energy harvesting
capability are efﬁciently utilized to enhance the network performance, even beyond the WPCNs
with all energy harvesting nodes [21]. In this paper, we consider that each node in the WPCN
is jointly equipped with a battery and RF energy harvesting circuitry in an attempt to efﬁciently
utilize the consumed energy from the associated batteries via exploiting the RF energy harvesting
circuitries. This constitutes an important step towards more realistic future wireless networks as
RF energy harvesting technology gradually penetrates the wireless industry.

Our main contribution in this paper is multi-fold. First, we introduce a generalized problem
setting for WPCN, in which all the nodes are jointly equipped with batteries and RF energy har-
vesting circuitries. Second, we formulate an optimization problem for investigating the maximum
sum throughput of the generalized problem setting. Furthermore, we characterize the conditions
under which the formulated sum throughput maximization problem of the proposed WPCN can
be reduced to the sum throughput maximization problem for different known wireless networks.
Third, motivated by the fairness limitation that results from the sum throughput maximization
objective, we formulate another optimization problem for investigating the maxmin throughput
that could be achieved by each node in the network. Finally, we establish the convexity of

5

Fig. 1. Generalized WPCN where nodes are powered with two energy sources.

the formulated problems and characterize the optimal solution in closed form for two of them
and solve the other problems efﬁciently using known convex problems solvers. Our numerical
results demonstrate the fundamental trade-off between achieving maximum sum throughput and
achieving fair rate allocation among different users and reveal interesting insights about the
formulated problems.

The rest of the paper is organized as follows. The system model is presented in Section II.
In Section III, the sum throughput maximization problem of the proposed system model is
formulated and its convexity is established. Furthermore, we show the generality of the sum
throughput maximization problem via addressing the conditions under which it can be reduced to
the sum throughput maximization problem for different known wireless networks. In Section IV,
the sum throughput maximization problem of WPCNs with two types of nodes, with and without
RF energy harvesting capability, is formulated. Furthermore, the associated optimal resource
allocations are characterized in closed form. The maxmin throughput optimization problem is
formulated and its convexity is established in Section V. Numerical results are presented in
Section VI. Finally, Section VII concludes the paper.

U1U2UKg1g2gKh1h2hKBSEnergy transferData transferEb1Eb2EbKII. SYSTEM MODEL

6

We study a wireless network consisting of one BS and K users, as shown in Fig. 1. It is
assumed that the BS and all users are equipped with a single antenna each, operate over the same
frequency channel and the radios are half-duplex. Each user, denoted by Ui for i = 1,··· , K, is
assumed to be equipped with a battery and RF energy harvesting circuitry. The network operates
in a TDMA fashion. For convenience, we assume the block (slot) duration is normalized to 1.
At the ﬁrst τ0 ∈ [0, 1] fraction of time, the BS broadcasts an energizing signal over the downlink
so that each Ui could harvest a certain amount of energy and charge its battery. The remaining
1 − τ0 fraction of time is allocated to uplink data transmissions where Ui is assigned certain
portion of time denoted by τi, for i = 1,··· , K. Hence, the slot is split as follows:

K(cid:88)

τi ≤ 1.

(1)

i=0

i and g(cid:48)

i|2 and gi = |g(cid:48)

The downlink channel coefﬁcient from the BS to Ui and the uplink channel coefﬁcient from
Ui to the BS are denoted by complex random variables h(cid:48)
i, respectively, with channel
i|2. It is assumed that all downlink and uplink channels are
power gains hi = |h(cid:48)
quasi-static ﬂat fading, i.e., all downlink and uplink channels remain constant over a transmission
block, that is a time slot, but can change independently from one block to another. The BS has
perfect knowledge of the channel state information (CSI) to all users (i.e. all channel coefﬁcients)
at the beginning of each block. The transmitted energy signal from the BS to all users, over
the downlink, is denoted by xB with ﬁxed average power, PB, i.e., E (|xB|2) = PB. Hence, the
energy harvested by an arbitrary node, Ui in the downlink phase is given by

Eh

i = ηiPBhiτ0,

(2)

where ηi ∈ (0, 1) is the efﬁciency of the RF energy harvesting circuitry [28], [29], at Ui. In
addition, it is assumed that a certain amount of energy, denoted Eb
i (battery), is available at node
Ui at the beginning of each time slot. Therefore, the consumed energy per slot for uplink data
transmission by Ui, Ei, is limited by

Ei ≤ Eb

i + Eh

i , i = 1,··· , K.

(3)

According to Shannon’s formula, from (2) and (3), the achievable uplink throughput of Ui in

bits/second/Hz is given by

Ri (Ei, τi) = τi log2

= τi log2

(cid:18)
(cid:18)

1 +

(cid:19)
(cid:19)

,

giEi
Γσ2τi
Ei
τi

1 + αi

7

(4)

where σ2 is the noise power at the BS, αi =
noise ratio gap.

gi

Γσ2 for i = 1,··· , K and Γ denotes the signal to

III. SUM THROUGHPUT MAXIMIZATION

In this section, we formulate the sum throughput maximization problem for the general wireless
network shown in Fig. 1 and establish its convexity which facilitates efﬁcient solution using
standard techniques. Our objective here is to formulate the sum throughput optimization problem
for a general scenario, compared to prior work, e.g. [21], [27], whereby all nodes have two energy
sources, namely, a battery and an RF energy harvesting capability. Towards this objective, we
ﬁnd the optimal transmission durations (τ0 for harvesting, as well as τi for data transmission)
and the optimal consumed energy by each user per slot (Ei) that maximize the system sum
throughput subject to a constraint on the total energy consumption by all users per slot, denoted
by Emax, and the transmission slot duration constraint. Therefore, from (4), the problem of sum
throughput maximization per slot can be formulated as

P1 :

max
E,τ

s.t.

i=1

K(cid:88)
K(cid:88)
K(cid:88)

i=0

(cid:19)

Ei
τi

(cid:18)

τi log2

1 + αi

τi ≤ 1,

Ei ≤ Emax,

(5)

i=1

τi ≥ 0, i = 0,··· , K,
0 ≤ Ei ≤ Eb

i + ηiPBhiτ0, i = 1,··· , K,

where τ = [τ0,··· , τK] and E = [E1,··· , EK].

8

Theorem 1. P1 is a convex optimization problem.

Proof: Please refer to Appendix A.

Next, we show the generality of P1 through characterizing the conditions under which it can
reduce to the sum throughput maximization problems for different known wireless networks,
namely, conventional (no RF energy harvesting) TDMA-based wireless networks and WPCNs
with RF energy harvesting nodes only.

A. Prior formulations as special cases of P1

A salient feature of the problem formulation in P1 is its generality manifested through
capturing the fact that wireless nodes in WPCNs are typically powered using multiple energy
sources, namely, two sources (batteries and RF energy harvesting circuitry). This, in turn, gives
rise to the key observation that related prior work would fall as special cases of P1. In this
section, we present two conventional scenarios studied earlier in the literature as special cases
of P1 and introduce a third, more practical, special case [27] in Section IV.

1) Conventional TDMA-based wireless networks (no RF energy harvesting): In this scenario,
all nodes are legacy nodes and, hence, are not equipped with RF energy harvesting circuitry,
i = ∞). It is assumed that all
(τ∗
0 = 0), yet, have batteries (assumed to be unlimited, i.e., Eb
nodes consume equal energy per slot, i.e, Ei = ¯E for i = 1,··· , K. Therefore, P1 will reduce
to the sum throughput maximization problem in conventional TDMA-based wireless networks
with uplink data transmission only [30]–[32] as follows

(cid:19)

¯E
τi

(cid:18)

τi log2

1 + αi

τi ≤ 1,

P2 :

max
¯E,τ(cid:48)

s.t.

K(cid:88)
K(cid:88)

i=1

i=1

K ¯E ≤ Emax,
τi ≥ 0, i = 1,··· , K,
¯E ≥ 0,

(6)

where τ(cid:48) = [τ1,··· , τK].

Theorem 2. Given Emax > 0, the optimal energy and time allocations of P2 are given by

¯E∗ =

αi(cid:80)K

j=1 αj

Emax

,

K
, i = 1,··· , K.

τ∗
i =

9

(7)

(8)

Proof: Please refer to Appendix B.

Based on Theorem 2, it is clear that the optimal time allocated to each user for uplink
information transmission depends on how much its uplink channel power gain contributes in
the sum of all users’ channel power gains, i.e, the near users (with better channel power gains)
to the BS are allocated more uplink transmission time than the far users. This, in turn, leads to
unfairness among different users to achieve the maximum sum throughput.

2) WPCNs with RF energy harvesting nodes only [21]: In this scenario, all nodes are assumed
i = 0. In addition, there is
to have only RF energy harvesting capability and no batteries, i.e, Eb
no limitation on the allowable consumed energy per slot, i.e, Emax = ∞. Furthermore, all the
harvested energy by each user per slot is used for uplink data transmission (E∗
i = ηiPBhiτ0).
Therefore, P1 will reduce to the optimal time allocations problem to maximize the sum through-
put in WPCNs introduced in [21] as follows

P3 :

max

τ

s.t.

K(cid:88)
K(cid:88)

i=1

(cid:18)

τi log2

1 + γi

τi ≤ 1,

(cid:19)

τ0
τi

i=0

τ ≥ 0,

 x∗ − 1

A + x∗ − 1
A + x∗ − 1

γi

τ∗
i =

,

,

i = 0
i = 1,··· , K

where γi =

ηihigiPB

Γσ2

. The optimal time allocations of P3 are given by

(9)

(10)

where A =(cid:80)K

i=1 γi and x∗ > 0 is the solution of x ln x − x + 1 = A.

It is obvious by now that problem formulation P1 is, indeed, a general formulation that
encompasses two well-known conventional settings, namely conventional TDMA with no RF

10

Fig. 2. WPCN with heterongeneous nodes.

energy harvesting capability at the nodes and WPCNs with all nodes having RF energy harvesting
capability only. Furthermore, we show that P1 extends to cover a more practical scenario studied
earlier in the literature [27] with two types of nodes, namely, RF harvesting nodes and legacy
no harvesting nodes. Such that RF harvesting nodes are assumed to have zero energy at the
beginning of each slot and all the harvested energy by each user per slot is used for uplink data
transmission. While, the legacy nodes (no-harvesting) are assumed to be equipped with dedicated
unlimited energy supplies. WPCNs with two types of nodes will be presented in detail in the
next section.

IV. WPCNS WITH HETERONGENEOUS NODES

Motivated by the fact that RF energy harvesting is a new technology that may not be available
at all the nodes in the network, in this section, we study a more practically viable wireless network
setup, namely, WPCNs with heterongeneous nodes. This constitutes an important step towards
more realistic future wireless networks as RF energy harvesting technology gradually penetrates
the wireless industry. As shown in Fig. 2, the network consists of two types of nodes; one is

U1,1U2,1UM,1g1,1g2,1gM,1h1,1h2,1hM,1BSEnergy transferData transferU1,2U2,2UN,2e2eNe1g1,2gN,2g2,211

assumed to have RF energy harvesting capability and no other energy sources (Type I), denoted
by U1,i for i = 1,··· , M, while the other group has legacy nodes that are assumed not to
have RF energy harvesting capability and are equipped with dedicated unlimited energy supplies
(Type II), denoted by U2,j for j = 1,··· , N. First, the BS with a constant power supply (PB)
broadcasts an energizing signal over the downlink within τ0 fraction of time. Afterwards, U1,i
and U2,j are allocated portions of times for uplink data transmission, denoted by τ1,i and τ2,j,
respectively. It then follows that

M(cid:88)

N(cid:88)

τ0 +

τ1,i +

i=1

j=1

τ2,j ≤ 1.

(11)

The downlink channel power gain from the BS to U1,i, the uplink channel power gain from
U1,i to the BS and the uplink channel power gain from U2,j to the BS are denoted by h1,i, g1,i and
g2,j, respectively. Therefore, the achievable uplink throughput of U1,i and U2,j in bits/second/Hz
is given by

R1,i (τ0, τ1,i) = τ1,i log2

1 +

(cid:0) ¯E, τ2,j

R2,j

(cid:19)

(cid:18)
(cid:18)
(cid:1) = τ2,j log2

= τ1,i log2

1 + γi

ηiPBh1,ig1,iτ0

(cid:19)

Γσ2τ1,i
τ0
τ1,i

,

¯E
g2,j
Γσ2τ2,j

(cid:19)

¯E
τ2,j

(cid:18)
(cid:18)

1 +

= τ2,j log2

1 + θj

(cid:19)

,

(12)

(13)

respectively, where ¯E is the energy drawn by each U2,j from its dedicated energy supply within its
Γσ2 for i = 1,··· , M, j = 1,··· , N.
assigned τ2,j fraction of time, γi =
and θj =
Therefore, from (12) and (13), P1 will reduce as follows

ηih1,ig1,iPB

Γσ2

g2,j

P4 :

max
τ(cid:48)(cid:48), ¯E

M(cid:88)

i=1

(cid:18)

(cid:19)

N(cid:88)

j=1

+

τ0
τ1,i

τ1,i log2

1 + γi

τ2,j log2

1 + θj

(cid:18)

(cid:19)

¯E
τ2,j

s.t.

τ0 +

τ1,i +

τ2,j ≤ 1,

(14)

M(cid:88)

N(cid:88)

i=1

j=1

aτ0 + N ¯E ≤ Emax,
τ(cid:48)(cid:48) ≥ 0,
¯E ≥ 0,

where τ(cid:48)(cid:48) = [τ0, τ1,1,··· , τ1,M , τ2,1,··· , τ2,N ] and a =(cid:80)M

i=1 ηiPBh1,i.

12

Theorem 3. Given Emax > 0, the optimal time and energy allocations for P4 are given by

(cid:21)

,

x∗ − 1

(cid:20)
A1 + x∗ − 1
a
1 − 1) − EmaxA2
1 − 1 + A1) − aA2

,

Emax

,

min
N (x∗
N (x∗

τ∗
0 =

0,

(cid:20)

max

(cid:18)

(cid:19)(cid:21)

,

γi

A1 + x∗ − 1

,

γi
A1

1 − Emax
a

γi (N (x∗
1 − 1) (N (x∗
(x∗

1 − 1) − EmaxA2)

1 − 1 + A1) − aA2)

,

τ∗
1,i =

0,





if Emax ≤ a(x∗
A1 + x∗
1 − 1)
if a(x∗
(cid:18)
1 − 1
A1 + x∗
Emax ≥ N
A2

if

(cid:16)

1 − 1)
1 − 1

and A1 ≥ a
N

A2

≤ Emax ≤ N
A2

1 − 1) and A1 ≥ a
(x∗
N

(cid:19)

1 − 1) and A1 ≥ a
(x∗
N

A2

(cid:17)

or

A1 <

a
N

A2

A2

(15)

A2

and A1 ≥ a
N
1 − 1)
(x∗

1 − 1)
1 − 1

if Emax ≤ a(x∗
A1 + x∗
if a(x∗
A1 + x∗
(cid:18)

1 − 1)
1 − 1
and A1 ≥ a
N

≤ Emax ≤ N
A2

if

Emax ≥ N
A2

1 − 1) and A1 ≥ a
(x∗
N

A2

(cid:17)

(cid:16)

or

A1 <

a
N

A2

(cid:19)

A2

(16)

τ∗
2,j =

0,
θj (Emax (x∗
1 − 1) (N (x∗
(x∗

1 − 1 + A1) − a (x∗

1 − 1))
1 − 1 + A1) − aA2)

,

θj
A2

,

A2

and A1 ≥ a
N
1 − 1)
(x∗

1 − 1)
1 − 1

if Emax ≤ a(x∗
A1 + x∗
if a(x∗
A1 + x∗
(cid:18)

1 − 1)
1 − 1
and A1 ≥ a
N

≤ Emax ≤ N
A2

if

Emax ≥ N
A2

1 − 1) and A1 ≥ a
(x∗
N

A2

(cid:17)

(cid:16)

or

A1 <

a
N

A2

(cid:19)

A2

(17)



¯E∗ =

0,
Emax (x∗
N (x∗

1 − 1 + A1) − a (x∗
1 − 1 + A1) − aA2

1 − 1)

,

Emax

N

,

13

A2

and A1 ≥ a
N
1 − 1)
(x∗

1 − 1)
1 − 1

if Emax ≤ a(x∗
A1 + x∗
if a(x∗
A1 + x∗
(cid:18)

1 − 1)
1 − 1
and A1 ≥ a
N

≤ Emax ≤ N
A2

A2

1 − 1) and A1 ≥ a
(x∗
N

if

(cid:19)

A2

(cid:17)

a
N

A2

Emax ≥ N
A2

(cid:16)
i=1 γi, A2 =(cid:80)N

A1 <

or

(18)
1 > 1 is the solution

j=1 θj, x∗

0,



0,

τ∗
1,1 =

for i = 1,··· , M and j = 1,··· , N, where A1 =(cid:80)M

of f (x1) = A1 − a
N

A2 and x∗ > 1 is the solution of f (x) = A1, where

f (x) = x ln(x) − x + 1.

(19)

Proof: Please refer to Appendix C.

For the sake of obtaining more insight into the solution given in Theorem 3, we study the

case of a WPCN with two users; one user of each type mentioned before.

(cid:21)

x∗ − 1

(cid:20)
γ1 + x∗ − 1
min
,
1 − 1 − Emaxθ1
x∗
1 − 1 + b (g1,1 − g2,1)
x∗

The two-user case: With the purpose of capturing the optimality criteria of P4, we study a
simple WPCN with two types of nodes with M = 1 and N = 1. Based on Theorem 3, the
optimal time and energy allocations will reduce to:
if Emax ≤ a(x∗
γ1 + x∗
1 − 1)
if a(x∗
(cid:18)
1 − 1
γ1 + x∗
Emax ≥ 1
(cid:21)
θ1

or (g1,1 < g2,1)
(20)

1 − 1) and g1,1 ≥ g2,1
(x∗

1 − 1) and g1,1 ≥ g2,1
(x∗

≤ Emax ≤ 1
θ1

and g1,1 ≥ g2,1

1 − 1)
1 − 1



τ∗
0 =

(cid:19)

Emax

(cid:20)

if

,

a

,

γ1

max

γ1 + x∗ − 1
γ1 (x∗
1 − 1) (x∗
(x∗

, 1 − Emax
a
1 − 1 − Emaxθ1)
1 − 1 + b (g1,1 − g2,1))

,

,

1 − 1)
1 − 1

and g1,1 ≥ g2,1

1 − 1)
(x∗

≤ Emax ≤ 1
θ1
and g1,1 ≥ g2,1

if Emax ≤ a(x∗
γ1 + x∗
if a(x∗
γ1 + x∗
(cid:18)

1 − 1)
1 − 1

Emax ≥ 1
θ1

if

1 − 1) and g1,1 ≥ g2,1
(x∗

or (g1,1 < g2,1)

(21)

(cid:19)




0,
1 − 1 + γ1) − a (x∗
Emax (x∗
1 − 1 + b (g1,1 − g2,1)
x∗

1 − 1)

,

¯E∗ =

Emax,

0,
θ1 (Emax (x∗
1 − 1) (x∗
(x∗

1 − 1))
1 − 1 + γ1) − a (x∗
1 − 1 + b (g1,1 − g2,1))

,

1,

1 − 1)
1 − 1

and g1,1 ≥ g2,1

1 − 1)
(x∗

≤ Emax ≤ 1
θ1
and g1,1 ≥ g2,1

if Emax ≤ a(x∗
γ1 + x∗
if a(x∗
γ1 + x∗
(cid:18)

1 − 1)
1 − 1

Emax ≥ 1
θ1

if

1 − 1) and g1,1 ≥ g2,1
(x∗

τ∗
2,1 =

14

(cid:19)

(22)

(23)

or (g1,1 < g2,1)
1 − 1)
1 − 1

and g1,1 ≥ g2,1

1 − 1)
(x∗

≤ Emax ≤ 1
θ1
and g1,1 ≥ g2,1

1 − 1) and g1,1 ≥ g2,1
(x∗

if Emax ≤ a(x∗
γ1 + x∗
if a(x∗
γ1 + x∗
(cid:18)

1 − 1)
1 − 1

Emax ≥ 1
θ1

if

(cid:19)

or (g1,1 < g2,1)

, x∗

γ1
g1,1

1 > 1 is the solution of f (x1) = b (g1,1 − g2,1) and x∗ > 1 is the solution
where b =
of f (x) = γ1, where f (x) is deﬁned in (19). It is observed that the energy harvesting node is
only allocated portion of slot duration (either for harvesting τ0 or for data transmission τ1,1)
if its uplink channel power gain (g1,1) is greater than the channel power gain of the legacy
node (g2,1), i.e, it is nearer to the BS. Otherwise, the total slot duration and the total allowable
consumed energy per slot (Emax) is assigned to the legacy node. Furthermore, it is observed
that, for g1,1 ≥ g2,1, the portion of time which is allocated to the energy harvesting node depends
on the value of Emax. Based on the value of the allowable energy consumption per slot (Emax),
there are three different scenarios as follows. First, for small values of Emax, i.e, Emax ≤
a(x∗
, the energy harvesting node is allocated the total slot duration and the allowable
γ1 + x∗
1−1),
energy consumption per slot. On the other hand, for large values of Emax, i.e, Emax ≥ 1
(x∗
θ1
the total slot duration and the allowable energy consumption per slot are assigned for the legacy
node. Finally, for a(x∗
1 − 1), each user is assigned portion of time
(x∗
γ1 + x∗
for uplink data transmission which is proportional to its uplink channel power gain. Taking
into consideration the above two observations, the sum throughput maximization results in an

≤ Emax ≤ 1
θ1

1 − 1)
1 − 1

1 − 1)
1 − 1

15

Fig. 3. Optimal time allocation vs. Emax.

unfair achievable throughput among different users. In addition, it is observed that each node
is allocated uplink transmission time which does not only depend on its uplink channel power
gain, as in conventional TDMA-based wireless networks and WPCNs with energy harvesting
nodes only, but also depends on the amount of allowable energy consumption per slot.

( g1,1
g2,1

Fig. 3 shows the optimal time allocation, for a WPCN with two types of nodes with M = 1
= 2, 2.5, 3, 3.5 and 4). We ﬁx a = 5 and

and N = 1 vs. Emax for different values of g1,1
g2,1
θ1 = 20. It is observed that as g1,1
expands, the range of Emax values for which both users are
g2,1
allocated portions of the slot duration for data transmission, given by a(x∗
≤ Emax ≤
γ1 + x∗
1 − 1), expands. It is also observed that τ2,1 monotonically increases and τ1,1 monotonically
(x∗

1 − 1)
1 − 1

1
θ1
decreases as Emax increases in that range of Emax values.

It is obvious by now that the resource allocation problem in WPCNs with heterongeneous
nodes, that maximizes the sum throughput, depends on two major factors: 1) the total amount of
allowable energy consumption per slot (Emax) and 2) the channel power gains of the different
nodes (distances to the BS). That, in turn, leads to unfair rate allocation among different users as

012345600.10.20.30.40.50.60.70.80.91Emax (joules)time(sec)  τ0τ1,1τ2,1g1,1g2,1increasesshown above. In the next section, we formulate another optimization problem with the objective
of fairness that is maximizing the minimum achievable throughput by each node.

16

V. FAIR RATE ALLOCATION IN GENERALIZED WPCNS

In this section, we shift our attention to the fair rate allocation problem in generalized WPCNs.
This is motivated by the fairness challenges faced by P1 as discussed next. In particular, we
formulate a maxmin rate allocation problem.

A. Motivation

Given the sum throughput maximization objective in P1, the total consumed energy per slot
constraint allocates more energy and transmission times to the nodes with better channel power
gains and, hence, more uplink transmission time. This, in turn, leads to unfair rate allocation
among different users. In Fig. 4, Jain’s fairness index (JFI) [33] is plotted for the optimal
solution of P1 against the pathloss exponent for a wireless network with K = 2. Generally,

(cid:17)2

(cid:16)(cid:80)K
K(cid:80)K

i=1 Ri

i=1 R2
i

2 = 10−7 joules, σ2 = −160 dBm/Hz, η1 = η2 = 0.5, Γ = 9.8 dB, d1 =

. We consider the channel power gains are modeled as hi =
JFI is deﬁned as
for i = 1,··· , K, where di denotes the distance between Ui and the BS, β
−β
gi = 10−3ρ2
i d
i
i is
denotes the pathloss exponent and ρi is the standard Rayleigh short term fading; therefore ρ2
exponentially distributed random variable with unit mean. In addition, We use PB = 20 dBm,
1 = Eb
Eb
= 5
meters, Emax = 10−6 joules and the bandwidth is set to be 1 MHz. In addition, each throughput
value is obtained by averaging over 1000 randomly generated channel realizations. For a wireless
network that consists of two users, the JFI ranges from 0.5 (worst case) to 1 (best case) and it
is maximum when the two users achieve the same throughput. It is observed that the fairness
index monotonically decreases as the pathloss exponent increases till it nearly approaches its
worst value (0.5) when β = 4. This happens since the gap between the users’ channel power
gains increases as the pathloss exponent increases. This, in turn, highlights one instance of the
fundamental throughput-fairness trade-off, where the maximum sum throughput is achieved at
the expense of a modest degradation in the fairness.

d2
2

17

Fig. 4.

Jain’s fairness index vs. pathloss exponent for K = 2.

B. Maxmin fairness problem formulation

Motivated by the fairness limitations of P1, we formulate a second optimization problem
targeting the fairness in the well-known maxmin sense [34] subject to the same constraints of
P1 as follows.

P1Maxmin : max
E,τ

s.t.

K(cid:88)
K(cid:88)

i=0

min

i

(Ri (Ei, τi))

τi ≤ 1,

Ei ≤ Emax,

(24)

i=1

τi ≥ 0, i = 0,··· , K,
0 ≤ Ei ≤ Eb

i + ηiPBhiτ0, i = 1,··· , K.

Based on Theorem 1, it follows that the objective function of problem P1Maxmin which is the
minimum of a set of concave functions, i.e, Ri (Ei, τi) for i = 1,··· , K, is a concave function.
Therefore, P1Maxmin is a convex optimization problem. An equivalent optimization problem to

22.533.5422.533.5420.50.550.60.650.70.750.80.850.90.951Pathloss ExponentJain’s Fairness Index  P1MinimumJFIvalueforK=2MaximumJFIvalueforK=2P1Maxmin can be formulated as follows
P1Maxmin∗ : max

t,E,τ

t

s.t.

τi log2

K(cid:88)

(cid:19)

≥ t, i = 1,··· , K,

18

(25)

(cid:18)

1 + αi

Ei
τi
Ei ≤ Emax,

i=1

τi ≥ 0, i = 0,··· , K,
0 ≤ Ei ≤ Eb

i + ηiPBhiτ0, i = 1,··· , K,

where t is an auxiliary variable that denotes the minimum throughput achieved by each user.

VI. NUMERICAL RESULTS

In this section, we provide numerical results showing the merits of the formulated optimization
problems and the associated trade-offs. Motivated by the convexity of the formulated problems,
we use standard optimization tools, e.g., CVX [35], to obtain the optimal solutions for problems
without closed form expressions. We consider same parameters as in [21] as follows. We use
PB = 20 dBm, σ2 = −160 dBm/Hz, ηi = 0.5 for i = 1,··· , K, Γ = 9.8 dB and the bandwidth is
set to be 1 MHz. In addition, we consider the same model for the channel power gains as in Fig.
4. Moreover, each throughput curve shown later is obtained by averaging over 1000 randomly
generated channel realizations. Our objective it to compare the performance of the generalized
problem setting with the performance of different wireless networks discussed in sections III
and IV, namely, conventional TDMA-based wireless networks, WPCNs with energy harvesting
nodes only and WPCNs with two types of nodes subject to same amount of available resources.
In Fig. 5, we compare the average maximum achievable sum throughput for the 4 studied
systems vs. the pathloss exponent (β). We consider the same scenario for all studied networks.
The WPCN with two types of nodes is assumed to have N = 1, M = 1, d1,1 = 10 meters
and d2,1 = 5 meters. In addition, the other wireless networks are considered to have two users
with the same d1,1 and d2,1 given above. Furthermore, the average maximum achievable sum
throughput of the generalized problem setting (P1) is plotted for different values of Eb
1 =
2 = 10−7, 3× 10−7, 7× 10−7, 2× 10−6 and 5× 10−6 joules). Our objective is to fairly compare
Eb
the four systems with the same total amount of energy resources. Towards this objective, at each

i (Eb

19

pathloss exponent value, the average total harvested energy over the 1000 channel realizations
for the WPCN with only energy harvesting nodes (P3) is assumed to be Emax in P1, P2 and P4
(i.e., a per slot energy constraint). This, in turn, results in the same long-term average energy in
all the systems.

A number of observations are now in order. First, we note that the average maximum sum
throughput of the four studied systems monotonically decreases as the pathloss exponent in-
creases. This happens because the channel power gains becomes worse as β increases. Therefore,
the amount of harvested energy by each user becomes lower and, hence, the average maximum
sum throughput decreases. Second, the average maximum sum throughput achieved by P4 is
higher than the average maximum sum throughput achieved by P3 due to the fact that the total
consumed energy per slot constraint allocates more energy to the user with better channel power
gains that is, the legacy node in our scenario, to maximize the sum throughput. Therefore, in our
scenario, the average maximum sum throughput is obtained via allocating more energy to the
legacy node than the energy harvesting node and, hence, reducing τ0. Unlike the WPCN with
energy harvesting nodes only where the amount of harvested energy by the farther user cannot
be efﬁciently utilized for uplink data transmissions and cannot be reduced through reducing the
τ0 as in P4 since the user closer to the BS is also an energy harvesting node which harvests
its energy during that τ0 fraction of time. Therefore, it is clear that the average maximum sum
throughput of P4 outperforms the one of WPCN with energy harvesting nodes only. In addition,
it is clear that the highest average maximum sum throughput can be obtained by P2 since τ∗
0 = 0
and the total slot duration is allocated for uplink data transmission. Third, the average maximum
sum throughput obtained by P1 increases as the amount of allowable consumed energy per slot
i ) increases till it approaches the performance of P1 (best case). On the other hand, as Eb
(Eb
i
decreases, the average maximum sum throughput obtained by P1 decreases till it approaches the
performance of P3 (worst case) when Eb

i = 0, i ∈ {1, 2}.

In Fig. 6, the average maximum achievable sum throughput is plotted for the four systems
under consideration against PB considering the same scenario in Fig. 5 and using β = 2. It is
observed that the average maximum sum throughput of the four studied systems monotonically
increases as the PB increases. This happens because, as PB increases, the amount of harvested
energy by each user increases. This, in turn, results in a higher achievable average maximum
sum throughput. It is also observed that , as in Fig. 5, the average maximum sum throughput

20

obtained by P2 and P3 can be considered, respectively, as upper and lower bounds to the one
obtained by the P1.

Motivated by the inherent unfairness witnessed for the sum throughput maximization formu-
lation for the 4 studied systems, Fig. 7 shows the average maxmin throughput comparison with
the same set of parameters as in Fig. 5. We denote the maxmin formulation of Pi by PiMaxmin,
i ∈ {1, 2, 3, 4}. It is observed that the average maxmin throughput achieved by P1Maxmin for all
i , conventional TDMA-based wireless network and WPCN with
different considered values of Eb
two type of nodes is larger than that of the WPCN with energy harvesting nodes only. It is also
observed that twice the average maxmin throughput of each system at each pathloss exponent
value (which is the average sum throughput given that we have only two users) is less than the
average maximum sum throughput for the same system (Fig. 5). This, in turn, demonstrates the
fundamental trade off between achieving maximum sum throughput and achieving fair throughout
allocations among different users.

In Fig. 8, the average maxmin throughput is plotted for the four systems under consideration
against PB considering the same scenario in Fig. 6. It is observed that the average maxmin
throughput of the four studied systems monotonically increases as the PB increases. It is also
observed that for small values of PB, i.e., PB ≤ 7.5 dBm, the average maxmin throughput
obtained by P1Maxmin for different values of Eb
i achieves the highest average maxmin throughput
obtained by P2Maxmin. In addition, the range of PB values in which the performance of P1Maxmin
keeps tracking the performance of P2Maxmin expands as the amount of available consumed energy
at the beginning of each slot (Eb

i ) increases.

Fig. 9 shows the effect of scaling the system with larger number of nodes on the network
performance via comparing the average maximum sum throughput of P2, P3 and P4. Towards
6 meters for
this objective, we consider The network has six users with same distance d = 10
the three systems under consideration. It is observed that as the number of Type II nodes (N)
in P4 increases, the average maximum sum throughput increases since increasing N reduces
the allocated time for energy harvesting (τ0) and, hence, the average maximum sum throughput
increases via assigning that reduction in (τ0) for uplink data transmission through Type II nodes.
Therefore, it is clear that the highest and lowest maximum achievable sum throughput are
obtained, respectively, by the extreme cases of N = 6, M = 0 (P2) and N = 0, M = 6
(P3).

21

Fig. 5. Average maximum sum throughput vs. Pathloss Exponent.

Fig. 6. Average maximum sum throughput vs. PB.

22.22.42.62.833.23.43.63.8400.511.522.533.544.5Pathloss ExponentAverage Sum Throughput (Mbps)  P3P4P1 (Ebi = 10−7)P1 (Ebi = 3 × 10−7)P1 (Ebi =7 × 10−7)P1 (Ebi = 2 × 10−6)P1 (Ebi = 5 × 10−6)P205101520253001234567PB (dBm)Average Sum Throughput (Mbps)  P3P4P1 (Ebi = 10−7)P1 (Ebi = 3 × 10−7)P1 (Ebi = 7 × 10−7)P1 (Ebi = 2 × 10−6)P1 (Ebi = 5 × 10−6)P222

Fig. 7. Average maxmin throughput vs. Pathloss Exponent.

Fig. 8. Average maxmin throughput vs. PB.

22.22.42.62.833.23.43.63.8400.20.40.60.811.21.41.61.8Pathloss ExponentAverage Maxmin Throughput (Mbps)  P3MaxminP4MaxminP1Maxmin (Ebi = 10−7)P1Maxmin (Ebi = 3 × 10−7)P1Maxmin (Ebi = 7 × 10−7)P1Maxmin (Ebi = 2 × 10−6)P1Maxmin (Ebi = 5 × 10−6)P2Maxmin05101520253000.511.522.533.5PB (dBm)Average Maxmin Throughput (Mbps)  P3MaxminP4MaxminP1Maxmin (Ebi = 10−7)P1Maxmin (Ebi = 3 × 10−7)P1Maxmin (Ebi = 7 × 10−7)P1Maxmin (Ebi = 2 × 10−6)P1Maxmin (Ebi = 5 × 10−6)P2Maxmin23

Fig. 9. Average maximum sum throughput vs. Pathloss Exponent.

VII. CONCLUSION

This paper studies a generalized problem setting for wireless powered communication net-
works. Under this setting, each node has two energy sources; dedicated energy supply, i.e.,
battery, and RF energy harvesting circuitry. A BS ﬁrst broadcasts an energizing signal over the
downlink so that each user could harvest a certain amount of energy for uplink information
transmission, then all users send their information independently to the BS using TDMA.
We formulate two optimization problems to investigate the maximum sum throughput and
the maxmin throughput. Moreover, we study the different known wireless networks that fall
as special cases of the proposed system model, namely, conventional TDMA-based wireless
networks, WPCNs with only RF energy harvesting nodes and WPCNs with two types of nodes.
Our numerical results reveal that the performance of the generalized problem setting in terms
of the maximum sum throughput and the maxmin throughput is deﬁned by the amount of
allowable consumed energy from energy supplies per slot. The generalized problem performance
approaches the performance of conventional TDMA-based wireless networks as the amount of
allowable consumed energy from energy supplies per slot increases. On the other hand, the

22.22.42.62.833.23.43.63.848.599.51010.51111.51212.51313.5Pathloss ExponentAverage Sum Throughput (Mbps)  M=0,N=6 (P2)M=1,N=5M=2,N=4M=3,N=3M=4,N=2M=5,N=1M=6,N=0 (P3)24

performance of the generalized problem approaches the performance of WPCNs with only RF
energy harvesting nodes as the amount of allowable consumed energy from energy supplies per
slot decreases. They also demonstrate the fundamental trade off between achieving maximum
sum throughput and achieving fairness among different users. In addition, the results reveal the
superiority of our realistic system accommodating legacy nodes, along with RF harvesting nodes,
compared to the WPCN system with RF energy harvesting nodes only. As part of the future
work, we would like to consider that all nodes in the generalized WPCN are equipped with ﬁnite
battery queues.

(cid:18)

(cid:19)

Ei
τi

APPENDIX A

1 + αi

τi log2

is the perspective function of the concave function log2 (1 + αiEi) which
preserves the concavity of Ri with respect to (Ei, τi). Since the non-negative weighted sum of
concave functions is also concave [35], then the objective function of P1, which is the non-
negative weighted summation of concave functions, i.e., Ri for i = 1,··· , K, is a concave
function in (E, τ ). In addition, all constraints of P1 are afﬁne in (E, τ ). This establishes the
proof.

(cid:19)

(cid:18)

APPENDIX B
¯E
τi

1 + αi

It can be easily shown that Ri = τi log2

is a monotonically increasing function
in ( ¯E, τi). Therefore the total consumed energy per slot constraint should hold with equality at
i = 1 must hold. Hence, the optimal consumed energy per slot

the optimality. Similarly,(cid:80)K

i=1 τ∗

¯E is given by

Therefore, P2 will be reduced as follows

¯E∗ =

Emax

K

.

(cid:19)

Emax
Kτi

P2(cid:48) :

max
τ(cid:48)

s.t.

K(cid:88)
K(cid:88)

i=1

i=1

(cid:18)

τi log2

1 + αi

τi = 1,

τi ≥ 0, i = 1,··· , K.

(26)

(27)

(cid:33)

(cid:32) M(cid:88)

i=1

Based on Theorem 1, P2(cid:48) is a convex optimization problem and its Lagrangian is given by

L (τ(cid:48), µ) = Rsum (τ(cid:48)) + µ

τi − 1

,

(28)

where Rsum (τ(cid:48)) =(cid:80)K

(cid:18)

(cid:19)

Emax
Kτi

1 + αi

i=1 τi log2

and µ is the Lagrangian dual variable associated
with the total slot duration constraint. It can be easily shown that there exists a τ(cid:48) that strictly
satisﬁes all constraints of P2(cid:48). Hence, according to Slater’s condition [35], strong duality holds for
this problem; therefore, the Karush-Kuhn-Tucker (KKT) conditions are necessary and sufﬁcient
for the global optimality of P2(cid:48), which are given by

(cid:18)

(cid:19)

L (τ(cid:48)∗, µ∗) = log2

∂
∂τ∗

i

1 + αi

Emax
Kτ∗

i

−

(cid:19) + µ∗ = 0, i = 1,··· , M,

αi

(cid:18)

Emax
Kτ∗

i

1 + αi

Emax
Kτ∗

i

ln(2)

K(cid:88)

i=1

τ∗
i = 1,

25

(29)

(30)

where τ(cid:48)∗ and µ∗ denote, respectively, the optimal primal and dual solutions of P2(cid:48). Therefore,
from (29) and (30) we have

α1

Emax
Kτ∗

1

= α2

Emax
Kτ∗

2

··· αK

Emax
Kτ∗

K

=

Emax

K

Thus from (31), the optimal time allocations are given by

τ∗
i =

This establishes the proof.

αi(cid:80)K

j=1 αj

, i = 1,··· , K.

K(cid:88)

j=1

αj.

(31)

(32)

P4 is a convex optimization problem and its Lagrangian is given by

L(cid:0)τ(cid:48)(cid:48), ¯E, λ, µ(cid:1) = Rsum

(cid:0)τ(cid:48)(cid:48), ¯E(cid:1) − λ

(cid:32)

APPENDIX C

M(cid:88)

i=1

N(cid:88)

j=1

τ0 +

τ1,i +

τ2,j − 1

(33)
where λ and µ are the Lagrangian dual variables associated with the slot duration and the total
consumed energy per slot constraints, respectively, and Rsum

i=1 R1,i (τ0, τ1,i) +

(cid:80)N

j=1 R2,j

(cid:0) ¯E, τ2,j

(cid:1). Hence, the dual function can be expressed as
L(cid:0)τ(cid:48)(cid:48), ¯E, λ, µ(cid:1) ,

G (λ, µ) = max
τ(cid:48)(cid:48), ¯E∈S

(34)

(cid:33)

(cid:1) ,

− µ(cid:0)aτ0 + N ¯E − Emax
(cid:0)τ(cid:48)(cid:48), ¯E(cid:1) = (cid:80)M

where S is the feasible set speciﬁed by τ(cid:48)(cid:48) ≥ 0 and ¯E ≥ 0. It can be easily shown that there
exists a (τ(cid:48)(cid:48), ¯E) that strictly satisﬁes all constraints of P4. Hence, according to Slater’s condition
[35], strong duality holds for this problem; therefore, the KKT conditions are necessary and
sufﬁcient for the global optimality of P4, which are given by

∂
∂ ¯E∗ Rsum

where(cid:0)τ(cid:48)(cid:48)∗, ¯E∗(cid:1) and (λ∗, µ∗) denote, respectively, the optimal primal and dual solutions of P4.
(cid:80)N

(cid:0)τ(cid:48)(cid:48), ¯E(cid:1) is a monotonic increasing function in (cid:0)τ(cid:48)(cid:48), ¯E(cid:1), therefore τ∗

0 + N ¯E∗ = Emax must hold. From (39) - (42), we have

0 +(cid:80)M

2,j = 1 and aτ∗

Since Rsum

i=1 τ∗

j=1 τ∗

1,i +

(42)

M(cid:88)
(cid:19)

i=1

τ∗
τ∗

0

1,i

(cid:18)

ln

1 + γi

(cid:18)

ln

1 +

(cid:19)

¯E∗θj
τ∗

2,j

26

(35)

(36)

(37)

(38)

(39)

(40)

(41)

(43)

(44)

(45)

λ∗

∂
∂τ0

i=1

j=1

τ∗
0 +

τ∗
0 +

τ∗
1,i +

τ∗
1,i +

N(cid:88)

N(cid:88)

M(cid:88)
2,j ≤ 1,
τ∗
(cid:32)
(cid:33)
0 + N ¯E∗ ≤ Emax,
aτ∗
M(cid:88)
2,j − 1
τ∗
µ∗(cid:0)aτ∗
(cid:1) = 0,
(cid:0)τ(cid:48)(cid:48)∗, ¯E∗(cid:1) − (λ∗ + aµ∗) = 0,
(cid:0)τ(cid:48)(cid:48)∗, ¯E∗(cid:1) − λ∗ = 0, i = 1,··· , M,
(cid:0)τ(cid:48)(cid:48)∗, ¯E∗(cid:1) − λ∗ = 0, j = 1,··· , N,

0 + N ¯E∗ − Emax

Rsum

= 0,

j=1

i=1

(cid:0)τ(cid:48)(cid:48)∗, ¯E∗(cid:1) − N µ∗ = 0,

∂

∂τ1,i

∂

∂τ2,j

Rsum

Rsum

γi

= (λ∗ + aµ∗) ln(2),

τ∗
τ∗

0

1,i

1 + γi

−

−

1 + γi

τ∗
τ∗

0

1,i

γi

1,i

0

τ∗
τ∗
¯E∗θj
τ∗
¯E∗θj
τ∗

2,j

2,j

1 +

= λ∗ ln(2), i = 1,··· , M,

= λ∗ ln(2), j = 1,··· , N.

N(cid:88)

θj

j=1

1 + θj

¯E∗
τ∗

2,j

= N µ∗ ln(2),

Therefore, from (44) and (45) we have

γ1τ∗
τ∗

1,1

0

=

γ2τ∗
τ∗

1,2

0

0

= ··· γM τ∗
0 +(cid:80)M
τ∗
i=1 τ∗

¯E∗θ1
τ∗

1,i +(cid:80)N

= ··· ¯E∗θN
τ∗

¯E∗θ2
τ∗
2,j = 1 and (47). Hence, τ∗
j=1 τ∗

= x1.

1,M

=

=

2,N

2,2

2,1

1,i and τ∗

2,j can

Taking into consideration that τ∗
be expressed, respectively, by

27

(46)

(47)

(48)

(49)

(50)

(51)

(52)

(53)

(54)

(55)

(56)

τ∗
1,i =

1 − 1) − EmaxA2)

γi (N (x∗
1 − 1) (N (x∗
(x∗
θj (Emax (x∗
1 − 1) (N (x∗
(x∗

1 − 1 + A1) − a (x∗

1 − 1 + A1) − aA2)
1 − 1))
1 − 1 + A1) − aA2)

, i = 1,··· , M,

, j = 1,··· , N,

j=1 θj. From (43) and (46), it follows that

where A1 =(cid:80)M

τ∗
2,j =

i=1 γi and A2 =(cid:80)N

λ∗ =

µ∗ =

A2

,

N x1 ln(2)
A1 − a
N
x1 ln(2)

A2

.

Substituting µ∗ into (44), we have

x1 ln(x1) − x1 + 1 = A1 − a
N

A2.

From (48) and (49), it is clear that x1 > 1 if A1 > 0, A2 > 0 and 0 < τ∗
1 > 1 for (52) if A1 ≥ a
N

0 < 1. According to
[21, Lemma 3.2], there exists a unique solution x∗
A2, otherwise the
total slot time and the total allowable consumed energy per slot will be assigned to the Type II
nodes for uplink information transmissions. Thus from (47)-(52), the optimal time and energy
allocations are given by

τ∗
1,i =
θj (Emax (x∗

τ∗
0 =
γi (x∗
1 − 1) (x∗
(x∗

1 − 1) − EmaxA2
1 − 1 + A1) − aA2

N (x∗
N (x∗
1 − EmaxA2 − 1)

1 + A1 − aA2 − 1)

,

K (x∗
¯E∗ =

1 + A1 − 1) − a (x∗

1 − 1))
1 + A1 − aA2 − 1)
1 − 1 + A1) − a (x∗
1 − 1 + A1) − aA2

1 − 1) (x∗
Emax (x∗
N (x∗

τ∗
2,j =

, i = 1,··· , M,

, j = 1,··· , N.
1 − 1)

.

From (53) - (56), for [τ∗

0 , τ∗

2,1,··· , τ∗

1,1,··· , τ∗
1,M , τ∗
1 − 1), then we have [τ∗
(x∗

2,N , ¯E∗] ≥ 0 , we must have a(x∗
A1 + x∗

1 − 1)
1 − 1

1 − 1). If Emax >
(x∗

Emax ≤ N
1,M ] < 0. Hence, the
A2
total slot time and the total allowable consumed energy per slot will be assigned to the Type II
nodes for uplink information transmissions. Therefore, from (37) and (45), the optimal time and
energy allocations are given by

1,1,··· , τ∗

0 , τ∗

N
A2

τ∗
0 = 0,

1,i = 0, i = 1,··· , M,
τ∗
, j = 1,··· , N,
τ∗
2,j =

θj
A2
¯E∗ =

Emax

N

.

a(x∗
A1 + x∗

1 − 1)
1 − 1

On the other hand, if Emax <

2,N , ¯E∗] < 0. Hence, the
total slot time and the total allowable consumed energy per slot will be assigned to the Type
I nodes for uplink information transmissions. Therefore, from (37), (43) and (44), the optimal
time and energy allocations are given by

, then we have [τ∗

2,1,··· , τ∗

(cid:21)

,

, i = 1,··· , M,

28

≤

(57)

(58)

(59)

(60)

(61)

(62)

(63)

(64)

(cid:20)

(cid:20)

τ∗
1,i = max

τ∗
0 = min

x∗ − 1

γi

,

Emax

(cid:18)

A1 + x∗ − 1
γi
A1

(cid:19)(cid:21)
a
1 − Emax
a
2,j = 0, j = 1,··· , N,
τ∗

A1 + x∗ − 1

,

This establishes the proof.

¯E∗ = 0.

REFERENCES

[1] C. K. Ho and R. Zhang, “Optimal energy allocation for wireless communications with energy harvesting constraints,”

Signal Processing, IEEE Transactions on, vol. 60, no. 9, pp. 4808–4818, May 2012.

[2] O. Ozel, K. Tutuncuoglu, J. Yang, S. Ulukus, and A. Yener, “Transmission with energy harvesting nodes in fading wireless
channels: Optimal policies,” Selected Areas in Communications, IEEE Journal on, vol. 29, no. 8, pp. 1732–1743, September
2011.

[3] J. Paradiso, T. Starner et al., “Energy scavenging for mobile and wireless electronics,” Pervasive Computing, IEEE, vol. 4,

no. 1, pp. 18–27, March 2005.

29

[4] J. M. Rabaey, M. J. Ammer, J. L. da Silva, D. Patel, and S. Roundy, “Picoradio supports ad hoc ultra-low power wireless

networking,” Computer, vol. 33, no. 7, pp. 42–48, July 2000.

[5] V. Raghunathan, C. Schurgers, S. Park, and M. B. Srivastava, “Energy-aware wireless microsensor networks,” Signal

Processing Magazine, IEEE, vol. 19, no. 2, pp. 40–50, March 2002.

[6] S. J. Roundy, “Energy scavenging for wireless sensor nodes with a focus on vibration to electricity conversion,” Ph.D.

dissertation, University of California, Berkeley, 2003.

[7] L. R. Varshney, “Transporting information and energy simultaneously,” International Symposium on Information Theory,

IEEE, pp. 1612–1616, July 2008.

[8] P. Grover and A. Sahai, “Shannon meets tesla: Wireless information and power transfer,” International Symposium on

Information Theory, IEEE, pp. 2363–2367, June 2010.

[9] K. Huang and E. Larsson, “Simultaneous information and power transfer for broadband wireless systems,” Signal

Processing, IEEE Transactions on, vol. 61, no. 23, pp. 5972–5986, September 2013.

[10] R. Zhang and C. K. Ho, “Mimo broadcasting for simultaneous wireless information and power transfer,” Wireless

Communications, IEEE Transactions on, vol. 12, no. 5, pp. 1989–2001, March 2013.

[11] K. Huang and E. Larsson, “Simultaneous information-and-power transfer for broadband downlink sytems,” Acoustics,

Speech and Signal Processing (ICASSP) Conference, IEEE,, pp. 4444–4448, May 2013.

[12] X. Zhou, R. Zhang, and C. K. Ho, “Wireless information and power transfer: architecture design and rate-energy tradeoff,”

Communications, IEEE Transactions on, vol. 61, no. 11, pp. 4754–4767, October 2013.

[13] S. Park, J. Heo, B. Kim, W. Chung, H. Wang, and D. Hong, “Optimal mode selection for cognitive radio sensor networks
with rf energy harvesting,” in Personal Indoor and Mobile Radio Communications (PIMRC), 2012 IEEE 23rd International
Symposium on.

IEEE, September 2012, pp. 2155–2159.

[14] S. Park, H. Kim, and D. Hong, “Cognitive radio networks with energy harvesting,” Wireless Communications, IEEE

Transactions on, vol. 12, no. 3, pp. 1386–1397, February 2013.

[15] S. Lee, R. Zhang, and K. Huang, “Opportunistic wireless energy harvesting in cognitive radio networks,” Wireless

Communications, IEEE Transactions on, vol. 12, no. 9, pp. 4788–4799, August 2013.

[16] K. Huang and V. K. Lau, “Enabling wireless power transfer in cellular networks: architecture, modeling and deployment,”

Wireless Communications, IEEE Transactions on, vol. 13, no. 2, pp. 902–912, January 2014.

[17] L. Xie, Y. Shi, Y. T. Hou, W. Lou, H. D. Sherali, and S. F. Midkiff, “On renewable sensor networks with wireless energy
transfer: the multi-node case,” in Sensor, Mesh and Ad Hoc Communications and Networks (SECON), 2012 9th Annual
IEEE Communications Society Conference on.

IEEE, June 2012, pp. 10–18.

[18] S.-W. Ko, S. M. Yu, and S.-L. Kim, “The capacity of energy-constrained mobile networks with wireless power transfer,”

Communications Letters, IEEE, vol. 17, no. 3, pp. 529–532, February 2013.

[19] R. Doost, K. R. Chowdhury, and M. D. Felice, “Routing and link layer protocol design for sensor networks with wireless
IEEE, December 2010, pp.

energy transfer,” in Global telecommunications conference (GLOBECOM 2010), 2010 IEEE.
1–5.

[20] P. Nintanavongsa, M. Y. Naderi, and K. R. Chowdhury, “Medium access control protocol design for sensors powered by

wireless energy transfer,” in INFOCOM, 2013 Proceedings IEEE.

IEEE, April 2013, pp. 150–154.

[21] H. Ju and R. Zhang, “Throughput maximization in wireless powered communication networks,” Wireless Communications,

IEEE Transactions on, vol. 13, no. 1, pp. 418–428, January 2014.

30

[22] ——, “User cooperation in wireless powered communication networks,” Global Communications Conference, IEEE, pp.

1430–1435, December 2014.

[23] ——, “Optimal resource allocation in full-duplex wireless-powered communication network,” Communications, IEEE

Transactions on, vol. 62, no. 10, pp. 3528–3540, October 2014.

[24] X. Kang, C. K. Ho, and S. Sun, “Full-duplex wireless-powered communication network with energy causality,” Wireless

Communications, IEEE Transactions on, vol. 14, no. 10, pp. 5539–5551, October 2015.

[25] S. Lee and R. Zhang, “Cognitive wireless powered network: Spectrum sharing models and throughput maximization,”

Cognitive Communications and Networking, IEEE Transactions on, vol. PP, no. 99, pp. 1–11, December 2015.

[26] S. Bi and R. Zhang, “Node placement optimization in wireless powered communication networks,” arXiv preprint

arXiv:1505.06530, 2015.

[27] M. A. Abd-Elmagid, T. ElBatt, and K. G. Seddik, “Optimization of wireless powered communication networks with

heterogeneous nodes,” Global Communications Conference, IEEE, December 2015.

[28] P. Nintanavongsa, U. Muncuk, D. R. Lewis, and K. R. Chowdhury, “Design optimization and implementation for rf energy
harvesting circuits,” Emerging and Selected Topics in Circuits and Systems, IEEE Journal on, vol. 2, no. 1, pp. 24–33,
April 2012.

[29] M. Roberg, T. Reveyrand, I. Ramos, E. A. Falkenstein, and Z. Popovic, “High-efﬁciency harmonically terminated diode and
transistor rectiﬁers,” Microwave Theory and Techniques, IEEE Transactions on, vol. 60, no. 12, pp. 4043–4052, December
2012.

[30] R. Knopp and P. A. Humblet, “Information capacity and power control in single-cell multiuser communications,” in IEEE

International Conference on Communications, vol. 1, June 1995, pp. 331–335.

[31] L. Li and A. J. Goldsmith, “Capacity and optimal resource allocation for fading broadcast channels. i. ergodic capacity,”

IEEE Transactions on Information Theory, March 2001.

[32] D. N. Tse and S. V. Hanly, “Multiaccess fading channels. i. polymatroid structure, optimal resource allocation and

throughput capacities,” IEEE Transactions on Information Theory, vol. 44, no. 7, pp. 2796–2815, November 1998.

[33] R. Jain, D.-M. Chiu, and W. Hawe, “A quantitative measure of fairness and discrimination for resource allocation in shared

computer systems,” Technical Report TR-301, DEC Research Repor, September 1984.

[34] D. Julian, M. Chiang, D. O’Neill, and S. Boyd, “Qos and fairness constrained convex optimization of resource allocation

for wireless cellular and ad hoc networks,” INFOCOM, IEEE, pp. 477–486, June 2002.
[35] S. Boyd and L. Vandenberghe, Convex optimization. Cambridge university press, 2004.

