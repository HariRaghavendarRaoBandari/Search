6
1
0
2

 
r
a

 

M
0
1

 
 
]

.

R
P
h
t
a
m

[
 
 

1
v
3
1
4
3
0

.

3
0
6
1
:
v
i
X
r
a

A service system with randomly behaving

on-demand agents

Lam M. Nguyen

Department of Industrial
and Systems Engineering

Lehigh University

Bethlehem, PA 18015

lmn214@lehigh.edu

Alexander L. Stolyar

Department of Industrial
and Systems Engineering

Lehigh University

Bethlehem, PA 18015

stolyar@lehigh.edu

March 11, 2016

Abstract

We consider a service system where agents (or, servers) are invited on-demand. Customers arrive as
a Poisson process and join a customer queue. Customer service times are i.i.d. exponential. Agents’
behavior is random in two respects. First, they can be invited into the system exogenously, and join
the agent queue after a random time. Second, with some probability they rejoin the agent queue
after a service completion, and otherwise leave the system. The objective is to design a real-time
adaptive agent invitation scheme that keeps both customer and agent queues/waiting-times small.
We study an adaptive scheme, which controls the number of pending agent invitations, based on
queue-state feedback.

We study the system process ﬂuid limits, in the asymptotic regime where the customer arrival rate
goes to inﬁnity. The ﬂuid limit trajectories have complicated behavior – there are two domains
where they follow diﬀerent ODEs, and a “reﬂecting” boundary. We use the machinery of switched
linear systems and common quadratic Lyapunov functions to approach the stability of ﬂuid limits
at the desired equilibrium point (with zero queues). We derive suﬃcient local stability conditions
for the ﬂuid limits. We conjecture that, for our model, local stability is in fact suﬃcient for global
stability of ﬂuid limits; the validity of this conjecture is supported by numerical and simulation ex-
periments. When the local stability conditions do hold, simulations show good overall performance
of the scheme.

1

Introduction

We study a service system with exogenously arriving customers, and servers, called agents, which
can be invited to join the system at any time. The system control needs to match the arriving
customers with invited agents, with the objective to minimize waiting times of both customers and
agents. What makes this problem non-trivial is the fact that there is uncertainty in the agents’
behavior. First, invited agents do not arrive into the system immediately; instead they join the

1

system after a random delay. Second, after an agent is done serving a customer, it can either leave
the system or return to serve more customers.

This model (described in more detail below) is a generalization of that in [19, 13]. It was originally
motivated (see [19]) by applications to call/contact centers, where what we call agents are “special
agents”, or “knowledge workers,” whose time is expensive, so that it is ineﬃcient to have them
working ﬁxed shifts, with inevitable periods of idle time due to random ﬂuctuations in customer
demand. It is much more reasonable to invite them on-demand in real time; however, designing
an eﬃcient agent invitation strategy is non-trivial due to randomness in agent behavior. Besides
eﬃciency (in terms of minimizing customer and agent waiting times), another highly desirable fea-
ture of the invitation scheme is simplicity and robustness. (For a general discussion of modern
call/contact centers and their management, see, e.g. [1, 12] and references therein.)

We note that the model we consider is generic and has other applications, or potential applications.
One example is telemedicine [2], in which case “agents” are doctors, invited on-demand to serve
patients remotely. Another example is crowdsourcing-based customer service [5, 3]. Also note
that the model has relation to classical assemble-to-order models, where customers are orders and
“invited agents” are products, which cannot be produced/assembled instantly. The model is also
related to “double-ended queues” (see e.g.
[6]); although
in such models arrivals of all types into the system are typically exogenous, as opposed to being
controlled.

[9, 11]) and matching systems (see e.g.

More speciﬁcally, our model is as follows. Customers arrive as a Poisson process and join a customer
queue. Customer service times are i.i.d. exponential. Agents’ behavior is random in two respects.
First, they can be invited into the system exogenously, and join the agent queue after a random
time. Second, with some probability they rejoin the agent queue after a service completion, and
otherwise leave the system. (This generalizes the model in [19, 13], where the agents always leave
the system after service completions, thus making our model more realistic in many scenarios.) The
customer and agent queues cannot be non-empty simultaneously – the head-of-the-line customer
and agent are matched immediately and together go to service. The objective is to design a real-
time adaptive agent invitation scheme that keeps both customer and agent queues/waiting-times
small.

We study a feedback-based adaptive scheme of [19, 13], which controls the number of pending agent
invitations, depending on the customer and/or agent queue lengths and their changes. Due to the
fact that our model is more general, the system dynamics is substantially more complicated.

The system state can be described by three variables, which are the number of pending invited
agents, the diﬀerence between agent and customer queues, and the number of customers (or agents)
in service. For the purposes of analysis, it is more convenient to consider an alternative, equiva-
lent representation of the system state, which is also described by three variables: the number of
pending invited agents, the diﬀerence between agent and customer queues, and the total number
of customers and agents in the system.

We consider the system in the asymptotic regime where the customer arrival rate becomes large
while the distributions of an agent response times and a service time are ﬁxed. We show conver-
gence of the ﬂuid-scaled process to the ﬂuid limit (Theorem 1). The ﬂuid limit trajectories have
complicated behavior – there are two domains where they follow diﬀerent ODEs, and a “reﬂecting”

2

boundary. This poses big challenges for proving global stability of the ﬂuid limits, understood as
the convergence of their trajectories to the equilibrium point, at which the queues are zero.

Given that establishing global stability appears to be a very diﬃcult problem, the focus of this
paper and our main results concern the system local stability at the equilibrium point, understood
as the stability of the dynamic system which describes ﬂuid limit trajectories away from the bound-
ary. We use the machinery of switched linear systems and common quadratic Lyapunov functions
[10, 18] to obtain our main results (Theorem 2 and 3), providing suﬃcient local stability con-
ditions. We conjecture that, for our model, local stability is in fact suﬃcient for global stability
of ﬂuid limits; the validity of this conjecture is supported by numerical and simulation experiments.

Our simulation experiments also show good overall performance of the feedback scheme when the
local stability conditions do hold.

1.1 Organization of the paper

Section 1.2 contains basic notations, conventions, and abbreviations. Some background facts on
linear systems and switched linear systems are given in Section 2.
In Section 3, we describe
the model in detail.
In Section 4 we state the main results of the paper. These results are
proved in Sections 5, 6 and 7. Numerical and simulation experiments are described in Section 8;
it also contains our conjectures about global and local stability of ﬂuid limits, supported by these
experiments. We conclude in Section 9.

1.2 Basic notations, conventions and abbreviations
Sets of real and real non-negative numbers are denoted by R and R+; Rd and Rd
+ are the corre-
sponding vector spaces. The standard Euclidean norm of a vector x ∈ Rn is denoted (cid:107)x(cid:107). For
a vector a or matrix A, we write their transposes as aT or AT . We write x(·) to mean the func-
tion (or random process) (x(t), t ≥ 0). For a real-valued function x(·) : R+ → R, we use either
x(cid:48)(t) or (d/dt)x(t) to denote the derivative with respect to t, and for x(·) : R+ → Rd, we write
d(t)). For a real number x, let x+ = max{x, 0} and x− = − min{x, 0}
(d/dt)x(t) = (x(cid:48)
and let

1(t), . . . , x(cid:48)

1 , x > 0

0 , x = 0
−1 , x < 0

sgn(x) =

For x, y ∈ R, we denote x∧y = min{x, y} and x∨y = max{x, y}. Symbol ⇔ means “equivalent to”.
We write xr → x ∈ Rn to denote ordinary convergence in Rn. For a ﬁnite set of scalar functions
fn(t), t ≥ 0, n ∈ N, a point t is called regular if for any subset N0 ⊆ N, the derivatives

d
dt

max
n∈N0

fn(t) and

d
dt

min
n∈N0

fn(t)

exist. (To be precise, we require that each derivative is proper: both left and right derivatives exist
and are equal.)

Abbreviation u.o.c. means uniform on compact sets convergence of functions, with the argument
determined by the context (usually in [0,∞)); w.p.1 means with probability 1 ; i.i.d. means inde-
pendent identically distributed ; RHS means right hand side; FSLLN means functional strong law of
large numbers; CQLF means common quadratic Lyapunov function.

3

2 Some background facts

2.1 Deﬁnitions and results related to switched linear system

In this paper, we will use some machinery of switched linear systems. Here, we provide some
necessary background. Consider a switched linear system

ΣS : u(cid:48)(t) = A(t)u(t) , A(t) ∈ A = {A1, . . . , Am}

(1)
where A is a set of matrices in Rn×n, and t → A(t) is a mapping from nonnegative real numbers into
A. (Usually, as in [18], this mapping is required to be piecewise constant with only ﬁnitely many
discontinuities in any bounded time-interval. In our case this additional condition is not important,
because our switched system will have a continuous derivative; see equation (10) below.) For
1 ≤ i ≤ m, the ith constituent system of the switched linear system (1) is the linear time-invariant
(LTI) system

ΣAi : u(cid:48)(t) = Aiu(t).

(2)

The origin is an exponentially stable equilibrium of a switched linear system Σs if there exist real
constants C > 0, a > 0 such that (cid:107)u(t)(cid:107) ≤ Ce−at(cid:107)u(0)(cid:107) for t ≥ 0, for all solutions u(t) of the
system (1) under any A(t) (see [7, 18]).
A symmetric square n × n matrix M with real coeﬃcients is positive deﬁnite if zT M z > 0 for
every non-zero column vector z ∈ Rn. A symmetric square n× n matrix M with real coeﬃcients is
negative deﬁnite if zT M z < 0 for every non-zero column vector z ∈ Rn. A square matrix A is called
a Hurwitz matrix (or stable matrix ) if every eigenvalue of A has strictly negative real part (see [15]).
The function V (u) = uT P u is a quadratic Lyapunov function (QLF) for the system ΣA : u(cid:48)(t) =
Au(t) if (i) P is symmetric and positive deﬁnite, and (ii) P A + AT P is negative deﬁnite. Let
{A1, . . . , Am} be a collection of n × n Hurwitz matrices, with associated stable LTI systems
ΣA1, . . . , ΣAm. Then the function V (u) = uT P u is a common quadratic Lyapunov function (CQLF)
for these systems if V is a QLF for each individual system (see [10, 18]).

The following facts will be used in the proof of our results (Theorem 2 and 3).

Proposition 1 ([10, 18]). The existence of a CQLF for the LTI systems is suﬃcient for the
exponential stability of a switched linear system.
Proposition 2 ([10, 18]). Let A+ and A− be Hurwitz matrices in Rn×n, and the diﬀerence A+−A−
has rank one. Then two systems u(cid:48)(t) = A+u(t) and u(cid:48)(t) = A−u(t) have a CQLF if and only if
the matrix product A+A− has no negative real eigenvalues.

2.2 Stability of linear systems

The following facts will also be used in the proof of our results (Theorem 2 and 3).
Proposition 3 ([15]). Let L(λ) = det(A − λI) = 0 be the characteristic equation of matrix A:

L(λ) = a0λ3 + a1λ2 + a2λ + a3 = 0 , a0 > 0.

(3)

Matrix A is Hurwitz if and only if a1, a2, a3 are positive and satisfy a1a2 > a0a3.

4

Proposition 4 ([8]). The general cubic equation has the form

aλ3 + bλ2 + cλ + d = 0 , a (cid:54)= 0,

and discriminant

∆ = 18abcd − 4b3d + b2c2 − 4ac3 − 27a2d2.

(4)

(5)

If ∆ > 0, then the equation has three distinct real roots.
If ∆ = 0, then the equation has a multiple root and all its roots are real.
If ∆ < 0, then the equation has one real root and two nonreal complex conjugate roots.
Proposition 5 ([17]). If A1 is non-singular, the product A−1
only if A1 + τ A2 is non-singular for all τ ≥ 0.

1 A2 has no negative eigenvalues if and

3 Model and algorithm

Our model is a generalization of that considered in [19, 13]. Customers arrive according to a Poisson
process of rate Λ > 0, and join the customer queue waiting for an available agent and are served
in the order of their arrival. There is an inﬁnite pool of potential agents, which can be invited
to serve customers. Once being invited, an agent will respond after an independent exponentially
distributed random time, with mean 1/ ˜β; it accepts the invitation with probability a > 0, and
otherwise rejects it. Let β = a ˜β > 0 be the rate at which an agent accepts the invitation. Agents
who accept their invitations join the agent queue, in the order of their arrival. The customer
and agent queues cannot be positive simultaneously: the head-of-the-line customer and agents are
immediately matched, leave their queues, and together go to service. Each service time is an ex-
ponentially distributed random variable with mean 1/µ; after the service completion, the customer
leaves the system, while the agent rejoins the agent queue with probability α ∈ [0, 1). Thus, there
are two ways in which agents join the queue – exogenously invited agents accepting invitations
and agents already in the system rejoining the queue after service completions. (The model in
[19, 13] is a special case of ours, with α = 0; in other words, the agents certainly leave the sys-
tem after service completions, and therefore there is no need to account for agents being in service.)

Let X(t) be the number of pending agents that have been invited but have not decided to accept
or decline the invitations at time t. Let Qc(t) be the number of customers in the customer queue
at time t. Let Qa(t) be the number of agents in the agent queue at time t. And we also deﬁne
Y (t) = Qa(t)−Qc(t) as the diﬀerence of the agent queue and customer queue at time t. Let Z(t) be
the number of customers (or agents) in service at time t. We assume that the non-idling condition
holds, that is, agents do not idle when there are customers waiting in the customer queue, which
means that at each time t, either the customer queue or the agent queue must be empty. The
system state can be described by three variables: X: ’the number of pending invited agents’. Y :
’the diﬀerence between agent and customer queues’. Z: ’the number of customers (or agents) in
service’. Figure 1 depicts such an agent invitation system.

The feedback invitation scheme in [19], let us label it as Scheme A, is deﬁned as follows. The
scheme maintains a “target” Xtarget(t) for the number of invited agents X(t). The target Xtarget(t)
is changed by ∆Xtarget(t) = [−γ∆Y (t) − Y (t)∆t] at each time t when Y (t) changes by ∆Y (t)
(which can be either +1 or −1), where γ > 0 and  > 0 are the algorithm parameters and ∆t is the
time duration from the previous change of Y . New agents are invited if and only if X(t) < Xtarget(t),

5

Figure 1: An Agent Invitation System

where X(t) is the actual number of invited (pending) agents; therefore, X(t) ≥ Xtarget(t) holds at
all times. In addition, the target Xtarget(t) is not allowed to go below zero, Xtarget(t) ≥ 0; i.e. if an
update of Xtarget(t) makes it negative, its value is immediately reset to zero. Note that Xtarget(t)
is not necessarily an integer.

Although the scheme we consider is same as in [19], the model we apply it to is diﬀerent. Namely,
arrivals into the agent queue are not only due to invited agents accepting invitations, but also due
to agents returning immediately after the service completions. As a result, the process describing
the system evolution contains additional variable Z, and is more complicated.

To simplify our theoretical analysis, just as in [13], we consider a “stylized” version of Scheme A,
which has the same basic dynamics, but keeps Xtarget(t) integer and assumes that X(t) = Xtarget(t)
at all times; the latter is equivalent to assuming that not only agent invitations can be issued in-
stantly, but they can also be withdrawn at any time. Given these assumptions, when pending
agents decline invitations, it has no impact on the system state, because X(t) is immediately “re-
plenished” by inviting another agent. Therefore, in the analysis of stylized scheme, the events of
declined invitations can be ignored.

Formally, the stylized scheme, which we label Scheme B, is deﬁned as follows. There are four types
of mutually independent, and independent of the past, events that aﬀect the dynamics of X(t),
Y (t) and Z(t) in a small time interval [t, t + dt]: (i) a customer arrival with probability Λdt + o(dt),
(ii) an agent acceptance with probability βX(t)dt + o(dt), (iii) an additional event with probability
|Y (t)|dt + o(dt), and (iv) service completion with probability µZ(t)dt + o(dt).
The changes at these event times are described as follows:
(i) Upon a customer arrival, if Y (t) > 0, Z(t) changes by ∆Z(t) = 1; and if Y (t) ≤ 0, Z(t) changes
by ∆Z(t) = 0. Y (t) changes by ∆Y (t) = −1, and X(t) changes by ∆X(t) = γ (we assume that
γ > 0 is an integer).
(ii) Upon the acceptance of an invitation, if Y (t) < 0, Z(t) changes by ∆Z(t) = 1; and if Y (t) ≥ 0,
Z(t) changes by ∆Z(t) = 0. Y (t) changes by ∆Y (t) = 1, and X(t) changes by ∆X(t) = −(γ∧X(t)),
that is, the change is by −γ but X(t) is kept to be nonnegative.

6

(cid:17)

(cid:16)
(cid:16)

X r − λr(1−α)

β

(cid:17)

¯X r = 1
r
¯Y r = 1
r Y r
¯Zr = 1
r

Zr − λr

µ

.

(6)





(iii) Upon the third type of event, if X(t) ≥ 1, the change ∆X(t) = −sgn(Y (t)) occurs; and if
X(t) = 0, the change ∆X(t) = 1 occurs if Y (t) < 0 and ∆X(t) = 0 if Y (t) ≥ 0.
(iv) Upon the service completion, (a) with probability α, if Y (t) < 0, the change ∆Z(t) = −1 + 1 =
0 occurs; and if Y (t) ≥ 0, the change ∆Z(t) = −1 occurs; Y (t) changes by ∆Y (t) = 1, and
∆X(t) = −(γ ∧ X(t)). (b) With probability (1 − α), Z(t) changes by ∆Z(t) = −1.

4 Main Results
We consider a sequence of systems, indexed by a scaling parameter r → ∞. In the system with
index r, the arrival rate is λr, while the parameters α, β, µ, , γ are constant. The corresponding
process is (X r, Y r, Zr), where X r = (X r(t), t ≥ 0), Y r = (Y r(t), t ≥ 0) and Zr = (Zr(t), t ≥ 0).
We will center the values of X r, Y r, and Zr by λr(1−α)/β, 0, and λr/µ, respectively. These values
are such that βX r + µαZr = λr, which means that on average the arrival rate of agents into the
agent queue matches the rate of customer arrivals. We deﬁne ﬂuid-scaled processes with centering

Let W be the total number of customers and agents in the system. We know that Y is the diﬀerence
between agent and customer queues (only one of those queues can be positive at any time since we
have the non-idling condition) and Z is the number of customers (or agents) in service. From this,
W = |Y | + 2Z, which is equivalent to Z = 1
are using a new process (X, Y, W ). This process (X, Y, W ) is more convenient for the analysis. We
have new ﬂuid-scaled processes with centering

2 (W − |Y |). Instead of using the process (X, Y, Z), we
(cid:16)
(cid:16)

X r − λr(1−α)

(cid:17)

(cid:17)

(7)

β

¯X r = 1
r
¯Y r = 1
r Y r
¯W r = 1
r

W r − 2λr

µ

.

Theorem 1. Consider a sequence of processes ( ¯X r, ¯Y r, ¯W r), r → ∞, with deterministic initial
states such that ( ¯X r(0), ¯Y r(0), ¯W r(0)) → (x(0), y(0), w(0)) for some ﬁxed (x(0), y(0), w(0)) ∈ R3,
x(0) ≥ − λ(1−α)
. Then, these processes can be constructed on a common probability space, so that
the following holds. W.p.1, from any subsequence of r, there exists a further subsequence such that

β

( ¯X r, ¯Y r, ¯W r) → (x, y, w) u.o.c. as r → ∞

where (x, y, w) is a locally Lipschitz trajectory such that at any regular point t ≥ 0



(cid:40)−γy(cid:48)(t) − y, if x(t) > − λ(1−α)

[−γy(cid:48)(t) − y] ∨ 0, if x(t) = − λ(1−α)

β

β

x(cid:48)(t) =
y(cid:48)(t) = βx + 1
w(cid:48)(t) = βx + 1

2 αµ(w − |y|)
2 (α − 2)µ(w − |y|).

(8)

(9)

A limit trajectory (x, y, w) speciﬁed in Theorem 1 will be called a ﬂuid limit starting from (x(0), y(0), w(0)).

7



2 −(cid:16) αγµ

βγ2
4 <  < βγ2
 > βγ2
γ > (1−α)µ

2

.

αβ

(cid:17)

2 − (1−α)µ2

2β

(cid:40)

2 − αγµ
 < βγ2
γ > αµ
β .

2

(11)

(12)

Consider a dynamic system (x(t), y(t), w(t)) ∈ R3:

x(cid:48)(t) = −γy(cid:48)(t) − y

y(cid:48)(t) = βx + 1
w(cid:48)(t) = βx + 1

2 αµ(w − |y|)
2 (α − 2)µ(w − |y|).

Note that the RHS of (10) is continuous.

(10)

β

This dynamic system describes the dynamics of ﬂuid limit trajectories when the state is away from
the boundary x = − λ(1−α)
. The non-linear system (10) is a generalization of the linear system,
considered in [13]. The latter is a special case of (10) without variable w, and with α = 0. The
system in [13] is simply linear, while (10) has two domains, deﬁned by the sign of y. The following
results (in Theorem 2 and 3) provide suﬃcient exponential stability conditions for the system (10).
Theorem 2. (Suﬃcient exponential stability condition). For any set of positive β, µ, and α ∈
(0, 1), there exist values of γ > 0 and  > 0 satisfying the following condition

For the parameters, satisfying this condition, common quadratic Lyapunov function (CQLF) of the
system (10) exists, and the system (10) is exponentially stable.
Theorem 3. (Suﬃcient exponential stability condition). For any set of positive β, µ, and α ∈
(0, 1), there exist values of γ > 0 and  > 0 satisfying the following condition

For the parameters, satisfying this condition, common quadratic Lyapunov function (CQLF) of the
system (10) exists, and the system (10) is exponentially stable.

We say that our ﬂuid-limit system is globally stable if every ﬂuid limit trajectory converges to
the equilibrium point (0, 0, 0); we say that it is locally stable if every trajectory of the dynamic
system (10) converges to the equilibrium point (0, 0, 0). Therefore, the conditions (11) and (12) are
suﬃcient for the local stability of our system. We also note that condition (12) is more robust and
is easier to achieve in practice. Indeed, for any given  > 0, it holds for all suﬃciently large γ; how
large, can be determined if some estimates of other parameters are available.

5 Fluid scale analysis and proof of Theorem 1

In order to prove Theorem 1, it suﬃces to show that w.p.1 from any subsequence of r, we can
choose a further subsequence, along which a u.o.c. convergence to a ﬂuid limit holds.

8

Given the initial state (X r(0), Y r(0), W r(0)), we construct the process (X r, Y r, W r), for all r, on
the same probability space via a common set of independent Poisson process as follows:

X r(t) = Gr(t) +

Gr(s)

Gr(t) = X r(0) + γN1(λrt) − γN2

β

X r(s)ds

+N5



(Y r(s))−ds

− N6



(Y r(s))+ds

,

Y r(t) = Y r(0) + N2

β

X r(s)ds

+ N4

αµ

(W r(s) − |Y r(s)|)ds

− N1(λrt),

W r(t) = W r(0) + N1(λrt) + N2

0

(cid:19)
(cid:18)

∨ 0,

(cid:90) t

αµ

0

(cid:18)

− min
0≤s≤t

(cid:19)

(cid:19)
(cid:18)
(cid:19)

− γN4

(cid:90) t

0

(cid:18)
(cid:90) t

(cid:18)(cid:90) t

1
2
− N3

0

(W r(s) − |Y r(s)|)ds

1
2

(cid:19)

(cid:19)

(cid:19)

(13)

+

(14)

(15)

(cid:19)

βX r(s)ds

0

(W r(s) − |Y r(s)|)ds

αµ

1
2

(cid:19)

2(1 − α)µ

(W r(s) − |Y r(s)|)ds

1
2

−

,

(16)

(cid:18)

(cid:90) t

0

(cid:19)

(cid:90) t

0

(cid:18)
(cid:90) t

(cid:18)

(cid:18)(cid:90) t
(cid:18)(cid:90) t

0

0

−N4

and Ni(·), i = 1, . . . , 6 are mutually independent unit-rate Poisson processes [14]. N1 is the process
which drives customer arrivals. N2 is the process which drives the acceptance of invitations. N3 is
the process which drives the service completions, with agents leaving the system. N4 is the process
which drives the service completions, with agents coming back. N5 and N6 are the processes which
drive the third type of event. W.p.1, for any r, relations (13)-(16) uniquely deﬁne the realization
of (X r, Y r, W r) via the realizations of the driving processes Ni(·). Relation (13), the “reﬂection”
at zero, corresponds to the property that X r(t) cannot become negative.

The functional strong law of large numbers (FSLLN) holds for each Poisson process Ni:

Ni(rt)

r

→ t , r → ∞ , u.o.c., w.p.1.

(17)

m(0), ¯Y r

m, ¯Y r

m, ¯W r

m, ¯Y r

m, ¯W r
m(0), ¯W r

m). Let ( ¯X r
m(0)) = ( ¯X r(0), ¯Y r(0), ¯W r(0)). The modiﬁed process ( ¯X r

We consider the sequence of associated ﬂuid-scaled processes ( ¯X r, ¯Y r, ¯W r) as deﬁned in (7).
(Note that these processes are centered.) Let a constant m > (cid:107)(x(0), y(0), w(0)(cid:107) be ﬁxed. For
each r, on the same probability space as ( ¯X r, ¯Y r, ¯W r), let us deﬁne a modiﬁed ﬂuid-scaled pro-
cess ( ¯X r
m) start from the same initial state as ( ¯X r, ¯Y r, ¯W r) , i.e.,
( ¯X r
m) follows the
same path as ( ¯X r, ¯Y r, ¯W r) until the ﬁrst time that (cid:107)( ¯X r(t), ¯Y r(t), ¯W r(t))(cid:107) ≥ m. Denote this
time by τ r
m)), i.e.
( ¯X r
m(t), ¯Y r
Lemma 1. Fix (x(0), y(0), w(0)) and a ﬁnite constant m > (cid:107)(x(0), y(0), w(0))(cid:107). Then, w.p.1 for
any subsequence of r, there exists a further subsequence, along which ( ¯X r
m) converges u.o.c.
to a Lipschitz continuous trajectory (xm, ym, wm), which satisﬁes properties (9) at any regular time
t ≥ 0 such that (cid:107)(xm(t), ym(t), wm(t))(cid:107) < m.
Proof. For the modiﬁed ﬂuid-scaled processes ( ¯X r

m, ¯W r
m)) for all t ≥ τ r
m.

m) at the value ( ¯X r(τ r

m), we deﬁne the associated counting

m. We then freeze the process ( ¯X r
m(t), ¯W r

m(t)) = ( ¯X r(τ r

m), ¯Y r(τ r

m, ¯Y r
m), ¯W r(τ r

m, ¯Y r

m, ¯W r

m, ¯Y r

m, ¯W r

m, ¯Y r

m, ¯W r

m), ¯Y r(τ r

m), ¯W r(τ r

9

(cid:18)

processes for upward and downward jumps. For t ≤ τ r
m,
m (t) = r−1γN1(λrt) + r−1N5
¯X r↑
(cid:21)
(cid:90) t
m (t) = r−1γN2
¯X r↓
(cid:20)
(cid:19)
m(s)|
+ r−1N4

2λ
m(s) +
µ
λ(1 − α)

(cid:18) 1
(cid:90) t

¯Y r↑
m (t) = r−1N2

+r−1γN4

(cid:90) t

− | ¯Y r

m(s) +

(cid:18)

(cid:18)

m(s) +

(cid:21)

(cid:20)

(cid:20)

¯W r

αµr

¯X r

¯X r

βr

βr

ds

ds

r

2

0

0

(cid:19)
(cid:18) 1

(cid:90) t

,

(cid:19)
(cid:21)
(cid:19)
m(s))−ds
(cid:18)
(cid:90) t
(cid:20)
(cid:90) t

ds

r

0

+

( ¯Y r

0

λ(1 − α)

β

+ r−1N6

0

β

(cid:19)

( ¯Y r

m(s))+ds

,

αµr

2

0

¯W r

m(s) +

− | ¯Y r

m(s)|

2λ
µ

m (t) = r−1N1(λrt),
¯Y r↓
(cid:20)

(cid:90) t

(cid:18)
(cid:90) t
m (t) = r−1N1(λrt) + r−1N2
¯W r↑
(cid:20)
(cid:90) t
(1 − α)µr
¯W r↓
m (t) = r−1N3
+r−1N4

(cid:18)
(cid:18) 1

¯W r

αµr

0

2

0

βr

(cid:20)

0

¯W r

m(s) +

λ(1 − α)

¯X r

m(s) +

− | ¯Y r

β
(cid:19)
(cid:21)
m(s)|
2λ
µ
m(s)|
− | ¯Y r

ds

m(s) +

2λ
µ

(cid:21)

(cid:19)

ds

(cid:19)

(cid:21)

,

(22)

ds

+

,

(23)

and for t > τ r

m, all these counting processes are frozen at their values at time τ r

m, that is,

(18)

(cid:21)

(19)

(cid:19)

ds

,

(20)

(21)

(24)

m the original process ( ¯X r, ¯Y r, ¯W r)

 ¯X r↑

m (t) = ¯X r↓
m (τ r
m (t) = ¯Y r↓
m (τ r
m (t) = ¯W r↓
Using the relations (13)-(16) and the fact that for 0 ≤ t ≤ τ r
and the modiﬁed process ( ¯X r

m (t) = ¯X r↑
m (τ r
¯Y r↑
m (t) = ¯Y r↑
m (τ r
m (t) = ¯W r↑
¯W r↑
m (τ r
(cid:19)
(cid:18)
m) coincide, we have for all t ≥ 0,

m) , ¯X r↓
m) , ¯Y r↓
m) , ¯W r↓

m) ,
m) ,
m (τ r

m, ¯W r

m, ¯Y r

m).

m(s)

¯X r

m(t) = ¯Gr

¯Gr

−λ(1 − α)/β − min
0≤s≤t
m (t) − ¯X r↓
m (t),
m (t) − ¯Y r↓
m (t),
m (t) − ¯W r↓

m(t) +
m(t) = ¯X r(0) + ¯X r↑
¯Gr
m(t) = ¯Y r(0) + ¯Y r↑
¯Y r
m(t) = ¯W r(0) + ¯W r↑
¯W r
m , ¯W r↓
m , ¯Y r↑
m , ¯X r↓

m , ¯W r↑

m (t).

∨ 0,

(25)

(26)

(27)

(28)

m , ¯Y r↓

The counting processes ¯X r↑
m are non-decreasing. Using the Functional
Strong Law of Large Number (FSLLN) (17) and the fact that the processes ¯X r
m are
uniformly bounded by construction, we see that w.p.1. for any subsequence of r, there exists a fur-
ther subsequence along which the set of trajectories ( ¯X r↑
m , ¯X r↓
m , ¯Y r↑
m , ¯Y r↓
m , ¯W r↑
m , ¯W r↓
m ) converges u.o.c.
↓
↑
↓
↑
↓
↑
to a set of non-decreasing Lipschitz continuous functions (x
m, w
m, w
m, x
m). But then the
m, y
m, y
u.o.c. convergence of ( ¯X r
m) to a set of Lipschitz continuous functions (xm, ym, wm, gm)

m, and ¯W r

m, ¯W r

m, ¯Y r

m, ¯Y r

m, ¯Gr

10

holds, where

xm(t) = gm(t) +

(cid:18)

(cid:19)

gm(s)

∨ 0,

gm(t) = x(0) + x↑
ym(t) = y(0) + y↑
wm(t) = w(0) + w↑

−λ(1 − α)/β − min
0≤s≤t
m(t) − x↓
m(t),
m(t) − y↓
m(t),
m(t) − w↓
m(t),
(cid:90) t
(cid:18)
(cid:90) t

y−
m(s)ds,

0

x↑
m(t) = γλt + 
λ(1 − α)

(cid:19)

ds +

γαµ

β

(cid:90) t

0

x↓
m(t) = γβ

(cid:18)

xm(s) +

(cid:90) t

(cid:18)

y↑
m(t) = β

xm(s) +

0

λ(1 − α)

β

and the following holds for t before ﬂuid trajectory hits (cid:107)(xm(t), ym(t), wm(t))(cid:107) = m

2λ
µ

wm(s) +

(cid:90) t

(cid:18)

0

1
2

ds +

αµ

wm(s) +

y↓
m(t) = λt,

0

1
2

(cid:19)

(cid:90) t

0

(cid:18)
(cid:19)

(cid:19)

ds,

λ(1 − α)

(cid:90) t

β

(cid:18)

(cid:19)

− |ym(s)|

ds + 

− |ym(s)|

2λ
µ

(cid:90) t

0

ds,

(cid:19)

(cid:19)

w↑
m(t) = λt + β

xm(s) +

(cid:18)

(cid:90) t
(cid:40)−γβxm − 1

0

m(t) = (1 − α)µ
w↓

− |ym(s)|
It is easy to verify that, for t before ﬂuid trajectory hits (cid:107)(xm(t), ym(t), wm(t))(cid:107) = m

− |ym(s)|

wm(s) +

wm(s) +

2λ
µ

2λ
µ

ds +

αµ

1
2

0

[−γβxm − 1

x(cid:48)
m(t) =
y(cid:48)
m(t) = βxm + 1
w(cid:48)
m(t) = βxm + 1

2 γαµwm + 1
2 γαµwm + 1
2 αµ(wm − |ym|)
2 (α − 2)µ(wm − |ym|)

2 γαµ|ym| − ym, if xm(t) > − λ(1−α)
2 γαµ|ym| − ym] ∨ 0, if xm(t) = − λ(1−α)

β

β

(cid:40)−γy(cid:48)

m(t) =

x(cid:48)
[−γy(cid:48)
y(cid:48)
m(t) = βxm + 1
w(cid:48)
m(t) = βxm + 1

m(t) − ym, if xm(t) > − λ(1−α)
m(t) − ym] ∨ 0, if xm(t) = − λ(1−α)
2 αµ(wm − |ym|)
2 (α − 2)µ(wm − |ym|).

β

β


which is equivalent to

(29)

(30)

(31)

(32)

(33)

y+
m(s)ds,

(34)

(35)

(36)

(37)

ds.

(38)

(39)

(40)

This means properties (9) hold for the trajectory (xm, ym, wm). This completes the proof. (cid:3)

dt(cid:107)(xm(t), ym(t), wm(t))(cid:107) ≤
Conclusion of the proof of Theorem 1. It is obvious that inequality d
C(cid:107)(xm(t), ym(t), wm(t))(cid:107) holds for any m, and some common C > 0. From Gronwall’s inequality [4],
we have (cid:107)(xm(t), ym(t), wm(t))(cid:107) ≤ (cid:107)(x(0), y(0), w(0))(cid:107)eCt for t ≥ 0. For a given (x(0), y(0), w(0)),
let us ﬁx Tl > 0 and choose ml > (cid:107)(x(0), y(0), w(0)(cid:107)eCTl. For this Tl > 0, there exists a subse-
quence rl, along which ( ¯X r, ¯Y r, ¯W r) converges uniformly to (xml, yml, wml), which satisﬁes prop-
erties (9), at any t ∈ [0, Tl]. The limit trajectory (xml, yml, wml) does not hit ml in [0, Tl]. Sub-
sequence rl = {rl
2, . . .} is such that, w.p.1, for all suﬃciently large r along the subsequence

1, rl

11

(t)) at any t ∈ [0, Tl]. We consider a sequence
rl, ( ¯X r(t), ¯Y r(t), ¯W r(t)) = ( ¯X r
ml
T1, T2, . . . , → ∞. We construct a subsequence r∗ by using Cantor’s diagonal process [16] from
subsequences r1, r2, . . . (r1 ⊇ r2 ⊇ . . . ) corresponding to T1, T2, . . . , respectively (i.e. r∗
1 = r1
1,
r∗
2, . . . ). Clearly, for this subsequence r∗, w.p.1, ( ¯X r, ¯Y r, ¯W r) converges u.o.c. to (x, y, w),
2 = r2
which satisﬁes properties (9), at any regular point t ∈ [0,∞). (cid:3)

(t), ¯W r
ml

(t), ¯Y r
ml

6 Proof of Theorem 2

We use the machinery of switched linear systems and common quadratic Lyapunov functions
(CQLF) to approach the stability of ﬂuid limits, i.e.
their convergence to the unique equilib-
rium point (0, 0, 0) [10, 18].
System (10) is a switched linear system with m = 2. Namely, for y ≥ 0,

x(cid:48)(t) = (−γβ) x +(cid:0) 1
2 γαµ − (cid:1) y +(cid:0)− 1
2 αµ(cid:1) y +(cid:0) 1
2 αµ(cid:1) w
y(cid:48)(t) = (β) x +(cid:0)− 1
2 (α − 2)µ(cid:1) y +(cid:0) 1
w(cid:48)(t) = (β) x +(cid:0)− 1
x(cid:48)(t) = (−γβ) x +(cid:0)− 1
2 γαµ − (cid:1) y +(cid:0)− 1
2 αµ(cid:1) w
y(cid:48)(t) = (β) x +(cid:0) 1
2 αµ(cid:1) y +(cid:0) 1
2 (α − 2)µ(cid:1) y +(cid:0) 1
w(cid:48)(t) = (β) x +(cid:0) 1
 −γβ
 −γβ − 1

2 γαµ(cid:1) w
2 (α − 2)µ(cid:1) w
2 γαµ(cid:1) w
2 (α − 2)µ(cid:1) w.

 .

2 γαµ − 
− 1
2 αµ
− 1
2 (α − 2)µ 1

− 1
2 γαµ
1
2 αµ
2 (α − 2)µ

A− =

A+ =

2 γαµ −  − 1
1
2 αµ
2 (α − 2)µ

2 γαµ
1
2 αµ
2 (α − 2)µ

1

1

β
β

β
β

1

Lemma 2. Matrix A+ in (43) is Hurwitz for all positive β, γ, µ,  and α ∈ (0, 1).
Proof. The characteristic equation of A+ is det(A+ − λI) = 0, which is equivalent to

λ3 + (βγ + µ)λ2 + (β + βγµ)λ + βµ = 0.

By Proposition 3, it suﬃces to verify that

βγ + µ > 0 , β + βγµ > 0 , βµ > 0,

and

(βγ + µ)(β + βγµ) − βµ = β2γ2µ + β2γ + βγµ2 > 0.

Conditions (46) and (47) are obviously true. (cid:3)

12

and for y < 0,

and

We can rewrite the systems above as two linear time-invariant systems u(cid:48)(t) = A+u(t) and u(cid:48)(t) =
A−u(t), where u(t) = (x(t), y(t), w(t))T and

(41)

(42)

(43)

(44)

(45)

(46)

(47)

Lemma 3. Matrix A− in (44) is Hurwitz for positive β, γ, µ, , and α ∈ (0, 1), satisfying

(cid:18) βγ

µ

(cid:19)(cid:16) γµ



(cid:17)

+ (1 − α)

+ 1

> 1.

Proof. The characteristic equation of A− is det(A− − λI) = 0, which is equivalent to

λ3 + (βγ + µ(1 − α))λ2 + (β + βγµ)λ + βµ = 0.

By Proposition 3, it suﬃces to verify that

βγ + µ(1 − α) > 0 , β + βγµ > 0 , βµ > 0,

(48)

(49)

(50)

and

(βγ + µ(1 − α))(β + βγµ) − βµ > 0 which is equivalent to

(cid:18) βγ

µ

(cid:19)(cid:16) γµ



(cid:17)

+ 1

> 1.

+ (1 − α)

Conditions (50) are obviously true. (cid:3)
Lemma 4. For β > 0, µ > 0 and α ∈ (0, 1), there exists a pair of γ > 0 and  > 0 satisfying
condition



2 −(cid:16) αγµ

βγ2
4 <  < βγ2
 > βγ2
γ > (1−α)µ

2

.

αβ

(cid:17)

2 − (1−α)µ2

2β

(51)

Moreover, condition (51) implies matrix A− being Hurwitz.
Proof. For β > 0, µ > 0 and α ∈ (0, 1), we have (1−α)µ
γ > 0 satisfying the third condition of (51). And from the third condition of (51), we have

αβ > 0. Hence, we can always ﬁnd a value of

Hence, we can always ﬁnd a value of  > 0 satisfying

> 0.

αγµ

2

2β

− (1 − α)µ2
2 −(cid:16) αγµ

4 <  < βγ2
 > βγ2

2

(cid:40) βγ2

2 − (1−α)µ2

2β

(cid:17)

.

(52)

(53)

As shown in the proof of Lemma 3, matrix A− when

(βγ + µ(1 − α))(β + βγµ) − βµ = β2γ + βµ(1 − α) + β2γ2µ + βγµ2(1 − α) − βµ > 0.

For positive β, γ, µ, , and α ∈ (0, 1), the condition β2γ2µ − βµ > 0 or, equivalently,  < γ2β im-
plies (48). It means that, if  < γ2β, then A− is Hurwitz. But, the condition (51) implies  < γ2β. (cid:3)
Conclusion of the proof of Theorem 2. The characteristic equation of A+A− is

λ3 − (µ2 − αµ2 + β2γ2 − 2β − αβγµ)λ2 + (β22 + β2γ2µ2 − 2βµ2 + αβµ2)λ − β22µ2 = 0.

(54)

13

(Expression (54) is obtained with the help of MATLAB symbolic calculation.) By Proposition 4,
if ∆ < 0, then the equation has one real root and two nonreal complex conjugate roots.
It is
well known that the determinant of a square matrix A+A− is the product of its eigenvalues. We
have det(A+A−) = λ1λ2λ3 = β22µ2 > 0. Therefore, one of the roots must be a real positive.
We see that it will suﬃce to show that ∆ < 0 to demonstrate A+A− could have no negative real

eigenvalues. From (54), we have

a = 1
b = −(µ2 − αµ2 + β2γ2 − 2β − αβγµ)
c = β22 + β2γ2µ2 − 2βµ2 + αβµ2
d = −β22µ2.

(55)

(57)

These a, b, c, and d are the coeﬃcients of general cubic equation (4). From (5), we have
∆ = 18bcd − 4b3d + b2c2 − 4c3 − 27d2 = d((18c − 4b2)b − 27d) + c2(b2 − 4c).

(56)
From (11), we have c = β22 + βµ2(βγ2 − 2) + αβµ2 > 0 (note that: βγ2 − 2 > 0) and d < 0.
Hence, to show that ∆ < 0 in equation (56), it will suﬃce to show

(cid:40)

b > 0
b2 − 4c < 0.

We will show that condition (11) implies (57). We have
b = (α − 1)µ2 − β2γ2 + 2β + αβγµ > (α − 1)µ2 − β2γ2 + αβγµ + β2γ2 − αβγµ + (1 − α)µ2 = 0

(cid:20)

Note that  >

βγ2
2

−

(cid:18) αγµ

2

(cid:19)(cid:21)

,

− (1 − α)µ2

2β

and

b2 − 4c = α2β2γ2µ2 + 2α2βγµ3 + α2µ4 − 2αβ3γ3µ − 2αβ2γ2µ2+

+4αβ2γµ − 2αβγµ3 − 2αµ4 + β4γ4 − 4β3γ2 − 2β2γ2µ2 + 4βµ2 + µ4 =

= (α − 1)2µ4 + βµ2(α2βγ2 − 2αβγ2 − 2βγ2 + 4) + 2αβγµ3(α − 1)+

+αβ2γµ(−2βγ2 + 4) + β3γ2(βγ2 − 4)

(a)
<

< (α − 1)2µ4 + βµ2(α2βγ2 − 2αβγ2 − 2βγ2 + 4) + 2αβγµ3(α − 1) =

= (α − 1)µ3((α − 1)µ + αβγ) + αβγµ3(α − 1) + βµ2(αβγ2(α − 2) − 2(βγ2 − 2))

< (α − 1)µ3((α − 1)µ + αβγ).

(b)
<

4 <  < βγ2

2 ⇔ βγ2 − 4 < 0 < βγ2 − 2).

(where in (a) and (b) we use the facts that βγ2
From condition (11), we have (α − 1)µ + αβγ > (α − 1)µ + (1 − α)µ = 0. Note that γ > (1−α)µ
αβ ⇔
αβγ > (1 − α)µ. Therefore, we have b > 0 and b2 − 4c < 0. Hence, A+A− has no negative real
eigenvalues under condition (11).
By Lemma 2, A+ is Hurwitz for all positive β, γ, µ,  and α ∈ (0, 1). By Lemma 4, A− is Hurwitz
under condition (11). It is easy to verify that the diﬀerence A+ − A− has rank one. A+A− has

14

no negative real eigenvalues under condition (11). Hence, by Proposition 2, u(cid:48)(t) = A+u(t) and
u(cid:48)(t) = A−u(t) have a CQLF. Therefore, by Proposition 1, the system (10) is exponentially stable
under condition (11). This completes the proof. (cid:3)

As a useful corollary of Lemma 3, we have the following fact.
Corollary 1. If matrix A− in (44) is Hurwitz for some positive β, γ, µ, , and α ∈ (0, 1), then it
remains Hurwitz if α is replaced by any 0 < α0 ≤ α.
Proof. From (48), for any α0 ∈ (0, α], we have

(cid:18) βγ

µ

(cid:19)(cid:16) γµ

+ 1



(cid:17) ≥

(cid:18) βγ

µ

+ (1 − α0)

(cid:19)(cid:16) γµ



(cid:17)

+ (1 − α)

+ 1

> 1.

(58)

Application of Lemma 3 completes the proof. (cid:3)

7 Proof of Theorem 3

We also use the machinery of switched linear systems and common quadratic Lyapunov functions
(CQLF) to approach the stability of ﬂuid limits.
Lemma 5. For β > 0, µ > 0 and α ∈ (0, 1), there exists a pair of γ > 0 and  > 0 satisfying
condition

(cid:40)

2 − αγµ
 < βγ2
γ > αµ
β .

2

Moreover, condition (59) implies matrix A− being Hurwitz.
Proof. For β > 0, µ > 0 and α ∈ (0, 1), we have αµ
γ > 0 satisfying the second condition of (59). And from the second condition of (59), we have

β > 0. Hence, we can always ﬁnd a value of

βγ2
2

− αγµ
2

> 0.

(60)

Hence, we can always ﬁnd a value of  > 0 satisfying the ﬁrst condition of (59). By Lemma 3,
condition (59) imply matrix A− being Hurwitz. (cid:3)

Conclusion of the proof of Theorem 3. From the help of MATLAB symbolic calculation, we have

(59)

(61)

(62)

and

(A+)−1 =



2β

 0 − (α−2)
det(cid:0)(A+)−1(cid:1) = − 1

− γ
(−γµ)

− 1
− 1







µ

βµ

α
2β
0
− 1

µ

< 0.

15

Therefore, matrix (A+)−1 is non-singular. By Proposition 5, to demonstrate that the product
A+A− has no negative eigenvalues under condition (12), it will suﬃce to show that [(A+)−1 + τ A−]
is non-singular for all τ ≥ 0. We have

= − [β22µ2τ 3 + (β22 + β2γ2µ2 − 2βµ2 + αβµ2)τ 2 + (µ2 − αµ2 + β2γ2 − 2β − αβγµ)τ + 1]

det[(A+)−1 + τ A−] =

βµ

(Expression (63) is also obtained with the help of MATLAB symbolic calculation.) To show
det[(A+)−1 + τ A−] (cid:54)= 0 for all τ ≥ 0, it will suﬃce to show numerator of the fraction (63) is
not equal to 0. For all τ ≥ 0, we have

(63)

β22µ2τ 3 + (β22 + β2γ2µ2 − 2βµ2 + αβµ2)τ 2 + (µ2 − αµ2 + β2γ2 − 2β − αβγµ)τ + 1 >

> (β22 + (β2γ2 − 2β)µ2 + αβµ2)τ 2 + ((1 − α)µ2 + β2γ2 − 2β − αβγµ)τ > 0

Note that  <

βγ2
2

− αγµ
2

⇔ β2γ2 − 2β − αβγµ > 0 ⇒ β2γ2 − 2β > 0

.

(cid:20)

(cid:21)

This implies that A+A− has no negative eigenvalues under condition (12). Hence, u(cid:48)(t) = A+u(t)
and u(cid:48)(t) = A−u(t) have a CQLF. Therefore, the system (10) is exponentially stable under condition
(12). This completes the proof. (cid:3)

8 Numerical examples

In this section, we present some numerical examples to show the good performance of the scheme.
Later, we also provide some conjectures based on a variety of simulations.

Example 1. We use the following set of parameters, which satisﬁes the condition (11) but does
not satisfy the condition (12):

Λ = 1000 , α = 0.7 , β = 1 , µ = 1 , γ = 2 ,  = 1.5

(a) (X(0), Y (0), Z(0)) = (0, 0, 0)

(b) (X(0), Y (0), Z(0)) = (0,−1000, 0)

Figure 2: Comparison of ﬂuid approximations with simulations in Example 1

16

We consider two initial conditions: (a) (X(0), Y (0), Z(0)) = (0, 0, 0); (b) (X(0), Y (0), Z(0)) =
(0,−1000, 0) (Figure 2). The red line of the ﬁgure is the ﬂuid approximation and the blue line of
the ﬁgure is the simulation experiment. We also did the numerical/simulation experiments with 10
diﬀerent initial conditions of this set. The results, including those not shown on Figure 2, suggest
the global stability of our system.

Example 2. Let us consider a case when trajectory hits the boundary on x. We consider the
following set of parameters, which satisﬁes the condition (11) but does not satisfy the condition
(12):

Λ = 1000 , α = 0.5 , β = 3 , µ = 2 , γ = 1 ,  = 1.4

(a) (X(0), Y (0), Z(0)) = (2000, 0, 1000)

(b) (X(0), Y (0), Z(0)) = (0, 2000, 0)

Figure 3: Comparison of ﬂuid approximations with simulations in Example 2

We consider two initial conditions: (a) (X(0), Y (0), Z(0)) = (2000, 0, 1000); (b) (X(0), Y (0), Z(0)) =
(0, 2000, 0) (Figure 3). We also did the numerical/simulation experiments with 10 diﬀerent initial
conditions of this set. The results, including those not shown on Figure 3, suggest the global
stability of our system even though sometimes the trajectory hits the boundary on x.

Example 3. We use 4 sets of parameters (with diﬀerent values of α), which do not satisfy the
condition (11) but satisfy the condition (12):

Λ = 1000 , β = 1 , µ = 2 , γ = 2 ,  = 0.19

We consider an initial condition (X(0), Y (0), Z(0)) = (0, 1000, 500) with 4 diﬀerent values of α
(α1 = 0.1, α2 = 0.4, α3 = 0.6, and α4 = 0.9) (Figure 4). We also did the numerical/simulation
experiments with 5 diﬀerent initial conditions for each of the 4 values of α. The results, including
those not shown on Figure 4, suggest the global stability of our system even though sometimes the
trajectory hits the boundary on x.

Besides these three examples, we also ran the numerical/simulation experiments with another 5
sets of parameters as well as many other diﬀerent initial conditions of these sets, which satisfy
either the condition (11) or (12). All these results still suggest the global stability of our system
even though sometimes the trajectory hits the boundary on x.

17

(a) α1 = 0.1

(b) α2 = 0.4

(c) α3 = 0.6

(d) α4 = 0.9

Figure 4: Comparison of ﬂuid approximations with simulations in Example 3

Example 4. In this example, we use a set of parameters, which satisﬁes neither the condition (11)
nor (12), but A− is Hurwitz:

Λ = 1000 , α = 0.5 , β = 1 , µ = 2 , γ = 2 ,  = 3

We consider two initial conditions: (a) (X(0), Y (0), Z(0)) = (0, 1000, 500); (b) (X(0), Y (0), Z(0)) =
(0,−1000, 0) (Figure 5). Besides this example, we also did the numerical/simulation experiments
with 5 sets of parameters as well as many other diﬀerent initial conditions of these sets, which
satisfy neither the condition (11) nor (12), but A− is Hurwitz. All these results, including those
not shown on Figure 5, suggest the local and global stability of our system even though sometimes
the trajectory hits the boundary on x.
Example 5. Let us consider the case when A− is not Hurwitz. We use the following two sets of
parameters:

(a) Λ = 1000 , α = 0.5 , β = 0.05 , µ = 0.5 , γ = 1 ,  = 1 , and

(b) Λ = 1000 , α = 0.9 , β = 0.05 , µ = 0.5 , γ = 1 ,  = 1

The only diﬀerence between these two sets is the parameter α. We consider an initial condition
(X(0), Y (0), Z(0)) = (500, 1000, 500) (Figure 5). We see a converging trajectory on the Figure 6a

18

(a) (X(0), Y (0), Z(0)) = (0, 1000, 500)

(b) (X(0), Y (0), Z(0)) = (0,−1000, 0)

Figure 5: Comparison of ﬂuid approximations with simulations in Example 4

(a) α = 0.5

(b) α = 0.9

Figure 6: Comparison of ﬂuid approximations with simulations in Example 5

(on the left); in fact, we see convergence for a large number of other initial conditions, for the
same set of parameters. Figure 6b shows a trajectory that never converges, under a diﬀerent set of
parameters.

The results of Examples 1, 2 and 3 suggest that our system is globally stable under either the
condition (11) or (12). The results of Example 4 suggest that our system is locally and globally
stable when A− is Hurwitz even if neither the condition (11) nor (12) is satisﬁed. The results of
Example 5 suggest that our system might be globally stable under some sets of parameters, but
unstable under some diﬀerent sets of parameters, when A− is not Hurwitz. The summary of our
conjectures, motivated by the numerical/simulation experiments, is as follows:

Conjecture 1. Our system is globally stable if it is locally stable.
Conjecture 2. Matrix A− being Hurwitz is suﬃcient for local stability of our system. (A+ is
always Hurwitz in our case.)

19

Conjecture 3. If A− is not Hurwitz, the system may be locally stable or locally unstable depending
on the parameters.

9 Conclusions

In this paper, we study a feedback-based agent invitation scheme for a model with randomly
behaving agents. This model is motivated by a variety of existing and emerging applications. The
focus of the paper is on the stability properties of the system ﬂuid limits, arising as asymptotic
limits of the system process, when the system scale (customer arrival rate) grows to inﬁnity. The
dynamic system, describing the behavior of ﬂuid limit trajectories has a very complex structure – it
is a switched linear system, which in addition has a reﬂecting boundary. We derived some suﬃcient
local stability conditions, using the machinery of switched linear systems and common quadratic
Lyapunov functions. Our simulation and numerical experiments show good overall performance
of the feedback scheme, when the local stability conditions hold. They also suggest that, for our
model, the local stability is in fact suﬃcient for the global stability of ﬂuid limits. Verifying these
conjectures, as well as expanding the suﬃcient local stability conditions, is an interesting subject
for future research. Further generalizations of the agent invitation model are also of interest from
both theoretical and practical points of view.

References

[1] Z. Aksin, M. Armony, and V. Mehrotra. The modern call center: a multi-disciplinary perspec-
tive on operations management research. Production and Operations Management, 16(6):665–
688, 2007.

[2] American Telemedicine Association. Core Operational Guidelines for Telehealth Services
Involving Provider-Patient Interactions, 2014.
http://www.americantelemed.org/docs/
default-source/standards/core-operational-guidelines-for-telehealth-services.
pdf?sfvrsn=6.

[3] S. Bengtson. Generating better results with crowdsourcing: Leverage a network of high-quality

professionals for customer service. White paper, 2014.

[4] S. N. Ethier and T. G. Kurtz. Markov Processes: Characterization and Convergence. Wiley,

1986.

[5] P. Formisano. Flexibility for changing business needs: Improve customer service and drive

more revenue with a virtual crowdsourcing solution. White paper, 2014.

[6] I. Gurvich and A. Ward. On the dynamic control of matching queues. Stochastic Systems,

4(2):479–523, 2014.

[7] J. P. Hespanha. Uniform stability of switched linear systems: extensions of LaSalle’s invariance

principle. IEEE Transactions on Automatic Control, 49(4):470–482, 2004.

[8] R. S. Irving. Integers, Polynomials, and Rings. Undergraduate Texts in Mathematics. Springer,

New York, USA, 2004 edition, 2004.

[9] B. R. K. Kashyap. The double-ended queue with bulk service and limited waiting space.

Operations Research, 14(5):822–834, 1966.

20

[10] H. Lin and P. J. Antsaklis. Stability and stabilizability of switched linear systems: A survey

of recent results. IEEE Transactions on Automatic Control, 54(2):308–322, 2009.

[11] X. Liu, Q. Gong, and V. G. Kulkarni. Diﬀusion models for doubly-ended queues with renewal

arrival processes. Forthcoming in Stochastic Systems. DOI: 10.1214/13-SSY113, 2014.

[12] S. McGee-Smith. Why companies are choosing to deploy the LiveOps cloud-based contact cen-
ter, 2010. http://www.liveops.com/sites/default/files/uploads/lo_wp_mcgee-smith_
analytics.pdf.

[13] G. Pang and A. Stolyar. A service system with on-demand agent invitations. Queueing

Systems, 2015. http://arxiv.org/pdf/1409.7380v2.pdf.

[14] G. Pang, R. Talreja, and W. Whitt. Martingale proofs of many-server heavy-traﬃc limits for

Markovian queues. Probability Surveys, 4:193–267, 2007.

[15] L. Pontryagin. Ordinary Diﬀerential Equations. Adiwes international series in mathematics.

Addison-Wesley, 1962.

[16] W. Rudin. Principles of Mathematical Analysis. McGraw-Hill, New York, 1976.

[17] R. Shorten, O. Mason, F. O’Cairbre, and P. Curran. A unifying framework for the siso circle
criterion and other quadratic stabilty criteria. International Journal of Control, 77(1):1–9,
2004.

[18] R. Shorten, F. Wirth, O. Mason, K. Wulﬀ, and C. King. Stability criteria for switched and

hybrid systems. SIAM Review, 49(4):545–592, 2007.

[19] A. Stolyar, M. Reiman, N. Korolev, V. Mezhibovsky, and H. Ristock. Pacing in knowledge

worker engagement, 2010. United States Patent Application 20100266116-A1.

21

