6
1
0
2

 
r
a

M
1

 

 
 
]

.

O
C
h
t
a
m

[
 
 

1
v
8
9
1
0
0

.

3
0
6
1
:
v
i
X
r
a

Decomposing highly edge-connected graphs into

homomorphic copies of a ﬁxed tree

Martin Merker∗

February 29, 2016

Abstract

The Tree Decomposition Conjecture by Bar´at and Thomassen states that for
every tree T there exists a natural number k(T ) such that the following holds: If
G is a k(T )-edge-connected simple graph with size divisible by the size of T , then
G can be edge-decomposed into subgraphs isomorphic to T . So far this conjecture
has only been veriﬁed for paths, stars, and a family of bistars. We prove a weaker
version of the Tree Decomposition Conjecture, where we require the subgraphs
in the decomposition to be isomorphic to graphs that can be obtained from T by
vertex-identiﬁcations. We call such a subgraph a homomorphic copy of T . This
implies the Tree Decomposition Conjecture under the additional constraint that
the girth of G is greater than the diameter of T . As an application, we verify the
Tree Decomposition Conjecture for all trees of diameter at most 4.

1

Introduction

An H-decomposition of a graph G is a partition of its edge-set into subgraphs isomorphic
to H. In 2006, Bar´at and Thomassen [2] made the following conjecture:

Conjecture 1.1. For every tree T on m edges, there exists a natural number k(T ) such
that the following holds:

If G is a k(T )-edge-connected simple graph with size divisible by m, then G has a

T -decomposition.

The conjecture trivially holds if T is a single edge.

It is easy to see that edge-
connectivity 1 suﬃces for a decomposition into paths of length 2, see for example [11]
or [19]. When the conjecture was made, these were the only two cases for which it
was known to be true. Thomassen veriﬁed the conjecture for paths of length 3 in [18]

∗Department of Applied Mathematics and Computer Science, Technical University of Denmark,

DK-2800 Lyngby, Denmark. E-mail address: marmer@dtu.dk

1

and for paths whose length is a power of 2 in [19] and [22]. Botler, Mota, Oshiro, and
Wakabayashi proved it for the path of length 5 [5], and also extended the result to
paths of any given length [4]. Another proof of the conjecture for paths of any length
was found by Bensmail, Harutyunyan, and Thomass´e [3].

The results on the weak k-ﬂow conjecture in [20] imply that the conjecture holds
for all stars.
It was further veriﬁed for the bistar on 4 edges with degree sequence
(3, 2, 1, 1, 1) by Bar´at and Gerbner in [1]. More generally, Thomassen proved the con-
jecture for all bistars where the degrees of the two non-leaves diﬀer by precisely 1
in [21].

The aim of this paper is to prove a weaker version of Conjecture 1.1 with a less
restrictive notion of H-decompositions. Let us say that H is a homomorphic copy of G
if it can be obtained from G by identifying some of its vertices and keeping all edges.
Equivalently, H is a homomorphic copy of G if there exists a homomorphism from G
to H that is bijective on the edge sets. In particular, a homomorphic copy of G always
has the same size as G, and every graph isomorphic to G is also a homomorphic copy
of G.

Deﬁnition 1.2. Let H and G be graphs. An H ∗-decomposition of G is a partition of
the edge-set of G into homomorphic copies of H.

Clearly every H-decomposition is also an H ∗-decomposition. If T is a tree, then
a T ∗-decomposition is also a T -decomposition provided that the graph we decompose
has large girth: If T ′ is a homomorphic copy of a tree T , but not isomorphic to T , then
there exist two vertices u, v in T that have the same image in T ′. Since we require
the homomorphism to preserve all edges, the path between u and v gets mapped to a
closed walk in T ′. In particular, there exists a cycle in T ′ whose length is at most the
distance between u and v in T . Thus, if the girth of G is at least the diameter of T ,
then every T ∗-decomposition of G is also a T -decomposition.

The following weakening of Conjecture 1.1 is the main result of this paper.

Theorem 1.3. For every tree T on m edges, there exists a natural number kh(T ) such
that the following holds:

If G is a kh(T )-edge-connected graph with size divisible by m, then G has a T ∗-

decomposition.

In particular, if d is the diameter of T , then every kh(T )-edge-connected graph G

with girth greater than d has a T -decomposition.

Notice that we also allow graphs with multiple edges in Theorem 1.3, while Con-
jecture 1.1 only holds for simple graphs: The graph nK2 consisting of two vertices
joined by n edges has edge-connectivity n, but the only tree T for which it has a T -
decomposition is K2, a single edge. However, the graph nK2 is itself a homomorphic
copy of any tree on n edges, and it has a T ∗-decomposition for any tree T whose size
divides n.

2

The main ingredients of the proof of Theorem 1.3 are the results on the weak k-ﬂow

conjecture combined with the existence of spanning trees with small degrees.

In Section 2 we collect the necessary tools for the proof of Theorem 1.3. The main
idea of the proof is explained in Section 3, while the technical details can be found in
Section 4. As an immediate consequence of Theorem 1.3, we get that Conjecture 1.1
holds for trees of diameter at most 3. An explicit upper bound on the necessary edge-
connectivity for these trees is derived in Section 5. In Section 6, we verify Conjecture 1.1
for all trees of diameter 4. With a little more eﬀort, the arguments in Section 6 can
also be used to verify Conjecture 1.1 for some trees of diameter 5, including the path
of length 5. The details will appear in [15]. Finally, we show how Theorem 1.3 extends
to inﬁnite graphs in Section 7.

2 Methods

Unless stated otherwise, all graphs in this paper are ﬁnite and loopless, but may have
multiple edges. We write V (G) and E(G) for the vertex set and edge set of a graph G
respectively, and e(G) for the number of edges of G. We denote the degree of a vertex
v in G by d(v, G), or by d(v) if the graph is clear from the context. If the graph is
directed, we denote the outdegree of a vertex v by d+(v) and the indegree by d−(v).
We write Pk for the path on k vertices, thus Pk has length k − 1.

An important tool for working with edge-connected graphs is the following reduction
method due to Mader. Let v be a vertex of even degree in a graph G. A lifting at v
is the operation of deleting v and adding a perfect matching between the neighbours
of v in G. We say that the lifting is connectivity-preserving, if the edge-connectivity of
the resulting graph is not smaller than the edge-connectivity of G. We shall use the
following version of Mader’s Theorem which was proved in [9].

Theorem 2.1. [9, 14] Let v be a vertex of even degree in a graph G. If v is not incident
with a cut-edge, then there exists a connectivity-preserving lifting at v.

Another useful consequence of large edge-connectivity is the existence of edge-
disjoint spanning trees.
If a graph contains k edge-disjoint spanning trees, then it
is clearly k-edge-connected. Conversely, Nash-Williams [16] and Tutte [23] indepen-
dently proved that large edge-connectivity implies the existence of many edge-disjoint
spanning trees.

Theorem 2.2. [16, 23] Let k be a natural number. If G is a 2k-edge-connected graph,
then G contains k edge-disjoint spanning trees.

Apart from many edge-disjoint spanning trees, large edge-connectivity also guar-
antees the existence of spanning trees with small vertex degrees. This has been in-
vestigated by several authors, see for example [6], [8], [10], and [24]. Small-degree

3

spanning trees have already been used in [1], [18], [19], and [22] to prove special cases
of Conjecture 1.1.

Our main interest is to prove the existence of k(T ). Since the method presented
here will not result in the best possible upper bound on k(T ), we shall avoid the use
of stronger but more technical statements for the sake of simplicity. The following
theorem was proved in [8] and is suﬃcient for our purposes.

Theorem 2.3. [8] Let k be a natural number. If G is a 4k-edge-connected graph, then
G has a spanning tree T such that d(v, T ) < d(v, G)/k for every v ∈ V (G).

Repeated application of Theorem 2.3 also guarantees the existence of highly edge-

connected subgraphs with small degrees.

Lemma 2.4. Let k and q be natural numbers. If G is a graph with 4kq edge-disjoint
spanning trees, then G has a spanning q-edge-connected subgraph H such that d(v, H) <
d(v, G)/k for every v ∈ V (G).

Proof. Let Gi consist of 4k of the spanning trees for i ∈ {1, . . . , q}. By Theorem 2.3,
for each Gi we can ﬁnd a spanning tree Ti with d(v, Ti) < d(v, Gi)/k. Let H be the
union of T1, . . . , Tq. Now H is q-edge-connected and we have

d(v, H) =

q

X

i=1

d(v, Ti) <

1
k

q

X

i=1

d(v, Gi) ≤

1
k

d(v, G).

Another important tool is a recent result on orientations modulo k. It was proved
in [20] that every (2k2 + k)-edge-connected graph G has an orientation such that every
vertex gets a prescribed outdegree modulo k, provided that the sum of all prescribed
outdegrees is congruent to e(G) modulo k. In [13], the bound on the edge-connectivity
has been improved to 3k − 3 for k odd, and to 3k − 2 for k even.

Theorem 2.5. [13] Let G be a graph with m edges, k be a natural number, and p :
V (G) → Z/kZ be a function satisfying Pv∈V (G) p(v) ≡ m (mod k). If G is (3k − 2)-
edge-connected, then there exists an orientation of the edges of G such that d+(v) ≡
p(v) (mod k) for every v ∈ V (G).

As an application of Theorem 2.5, it was shown in [21] that a highly edge-connected
bipartite graph G with size divisible by k can be decomposed into two k-edge-connected
graphs G1 and G2 such that in G1 all vertices of A have degree divisible by k, and in G2
all vertices of B have degree divisible by k. Using the same proof, we can even achieve
that both G1 and G2 have arbitrarily large edge-connectivity, which has also been used
in [5].

4

Proposition 2.6. [5, 21] Let m and l be natural numbers, G be a bipartite graph
on vertex classes A1 and A2, and suppose the size of G is divisible by m. If G has
3m − 2 + 2l edge-disjoint spanning trees, then G can be decomposed into two spanning
l-edge-connected graphs G1 and G2 such that all vertices of Ai have degree divisible by
m in Gi, for i ∈ {1, 2}.

Proof. Let H1 and H2 each be the union of l of the spanning trees, and let G′ be the
graph on the remaining edges. For v in Ai deﬁne p(v) = m − d(v, Hi). Since G′ is
(3m − 2)-edge-connected, we can apply Theorem 2.5 to orient its edges so that each
vertex v has outdegree congruent to p(v) modulo m. For i ∈ {1, 2}, let Gi be the union
of Hi and all edges oriented from Ai to A3−i.

It was shown independently in [1] and [21] that it is suﬃcient to prove Conjecture 1.1

for bipartite graphs. The proofs there show that the following is true.

Theorem 2.7. [1, 21] Let T be a tree on m edges. If G is a (4k + 8m2m+3)-edge-
connected graph, then G can be decomposed into a k-edge-connected bipartite graph G′
and a graph H admitting a T -decomposition.

In particular, it is suﬃcient to prove Theorem 1.3 for bipartite graphs. Combined
with Proposition 2.6, we may even assume that all vertices on one side of the partition
have degree divisible by m.

3 Proof strategy for Theorem 1.3

The general idea of the proof of Theorem 1.3 is the following. Given a tree T with
m edges, let TA and TB be the two vertex classes induced by a proper 2-colouring of
V (T ). We may assume that TB contains a leaf of T . We denote the non-leaves in TA
by t1, . . . , ta and the non-leaves in TB by ta+1, . . . , ta+b. We colour the edges of T with
colours 1, . . . , m so that no two edges receive the same colour. For i ∈ {1, . . . , a + b},
we denote the set of colours at vertex ti by T (i). Let T (a + b + 1) be the set of colours
which are not contained in T (i) for any i ∈ {a + 1, . . . , a + b}. Notice that T (a + b + 1)
is non-empty since TB contains a leaf.

To ﬁnd a T ∗-decomposition of a bipartite graph G, it is suﬃcient to ﬁnd an edge-
colouring of G such that certain degree equations are satisﬁed. We write di(v) to
denote the degree of a vertex v in colour i. For every i ∈ {1, . . . , a + b}, we consider
a set of equations involving the colours in T (i), namely dj(v) = dk(v) for every j, k ∈
T (i). However, we do not need these equations to be satisﬁed at every vertex of G.
If A and B are the vertex classes of G, then we want the vertices in A to satisfy
the equations involving T (1), . . . , T (a), and the vertices in B to satisfy the equations
involving T (a + 1), . . . , T (a + b).

Deﬁnition 3.1. Let G be a bipartite graph on vertex classes A and B. We say an
edge-colouring of G with colours 1, . . . , m is T -equitable, if

5

• for every v ∈ A, i ∈ {1, . . . , a} and j, k ∈ T (i) we have dj(v) = dk(v), and

• for every v ∈ B, i ∈ {a + 1, . . . , a + b} and j, k ∈ T (i) we have dj(v) = dk(v).

Lemma 3.2. Let G be a bipartite graph on vertex classes A and B. If G admits a
T -equitable colouring then G has a T ∗-decomposition.

Proof. We prove by induction on m that we can decompose G into coloured homomor-
phic copies of T so that, for every homomorphic copy of T , the vertices corresponding
to TA lie in A. There is nothing to show for m = 1, so we may assume m ≥ 2 and
that the statement is true for all smaller m. We may also assume that the edge of T
coloured m is incident to t1 in TA and to a leaf in TB. Let T ′ be the tree we get by
deleting this edge, and let G′ be the graph we get by deleting all edges with colour m in
G. Now G′ satisﬁes the corresponding equations for T ′, so we can ﬁnd a decomposition
into coloured homomorphic copies of T ′ that are all oriented the same way. Since every
vertex v of G in A satisﬁes dj(v) = dk(v) for j, k ∈ T (1), the number of copies of T ′
where v is the image of t1 is the same as the number of edges coloured m at v. Thus
we can extend every homomorphic copy of T ′ to a homomorphic copy of T , resulting
in a T ∗-decomposition.

As noted at the end of Section 2, it suﬃces to prove Theorem 1.3 for bipartite
graphs G with vertex classes A and B where all vertices in A have degree divisible
by m.
In this situation we can construct an edge-colouring where the vertices in A
satisfy an even stronger condition than required in the lemma above, namely that they
have the same degree in each colour.
In other words, we are going to construct an
edge-colouring with colours 1, . . . , m such that

di(v) =

1
m

d(v)

(1)

for v ∈ A, i ∈ {1, . . . , m}, while the vertices in B satisfy the same equations as in
Lemma 3.2. This means that in the corresponding T ∗-decomposition, for every x, y ∈ TA
and v ∈ A, the number of homomorphic copies where v is the image of x is the same
as the number of homomorphic copies where v is the image of y.

The existence of such an edge-colouring is an easy consequence of the following

Theorem, which is proved in Section 4.

Theorem 3.3. For all natural numbers m and λ, there exists a natural number f (m, λ)
such that the following holds:

If m1, . . . , mb+1 are positive integers satisfying m = m1 + . . . + mb+1, and if G is a
f (m, λ)-edge-connected bipartite graph on vertex classes A and B in which all vertices
in A have degree divisible by m, then we can decompose G into b + 1 spanning λ-edge-
connected graphs G1, . . . , Gb+1 such that

• d(v, Gi) = mi

m d(v, G) for v ∈ A and i ∈ {1, . . . , b + 1}, and

6

• d(v, Gi) is divisible by mi for v ∈ B and i ∈ {1, . . . , b}.

Notice that it is not possible to achieve that also d(v, Gb+1) is divisible by mb+1 for
v ∈ B, since for example all of m1, . . . , mb+1 could be even, but B could have vertices
of odd degree.

Using Theorem 3.3, we can easily construct a T -equitable edge-colouring of G.

Theorem 3.4. Let G be a bipartite graph on vertex classes A and B in which all vertices
in A have degree divisible by m. If G is f (m, md)-edge-connected, where f denotes the
function deﬁned by Theorem 3.3, then G admits a T -equitable edge-colouring such that
the minimum degree in each colour is at least d.

Proof. For i ∈ {1, . . . , b + 1}, let mi = |T (a + i)|. Notice that every colour appears in
precisely one of T (a + 1), . . . , T (a + b + 1), so we have m = m1 + . . . + mb+1. Thus,
we can apply Theorem 3.3 to get a decomposition of G into md-edge-connected graphs
G1, . . . , Gb+1 such that d(v, Gi) = mi
m d(v, G) for v ∈ A, i ∈ {1, . . . , b + 1}, and d(v, Gi)
is divisible by mi for v ∈ B, i ∈ {1, . . . , b}.

For i ∈ {1, . . . , b}, every vertex of Gi has degree divisible by mi, so we can split
vertices to get an mi-regular graph G′
i. We also split each vertex in Gb+1 into vertices
of degree mb+1 and possibly one vertex of degree less than mb+1, resulting in a graph
G′
b+1. A well-known result by K¨onig states that every k-regular bipartite graph has a
proper edge-colouring with k colours, see for example Proposition 5.3.1. in [7]. Thus,
there exists a proper edge-colouring of G′
i with the mi colours in T (a + i) for every
i ∈ {1, . . . , b + 1}. This corresponds to an edge-colouring of Gi such that

dj(v, Gi) =

1
mi

d(v, Gi) =

1
m

d(v, G)

for j ∈ T (a + i) and v ∈ A. By construction, we also have dj(v) = dk(v) for v ∈ B,
i ∈ {a + 1, . . . , a + b}, j, k ∈ T (i), so the colouring is T -equitable. Since the minimum
degree of Gi is at least md, the minimum degree in each color in G is at least d.

Now the main result of this paper follows immediately.

Proof of Theorem 1.3. We may assume by Proposition 2.6 and Theorem 2.7 that G is
a bipartite graph on vertex classes A and B, and that every vertex in A has degree
divisible by m. If G is f (m, 1)-edge-connected, where f denotes the function deﬁned
by Theorem 3.3, then G admits a T -equitable colouring by Theorem 3.4. Thus, G has
a T ∗-decomposition by Lemma 3.2.

4 Proof of Theorem 3.3

The following lemma is an easy application of Theorem 2.1 and Theorem 2.5.
It is
a slight generalization of an argument that was already used in [21] to prove Conjec-
ture 1.1 for a class of bistars.

7

Lemma 4.1. Let G be a (3k − 2)-edge-connected bipartite graph on classes A and B,
where each vertex in A has even degree. For every function p : B → Z/kZ satisfying

p(v) ≡

X

v∈B

e(G)

2

(mod k) ,

there exists a subgraph H of G with

d(v, H) = 1
2d(v, G) for v ∈ A, and
d(v, H) ≡ p(v) (mod k) for v ∈ B.

Proof. By Theorem 2.1, we can lift each vertex in A so that the resulting graph G′
is still (3k − 2)-edge-connected. By Theorem 2.5, we can orient the edges of G′ such
that each vertex v has outdegree congruent to p(v) modulo k. We can also orient the
edges of G such that every directed edge of G′ corresponds to a directed path of length
2 in G. This yields an orientation of G where each vertex v in B has an outdegree
congruent to p(v) modulo k, and each vertex in A has the same out- and indegree. Now
the subgraph consisting of the edges oriented from B to A is as required.

The case where we want the subgraph H to contain only 1/m of the edges at every

vertex in A, for some m ≥ 3, can easily be reduced to the case m = 2.

Proposition 4.2. Let m and k be natural numbers with m ≥ 2, and let G be a bipartite
graph on classes A and B with 12km edge-disjoint spanning trees, where each vertex in
A has degree divisible by m. For every function p : B → Z/kZ satisfying

p(v) ≡

X

v∈B

e(G)

m

(mod k) ,

there is a subgraph H of G with

d(v, H) = 1
md(v, G) for v ∈ A and
d(v, H) ≡ p(v) (mod k) for v ∈ B.

Proof. By Lemma 2.4, we can ﬁnd a spanning 3k-edge-connected subgraph G′ with
d(v, G′) < 1
md(v, G). We add some edges to get a graph G′′ in which all vertices in
A have degree exactly 2
md(v, G). Now we can use Lemma 4.1 to ﬁnd a subgraph H
of G′′ with d(v, H) = 1
m d(v, G) for v ∈ A, and d(v, H) ≡ p(v) modulo k for
v ∈ B.

2 d(v, G′′) = 1

To get a decomposition into several graphs as in Theorem 3.3, we want to use
induction. To do so, we need that G − E(H) still has large edge-connectivity. The
following lemma shows that this can be achieved by increasing the edge-connectivity
of G.

8

Lemma 4.3. Let k, m and λ be natural numbers with m ≥ 2. Let G be a bipartite
graph on classes A and B with 8λm2 + 12km edge-disjoint spanning trees, where each
vertex in A has degree divisible by m. For every function p : B → Z/kZ satisfying

p(v) ≡

X

v∈B

e(G)

m

(mod k) ,

there is a decomposition of G into λ-edge-connected subgraphs G1 and G2 with

d(v, G1) = 1
md(v, G) for v ∈ A and
d(v, G1) ≡ p(v)(mod k) for v ∈ B.

Proof. Let H1 and H2 each be the union of 4λm2 of the spanning trees, and let H3 be the
union of the remaining edges. By Lemma 2.4, we can ﬁnd a spanning λ-edge-connected
subgraph H ′

i of Hi satisfying

1
m2 d(v, G)
for i ∈ {1, 2}, and a spanning 3k-edge-connected subgraph H ′

1
m2 d(v, Hi) <

d(v, H ′

i) <

d(v, H ′

3) <

1
m

d(v, H3) <

1
m

d(v, G) .

3 of H3 satisfying

(2)

(3)

We are going to colour the edges of G with colours 1 and 2 so that for i ∈ {1, 2} the
graph Gi induced by the edges coloured i will be as required. As before, we denote the
degree of a vertex v in colour i by di(v).
We start by colouring all edges in H ′

1 with colour 1, and all edges in H ′

2 with colour

2. This ensures that both G1 and G2 will be λ-edge-connected. We also want

(m − 1)d1(v) = d2(v)

(4)

to hold for v ∈ A. For every vertex in A, we colour more of its edges with colours 1 or
2 so that (4) is satisﬁed. We do it in such a way that the number of edges we colour is
minimal. Because of (2), we have coloured at most 1
md(v, G) edges incident with v for
every v ∈ A. Because of (3), we can assume that all these coloured edges are outside of
H ′
3. Let G′ be the graph consisting of all edges we have coloured so far, and let G′′ be the
graph induced by the remaining edges. In particular, G′ satisﬁes (4) and G′′ contains
3. In G′ every vertex in A has degree divisible by m, so this must also be the case in
H ′
G′′. Since d(v, G′) ≤ 1
2d(v, G)
and thus also

md(v, G) for v ∈ A, we have d(v, G′′) ≥ m−1

m d(v, G) ≥ 1

d(v, H ′

3) <

1
m

d(v, G) ≤

2
m

d(v, G′′)

for every v ∈ A. Now we repeat the argument from the proof of Proposition 4.2: We
md(v, G′′) for v ∈ A.
ﬁnd a subgraph G′′′ of G′′ containing H ′

3 and satisfying d(v, G′′′) = 2

9

Let p′ : B → Z/kZ be the function deﬁned by p′(v) = p(v) − d1(v, G′) for v ∈ B. By
Lemma 4.1, we can ﬁnd a subgraph H of G′′′ satisfying

d(v, H) =

1
2

d(v, G′′′) =

1
m

d(v, G′′)

for v ∈ A, and d(v, H) ≡ p′(v) modulo k for v ∈ B. Colouring the edges of H with colour
1 and the remaining edges of G′′ with colour 2 yields a decomposition as desired.

Repeated application of Lemma 4.3 results in the following proposition.

Proposition 4.4. For all natural numbers k, m, and λ, there exists a natural number
fk(m, λ) such that the following holds:

If G is a fk(m, λ)-edge-connected bipartite graph on vertex classes A and B, in which
all vertices in A have degree divisible by m, and p1, . . . , pm−1 are functions pi : B →
Z/kZ satisfying

pi(v) ≡

X

v∈B

e(G)

m

(mod k)

for i ∈ {1, . . . , m − 1}, then there is a decomposition of G into m spanning λ-edge-
connected graphs G1, . . . , Gm such that

d(v, Gi) = 1
d(v, Gi) ≡ pi(v) (mod k) for v ∈ B and i ∈ {1, . . . , m − 1}.

m d(v, G) for v ∈ A and i ∈ {1, . . . , m}, and

Proof. We use induction on m. By Theorem 2.2 and Lemma 4.3, the statement is true
for m = 2 and fk(2, λ) = 64λ + 48k. Thus, we may assume m ≥ 3 and fk(m − 1, λ)
exists. Set

fk(m, λ) = 16fk(m − 1, λ)m2 + 24km .

If G is fk(m, λ)-edge-connected, then we can use Lemma 4.3 to decompose G into
fk(m − 1, λ)-edge-connected subgraphs G′ and Gm−1 such that d(v, Gm−1) = d(v, G)/m
for v in A and d(v, Gm−1) ≡ pm−1(v) modulo k for v in B. Now we can use the induction
hypothesis for m − 1 with functions p1, . . . , pm−2 to decompose G′ into m − 1 spanning
λ-edge-connected subgraphs G1, . . . , Gm−2, Gm satisfying the conditions above. These
graphs together with Gm−1 decompose G as desired.

Now Theorem 3.3 follows easily.

Proof of Theorem 3.3. For a partition P of m into parts m1, . . . , mb+1, we deﬁne π(P )
to be the product of m1, . . . , mb+1. We are going to show that every fπ(P )(m, λ)-edge-
connected graph has a decomposition satisfying the conditions in the conclusion of
Theorem 3.3, where fπ(P ) is the function deﬁned by Proposition 4.4. Since there are
only ﬁnitely many partitions of m into positive integers, we can then choose f (m, λ) as
the maximum of all values fπ(P )(m, λ) over all partitions P of m.

10

Let m = m1 + . . . + mb+1 be a partition of m into positive integers, and let k be the
product of m1, . . . , mb+1. Let G be fk(m, λ)-edge-connected. We pick some function
q : B → Z/kZ satisfying

q(v) ≡

X

v∈B

e(G)

m

(mod k) ,

and we apply Proposition 4.4 with p1 = . . . = pm−1 = q to get λ-edge-connected graphs
H1, . . . , Hm satisfying d(v, Hi) = 1
md(v, G) for v ∈ A, i ∈ {1, . . . , m}, and d(v, Hi) ≡
q(v) (mod k) for v ∈ B, i ∈ {1, . . . , m − 1}. We construct graphs G1, . . . , Gb+1 such
that Gi is the union of precisely mi of the graphs Hj, every Hj is contained in precisely
one of the Gi, and Gb+1 contains Hm. Now we have

d(v, Gi) =

mi
m

d(v, G)

for v ∈ A, i ∈ {1, . . . , b + 1}, and

d(v, Gi) ≡ miq(v) (mod k)

for v ∈ B, i ∈ {1, . . . , b}. Since mi divides k for i ∈ {1, . . . , b}, we have that d(v, Gi) is
divisible by mi for v ∈ B, i ∈ {1, . . . , b}, so the graphs G1, . . . , Gb+1 are as desired.

5 Trees of diameter 3

Let T be a tree of diameter 3. As before, it is suﬃcient to consider the case where
the simple graph G we want to decompose is bipartite. In particular, we can assume
that the girth of G is at least 4. Thus, every T ∗-decomposition of G is also a T -
decomposition of G, and so Theorem 1.3 immediately implies Conjecture 1.1 in this
case. In the following we are going to take a closer look at the value k(T ) resulting
from the proof of Theorem 1.3.

Let S(k, l) denote the bistar with two adjacent vertices of degree k and l respectively,
and all other vertices having degree 1. Every tree of diameter 3 is isomorphic to a bistar
S(k, l) for some natural numbers k and l with 1 < k ≤ l.

The following proposition is a special case of Theorem 3.3. We give a direct proof
here to get a better edge-connectivity. For this we use the following strengthening of
Theorem 2.3, which is Corollary 21 in [8]: For every ε with 0 < ε < 1, if G is ⌈ 4
ε ⌉-
edge-connected, then G has a spanning tree T such that d(v, T ) < ε d(v, G) for every
v ∈ V (G). This results in a canonical strengthening of Lemma 2.4, which we shall use
in the following proof.

Proposition 5.1. Let k, l be natural numbers with 1 < k ≤ l, and let m = k + l − 1.
Assume G is a bipartite graph on vertex classes A and B where all vertices in A have
degree divisible by m. If G is 3l⌈ 2m
k−1⌉-edge-connected, then G has a decomposition into
two graphs G1 and G2 such that

11

• d(v, G1) = k−1

m d(v, G) for v ∈ A, and

• d(v, G2) is divisible by l for v ∈ B.

Proof. The proof is essentially the same as the proof of Proposition 4.2. By the
strengthening of Lemma 2.4, we can ﬁnd a spanning 3l-edge-connected subgraph G′
with d(v, G′) < 2(k−1)
m d(v, G). Since 2(k − 1) < m, we can add some edges of G to G′
to get a graph G′′ in which all vertices in A have degree precisely 2(k−1)
m d(v, G). Now
we use Lemma 4.1 with the function p : B → Z/lZ deﬁned by p(v) ≡ d(v, G) modulo
l. The resulting subgraph G1 of G′′ satisﬁes d(v, G1) = 1
m d(v, G) for v in
A, and d(v, G1) ≡ p(v) modulo l for v in B. Let G2 denote the graph G − E(G1), then
d(v, G2) = d(v, G) − d(v, G1) ≡ 0 modulo l for v ∈ B, so the graphs G1 and G2 are as
desired.

2d(v, G′′) = k−1

Given a decomposition of a graph G into graphs G1 and G2 as above, we immediately
get an S(k, l)-decomposition by the same arguments as in Section 3: We edge-colour
G2 with l colours so that every vertex has the same degree in each colour, and we edge-
colour G1 with k − 1 diﬀerent colours so that every vertex in A has the same degree in
all k + l − 1 colours. Now we get an S(k, l)-decomposition by Lemma 3.2, where the
vertices of degree k lie in A and the vertices of degree l lie in B.

It was proved in [21] that every 180k4-edge-connected bipartite simple graph with
size divisible by 2k has an S(k, k + 1)-decomposition. Combining Proposition 5.1 with
Proposition 2.6, we get the following stronger result.

Theorem 5.2. Let k, l be natural numbers with 1 < k ≤ l, and let m = k + l − 1.
Every (12l⌈ 2m
k−1⌉ + 6m − 4)-edge-connected bipartite graph with size divisible by m has
an S(k, l)-decomposition.

In particular, every (72k + 236)-edge-connected bipartite simple graph with size di-

visible by 2k has an S(k, k + 1)-decomposition.

For trees of diameter 3 the general reduction to the bipartite case from Proposi-

tion 2.7 was done more eﬃciently in [21].

Theorem 5.3. [21] Let T be a tree on m edges with diameter 3, and let k be a natural
number. If G is a (4k + 16m(m + 1))-edge-connected graph, then G can be decomposed
into a k-edge-connected bipartite graph G′ and a graph H admitting a T -decomposition.

It was proved in [21] that every 784k4-edge-connected simple graph with size divisible
by 2k has a S(k, k + 1)-decomposition. Combining Theorem 5.2 with Theorem 5.3, we
get the following more general result.

Theorem 5.4. Let k, l be natural numbers with 1 < k ≤ l, and let m = k + l − 1.
Every 112m2-edge-connected graph of size divisible by m has an S(k, l)-decomposition.

12

For k = l = 2, the bistar S(k, l) is a path of length 3. This special case was
investigated in [18], where it was shown that every 171-edge-connected simple graph
with size divisible by 3 admits a P4-decomposition. In the proof it was shown that every
2-edge-connected bipartite simple graph where all vertices on one side have degree
divisible by 3 admits a decomposition into paths of length 3. Note that for m odd
3m − 3 + 2l edge-disjoint spanning trees suﬃce in Proposition 2.6, so every bipartite
simple graph with 10 edge-disjoint spanning trees has a P4-decomposition. Replacing
this part in the proof of [18], we get that every 63-edge-connected simple graph with
size divisible by 3 can be decomposed into paths of length 3.

6 Trees of diameter 4

Let T be a tree of diameter 4. We may assume that the graph G we want to decompose is
bipartite and thus has girth 4, so the only problem is that some homomorphic copies in
the T ∗-decomposition might contain 4-cycles. To take care of this, we shall start with
a T ∗-decomposition and try to improve it by switching leaf edges between diﬀerent
homomorphic copies. It is essential that Theorem 3.3 results in a decomposition where
every vertex has a large degree in every colour, so that we have enough freedom to make
switches. This method can be used whenever the girth of G is at least the diameter of
T . Before we see how this strategy works in a general setting, we investigate the path
of length 4. Notice that the minimum degree condition in the next proposition cannot
be omitted, since a cycle of length 4 satisﬁes all other conditions.

Proposition 6.1. Let G be a bipartite simple graph on vertex classes A and B with
size divisible by 4, where the vertices in A have even degree.
5 -decomposition.

If G is 2-edge-connected, then G has a P ∗
If G is 2-edge-connected and the vertices in A have minimum degree 4, then G has

a P5-decomposition.

Proof. We can lift the vertices in A such that the resulting graph G′ is still 2-edge-
connected. Since G′ is connected and has an even number of edges, it is possible to
orient its edges so that every vertex has an even outdegree. Every directed edge in G′
corresponds to a directed path of length 2 in G. We colour the ﬁrst edge of each of
these directed paths red and the second edge blue. Now every vertex in A has the same
degree in red and blue, and the vertices in B have even degree in red.

We ﬁrst match the red edges at every vertex in B arbitrarily, these will be the two
middle edges of the paths of length 4. For each red path of length 2, we need to add a
blue edge to each of its ends. Since the vertices in A have the same degree in red and
blue, we can ﬁnd a matching of the blue edges and the ends of the red paths resulting
in a P ∗
5 -decomposition. This proves the ﬁrst part of the proposition, so we may now
assume that the vertices in A have minimum degree 2d for some d ≥ 2.

Let x be a vertex in B. We say that a homomorphic copy of P5 has a conﬂict at
x, if x is incident to both blue edges of that copy. We choose a matching of the red

13

and blue edges such that the number of conﬂicts, and thus the number of 4-cycles, is
minimal.

Suppose there is a conﬂict at some vertex x in B. Consider the directed graph D(x)
where the vertices are the homomorphic copies of P5 in our decomposition. For two
homomorphic copies T1 and T2, we add an edge oriented from T1 to T2 in D(x) for
every a ∈ A such that ax is a blue edge of T1, and there is a vertex b ∈ B for which ab
is a blue edge of T2. The idea is that it is then possible to switch the blue edge ax of
T1 with the blue edge ab of T2 to decrease the number of occurences of x in T1. Notice
that such a switch might create a new conﬂict at x, but not at any other vertex.

In D(x), each vertex has either outdegree 0 (if x is not a leaf in the homomorphic
copy), or it has at least outdegree d−1. Notice that every vertex with positive outdegree
has indegree at most 1, since the corresponding homomorphic copy has at most one
blue edge not incident with x, say ab with a ∈ A, b ∈ B, and there is at most one
homomorphic copy in which ax is a blue edge.

Since we assumed there is a conﬂict at x, there is a vertex v in D(x) with outdegree
at least 2(d − 1) and indegree 0. Let X be the set of vertices we can reach from v via
a directed path, including v. Suppose every vertex in X has positive outdegree, then
the subgraph induced by X contains at least (|X| + 1)(d − 1) edges. However, it can
contain at most |X| − 1 edges, since every vertex has indegree at most 1, and v has
indegree 0. Thus, there is a directed path in D(x) from v to a vertex of outdegree 0,
and making the switches corresponding to the edges on this path reduces the number
of conﬂicts by 1, contradicting our assumption.

14

It was shown in [19] that every 101010

-edge-connected graph of size divisible by 4
has a decomposition into paths of length 4. Using the proposition above, this bound on
the edge-connectivity can be signiﬁcantly improved. By Proposition 2.6, every bipartite
simple graph with 14 spanning trees and size divisible by 4 can be decomposed into
two graphs satisfying the conditions of Proposition 6.1. Combining this with the ﬁrst
part of the proof in [19] shows that every 107-edge-connected graph of size divisible by
4 has a P5-decomposition.

Conjecture 1.1 can be restated as follows: For every tree T on m edges, and every
natural number g with g ≥ 3, there exists a natural number k(T, g) such that every
k(T, g)-edge-connected simple graph with girth at least g and size divisible by m has
a T -decomposition. The existence of k(T, 4) is equivalent to the existence of k(T ) by
Theorem 2.7.
If d denotes the diameter of T , then we know by Theorem 1.3 that
k(T, d + 1) exists. The following theorem shows that also k(T, d) exists. This implies
Conjecture 1.1 for trees of diameter 4.

Theorem 6.2. Let T be a tree of size m and diameter d. There exists a natural number
k(T, d) such that every k(T, d)-edge-connected simple graph G with girth at least d and
size divisible by m has a T -decomposition.

Proof. We may assume as usual that G is bipartite on vertex classes A and B and that

14

all vertices in A have degree divisible by m. We are going to show that it suﬃces for G
to be f (m, 2m)-edge-connected, where f is the function deﬁned by Theorem 3.3.

If d is odd, then G has girth at least d+1, so the conclusion follows from Theorem 1.3.
Thus, we may assume that d is even. Let TA and TB be the two vertex classes deﬁned by
a proper 2-colouring of T . We may assume that TB contains the ends of every longest
path in T , since d is even. We colour the edges of T that are incident with leaves in TB
blue, and the remaining edges red.

Let λ be a natural number with λ ≥ 2m, and assume G is f (m, λ)-edge-connected.
We can use Theorem 3.3 and Lemma 3.2 to get a T ∗-decomposition, where all vertices
in TA correspond to vertices in A in the homomorphic copies. We colour the edges of G
red and blue according to the colour of the edge they correspond to in T . Notice that
by the proof of Theorem 1.3, the subgraph Gb+1 in Theorem 3.3 corresponds precisely
to the edges coloured blue in G, so every vertex in A is incident to at least λ blue edges.
Since G has girth d, the only way a homomorphic copy can fail to be an isomorphic
copy of T is if it contains a cycle of length d or, equivalently, two blue edges intersecting
at a vertex in B. As in the previous proof, we shall repair this by switching one of the
blue edges with a blue edge from another homomorphic copy. We are not going to
make any changes to the red edges, every red part of a homomorphic copy in the
T ∗-decomposition will be the red part of an isomorphic copy in the T -decomposition.
For x ∈ B, a conﬂict at x is a pair of blue edges contained in the same homomorphic
copy of T such that both of them are incident with x. Notice that one homomorphic
copy may have several conﬂicts at x. Out of all T ∗-decompositions we can get by
switching blue edges between copies of our original T ∗-decomposition, we choose one
for which the number of conﬂicts is minimal.

Suppose there is a conﬂict at some vertex x ∈ B. Consider the directed graph D(x)
where the vertices are the homomorphic copies of T in the T ∗-decomposition. For two
homomorphic copies T1 and T2, we add an edge oriented from T1 to T2 in D(x) for
every a ∈ A, b ∈ B − V (T1) such that ax is a blue edge of T1 and ab is a blue edge of
T2. Again, the idea is to switch the blue edge ax of T1 with the blue edge ab of T2 to
decrease the number of occurences of x in T1. Notice that such a switch might create a
new conﬂict at x, but since b is not contained in T1 it will not create a conﬂict at any
other vertex. Since less than m of the blue edges at a are incident with another vertex
of T1, there are at least λ − m blue edges we can choose for the switch. In particular,
every vertex of positive outdegree in D(x) has outdegree at least λ − m.

Let v be a vertex of D(x) corresponding to a homomorphic copy containing a conﬂict
at x, so v has outdegree at least 2(λ − m). Let X denote the set of vertices in D(x)
we can reach from v via a directed path, including v. If every vertex in X has positive
outdegree, then the subgraph induced by X has more than (λ − m)|X| edges. However,
every vertex of D(x) has indegree at most b, where b denotes the number of blue edges
of T . Thus, the graph induced by |X| has less than b|X| edges, which is at most
(λ − m)|X| for λ ≥ 2m. This shows that there must be a vertex u of outdegree 0 in X.
Now making the switches corresponding to the edges of the directed path from v to u

15

results in a T ∗-decomposition with fewer conﬂicts, contradicting our assumption.

Corollary 6.3. For every tree T with size m and diameter at most 4, there exists a
natural number k(T ) such that every k(T )-edge-connected graph with size divisible by
m has a T -decomposition.

7 Extension to inﬁnite graphs

It is natural to ask whether Conjecture 1.1 could hold for inﬁnite graphs. We conjecture
the following canonical extension.

Conjecture 7.1. For every tree T , there exists a natural number k∞(T ) such that every
k∞(T )-edge-connected inﬁnite graph G has a T -decomposition.

Apart from the locally ﬁnite case, it is not known whether Conjecture 1.1 implies
Conjecture 7.1. However, the situation changes if we consider T ∗-decompositions in-
stead.

Theorem 7.2. [15] Let T be a tree of size m. Every (kh(T ) + m2 − m)-edge-connected
inﬁnite graph has a T ∗-decomposition.

Notice that kh(T )-edge-connectivity is not suﬃcient: Every connected graph of even
size decomposes into paths of length 2, but the inﬁnite star where all edges apart from
one are subdivided has no such decomposition.

We shall just sketch the proof of Theorem 7.2 here, the details can be found in [15].

Sketch of Proof. By a standard argument using K¨onig’s Inﬁnity Lemma, every (kh(T )+
m − 1)-edge-connected locally ﬁnite graph has a T ∗-decomposition. By a result in [12],
every inﬁnite k-edge-connected graph has a decomposition into k-edge-connected count-
able graphs. Thus, it suﬃces to consider countable graphs.

The essential diﬀerence between T -decompositions and T ∗-decompositions is that if
G′ has a T ∗-decomposition, and if G can be obtained from G′ by vertex-identiﬁcations,
then also G has a T ∗-decomposition. Since vertex-splitting is the reverse operation
of vertex-identiﬁcation, we would like to split the vertices in G to get a locally ﬁnite
graph of the same edge-connectivity. By Theorem 9 in [17], there exists a splitting of the
vertices of G such that the resulting graph G′ is still (kh(T ) + m2 − m)-edge-connected
and every block of G′ is locally ﬁnite. There might still be vertices of inﬁnite degree
in G′, but those must be cutvertices.
It is not diﬃcult to show that we can further
split these cutvertices so that every connected component is (kh(T ) + m2 − m)-edge-
connected and either locally ﬁnite, or has precisely one cutvertex of inﬁnite degree and
all its blocks are ﬁnite. In the second case, it is possible to delete some homomorphic
copies of T such that every block loses at most m2 − m edges and has size divisible
by m afterwards. Now the resulting graph has a T ∗-decomposition by the deﬁnition
of kh(T ).

16

Acknowledgement

The author thanks Carsten Thomassen for his advice and helpful discussions, as well as
Thomas Perrett for a careful reading of the manuscript. This research was supported
by ERC Advanced Grant GRACOL, project number 320812.

References

[1] J. Bar´at and D. Gerbner. Edge-decomposition of graphs into copies of a tree with

four edges. Electr. J. Comb., 21:P1.55, 2014.

[2] J. Bar´at and C. Thomassen. Claw-decompositions and Tutte-orientations. Journal

of Graph Theory, 52:135–146, 2006.

[3] J. Bensmail, A. Harutyunyan, and S. Thomass´e. Edge-partitioning a graph into

paths: beyond the Bar´at-Thomassen conjecture. In preparation.

[4] F. Botler, G. O. Mota, M. T. I. Oshiro, and Y. Wakabayashi. Decompositions of

highly edge-connected graphs into paths of any given length. In preparation.

[5] F. Botler, G. O. Mota, M. T. I. Oshiro, and Y. Wakabayashi. Decompositions
of highly connected graphs into paths of length ﬁve. ArXiv e-prints, May 2015.
arXiv:1505.04309.

[6] A. Czumaj and W.-B. Strothmann. Bounded degree spanning trees.

In Algo-
rithms ESA ’97, volume 1284 of Lecture Notes in Computer Science, pages 104–
117. Springer, 1997.

[7] R. Diestel. Graph Theory. Springer, 4th edition, 2010.

[8] M. N. Ellingham, Y. Nam, and H.-J. Voss. Connected (g, f )-factors. Journal of

Graph Theory, 39:62–75, 2002.

[9] A. Frank. On a theorem of Mader. Discrete Mathematics, 101:49–57, 1992.

[10] M. Hasanvand. Spanning trees and spanning eulerian subgraphs with small degrees.

Discrete Mathematics, 338:1317–1321, 2015.

[11] M. J¨unger, G. Reinelt, and W. R. Pulleyblank. On partitioning the edges of graphs

into connected subgraphs. Journal of Graph Theory, 9:539–549, 1985.

[12] F. Laviolette. Decompositions of inﬁnite graphs: I - bond-faithful decompositions.

Journal of Combinatorial Theory, Series B, 94:259–277, 2005.

17

[13] L. M. Lov´asz, C. Thomassen, Y. Wu, and C.-Q. Zhang. Nowhere-zero 3-ﬂows and
modulo k-orientations. Journal of Combinatorial Theory, Series B, 103:587 – 598,
2013.

[14] W. Mader. A reduction method for edge-connectivity in graphs. Ann. Discrete

Math., 3:145–164, 1978.

[15] M. Merker. Decomposition of graphs. PhD thesis, Technical University of Denmark.

In preparation.

[16] C. St.J. A. Nash-Williams. Edge-disjoint spanning trees of ﬁnite graphs. Journal

of the London Mathematical Society, 36:445–450, 1961.

[17] C. Thomassen. Orientations of inﬁnite graphs with prescribed edge-connectivity.

Combinatorica. To appear.

[18] C. Thomassen. Decompositions of highly connected graphs into paths of length 3.

Journal of Graph Theory, 58:286–292, 2008.

[19] C. Thomassen. Edge-decompositions of highly connected graphs into paths. Abh.

Math. Seminar Hamburg, 78:17–26, 2008.

[20] C. Thomassen. The weak 3-ﬂow conjecture and the weak circular ﬂow conjecture.

Journal of Combinatorial Theory. Series B, 102:521–529, 2012.

[21] C. Thomassen. Decomposing a graph into bistars. Journal of Combinatorial The-

ory. Series B, 103:504–508, 2013.

[22] C. Thomassen. Decomposing graphs into paths of ﬁxed length. Combinatorica,

33:97–123, 2013.

[23] W. T. Tutte. On the problem of decomposing a graph into n connected factors.

Journal of the London Mathematical Society, 36:221–230, 1961.

[24] L. Zhenhong and X. Baoguang. On low bound of degree sequences of spanning

trees in k-edge-connected graphs. Journal of Graph Theory, 28:87–95, 1998.

18

