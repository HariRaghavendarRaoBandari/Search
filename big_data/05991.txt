6
1
0
2

 
r
a

 

M
8
1

 
 
]

.

G
D
h
t
a
m

[
 
 

1
v
1
9
9
5
0

.

3
0
6
1
:
v
i
X
r
a

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN

ARAKELOV GEOMETRY

GERARD FREIXAS I MONTPLET AND RICHARD A. WENTWORTH

Abstract. In this paper, we extend Deligne’s functorial Riemann-Roch isomor-
phism for hermitian holomorphic line bundles on Riemann surfaces to the case
of ﬂat, not necessarily unitary connections. The Quillen metric and ⋆-product of
Gillet-Soulé is replaced with complex valued logarithms. On the determinant of co-
homology side, the idea goes back to Fay’s holomorphic extension of determinants
of Dolbeault laplacians, and it is shown here to be equivalent to the holomorphic
Cappell-Miller torsion. On the Deligne pairing side, the logarithm is a reﬁnement
of the intersection connections considered in [16]. The construction naturally leads
to an Arakelov theory for ﬂat line bundles on arithmetic surfaces and produces
arithmetic intersection numbers valued in C/πi Z.
In this context we prove an
arithmetic Riemann-Roch theorem. This realizes a program proposed by Cappell-
Miller to show that the holomorphic torsion exhibits properties similar to those of
the Quillen metric proved by Bismut, Gillet and Soulé. Finally, we give examples
that clarify the kind of invariants that the formalism captures; namely, periods of
diﬀerential forms.

1. Introduction

Arithmetic intersection theory was initiated by Arakelov [1] in an attempt to ap-
proach the Mordell conjecture on rational points of projective curves over number
ﬁelds by mimicking the successful arguments of the function ﬁeld case. The new in-
sight was the realization that an intersection theory on arithmetic surfaces could be
deﬁned by adding some archimedean information to divisors. This archimedean
datum consists of the so-called Green’s functions that arise from smooth hermitian
metrics on holomorphic line bundles. The use of a metric structure is also natural
for diophantine purposes, as one may want to measure the size of integral sections
of a line bundle on an arithmetic surface.

Arakelov’s foundational work was complemented by Faltings, who proved
among other things the ﬁrst version of an arithmetric Riemann-Roch type formula
[14]. Later, in a long collaboration starting with [17], Gillet and Soulé vastly ex-
tended the theory both to higher dimensions and to more general structures on the
archimedean side. Their point of view is an elaboration of the ideas of Arakelov
and is cast as a suitable “completion” of the usual Chow groups of classical in-
tersection theory over a Dedekind domain. Their formalism includes arithmetic
analogues of characteristic classes of hermitian holomorphic vector bundles [18, 19].
This led them to develop and prove a general Grothendieck-Riemann-Roch type

2000 Mathematics Subject Classiﬁcation. Primary: 58J52; Secondary: 14C40.
G. F. supported in part by ANR grant ANR-12-BS01-0002.
R.W. supported in part by NSF grant DMS-1406513.
The authors also acknowledge support from NSF grants DMS-1107452, -1107263, -1107367 “RNMS:

GEometric structures And Representation varieties” (the GEAR Network).

2

FREIXAS I MONTPLET AND WENTWORTH

theorem in this setting [20]. A key ingredient is the analytic torsion of the Dolbeault
complex associated to a hermitian holomorphic bundle over a compact Kähler
manifold. Their proof requires deep properties of the analytic torsion due to Bis-
mut and collaborators [2, 3, 4, 5, 6, 7]. In [13], Deligne proposed a program to lift
the Grothendieck-Riemann-Roch theorem to a functorial isomorphism between
line bundles that becomes an isometry when vector bundles are endowed with
suitable metrics. In the case of families of curves this goal was achieved. He estab-
lishes a canonical isometry between the determinant of cohomology of a hermitian
vector bundle with the Quillen metric, and some hermitian intersection bundles,
involving in particular the so-called Deligne pairings of line bundles.

In our previous work [16], we produced natural connections on Deligne pairings
of line bundles with ﬂat relative connections on families of compact Riemann
surfaces. These were called intersection connections, and they recover Deligne’s
constructions in the case where the relative connections are the Chern connections
for a hermitian structure. As in the case of Deligne’s formulation, intersection
connections are functorial, and via the Chern-Weil expression they realize a natural
cohomological relationship for Deligne pairings. Moreover, we showed that in the
case of a trivial family of curves, i.e. a single Riemann surface and a holomorphic
family of ﬂat line bundles on it, we could interpret Fay’s holomorphic extension of
analytic torsion for ﬂat unitary line bundles [15] as the construction of a Quillen type
holomorphic connection on the determinant of cohomology, and as a statement
that the Deligne-Riemann-Roch type isomorphism is ﬂat with respect to these
connections. The contents of [16] are summarized in Section 2 below.

The principal results of the present paper are the following.

• We extend the ﬂatness of the Deligne isomorphism to nontrivial families
of smooth projective curves. The proof makes use of the idea of a logarithm
for a line bundle with connection.

• The holomorphic extension of analytic torsion naturally deﬁnes an exam-
ple of a logarithm which we call the Quillen logarithm. We show that the
Quillen logarithm coincides with the torsion invariant deﬁned by Cappell-
Miller in [12].

• We initiate an arithmetic intersection theory where the archimedean data

consists of ﬂat, not necessarily unitary, connections.

Below we describe each of these items in more detail.

1.1. Logarithms. The results in [16] on intersection and Quillen connections are
vacuous for a single Riemann surface and a single ﬂat holomorphic line bundle,
since there are no interesting connections over points! To proceed further, and
especially with applications to Arakelov theory in mind, we establish “integrated”
versions of the intersection and holomorphic Quillen connections that are nontriv-
ial even when the parameter space is zero dimensional. The nature of such an
object is what we have referred to above as a logarithm of a line bundle L → S
over a smooth variety S. This takes the place of the logarithm of a hermitian
metric in the classical situation. More precisely, a logarithm is an equivariant
map LOG : L× → C/2πi Z. It has an associated connection which generalizes the
Chern connection of a hermitian metric, but which is not necessarily unitary for
some hermitian structure. Although the notion of a logarithm is equivalent simply

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

3

to a trivialization of the Gm-torsor L×, it nevertheless plays an important role in
the archimedean part of the arithmetic intersection product, as we explain below.
The logarithm provides a reﬁnement of the relationship between intersection
connections, the holomorphic extension of analytic torsion, and the Deligne iso-
morphism. More precisely, let (X, p) be a compact Riemann surface with a base
point, X the conjugate Riemann surface, and L → X, Lc → X rigidiﬁed (at p)
ﬂat complex line bundles with respective holonomies χ and χ−1, for some char-
acter χ: π1(X, p) → C×. Applied to these data, Deligne’s canonical (up to sign)
isomorphism for L and Lc gives

D: nλ(L − OX) ⊗C λ(Lc − O

X)o⊗2 ∼−−→ hL, L ⊗ ω−1

X i ⊗C hLc, Lc ⊗ ω−1
X i

(1)

where λ denotes the (virtual) determinant of cohomology for the induced holo-
morphic structure, and h , i denotes the Deligne pairing (see Section 2 below for
a review of Deligne’s isomorphism). Choosing a hermitian metric on TX, one can
deﬁne a holomorphic extension of analytic torsion as in [15], and this gives rise
to a natural Quillen logarithm LOGQ on the left hand side of (1), and an associated
generalization of the Quillen connection. On the other hand, we shall show in
Section 4 that the intersection connection of [16] can be integrated to an intersection
logarithm LOGint on the right hand side of (1). The ﬁrst main result is the following
(see Section 5 below, especially Theorem 5.1 and Corollary 5.3):

Theorem 1.1. Deligne’s isomorphism (1) is compatible with LOGQ and LOGint, modulo
πi Z. That is,

(2)
Moreover, in families the Deligne isomorphism is ﬂat with respect to the Quillen and
intersection connections.

LOGQ = LOGint ◦D mod πi Z

The proof we give relies on our previous work. The idea is to deform the line bun-
dles to the universal family over the Betti moduli space MB(X) = Hom(π1(X, p), C×),
over which we have previously proven the compatibility of Deligne’s isomorphism
with holomorphic Quillen and intersection connections. In [16, Sec. 5.3], these con-
nections where shown to be ﬂat over MB(X). Since the Quillen and intersection
logarithms are primitives for the logarithms, the logarithms must therefore coin-
cide up to a constant. The constant is ﬁxed by evaluation on unitary characters,
for which Deligne’s isomorphism is an isometry. The ambiguity of sign in the
isomorphism (1) is responsible for taking the values in the equality in the theorem
modulo πi Z, instead of 2πi Z.

1.2. The Quillen-Cappell-Miller logarithm. In recent years, several authors have
developed complex valued analogues of analytic torsion for ﬂat line bundles [24, 9,
27]. In the holomorphic case, this is due to Cappell-Miller [12]. With the notation
above, the Cappell-Miller holomorphic torsion can be seen as a trivialization of
λ(L) ⊗C λ(Lc) that depends on the hermitian metric on TX and the connections
on the line bundles. Hence, it gives raise to a logarithm, which we temporarily
call the Cappell-Miller logarithm. In [12], the authors ask whether their torsion
has similar properties to the holomorphic torsion, as in the work of Bismut-Gillet-
Soulé and Gillet-Soulé. Our second main result is that this is indeed the case for
Riemann surfaces and line bundles. In fact, we prove the following (see Section 6
and Theorem 6.12 below):

4

FREIXAS I MONTPLET AND WENTWORTH

Theorem 1.2. The Cappell-Miller logarithm and the Quillen logarithm coincide.

In light of the theorem, we may also call LOGQ the Quillen-Cappell-Miller log-
arithm. The idea of the proof is again by deformation to the universal case over
MB(X). We prove that Cappell-Miller’s construction can be done in familes and
that it provides a holomorphic trivialization of the “universal” determinant of co-
homology on MB(X). The strategy is analogous to the observation in [6], accord-
ing to which Bismut-Freed’s construction of the determinant of cohomology and
Quillen’s metric are compatible with the holomorphic structure of the Knudsen-
Mumford determinant [25]. However, these authors work with hermitian vector
bundles, and their reasoning is particular to the theory of self-adjoint Laplace type
operators. As our operators are not self-adjoint, this argument does not directly
apply. Nevertheless, the operators we consider are still conjugate, à la Gromov,
to a ﬁxed self-adjoint laplacian on a ﬁxed domain. This presentation exhibits a
holomorphic dependence with respect to parameters in MB(X).
In this context,
Kato’s theory of analytic perturbations of closed operators [23, Chap. VII] turns
out to be well-suited, and provides the necessary alternative arguments to those
in [6]. Once this is completed, we obtain two holomorphic logarithms on the uni-
versal determinant of cohomology that agree on the unitary locus. By a standard
argument this implies that they must coincide everywhere. A posteriori, we remark
that the analogue of the curvature theorems of Bismut-Freed and Bismut-Gillet-
Soulé for the Cappell-Miller torsion is empty, since we prove the latter gives rise
to a ﬂat Quillen type connection in the family situation. This makes our func-
torial approach essential in order to establish nontrivial ﬁner properties of the
Cappell-Miller torsion.

1.3. The Arithmetic-Riemann-Roch theorem. The third aim of this paper is to use
the results above to initiate an Arakelov theory for ﬂat line bundles on arithmetic
surfaces (Section 7). The quest for such a theory was made more conceivable by
Burgos’ cohomological approach to Arakelov geometry, which interprets Green
currents as objects in some truncated Deligne real cohomology [10]. This evolved
into the abstract formalism of Burgos-Kramer-Kühn [11], allowing one to introduce
integral Deligne cohomology instead. Despite these developments, to our knowl-
edge, the attempts so far have been unsuccessful. It turns out that the intersection
logarithm is the key in the construction of an arithmetic intersection pairing for
ﬂat line bundles. At the archimedean places, the nature of our tools forces us to
work simultaneously with a Riemann surface and its conjugate, and pairs of ﬂat
line bundles with opposite holonomies. We ﬁnd an analogue of this apparatus
in the arithmetic setting which we call a conjugate pair L♯ of line bundles with
connections (see Deﬁnition 7.6). Through Deligne’s pairing and the intersection
logarithm, we attach to conjugate pairs L♯ and M♯ an object hL♯, M♯i, which con-
sists of a line bundle over Spec OK together with the data of intersection logarithms
at the archimedean places. For such an object there is a variant of the arithmetic
degree in classical Arakelov geometry, denoted deg♯, which takes values in C/πi Z
instead of R. The construction also applies to mixed situations; for instance, to a
rigidiﬁed conjugate pair L♯ and a hermitian line bundle M. When the dualizing
sheaf ωX/S is equipped with a smooth hermitian metric, we can deﬁne λ(L♯)Q, the
determinant of cohomology of L♯ with the Quillen-Cappell-Miller logarithms at the

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

5

archimedean places. Using this formalism, we prove an arithmetic Riemann-Roch
type theorem for these enhanced line bundles (Theorem 7.12 below):
Theorem 1.3 (Arithmetic Riemann-Roch). Let X → S = Spec OK be an arithmetic
surface with a section σ : S → X. Suppose the relative dualizing sheaf ωX/S is endowed
with a smooth hermitian metric. Let L♯ be a rigidiﬁed conjugate pair of line bundles with
connections. Endow the determinant of cohomology of L♯ with the Quillen-Cappell-Miller
logarithm. Then the following equality holds in C/πi Z.

12 deg♯ λ(L♯)Q − 2δ = 2(ωX/S, ωX/S) + 6(L♯, L♯) − 6(L♯, ωX/S)

(3)

− (4g − 4)[K : Q]  ζ′(−1)
ζ(−1)

+

1

2! ,

where δ =Pp np log(Np) is the “Artin conductor” measuring the bad reduction of X →

Spec OK. If K does not admit any real embeddings then the equality lifts to C/2πi Z.

In the theorem it is possible to avoid the rigidiﬁcation of L♯ along the section σ,
at the cost of taking values in C/πi Z[1/hK], where hK is the class number of K. The
particular choice of section is not relevant: none of the quantities computed by the
formula depends upon it. However, the existence of a section is needed for the
construction. A variant of the formalism (including an arithmetic Riemann-Roch
formula) consists in introducing conjugate pairs of arithmetic surfaces and line
bundles. This makes sense and can be useful when K is a CM ﬁeld. The arithmetic
intersection numbers are then valued in C/2πi Z.

Contents

1.
Introduction
1.1. Logarithms
1.2. The Quillen-Cappell-Miller logarithm
1.3. The Arithmetic-Riemann-Roch theorem
2. Deligne-Riemann-Roch and intersection connections
3. Logarithms and Deligne Pairings
3.1. Logarithms and connections on holomorphic line bundles
3.2. Construction of naive logarithms
3.3. The connection attached to a naive logarithm
3.4. Dependence of naive logarithms on liftings
4. The Intersection Logarithm
4.1.
4.2.
4.3. Explicit construction for families
4.4. The mixed case over Spec C
5. Logarithm for the Determinant of Cohomology
5.1. The Quillen logarithm
5.2. The Deligne-Riemann-Roch isomorphism and logarithms
6. The Quillen logarithm and the Cappell-Miller torsion
7. Arithmetic Intersection Theory for Flat Line Bundles
7.1. Conjugate pairs of line bundles with logarithms on Spec OK
7.2. Conjugate pairs of line bundles with connections
7.3. Mixed arithmetic intersection products

Intersection logarithms in conjugate families
Intersection logarithm in the universal case

1
2
3
4
6
8
8
11
14
17
20
20
24
25
27
28
28
30
32
39
39
41
43

6

FREIXAS I MONTPLET AND WENTWORTH

7.4. Variants over R and C, argument and periods
7.5. Arithmetic Riemann-Roch theorem
References

43
45
47

2. Deligne-Riemann-Roch and intersection connections

In this section we brieﬂy review those results from our previous work [16]
that are relevant for the present article. Let π: X → S be a smooth and proper
morphism of quasi-projective and smooth complex varieties, with connected ﬁbers
of dimension 1. Let L and M be two holomorphic line bundles on X. The Deligne
pairing of L and M is a holomorphic line bundle hL, Mi on S, that can be presented
in terms of generators and relations. Locally on S (i.e. possibly after replacing S by
an open subset), the line bundle is trivialized by symbols hℓ, mi, where div ℓ and
div m are disjoint, ﬁnite and étale1 over an open subset of S (for simplicity, we say
that ℓ and m are in relative general position). Relations, inducing the glueing and
cocycle conditions, are given by

h f ℓ, mi = Ndiv m/S( f )hℓ, mi,

whenever f is a meromorphic function such that both symbols are deﬁned, as
well as a symmetric relation in the other “variable”. Here, Ndiv m/S( f ) denotes the
norm of f along the divisor of m. It is multiplicative with respect to addition of
divisors, and it is equal to the usual norm on functions for ﬁnite, ﬂat divisors over
the base. The construction is consistent, thanks to the Weil reciprocity law: for two
meromorphic functions f and g whose divisors are in relative general position, we
have

Ndiv f /S(g) = Ndiv g/S( f ).

The Deligne pairing can be constructed both in the analytic and the algebraic
categories, and it is compatible with the analytiﬁcation functor. This is why we
omit specifying the topology. The Deligne pairing is compatible with base change
and has natural functorial properties in L and M.

X/S be a relative holomorphic connection, and assume for
the time being that M has relative degree 0. We showed that there exists a C∞X
X, compatible with the holomorphic structure on L (this

Let ∇: L → L ⊗ Ω1
connectione∇: L → L ⊗ A1
ise∇0,1 = ∂L), such that the following rule determines a well deﬁned compatible
connection on hL, Mi:

ℓ  .
∇trhℓ, mi = hℓ, mi ⊗ trdiv m/Se∇ℓ

Notice that it makes sense to take the trace of the diﬀerential form e∇ℓ/ℓ along

div m, since the latter is ﬁnite étale over the base, and the divisors of the sections

1Under the most general assumptions (l.c.i. ﬂat morphisms between schemes), it only makes sense
to require ﬂatness of the divisors. In our setting (smooth morphisms of smooth varieties over C), a
Bertini type argument shows we can take them to be étale [16, Lemma 2.8].

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

7

are disjoint. The existence ofe∇ is not obvious, since the rule just deﬁned encodes

a nontrivial reciprocity law, that we call (WR):

trdiv f /Se∇ℓ

ℓ  = trdiv ℓ/S  d f
f ! ,

whenever f is a meromorphic function and the divisors of f and ℓ are in relative

change, and then it is unique up to Γ(X, π−1A1,0

general position. The construction ofe∇ can be made to be compatible with base
S ). Furthermore, if σ: S → X is a
section and L is trivialized along σ, one can isolate a particular extensione∇ that
restricts to the exterior diﬀerentiation on S along σ (through the trivialization of
L). Then the connection ∇tr can be extended to M of any relative degree, without
ambiguity. We calle∇ a (or the) canonical extension of ∇, and ∇tr a trace connection.
Trace connections are manifestly not symmetric, since they do not require any
connection on M. Lete∇′ : M → M ⊗ A1
X be a smooth compatible connection on M
and let ∇tr be a trace connection on hL, Mi. If the relative degree of M is not zero,
we tacitly assume that L is rigidiﬁed along a given section. The trace connection
∇tr can then be completed to a connection that “sees”e∇′:
m ∧ Fe∇ ,
π∗e∇′m

is the curvature of the canonical extensione∇ on L. Assume now thate∇′
where Fe∇
is a canonical extension of a relative holomorphic connection ∇′ : M → M ⊗ Ω1
X/S.
Then the intersection connection is compatible with the obvious symmetry of the
Deligne pairing. These constructions carry over to the case when the relative
connections only have a smooth dependence on the horizontal directions, but
are still holomorphic on ﬁbers. The intersection connection reduces to the trace

= ∇trhℓ, mi
hℓ, mi

∇inthℓ, mi
hℓ, mi

+

i
2π

Let us denote λ(L) for the determinant of the cohomology of L, that is

on ﬁbers. Finally, the trace connection coincides with the Chern connection of the

connection ife∇′ is the Chern connection of a smooth hermitian metric on M, ﬂat
metrized Deligne pairing in casee∇ is a Chern connection, ﬂat on ﬁbers, as well.
The determinant of Rπ∗(L) makes sense, since it is a perfect complex and so the
theory of Knudsen-Mumford [25] applies.
It can be extended, multiplicatively,
to virtual objects, namely formal sums of line bundles with integer coeﬃcients.
Deligne [13] proves the existence of an isomorphism

λ(L) = det Rπ∗(L).

D: λ(L − O)⊗2 ∼−−→ hL, L⊗X/Si,

where ωX/S is the relative cotangent bundle of π. The isomorphism is compatible
with base change and is functorial in L. It is unique with this properties, up to
sign. It can be combined with Mumford’s canonical (up to sign) and functorial
isomorphism [28], which in the language of Deligne’s pairings reads

λ(O)⊗12 ∼−−→ hωX/S, ωX/Si.
Hence, we have a canonical (up to sign) isomorphism

D′ : λ(L)⊗12 ∼−−→ hωX/S, ωX/Si ⊗ hL, L⊗X/Si⊗6,

8

FREIXAS I MONTPLET AND WENTWORTH

which is again compatible with base change and functorial in L. The latter is also
usually called Deligne’s isomorphism.

When the line bundles L and ωX/S are endowed with smooth hermitian metrics,
all the line bundles on S involved in Deligne’s isomorphism inherit hermitian
metrics. On the Deligne pairings, the construction is the metrized counterpart of the
intersection connection deﬁnition, and it will not be recalled here. It amounts to the
⋆-product of Green currents introduced by Gillet-Soulé in arithmetic intersection
theory. The determinant of cohomology can be equipped with the so-called Quillen
metric, whose Chern connection is compatible with the Quillen connection of
Bismut-Freed [2, 3]. The Deligne isomorphism is, up to an overall topological
constant, an isometry for these metrics. The value of the constant can be pinned
down, for instance by using the arithmetic Riemann-Roch theorem of Gillet-Soulé
[20]. We refer the reader to the survey articles of Soulé [31] and Bost [8], where all
these constructions and facts are summarized. Because the Deligne isomorphism
is an isometry in the metrized case, it is in particular parallel for the corresponding
Chern connections.

One of the aims of [16] is to elucidate to what extent Deligne’s isometry, and
more precisely its Chern connection version, carries over in the case of relative, ﬂat,
compatible connections on L that are not necessarily unitary for some hermitian
structure.
In [16, Sec. 5] (see especially Theorem 5.10 and Remark 5.11 therein)
we discuss and solve this question in the particular case of trivial ﬁbrations. The
present article shows that this particular case actually implies the most general
one. More precisely, ﬁx X a compact Riemann surface, a base point p ∈ X, and a
hermitian metric on ωX. As parameter space we take S = MB(X), the aﬃne variety
of characters χ: π1(X, p) → C×. Let X = X × MB(X), which is ﬁbered over MB(X)
by the second projection. Over X, there is a universal line bundle with relative
connection, (L,∇), whose holonomy at a given χ ∈ MB(X) is χ itself. We also need
to introduce the conjugate Riemann surface X (reverse the complex structure), with
same base point and same character variety MB(X). We put Xc = X× MB(X). There
is a universal line bundle with relative connection (Lc,∇c), whose holonomy at a
given χ ∈ MB(X) is now χ−1. Note that if χ is unitary, then Lc
χ is the holomorphic line
bundle on X conjugate to Lχ, but this is not the case for general χ. By using a variant
of the holomorphic analytic torsion introduced by Fay [15], later used by Hitchin
[22], we endowed the product of determinants of cohomologies, λ(L)⊗Cλ(Lc), with
a holomorphic and ﬂat connection on MB(X). We then showed that this Quillen
type connection corresponds to the tensor product of intersection connections on
the Deligne pairings, through the tensor product of Deligne’s isomorphisms for L
and Lc.

3. Logarithms and Deligne Pairings

3.1. Logarithms and connections on holomorphic line bundles. Let S be a con-
nected complex analytic manifold and L → S a C∞S complex line bundle. To
simplify the presentation, the same notation will be used when L is understood to
have the structure of a holomorphic line bundle. Also, no notational distinction
will be made between a holomorphic line bundle and the associated invertible
sheaf of OS modules. Finally, denote by L× the Gm torsor (or principal bundle)
given by the complement of the zero section in the total space of L.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

9

Here we introduce the notion of smooth logarithm for L. For a holomorphic
bundle there is also notion of holomorphic logarithm, and whenever we talk about
holomorphic logarithm it will be implicit that L has a holomorphic structure.
The discussion of logarithms and connections is given in terms of d log deRham
complexes. The reader will notice that this is an additive reformulation of the
notion of trivialization (see Remark 3.2 below).

Deﬁnition 3.1. A smooth (resp. holomorphic) logarithm for L is a map

LOG : L× −→ C/2πi Z

satisfying: LOG(λ · e) = log λ + LOG(e), for λ ∈ Gm and e ∈ L×, and such that the
well-deﬁned C×-valued function exp◦ LOG is smooth (resp. holomorphic) with
respect to the natural structure of smooth (resp. complex analytic) manifold on L×.

Remark 3.2. Clearly, a logarithm is a reformulation of the choice of a trivialization.
The reason for working with logarithms in this paper is to provide a simpliﬁcation
of some formulas, a direct relationship with connections, as well as a context that
is well-suited for the arithmetic discussion later on. Indeed, in classical Arakelov
geometry the corresponding avatar of a smooth LOG is the ordinary logarithm of
a smooth hermitian metric, and more generally the notion of Green current for a
cycle.

A logarithm LOG can be reduced modulo πi Z. We will write LOG for the
reduction of LOG. By construction, the reduction of a logarithm modulo πi Z
factors through L×/{±1}:

LOG

L×

/ C/2πi Z

L×/{±1}

LOG /

/ C/πi Z .

Though perhaps not apparent at this moment, the necessity for this reduction will
appear at several points below (notably because of the sign ambiguity in Deligne’s
isomorphism).

Given a smooth (resp. holomorphic) logarithm LOG, we can locally lift it to a well
deﬁned C-valued smooth (resp. holomorphic) function. Therefore, the diﬀerential
d LOG is a well-deﬁned diﬀerential form on L×. A smooth LOG is holomorphic
exactly when d LOG is holomorphic. We can attach to a smooth logarithm a smooth
and ﬂat connection ∇LOG on L, determined by the rule

∇LOGe

e

= e∗(d LOG),

(4)

If L is holomorphic the connection is
where e : S◦ ⊂ S → L× is a local frame.
compatible exactly when LOG is holomorphic, as we immediately see by taking the
(0, 1) part of (4) for e holomorphic. The existence of a smooth (resp. holomorphic)
LOG on L is related to the existence of a ﬂat smooth (resp. holomorphic connection).
We will say that a connection ∇ on L is associated to a logarithm, if ∇ = ∇LOG
for some logarithm LOG on L. For the sake of clarity, it is worth elaborating on
this notion from a cohomological point of view. Let us focus on the holomorphic
case, which is the relevant one in the present work (the smooth case is dealt with





/




10

FREIXAS I MONTPLET AND WENTWORTH

similarly). Introduce the holomorphic log-deRham complex:

S −→ ···
There is an exact sequence of sheaves of abelian groups

S

Ω×S : O×S

d log

−−−−→ Ω1

d

−→ Ω2

0 −→ τ≥1Ω•S −→ Ω×S −→ O×S −→ 1 ,

where Ω•S is the holomorphic deRham complex and τ≥i stands for the ﬁltration bête
of a complex from degree i on. From the hypercohomology long exact sequence,
we derive a short exact sequence of groups

H0(S, Ω1

S) −→ H1(S, Ω×S ) −→ Pic(S) .

The middle group H1(S, Ω×S ) classiﬁes isomorphism classes of holomorphic line
bundles on S with ﬂat holomorphic connections. The vector space H0(S, Ω1
S) maps
to the holomorphic connections on the trivial line bundle. The map to Pic(S) is just
forgetting the connection. We will write by [L,∇] the class in H1(S, Ω×S ) of L with
a holomorphic connection ∇.
Proposition 3.3. There exists a holomorphic LOG for L if, and only if, there exists
a holomorphic connection ∇ on L with [L,∇] = 0.
In this case, the connection ∇ is
associated to a LOG.
Proof. We compute the hypercohomology group H1(S, Ω×S ) with a ˇCech resolution.
Let U = {Ui}i be an open covering of S by suitable open subsets, and such that L
admits a local holomorphic trivialization ei on Ui. Elements of H1(S, Ω×S ) can be
represented by couples ({ωi},{ fij}) in

subject to the cocycle relation

C0(U, Ω1

S) ⊕ C1(U, O×S),

Coboundaries are of the form

dωi = 0, ωi − ωj = d log( fij),

fij f jk fki = 1.

ωi = d log( fi),

fij = fi/ f j.

Let LOG be a holomorphic logarithm on L. Then the attached ﬂat connection ∇LOG
has trivial class. Indeed, we put

fi = exp LOG(ei), ωi = ∇LOGei

ei

= d log( fi).

Conversely, let ∇ be a holomorphic connection on L with vanishing class. We put

ωi = ∇ei
ei

,

ei = fijej.

The cocycle ({ωi},{ fij}) is trivial. We can thus ﬁnd units fi ∈ Γ(Ui, O×S) with

ωi = d log( fi),

fij = fi/ f j.

Then, we can deﬁne a holomorphic logarithm LOG by imposing

LOG(ei) = log( fi) mod 2πi Z,

and extending trivially under the Gm action. For LOG to be well-deﬁned, it is
enough to observe that on overlaps we have, by deﬁnition

LOG(ei) = log( fij) + LOG(ej),

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

11

which is compatible with the Gm action. By construction, ∇ = ∇LOG. As a com-
˜fi is another choice of functions, then necessarily ˜fi = λi fi,
plement, notice that if
for some nonvanishing constant λi. Moreover, λi = λj because of the condition
˜fi/ ˜f j = fij = fi/ f j. Therefore, the change in LOG is just by a constant, as was to be
expected.

(cid:3)

Actually, the proof of the proposition also gives:

Corollary 3.4. A holomorphic connection ∇ on L is associated to a LOG if, and only if,
[L,∇] = 0. In this case, the associated LOG is unique up to a constant.
3.2. Construction of naive logarithms. Let π : X → S be a smooth proper mor-
phism of smooth quasi-projective complex varieties with connected ﬁbers of rel-
ative dimension one. We assume given a ﬁxed section σ : S → X and L, M
holomorphic line bundles on X. We require L comes with a rigidiﬁcation (i.e. a
choice of trivialization) along σ. We consider relative connections

X/S : L → L ⊗ A1
∇L

X/S, ∇M

X/S : M → M ⊗ A1

X/S,

X/S)(0,1) =
compatible with the holomorphic structures. Hence, the (0, 1) projection (∇L
∂L,, the relative Dolbeault operator on L, and similarly for M. We suppose that
X/S for the time being. The connection on
X/S is ﬂat, but make no assumption on ∇M
∇L
L can be thought as a smooth family (with respect to S) of holomorphic connections
on L restricted to ﬁbers. Below we use this data to construct a smooth logarithm
map on the Deligne pairing of L and M:

LOGna : hL, Mi× −→ C/2πi Z.

and we compute its associated connection. This logarithm is deﬁned so as to give
a direct relationship with the intersection connection on hL, Mi. We anticipate,
however, some problems with this construction:

(i) it is only deﬁned locally on contractible open subsets of S;
(ii) it depends on auxiliary data which prevents an extension to the whole of

S;

(iii) while it depends on the connection ∇M

X/S, it nearly depends only on the
holomorphic structure of L on ﬁbers (see Remark 3.6 below for the precise
meaning of this assertion) – in particular, it cannot be compatible with the
symmetry of Deligne pairings.

For these various reasons, we shall call it a naive logarithm.

Let νL : S → H1

dR(X/S)/R1π∗(2πi Z) be the smooth classifying map of (L,∇L

X/S).
This map does not depend on the rigidiﬁcation. Locally on contractible open
subsets S◦ of S, we can lift νL to a smooth section of H1
dR(X/S), that we write ˜ν.
We work over a ﬁxed S◦ and make a choice of lifting ˜ν. We take the universal

covereX → X |S◦. Let ℓ, m be meromorphic sections of L and M, whose divisors
are ﬁnite and étale over S◦ (ﬁnite, ﬂat and unramiﬁed). Using the rigidiﬁcation
X/S and a local lifting ˜σ to eX, the section ℓ and can be uniquely lifted
σ and ∇L
to eX, as a meromorphic function on ﬁbers, transforming under some character
under the action of the fundamental group (the character depends on the ﬁber)
and taking the value 1 along ˜σ. We denote this lift ˜ℓ. Precisely, if γ ∈ π1(Xs, σ(s)),

12

FREIXAS I MONTPLET AND WENTWORTH

the transformation of ˜ℓ oneXs with respect to translation by γ is

˜ℓ(γz) = exp Zγ

˜ν |Xs! ˜ℓ(z),

z ∈eXs.

(5)

Notice that the dependence of ˜ℓ relative to the base S◦ is only C∞, because the
connections were only assumed to depend smoothly on the horizontal directions.
We declare

LOGna(hℓ, mi) = log( ˜ℓ( ]div m)) −Z ]div m

˜σ

˜ν −

i
2π

π∗(∇m

m ∧ ˜ν) mod 2πi Z .

(6)

The index na stands for naive. Let us clarify the construction:

(i) The integrals are computed ﬁberwise. We notice that in the last term, there

X/S.
is no need for a global extension of the connection ∇M
(ii) ˜ν is to be understood as a diﬀerential form η(z, s) on X, which is harmonic
for ﬁxed s and represents ˜ν ﬁberwise.2 There is an ambiguity in this
representative: it is only unique up to π−1A1
S◦. This does not aﬀect the
integrals, since they are computed on ﬁbers. Therefore, we can choose to
rigidify η(z, s) by imposing it vanishes along the section σ.

(iii) the notation ]div m indicates a lift of div m to the universal cover. Hence,

if on a given ﬁber Xs we have div m = Pi niPi (ﬁnite sum), then ]div m =
Pi ni ˜Pi, where the ˜Pi are choices of preimages of Pi in the universal cover
eXs. With this understood, the ﬁrst two terms in the deﬁnition of LOGna

expand to

Xi

ni log( ˜ℓ( ˜Pi)) −Xi

niZ ˜Pi

˜σ

˜ν.

depend on the choice of liftings ˜σ and ˜Pi, modulo 2πi Z. For instance, if P

The integration path from ˜σ to ˜Pi is taken ineXs. This expression does not
and γP are points ineXs diﬀering by the action of γ ∈ π1(Xs, σ(s)), then
log( ˜ℓ(γP)) −Z γP

˜ν −Z γP

˜ν mod 2πi Z

˜σ(s)

P

˜ν + log( ˜ℓ(P)) −Z P

˜ν =Zγ
= log( ˜ℓ(P)) −Z P

˜σ(s)

˜σ(s)

˜ν mod 2πi Z .

And if we change the lifting ˜σ to σ∗ = γ˜σ, then the new lifting of ℓ is ℓ∗
with

ℓ∗(z) = exp −Zγ

˜ν! ˜ℓ(z),

and from this relation it follows the independence of the lift ˜σ modulo
2πi Z.

(iv) There are several facts that can be checked similarly to our previous work
[16, Sec. 3 and 4]. For instance, the compatibility to the relations deﬁning
the Deligne pairing, most notably under the change f 7→ f m ( f a rational
2The construction of η requires the intermediate choice of a metric on TX |S◦ and the use of elliptic
theory applied to Kodaira laplacians, with smooth dependence on a parameter. The vertical projection
of η does not depend on the choice of metric. This is particular to the case of curves.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

13

function), follows from various reciprocity laws for diﬀerential forms, plus
the observation

π∗  d f

f ∧ ˜ν! = ∂π∗(log| f|2 · ˜ν) = 0.

Here we used that ˜ν as above is ﬁberwise ∂-closed (by harmonicity), and
also that ˜ν is a 1-form while π reduces types by (1, 1).

With this understood, we conclude that LOGna is a smooth logarithm for hL, Mi|S◦.
Let us start exploring the dependence of the naive logarithm on the connections.
Lemma 3.5. Let θ be a diﬀerential 1-form on X|S◦, holomorphic on ﬁbers. Assume that
∇M
X/S is either ﬂat or the relative Chern connection of a smooth hermitian metric on M.
Then the deﬁnition of LOGna is invariant under the change ∇L
Proof. Notice the change of connections translates into changing ˜ν by ˜ν + θ. For
the new connection, the lift ˜ℓ′ compares to ˜ℓ by

X/S 7→ ∇L

+ θ.

X/S

˜ℓ′(z) = exp Z z

˜σ

θ! ˜ℓ(z),

z ∈eXs.

Therefore

log( ˜ℓ′(z)) −Z z

˜σ(s)

(˜ν + θ) = log( ˜ℓ(z)) −Z z

˜σ(s)

˜ν mod 2πi Z.

This settles the ﬁrst two terms. For the last term in LOGna, we ﬁrst suppose ∇M
is ﬂat. Hence it is holomorphic on ﬁbers, and we have
∇m
m ∧ ˜ν,

m ∧ (˜ν + θ) =ZXs
∇m

ZXs

X/S

for type reasons: both ∇m/m and θ are of type (1, 0) on ﬁbers. If ∇M
X/S is the Chern
connection of a smooth hermitian metric k · k on M, then the last term actually
vanishes! Indeed,

ZXs

m ∧ ˜ν =ZXs
∇m
=ZXs

= 0 .

∂ logkmk2 ∧eν =ZXs
∂(logkmk2 ·eν′′) =ZXs

∂ logkmk2 ∧eν′′
d(logkmk2 ·eν′′)

We again used that the vertical representatives of ˜ν are harmonic and that the

proof.

singular diﬀerential form log kmk2 ·eν′′ has no residues on Xs. This concludes the

Remark 3.6. The content of the lemma is that for these particular connections on
M, LOGna nearly depends only on the (relative) Chern connection on L. The only
subtle point is that for this to be entirely true, we would need the invariance of
LOGna under the additional transformation ˜ν 7→ ˜ν + θ, for θ a horizontal section
of R1π∗(2πi Z) |S◦. This is however not the case! This issue will be addressed by
considering the conjugate family at the same time. The resulting logarithm will
then depend on the full connection ∇L

X/S.

(cid:3)

Let us now focus on the case when M is endowed with a Chern connection.

14

FREIXAS I MONTPLET AND WENTWORTH

Lemma 3.7. Assume ∇M
X/S is the relative Chern connection of a smooth hermitian metric
on M. Endow the line bundle M ⊗ O(−(deg M)σ), of relative degree 0, with a relative ﬂat
unitary connection. Finally, equip σ∗(L) with the holomorphic logarithm induced by the
rigidiﬁcation σ∗(L) ∼−−→ OS. Then, the isomorphism of Deligne pairings
hL, Mi ∼−−→ hL, M ⊗ O(−(deg M)σ)i ⊗ σ∗(L)⊗ deg M

is compatible with the respective logarithms. In particular, the naive logarithm on hL, Mi
does not depend on the particular choice of Chern connection ∇M
X/S.
Proof. For the Deligne pairing on the left hand side, as we already saw in the proof
of Lemma 3.5, we have

LOGna(hℓ, mi) = log( ˜ℓ( ]div m)) −Z ]div m

˜σ

˜ν,

because ∇M
zero along σ. Then, by the very construction of ˜ℓ, we have on the one hand

X/S is a Chern connection. Assume now that ℓ does not have a pole or a

log( ˜ℓ( ]div m)) = log( ˜ℓ( ]div m − (deg M)˜σ)) + (deg M) log(σ∗ℓ),

while on the other hand it is obvious that

Z ]div m

˜σ

˜ν =Z ]div m−(deg M)˜σ

˜σ

˜ν.

The lemma follows from these observations.

(cid:3)

3.3. The connection attached to a naive logarithm. We maintain the notations so
far. We wish to compute the connection associated to LOGna, this is d LOGna. This
requires diﬀerentiation of functions on S◦ of the form

Z ]div m

˜σ

˜ν, π∗(cid:18)∇m

m ∧ ˜ν(cid:19) .

For instance, in the ﬁrst integral we have to deal with the horizontal variation of
both ]div m and ˜ν (we are allowed to suppose that ]div m is given by sections, after
possibly changing S◦ by some open cover). The path of integration, in ﬁbers, from
˜σ to ]div m can be seen as a smooth family of currents on ﬁbers. We need to explain
how to diﬀerentiate these. For lack of an appropriate reference, we elaborate on
this question below.

X/S), where Dd

3.3.1. Families of currents on cohomology classes and diﬀerentiation. A family of cur-
rents on S relative to a smooth and proper morphism π: X → S, of degree d,
is a section of the sheaf of C∞S -modules π∗(Dd
X/S is the (sheaﬁﬁed)
X/S,0 of smooth relative diﬀerentials with
C∞S -linear topological dual of the sheaf An−d
compact support. In other words, by deﬁnition, Dd
X/S is the subsheaf of the sheaf
X on X which are π−1C∞S -linear (compatibly with multiplication of cur-
of currents Dd
rents by smooth functions) and vanish on (Ap
X,0 for 0 ≤ p < n − d
(the index 0 indicates compact support). The space of sections of Dd
X/S(U) over an
X(U). Because π is proper, we have a pairing
open U ⊂ X is a closed subspace of Dd

X ∧ π∗An−d−p

) ∩ An−d

S

π∗(Dd

X/S) × π∗(An−d

X/S,0) −→ C∞S,0.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

15

X/S)(U) for a smooth family of currents, viewed as an association
Write T• ∈ π∗(Dd
s 7→ Ts, where Ts is a current on Xs, smoothly depending on s ∈ U. This can be
rigorously formulated as follows. Let θ be a degree n − d diﬀerential form on a
given ﬁber Xs0. Because π is submersive, it can be trivialized in a neighborhood
of s0. Let ϕ be a smooth function on S, with compact support in a neighborhood
of s0, and taking the value 1 in a neighborhood of s0. Using the trivialization of

π and the function ϕ, one extends θ to a compactly supported formeθ on X, with
support in a neighborhood of the ﬁber Xs0. Then we put Ts0(θ) = T•(eθ)(s0). The
construction does not depend on any choices. Indeed, let eθ and eθ′ be two such
extensions, depending on local trivializations and choices of compactly supported
functions ϕ and ϕ′ on S, as before. Then, one can writeeθ =eθ′ +Pdim S
i=1 ρiωi, where
the ρi are smooth functions on S, vanishing at s0, and the ωi are smooth diﬀerential
forms on X with compact supports. But because T• is C∞S -linear, compatible with
multiplication of currents by smooth functions, we have T•(ρiωi) = ρiT•(ωi), which
vanishes at s0 = 0. Thus, T•(eθ)(s0) = T•(eθ′)(s0). Furthermore, if s 7→ θs is a smooth
family of diﬀerential forms on ﬁbers Xs, then s 7→ Ts(θs) is a smooth function. Both
points of view, the sheaf theoretic one and s 7→ Ts, are easily seen to be equivalent.
We will confuse them from now on.
A smooth family of currents can be diﬀerentiated with respect to the parameter
space S. It gives raise to a smooth family of currents with values in 1-diﬀerential
forms, given by a pairing

π∗(Dd

X/S) × π∗(An−d

X/S,0) −→ A1
S,0.

Locally on S, we can trivialize A1
S as a sheaf of C∞S -modules (by taking a basis of
smooth vector ﬁelds) and see such objects as vectors of smooth families of currents.
This is legitimate, since our relative currents are C∞S -linear, and any two (local)
basis of vector ﬁelds on S diﬀer by a matrix of C∞S coeﬃcients. We can now iterate
this procedure, and talk about families of currents with values in diﬀerential forms
of any degree, and diﬀerentiate them. The diﬀerential of a family of currents T• is
denoted dST•. One checks d2
Assume now that the morphism π is of relative dimension 1, as is the case in this
article. Then we can extend families of currents to relative cohomology classes. We
begin with T• a smooth family of currents of degree n−1, with values in diﬀerential
forms of degree d. To simpliﬁy the notations, we assume T• is deﬁned over the
whole S. Let θ be a smooth section of H1
dR(X/S). We deﬁne a diﬀerential form T•(θ)
on S, by using harmonic representatives: relative to a contractible S◦, we represent
θ by a smooth family of diﬀerential forms η(z, s) on ﬁbers Xs, which are harmonic
for ﬁxed s ∈ S◦. Then, on S◦ we put

= 0.

S

T•(θ) |S◦ = (T•) |S◦ (η) ∈ Ad

S(S0).

Here the construction is best understood in the interpretation s 7→ Ts of smooth
families of currents. Because the harmonic representative η is unique modulo
π−1A1
S◦ and T• is a relative current, the expression T•(θ) |S◦ is well deﬁned and can
be globalized to the whole S. We write the resulting diﬀerential form T•(θ).
S be the Gauss-Manin connection. With the
previous notation for T• and θ, we can also deﬁne T•(∇GMθ), by the following

dR(X/S) → H1

dR(X/S) ⊗ A1

Let ∇GM : H1

16

FREIXAS I MONTPLET AND WENTWORTH

prescription. On contractible S◦ we write

∇GMθ =Xi
where the θi are ﬂat sections of H1(X/S)(cid:12)(cid:12)(cid:12)S◦
Then, because T• is C∞S -linear, the expression
T•(∇GMθ) :=Xi

θi ⊗ βi,

T•(θi) ∧ βi.

, and the βi are smooth 1-forms on S◦.

is independent of choices made. Hence, it is well-deﬁned and extends to S.

With these conventions, the following diﬀerentiation rule is easily checked:

dS(T•(θ)) = (dST•)(θ) + (−1)dT•(∇GMθ).

(7)

To do so, one computes the Gauss-Manin connection by locally trivializing the
family and applying Stokes’ theorem (this is the so-called Cartan-Lie formula [32,
Sec. 9.2.2]). Alternatively, the equation is an easy consequence of the construction
of the canonical extension of a relative ﬂat connection in [16, Sec. 4], in this case
applied to the relative connection determined by θ (an auxiliary local choice of a
section of π is needed). Notice that the rule is indeed compatible with the expected
property d2
= 0 on families of currents, as we see by applying dS to (7) and recalling
S
that ∇2
GM = 0. The main examples of currents that will ﬁt into this framework are
currents of integration against diﬀerential forms or families of paths, as in the
proposition below.

3.3.2. Diﬀerentiation of naive logarithms. The next statement provides an illustra-
tion of diﬀerentiation of currents on cohomology classes in the context of naive
logarithms.
Proposition 3.8. Let (L,∇L
∇M : M → M ⊗ A1
X/C of ∇M
d LOGnahℓ, mi = ∇int

X/S), (M,∇M
X/S, compatible with the holomorphic structure. Then

X/S), ˜ν be as above. Suppose given a global extension

π∗(F∇M ∧ ˜ν),

i
2π

−

hL,Mihℓ, mi
hℓ, mi

where F∇M is the curvature of ∇M.
Proof. We collect the following identities. First, since we suppose thateν is rigidiﬁed,

i.e. vanishes, along σ, the diﬀerentiation law (7) gives

dZ ]div m

˜σ

˜ν = trdiv m/S◦(˜ν) +Z ]div m

˜σ

∇GMνL.

This still holds even for nonrigidiﬁed ˜ν. Similarly, we have

i
2π

dπ∗(cid:18)∇m

m ∧ ˜ν(cid:19) =

π∗(F∇M ∧ ˜ν) − trdiv m/S◦(˜ν) +
where we used the Poincaré-Lelong equation of currents

i
2π

i
2π

π∗(∇m

m ∧ ∇GMνL),

i
2π

d(cid:20)∇m
m (cid:21) + δdiv m =

i
2π

F∇M.

(8)

(9)

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

17

=

∇int
hL,Mihℓ, mi
hℓ, mi
trdiv m/S◦ ∇Lℓ

Now we observe that, in terms of the curvature of the canonical extension ∇L of
X/S, we have
∇L

We recall the deﬁnition of the intersection connection:

i
2π

π∗(∇m

i
2π

m ∧ ∇GMνL) = −
π∗(cid:18)∇m

π∗(cid:18)∇m

m ∧ F∇L(cid:19) .
m ∧ F∇L(cid:19) + trdiv m/S◦ ∇Lℓ
ℓ !

i
2π

and that by the very deﬁnition of the canonical extension ∇L

ℓ ! = tr ]div m/S◦  d ˜ℓ

˜ℓ ! −Z ]div m

˜σ

∇GMνL.

Putting together equations (8)–(10), and taking into account the deﬁning equations
(11)–(12), we conclude with the assertion of the theorem.

(cid:3)

Remark 3.9. Recall that the curvature of the intersection connection above in terms
of the curvatures of ∇L (the canonical extension of ∇L
FhL,Miint = π∗(F∇L ∧ F∇M).

X/S) and ∇M is given by

This was proven in [16, Prop. 3.16]. This formula is consistent with:

d∇int

hL,Mihℓ, mi
hℓ, mi

i
2π
π∗ (F∇L ∧ F∇M) .
Observe the sign in the second line, according to (7).

= d2 LOGnahℓ, mi +
= 0 −
i
2π

=

π∗ (F∇M ∧ ∇GMνL)

i
2π

dπ∗(F∇M ∧ ˜ν)

3.4. Dependence of naive logarithms on liftings. Continuing with the notation of
Section 3.2, we now study the dependence of the construction of LOGna for Deligne
pairings hL, Mi on the lifting ˜ν of νL. Let θ be a ﬂat section of R1π∗(2πi Z) on the
contractible open subset S◦ of S. We think of θ as a smooth family of cohomology
classes with periods in 2πi Z. As usual, on ﬁbers we will confuse the notation θ
with its harmonic representative. We wish to study the change of LOGna under the
transformation ˜ν 7→ ˜ν + θ. A ﬁrst remark is that given a meromorphic section ℓ of
L, the lifting ˜ℓ does not depend on the choice of θ. Therefore, we are led to study
the change of the expression

(10)

(11)

(12)

(13)

that is, the factor

˜σ

Z ]div m
Z ]div m

˜σ

˜ν +

i
2π

θ +

i
2π

π∗(cid:18)∇m
π∗(cid:18)∇m

m ∧ ˜ν(cid:19) ;
m ∧ θ(cid:19) .

Observe that a change of representatives in ˜σ or ]div m does not aﬀect this factor
modulo 2πi Z, because θ has periods in 2πi Z. Since the expression is a function
on S◦, we can reduce to the case when the base S is a point, and thus work over a
single Riemann surface X.

18

FREIXAS I MONTPLET AND WENTWORTH

There is no general answer for the question posed above unless we make some
additional assumptions on ∇M. The ﬁrst case to consider is when ∇M is the Chern
connection of a smooth hermitian metric on M. Then, we already saw during the
proof of Lemma 3.5 that

We are then reduced to

d(logkmk2 ˜ν) = 0.

ZX

m ∧ ˜ν =ZX
∇m
Z ]div m

˜σ

θ.

This quantity does not vanish in general. In this case, the lack of invariance under
the tranformation ˜ν 7→ ˜ν + θ will be addressed later in Section 4.1 by introducing
the conjugate datum.
The second relevant case is when ∇M is holomorphic. Let ϑ be a harmonic
diﬀerential form whose class in MdR(X) = H1(X, C)/H1(X, 2πi Z) corresponds to
the connection ∇M. Then, the associated Chern connection corresponds to ϑ′′ − ϑ′′,
and we have the comparison

Also, because θ has purely imaginary periods, we have a decomposition

∇M = ∇M

ch

+ ϑ′ + ϑ′′.

(14)

(15)

θ = θ′′ − θ′′.

These relations will be used in the proof of the following statement.
Proposition 3.10 (Refined Poincar´e-Lelong equation). Assume ∇M is holomorphic
and choose a harmonic one form ϑ representing the class of ∇M in MdR(X). Let θ be a
harmonic one form with periods in 2πi Z. Then

Z ]div m

˜σ

θ +

i

2πZX

∇m
m ∧ θ =

i

2πZX

ϑ ∧ θ

mod 2πi Z.

(16)

Remark 3.11. Before giving the proof, let us observe that this relation is a reﬁne-
ment of the Poincaré-Lelong equation applied to θ. Indeed, in a family situation,
we may diﬀerentiate (16) following the diﬀerentiation rules for currents (7) (the
indeterminacy of 2πi Z is locally constant and thus killed by diﬀerentiation). In a
family situation θ is necessarily ﬂat for the Gauss-Manin connection: ∇GMθ = 0.
We obtain

trdiv m(θ) + π∗(cid:18)d(cid:20)∇m

m (cid:21) ∧ θ(cid:19) =

i
2π

π∗(F∇M ∧ θ).

This is a relative version of the Poincaré-Lelong equation applied to θ!

Proof of Proposition 3.10. The statement is the conjunction of various reciprocity
laws. They involve the boundary of a fundamental domain delimited by (liftings
of) simple curves αi and βi whose homology classes provide with a symplectic
basis of H1(X, Z), with intersection matrix

 

0
−1g

+1g
0

! .

We can take ]div m in the chosen fundamental domain based at ˜σ, because we
already justiﬁed (13) does not depend on representatives. Applying the reciprocity

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

19

formula to θ′ and the meromorphic diﬀerential form ∇M
k · k stands for a ﬂat metric on M), we have
∂ logkmk2 −Zβj
θ′Zβj

2πi Xj Zα j

Z ]div m

θ′ =

1

˜σ

ch m/m = ∂ logkmk2 (where
θ′Zα j

∂ logkmk2.

(17)

Now we take into account that θ′ = −θ′′, and conjugate the previous expression
to obtain

−Z div ˜m

˜σ

θ′′ =

1

2πi Xj Zα j

θ′′Zβj

∂ log kmk2 −Zβj

θ′′Zα j

∂ log kmk2.

But observe that for a closed curve γ disjoint from the divisor of m, we have by
Stokes’ theorem,

Zγ

d logkmk2 = 0,

and therefore

We thus derive

Z ]div m

˜σ

θ′′ =

∂ logkmk2 = −Zγ

∂ log kmk2.
∂ logkmk2 −Zβj

θ′′Zα j

θ′′Zβj

Equations (17)–(18) together lead to

Z div ˜m

˜σ

θ =

θZβj

∂ logkmk2 −Zβj

θZα j

∂ logkmk2.

∂ logkmk2.

(18)

1

Zγ
2πi Xj Zα j
2πi Xj Zα j
Zγ

1

(19)

(20)

(21)

But now, modulo 2πi Z, we have

∂ logkmk2 =Zγ

(ϑ′′ − ϑ′′).

Because the periods of θ are in 2πi Z, eqs. (19)–(20) summarize to

Z ]div m

˜σ

θ =

1

2πi Xj Zα j

θZβj

(ϑ′′ − ϑ′′) −Zβj

θZα j

(ϑ′′ − ϑ′′)

modulo 2πi Z. The last combination of periods can be expressed in terms of
integration over the whole X, and we conclude:

Let’s now treat the second integral:

θ ∧ (ϑ′′ − ϑ′′).

ZX

1

2πi ZX
m ∧ θ +ZX
∇chm

θ =

˜σ

Z ]div m
m ∧ θ =ZX
∇m
ZX

m ∧ θ =ZX
∇chm

d(logkmk2θ′′) = 0,

(ϑ′ + ϑ′′) ∧ θ.

The ﬁrst integral on the right hand side vanishes:

20

FREIXAS I MONTPLET AND WENTWORTH

where we use that θ′′ is closed and that the diﬀerential form log kmk2θ′′ has no
residues. Hence we arrive at

i

2πZX

∇m
m ∧ θ =

i

2πZX

(ϑ′ + ϑ′′) ∧ θ =

1

2πi ZX

θ ∧ (ϑ′ + ϑ′′).

(22)

We sum (21) and (22) to obtain

Z ]div m

σ

θ +

i

2πZX

∇m
m ∧ θ =

1

2πi ZX

θ ∧ ϑ

modulo 2πi Z, as was to be shown.

(cid:3)

Remark 3.12. The integral

i

2πZX

ϑ ∧ θ

mod 2πi Z

depends only on the class of ϑ modulo the lattice H1(X, 2πi Z), or equivalently on
the point [∇M] in MdR(X).

4. The Intersection Logarithm

4.1. Intersection logarithms in conjugate families. As previously, X is a compact
Riemann surface and σ ∈ X a ﬁxed base point. We regard X as a smooth projective
algebraic curve over C, and then we write X → Spec C for the structure map. Let
X be the conjugate Riemann surface to X. As a diﬀerentiable manifold X coincides
with X, and in particular π1(X, σ) = π1(X, σ). The almost complex structures of X
and X are related by J = −J, and hence the orientations are opposite to each other.
We can also canonically realize X as the complex analytic manifold associated to
the base change of X → Spec C by the conjugation C → C.
Introduce (Lc,∇L,c) the canonically rigidiﬁed (at σ) holomorphic line bundle
with connection attached to the diﬀerential form −˜ν, regarded as a diﬀerential
form on X. Equivalently, if χ: π1(X, σ) → C× is the holonomy character of ∇L,
then (Lc,∇L,c) is the ﬂat holomorphic line bundle on X with holonomy character
χ−1. We say that (L,∇L) and (Lc,∇L,c) is a conjugate pair. We emphasize that this
terminology does not refer to the complex structure. As rank 1 local systems, these
bundles are mutually complex conjugate exactly when the character χ is unitary.

For the connection ∇M, from now on we focus on two cases:

• ∇M is a Chern connection (not necessarily ﬂat). In this case, Mc denotes
the complex conjugate line bundle to M on X. We let ∇M,c be the conjugate
of the connection ∇M.
• ∇M is ﬂat. Then we assume that M is rigidiﬁed at σ. Then (Mc,∇M,c) is
the ﬂat holomorphic line bundle on X, canonically rigidiﬁed at σ, with
inverse holonomy character to (M,∇M).

There is an intersection between these two situations: the ﬂat unitary case. The con-
ventions deﬁning (Mc,∇M,c) are consistent. By these we mean both are mutually
isomorphic: there is a unique isomorphism respecting the connections and rigidi-
ﬁcations. In either case, we write LOGc
na for the corresponding naive logarithm for
hLc, Mci.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

21

Proposition 4.1. The sum of logarithms LOGna and LOGc
deﬁnes a logarithm for

na, for hL, Mi and hLc, Mci,

hL, Mi ⊗C hLc, Mci,

that only depends on the point [∇L] in MdR(X), the rigidiﬁcations, and on ∇M. If ∇M is
ﬂat, then the dependence on ∇M factors through MdR(X) as well.
Proof. Let θ be a harmonic 1-form with periods in 2πi Z. We consider the change
of LOGna and LOGc
na under the transformation ˜ν 7→ ˜ν + θ, and observe that they
compensate each other.
We start with the Chern connection case on M. Let m be a meromorphic section
of M. It deﬁnes a complex conjugate meromorphic section mc of Mc. On X = X,
the divisors div m and div mc are equal. We saw that the change in LOGna(hℓ, mi)
under ˜ν 7→ ˜ν + θ is reduced to

Z ]div m

˜σ

θ.

The change in LOGc

na(hℓ′, mci) will be

Z ]div mc

˜σ

(−θ).

But now, independently of the liftings ]div m and ]div mc ineX =eX, we have

Z ]div m

˜σ

θ +Z ]div mc

˜σ

(−θ) = 0

mod 2πi Z.

More generally, we can change mc by a meromorphic function. For if f is mero-
morphic on X, we have

Z ]div f

˜σ

θ = 0,

precisely by Proposition 3.10 applied to the trivial line bundle in place of M. Hence,
mc may be taken to be any meromorphic section of Mc. All in all, we see that
LOGna + LOGc

na is invariant under ˜ν 7→ ˜ν + θ.

Now for the ﬂat connection case on M. We introduce a harmonic representative
ϑ of the class of ∇M in MdR(X). Then ∇M,c admits −ϑ as a harmonic representative
in MdR(X). After Proposition 3.10, for any meromorphic section m of M on X, we
have

Z ]div m

˜σ

θ +

i

2πZX

∇m
m ∧ θ =

1

2πi ZX

θ ∧ ϑ

mod 2πi Z.

(23)

And if mc is a meromorphic section of Mc on X, we analogously ﬁnd

Z ]div mc

σ

(−θ) +

i

2πZX

∇mc
mc ∧ θ =

1

2πi ZX

(−θ) ∧ (−ϑ)

mod 2πi Z.

(24)

We take into account that X has the opposite orientation to X, so that

1

2πi ZX

(−θ) ∧ (−ϑ) = −

1

2πi ZX

θ ∧ ϑ.

22

FREIXAS I MONTPLET AND WENTWORTH

Hence, the change in the sum of logarithms is (23)+(24)=0. Notice from the formu-
las deﬁning the logarithms, that the dependence on ∇M trivially factors through
MdR(X). The statement follows.
Remark 4.2. From the deﬁnition of the naive logarithm, it is automatic that there
is no need to rigidify M. However, Mc is rigidiﬁed by construction.

(cid:3)

Let us examine the variation of LOGna + LOGc

na in a family. Because the construc-
tion we did of logarithms is a pointwise one (they are functions), the proposition
extends to the family situation. We consider π: X → S, a section σ, and its conju-
gate family π: X → S with conjugate section σ. The conjugate family is obtained by
changing the holomorphic structure on X and S to the opposite one. This induces
the corresponding change of holomorphic structure and orientation on the ﬁbers.
X/S) be line bundles with relative compatible connections
X/S) and (M,∇M
Let (L,∇L
X/S is ﬂat, and ∇M
on X. We suppose ∇L
X/S is either ﬂat or the Chern connection
associated to a smooth hermitian metric on M.

When both connections are ﬂat, we have the smooth classifying sections νL and
dR(X/S)/R1π∗(2πi Z). We then assume that on X we have rigidiﬁed line
), corresponding to

νM of H1
bundles with relative ﬂat connections (Lc,∇L,c
the smooth sections −νL and −νM of

) and (Mc,∇M,c

X/S

X/S

H1
dR(X/S)/R1π∗(2πi Z) = H1

dR(X/S)/R1π∗(2πi Z)

(as diﬀerentiable manifolds). The existence is not always guaranteed, but below
we deal with relevant situations when it is. The local construction of Section 3.2
produces local naive logarithms LOGna and LOGc
na, by taking local liftings ˜ν and −˜ν
for νL and −νL, and using the canonical extensions of ∇M
X/S. Proposition
4.1 ensures that the a priori locally deﬁned combination LOGan + LOGc
an on the
smooth line bundle

X/S and ∇M,c

hL, Mi ⊗C∞S hLc, Mci,

actually globalizes to a well deﬁned logarithm, that we call intersection logarithm:

LOGint := LOGna + LOGc

na .

When ∇M

X/S is the relative Chern connection attached to a smooth hermitian
metric on M, we take Mc to be the conjugate line bundle M on X, with its conjugate
Chern connection ∇M,c
X/S. For L, as above we assume the existence of a rigidiﬁed
(Lc,∇L,c), with classifying map −νL. Again, by Proposition 4.1 the locally deﬁned
LOGan + LOGc

an extends to a global logarithm that we also denote LOGint.

We summarize the main features of LOGint.

Proposition 4.3.

(i) When all connections are ﬂat, the construction of LOGint does not depend on the

section σ and rigidiﬁcations.

(ii) In general, the smooth connection attached to LOGint is the tensor product of

intersection connections.

Proof. We begin with the case when both connections are ﬂat. The ﬁrst item can
be checked pointwise. Let us examine the terms in the deﬁnition of LOGna, LOGc
na
and LOGint. Suppose we ﬁx another base point σ′ (and lifting ˜σ′) and another
rigidiﬁcation. Let ˜ℓ and ˜ℓ′ be equivariant meromorphic functions with character

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

23

χ, lifting the same meromorphic section of L. Then, for some λ ∈ C×, we have
˜ℓ′ = λ ˜ℓ. Therefore, evaluating multiplicatively over a degree 0 divisor D (say in a
fundamental domain), we see that ˜ℓ′(D) = ˜ℓ(D). The same happens for Lc. Also,
in LOGna we have the change

Z z

˜σ

˜ν =Z ˜σ′

˜σ

˜ν +Z z

σ′

˜ν.

The evaluation at a divisor is deﬁned to be additive. Therefore, for a divisor D we
ﬁnd

Z D

˜σ

˜ν = (deg D)Z ˜σ′

˜σ

˜ν +Z D

˜σ′

˜ν.

We are concerned with the case D = ]div m, when deg D = 0. This shows the
independence of this term of the base point. The same argument applies to Lc.
Finally, there is nothing to say about the remaining terms in the deﬁnition of
LOGna and LOGc
na, since they only depend on the vertical connections ∇M and
∇M,c (as we see pointwise) and ˜ν, and hence do not depend on base points nor
rigidiﬁcations. The dependence on the choice of ˜ν modulo R1π∗(2πi Z) was already
addressed (Proposition 4.1). We conclude that LOGint does not depend on σ and
the rigidiﬁcations.

For the second item, it is enough to observe that

π∗(F∇M,c ∧ ˜ν) = −π∗((−F∇M) ∧ (−˜ν))

(opposite orientation on ﬁbers) and apply Proposition 3.8. We obtain
hLc,Mcihℓ′, m′i

d LOGint(hℓ, mi ⊗ hℓ′, m′i) = ∇int

+ ∇int

.

hL,Mihℓ, mi
hℓ, mi

hℓ′, m′i

Now we treat the second item when ∇M
that

X/S is a Chern connection. We need to justify

π∗(F∇M ∧ ˜ν) + π∗(F∇M,c ∧ (−˜ν)) = 0.

Here, ∇M is the global Chern connection attached to the smooth hermitian metric
on M, and ∇M,c is the conjugate connection. Therefore, the relation between their
curvatures is F∇M = −F∇M,c. The claim follows as in the ﬂat case, i.e. because the
ﬁbers of π and of π have opposite orientation.
) with ﬂat connections
Corollary 4.4. Given (L,∇L
and no assumption on rigidiﬁcations, the smooth line bundle hL, Mi ⊗C∞S hLc, Mci has
a canonically deﬁned smooth logarithm, LOGint, that coincides with the previous con-
struction in presence of a rigidiﬁcation. Its attached connection is the tensor product of
intersection connections.

X/S),(Lc,∇L,c

X/S), (M,∇M

X/S

), (Mc,∇M,c

X/S

(cid:3)

Proof. Locally over S, we can ﬁnd sections and rigidify our line bundles. We
conclude by Proposition 4.3.

(cid:3)

Remark 4.5. In the ﬂat case, and if S has dimension at least 1, the relation of LOGint
to the intersection connection shows that LOGint is compatible with the symmetry
of Deligne pairings, up to a constant. Of course this argument cannot be used
when S is reduced to a point. We will show below that LOGint is indeed symmetric
(Proposition 4.6).

24

FREIXAS I MONTPLET AND WENTWORTH

4.2. Intersection logarithm in the universal case. An important geometric setting
when an intersection logarithm can be deﬁned is the “universal" product situation.
A study of this case will lead below to the proof of the symmetry of intersection
logarithms.

Let (X, σ) be a pointed Riemann surface and MB(X) the Betti moduli space of
complex characters of π1(X, σ). Let (X, σ) be the conjugate Riemann surface, and
identify MB(X) with MB(X). We have relative curves X × MB(X) → MB(X) and
similarly for X. There are universal rigidiﬁed holomorphic line bundles with
relative ﬂat connections (Lχ,∇χ) and (Lc
χ), whose holonomy characters over
a given χ ∈ MB(X) are χ and χ−1 respectively. Observe on the conjugate surface
X the character we use is not χ. This is important since we seek an intersection
logarithm that depends holomorphically on χ. We take the Deligne pairing

χ,∇c

hLχ, Lχi ⊗OMB(X) hLc

χ, Lc
χi.

On the associated smooth line bundle, a slight modiﬁcation of the construction of
LOGint produces a well deﬁned logarithm, still denoted LOGint. The only diﬀerence
is that now we do not need to change the holomorphic structure on MB(X). It is
proven in [16, Sec. 5] that this LOGint is actually a holomorphic logarithm. More
generally, we may work over S = MB(X) × MB(X). On X × S and X × S we consider
χ2). We also have a universal
the pairs of universal bundles (Lχ1 , Mχ2) and (Lc
intersection logarithm LOGint on

χ1, Mc

hLχ1, Mχ2i ⊗OS hLc

χ1, Mc

χ2i,

whose connection is the sum of intersection connections.

It proves useful to establish the symmetry of general intersection logarithms:

Proposition 4.6. The intersection logarithms for line bundles with relative ﬂat connections
are symmetric, i.e. compatible with the symmetry of Deligne pairings.
Proof. This is a pointwise assertion. Deforming to MB(X), it is enough to deal with
the universal situation parametrized by S = MB(X) × MB(X). Because the inter-
section connection is symmetric, and S is connected, we see that the intersection
logarithm is symmetric up to a constant. Now it is enough to specialize to the
pair of trivial characters, when the intersection logarithm is indeed symmetric, by
Weil’s reciprocity law. This concludes the proof.

(cid:3)

Corollary 4.7. The intersection logarithm on the universal pairing

χ1, Mc

hLχ1, Mχ2i ⊗OS hLc
parametrized by MB(X) × MB(X) is holomorphic.
Proof. The holomorphy along the diagonal χ1 = χ2 holds, since the intersection
connection is holomorphic there by [16, Sec. 5.3]. For the general case, we reduce
to the diagonal. First, the multiplication map (χ1, χ2) 7→ χ1χ2 is holomorphic, and
induces the identiﬁcation

χ2i,

and similarly for Mχ1χ2, etc. Second, we have the “polarization formula”,

Lχ1χ2 = Lχ1 ⊗ Lχ2 ,

hL ⊗ M, L ⊗ Mi = hL, Li ⊗ hL, Mi ⊗ hM, Li ⊗ hM, Mi.

and the symmetry of intersection logarithms already proven. These observations
and the proposition are enough to conclude the result.

(cid:3)

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

25

A variant concerns the pairing of the universal bundles with a ﬁxed hermitian

line bundle M on X, trivially extended to X × MB(X).
Corollary 4.8. Let M be a line bundle on X, M its conjugate line bundle on X, and
suppose that they are both endowed with a Chern connection. Extend trivially these data to
X× MB(X) and X× MB(X) by pull-back through the ﬁrst projection. Then the intersection
logarithm on

parametrized by MB(X), is holomorphic and does not depend on the choices of Chern
connections.

hLχ, Mi ⊗ hLc

χ, Mi,

Proof. By Lemma 3.7, we can suppose that (i) M is of relative degree 0 and rigidiﬁed
along σ and (ii) its Chern connection is ﬂat. Similarly, we can assume its conjugate
line bundle comes with the conjugate connection. Therefore, there exists χ0 a
unitary character and an isomorphism of rigidiﬁed line bundles with connections

χ0 ,∇c
We conclude by Corollary 4.7 restricted to χ2 = χ0.

(Lχ0 ,∇χ0) ∼−−→ (M,∇M),

(Lc

χ0) ∼−−→ (M,∇M).

(cid:3)

4.3. Explicit construction for families. In view of arithmetic applications, it is
important to exhibit natural geometric situations when the setting of Section 4.1
indeed obtains. With the notations therein, the diﬃculty is the existence of the
invertible sheaf with connection (Lc,∇L,c
). Even when the existence is granted,
it would be useful to have at our disposal a general algebraic procedure to build
(Lc,∇L,c
X/S). By algebraic procedure we mean a construction that can
be adapted to the schematic (for instance the arithmetic) setting.

) from (L,∇L

X/S

X/S

Let X and S be quasi-projective, smooth, connected algebraic varieties over C.
We regard them as complex analytic manifolds. Let π : X → S be a smooth and
proper morphism of relative dimension 1, with connected ﬁbers. Let L and M be
line bundles on X. We distinguish three kinds of relative ﬂat connections on L
and M: real holonomies, imaginary holonomies, and the “mixed” case. When S is
reduced to a point, the mixed case is actually the general one. Furthermore, it is
then possible to give an explicit description of the intersection logarithm.

X/S : L → L⊗A1

4.3.1. Real holonomies. Let L and M be invertible sheaves over X, that we see as
X/S be relative
holomorphic sheaves. Let∇L
ﬂat connections, compatible with the holomorphic structures. We suppose here
X/S on ﬁbers are real. On the conjugate variety
that the holonomies of ∇L
X, the conjugate line bundles L and M admit the complex conjugate connections to
X/S and ∇M
X/S. Observe the families of holonomy representations do not change,
∇L
because of the real assumption. We thus see that

X/S : M → M⊗A1

X/S and ∇M

X/S and∇M

(Lc,∇L,c

X/S) = (L∨,−∇

L

X/S),

(Mc,∇M,c

X/S) = (M∨,−∇

M

X/S).

The bar on the connections stands for complex conjugation.

26

FREIXAS I MONTPLET AND WENTWORTH

Explicit description of the intersection logarithm when S = Spec C. When the
base scheme is a point, we write X, p, L, M, ∇L, ∇M instead of X, σ, L, M, ∇L
X/S,
X/S. The ﬁrst important remark is that since the connections ∇L and ∇M have real
∇M
holonomy characters χL and χM, they determine unique real harmonic diﬀerential
forms ν and ϑ. Namely, harmonic diﬀerential forms on the Riemann surface X,
invariant under the action of complex conjugation. The relation is

χL(γ) = exp Zγ

ν! , χM(γ) = exp Zγ

ϑ! , γ ∈ π1(X(C), p).

Because ν and ϑ are real, we can write them

ν = ν′ + ν′, ϑ = ϑ′ + ϑ′,

where ν′ and ϑ′ are holomorphic. In terms of these forms, we ﬁrst provide the
action of the naive logarithms on standard sections. Let ℓ and m be rational sections
of L and M on X, with disjoint divisors. After a choice of rigidiﬁcation of L, we lift

ℓ to a meromorphic function on the universal cover eX (with its natural complex

structure), transforming like χL under the action of π1(X, p). Also, we lift div m to
]div m. The naive logarithm for the complex structure on X is determined by

LOGna(hℓ, mi) = log( ˜ℓ( ]div m)) −Z ]div m

˜p

ν −

i

2πZX

∇m
m ∧ ν.

Recall that the ﬁrst two terms together do not change under a transformation
ν 7→ ν + θ, for θ holomorphic. Using the relation with the Chern connections

we simplify the naive logarithm to

∇L = ∇L,ch + 2ν′, ∇M = ∇M,ch + 2ϑ′,

LOGna(hℓ, mi) = log( ˜ℓch( ]div m)) −Z ]div m

˜p

(ν′ − ν′) −

i

2πZX

ϑ′ ∧ ν′.

We denoted ˜ℓch the lift of ℓ using the Chern connection ∇L,ch. Changing the holo-
morphic structure (and hence reversing the orientation in the last integral), the
naive logarithm LOGc

na computed with the conjugate sections ℓ and m is

LOGc

na(hℓ∨, m∨i) = log( ˜ℓch( ]div m)) −Z ]div m

˜p

(ν′ − ν′) +

i

2πZX

ϑ′ ∧ ν′.

All in all, we ﬁnd

LOGint(hℓ, mi ⊗ hℓ∨, m∨i) = log | ˜ℓch( ]div m)|2 −
1
π

= log khℓ, mik2 +

1
π

Im ZX(C)
Im ZX(C)

ϑ′ ∧ ν′!
ϑ′ ∧ ν′! .

The norm on the Deligne pairing is the canonical one for pairings of degree 0 line
bundles. As predicted by Proposition 4.3, the formula does not depend on the
rigidiﬁcation. Notice also this expression is real valued.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

27

4.3.2. Unitary connections. We suppose the holomorphic line bundles L, M come
X/S. Their family holonomy represen-
with relative ﬂat unitary connections ∇L
tations are thus unitary. For the complex conjugate family, it is therefore enough
to take

X/S, ∇M

(Lc,∇L,c

X/S) = (L,∇

L

X/S),

(Mc,∇M,c

X/S) = (M,∇

M

X/S).

Contrary to the real case, we do not need to dualize the complex conjugate line
bundles.

In this case, the intersection logarithm LOGint amounts to the logarithm of a
smooth hermitian metric. If ℓ and m are rational sections of L, M, with ﬁnite, étale,
disjoint divisors over some Zariski open subset of S, then one easily sees

LOGint(hℓ, mi ⊗ hℓ, mi) = logkhℓ, mik2.

That is, the log of the square of the natural norm on the Deligne pairing.

4.3.3. Mixed case. Suppose that L is equipped with a ﬂat relative connection (com-
patible with the holomorphic structure), with real holonomies, and M with a rela-
tive ﬂat unitary connection. Then the tensor product of connections on P = L ⊗ M
is no longer real nor unitary. Nevertheless, we can still deﬁne Pc and ∇P,c
X/S on the
conjugate family:

(Pc,∇P,c

X/S) = (L∨ ⊗ M, (−∇

L

X/S) ⊗ ∇

M

X/S).

In this case, we postpone the explicit description of the intersection logarithm to
the next paragraph.

4.4. The mixed case over Spec C. Suppose now that the base scheme S is a point.
Therefore, we are dealing with a single compact Riemann surface X. We ﬁx a base
point p ∈ X. Let P be a line bundle over X with a connection

∇P : P −→ P ⊗ Ω1

X/C.

Let χ be the holonomy representation of ∇P. The absolute value |χ| is the holonomy
representation of a line bundle L on X endowed with a holomorphic connection
∇L. We set

M := P ⊗ L∨, ∇M = ∇P ⊗ (−∇L).

Then M is a line bundle with a ﬂat unitary connection ∇M, and P = L ⊗ M,
∇P = ∇L ⊗ ∇M are as in the mixed case.
Explicit description of the intersection logarithm. Let L and M be line bundles
over X. Let ∇L and ∇M be arbitrary holomorphic connections on L and M. We wish
to describe the intersection logarithm. Taking into account the decomposition of
L and M in terms of real/unitary holonomy ﬂat bundles as above, the new case to
study is when ∇L has real holonomy χL and ∇M is unitary (for the reverse case we
invoke the symmetry of the intersection logarithm, Proposition 4.6).
Let ℓ, m be rational sections of L, M respectively, with disjoint divisors. After
trivializing L at p, we lift ℓ to a meromorphic function ˜ℓ on the universal cover eX,

transforming like χL under the action of π1(X, p). We lift div m to ]div m. The naive

28

FREIXAS I MONTPLET AND WENTWORTH

logarithm for the natural complex structure on X is determined by

LOGna(hℓ, mi) = log( ˜ℓ( ]div m)) −Z ]div m
= log( ˜ℓ( ]div m)) −Z ]div m

˜p

˜p

i

2πZX

∇m
m ∧ ν

ν −

ν.

(25)

We wrote ν for the real harmonic diﬀerential form determined by χL. The second
equality uses that ∇M is a Chern connection. There is a similar expression for the
naive logarithm LOGc

na. In the present case it takes the form

LOGc

na(hℓ∨, mi) = − log( ˜ℓ( ]div m)) −Z ]div m

˜p

(−ν).

(26)

Adding (25) and (26) and simplifying, we ﬁnd for the intersection logarithm

LOGint(hℓ, mi ⊗ hℓ∨, mi) = 2i arg( ˜ℓ( ]div m)).

(27)
This quantity is purely imaginary. Again, it does not depend on the trivialization
of L, because div m is a degree 0 divisor. The discussion is also valid if M has
arbitrary degree and is endowed with a hermitian metric. However, in this case
the intersection logarithm depends on the rigidiﬁcation of L.

5. Logarithm for the Determinant of Cohomology

5.1. The Quillen logarithm. In this section we proceed to deﬁne a logarithm which
is analog to the so-called Quillen metric, on the determinant of the cohomology of
a line bundle. Later on, in Section 6, we relate our construction to the holomorphic
Cappell-Miller torsion [12].

Let (X, p) be a Riemann surface with a point. Fix a hermitian metric hTX on
the holomorphic tangent bundle TX. Take a complex character χ : π1(X, p) → C×
and write Lχ for the canonically trivialized (at p) holomorphic line bundle with
ﬂat connection, whose holonomy representation is χ. This depends on the base
point p. On the conjugate Riemann surface X we consider the ﬂat holomorphic
χ attached to the character χ−1 of π1(X, p) = π1(X, p). Consider the
line bundle Lc
product of determinants of cohomology groups

det H•(X, Lχ) ⊗C det H•(X, Lc
χ).

We will construct a canonical determinant on this complex line, but before we
make several observations regarding these cohomology groups. To simplify the
discussion, we assume that Lχ is not trivial. Then
H0(X, Lχ) = H0(X, Lc

χ) = 0.

Their determinants are canonically isomorphic to C, that aﬀords the usual loga-
rithm on C× (modulo 2πi Z). Let us examine the H1’s. By Hodge theory and
uniformization, there is a canonical isomorphism

where H0,1(χ) denotes the space of antiholomorphic diﬀerential forms on the uni-

H1(X, Lχ) ∼−−→ H0,1(χ),

versal cover eX (with the complex structure compatible with X), with character χ

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

29

under the action of π1(X, p) (anti-holomorphic Prym diﬀerentials). Similarly,

H1(X, Lc

χ) ∼−−→ H1,0(χ−1),

Prym diﬀerentials).

In this identiﬁcation, we see anti-holomorphic diﬀerential

the space of holomorphic diﬀerential forms oneX, with character χ−1 (holomorphic
forms on eX as holomorphic diﬀerential forms on eX. Given α ∈ H0,1(χ) and β ∈
H1,0(χ−1), the diﬀerential form β∧ α is a π1(X, p) invariant (1, 1) diﬀerential form on
eX. It thus descends to a smooth (1, 1) form on X.

Let us now consider a nonvanishing tensor

η1(χ) ∧ . . . ∧ ηg−1(χ) ⊗ η1(χ−1) ∧ . . . ∧ ηg−1(χ−1)

in the product of determinants. Up to a small caveat, we would like to deﬁne

LOGL2(η1(χ) ∧ . . . ∧ ηg−1(χ)⊗η1(χ−1) ∧ . . . ∧ ηg−1(χ−1)) =

log det  i

2πZX

ηj(χ−1) ∧ ηk(χ)!jk ∈ C/2πi Z.

By duality, we derive a L2 logarithm on the determinant of cohomology. Notice,
however, the determinant could vanish. We now follow terminology introduced
by Fay [15]. We deﬁne V0 ⊆ MB(X) as the locus of characters χ with Lχ trivial. This
is equivalent to dim H0(X, Lχ) ≥ 1, and by the semi-continuity theorem of coherent
cohomology, shows that V0 is a closed analytic subset. It is actually nonsingular
of codimension g. We let V be the locus of characters in MB(X) \ V0 for which
the determinant vanishes. By Grauert’s theorem, on MB(X) \ V0 we can locally
choose cohomology bases that depend holomorphically on χ, so that V is a divisor
in MB(X) \ V0. Only for χ , V, the logarithm LOGL2 can be deﬁned.
with χ < V0, χ < V. Then we put

We introduce another logarithm on the determinant of cohomology. We start

LOGQ = LOGL2 − log T(χ),

where T(χ) is the complex valued analytic torsion introduced by Fay3, and spec-
trally described in [16, Sec. 5]. As a consequence of results by Fay [15, Thm. 1.3],
exp◦ LOGQ depends holomorphically on χ < V, and can be uniquely and holomor-
phically extended to MB(X) \ V0, with values in C (notice the possible vanishing!).
See also [16, Sec. 5] for an explicit expression of T(χ), that relates to the determinant
of the matrix of Prym diﬀerentials, from which the claim follows as well. Therefore,
contrary to LOGL2, LOGQ can be extended to MB(X) \ V0. An alternative approach
to the spectral interpretation will follow later from Section 6, in the comparison of
LOGQ with the holomorphic Cappell-Miller torsion.

A ﬁnal remark indicates the relation to the Quillen metric in the unitary case. If
χ < (V ∪ V0) is unitary, then we can chose the bases of Prym diﬀerentials so that

ηk(χ−1) = ηk(χ).

Also, T(χ) is the usual real valued analytic torsion in this case. We thus see that
LOGQ(η1(χ) ∧ . . .∧ ηg−1(χ) ⊗ η1(χ−1) ∧ . . .∧ ηg−1(χ−1)) = logkη1(χ) ∧ . . .∧ ηg−1(χ)k2
Q.
3It is necessary to normalize Fay’s deﬁnition so that it coincides with the holomorphic analytic
torsion on unitary characters. The normalization requires the introduction of a constant, depending
only on the genus of X.

30

FREIXAS I MONTPLET AND WENTWORTH

Hence, LOGQ is a natural extension of the (log of the) Quillen metric in this case!
The logarithm LOGQ will be called Quillen logarithm.

We will also need to deal with the case of the trivial line bundle. In this case, we

start by deﬁning a logarithm on

det H0(X, OX) ⊗ det H0(X, O

X) = C.

This is done by assigning to 1 the volume of the normalized Kähler form on X:
locally in a holomorphic coordinate z,

hTX  ∂

∂z

,

∂

∂z! dz ∧ dz.

i
2π

For H1’s, as before Hodge theory provides canonical identiﬁcations

H1(X, OX) ∼−−→ H0,1(X)
X) ∼−−→ H1,0(X)
H1(X, O

(anti-holomorphic diﬀerential forms on X)
(holomorphic diﬀerential forms on X).

Then, to a nonvanishing tensor like element

α1 ∧ . . . ∧ αg ⊗ β1 ∧ . . . ∧ βg ∈ det H1(X, OX) ⊗ det H1(X, O

X),

we associate the number

log det  i

2πZX

β j ∧ αk! ∈ C/2πi Z.

In the determinant does not vanish. It is always possible to choose αk = βk, and
in this case the logarithm is univalued and takes values in R. The combination
of both logarithms is again denoted LOGL2. If T(OX) is the analytic torsion of the
trivial hermitian line bundle on X, then we put

LOGQ = LOGL2 − log T(OX).

Because T(OX) is a strictly positive real number, we see that LOGQ actually amounts
to the (logarithm of the) Quillen metric.

5.2. The Deligne-Riemann-Roch isomorphism and logarithms. Let (X, p) be a
pointed compact Riemann surface with conjugate (X, p). Fix a hermitian metric hTX
on TX. It deﬁnes a hermitian metric on TX, and also on ωX and ωX. Let (L,∇) be a
holomorphic line bundle, rigidiﬁed at p, with a ﬂat compatible connection. Let χ
be the associated holonomy character of π1(X, p). Hence we can identify L and Lχ,
and also build a conjugate pair (Lc,∇c) on X, corresponding to the character χ−1.
The notations employed here are customary, and unravel to

λ(L − OX) = det H•(X, L) ⊗ det H•(X, OX)−1,

(28)
X). The left hand side of the Deligne isomorphism
and similarly for λ(Lc − O
carries the combination of Quillen logarithms detailed in the previous section. The
right hand side is endowed with the intersection logarithm, where ωX and ωX are
endowed with the Chern connections for the choice we made of hermitian metrics.
Observe that the logarithms on both sides depend on the rigidiﬁcation of L at p
(used to identify L to Lχ). Indeed, this is the case for LOGL2 (although not of T(χ)),
and of the intersection logarithm of the pairing of (L, Lc) against (ωX, ωX).

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

31

Theorem 5.1. Assume χ ∈ MB(X)\ V0. Deligne’s isomorphism is compatible with LOGQ
and LOGint modulo πi Z, that is

LOGQ = LOGint ◦ D.

Remark 5.2. The explanation for the reduction modulo πi Z is that Deligne’s
isomorphism is only canonical up to a sign. Hence, at most we are able to show
that the two logarithms correspond up to log(±1), which is zero modulo πi Z.
Proof of Theorem 5.1. We provide two arguments. Both exploit the universal prod-
uct ﬁbrations X = X × MB(X) → MB(X) = S and Xc = X × MB(X) → MB(X) with the
χ. There is a universal Deligne type isomorphism
universal line bundles Lχ and Lc

Dχ : (λ(Lχ − OX) ⊗OS λ(Lc

χ − OXc))⊗2 ∼−−→ hLχ, Lχ ⊗ ω−1

X i ⊗OS hLc

χ, Lc

χ ⊗ ω−1
X i.

The ﬁrst argument refers to [16, Sec. 5], where we showed that over the connected
open subset MB(X) \ (V ∪ V0),

d LOGQ = d LOGint ◦Dχ.

This implies the equality LOGQ = LOGint ◦D holds, up to a constant κ, on MB(X) \
(V ∪ V0). By smoothness of the logarithms, the same is true over MB(X) \ V0. Now
we need only to check that the constant is zero modulo πi Z. For this, it is enough
to evaluate at a suitable χ and suitable sections. Let us take χ unitary, χ < (V ∪ V0).
Since unitary characters lie in the complement of V, and it is enough to take it to be
nontrivial. Then, Lc
χ is complex conjugate to Lχ. Let ℓ, m be rational sections of Lχ
with disjoint divisors, that we see as holomorphic functions ˜ℓ, ˜m on the universal

covereX with character χ under the action of Γ. The complex conjugate sections of
ℓ and m are deﬁned by conjugating ˜ℓ and ˜m, and we write ¯ℓ and ¯m. They can also
be obtained algebraically from ℓ, m by eﬀecting the base change Spec C → Spec C
induced by complex conjugation. Also, let θ be a meromorphic section of ωX, with
complex conjugate θ. We may assume the divisor of θ is disjoint from div ℓ∪div m.
Then, because the Deligne isomorphism commutes to base change, we have

corresponds under D−1

χ to a nonvanishing tensor of the form

hℓ, m ⊗ θ−1i ⊗ hℓ, m ⊗ θ−1

i

±(η1 ∧ . . . ∧ ηg−1 ⊗ η1 ∧ . . . ∧ ηg−1)⊗2 ⊗ (α1 ∧ . . . ∧ αg ⊗ α1 ∧ . . . ∧ αg)⊗2.

But for these sections, we have on the one hand

LOGint(hℓ, m ⊗ θ−1i ⊗ hℓ, m ⊗ θ−1

i) = logkhℓ, m ⊗ θ−1ik2
= log| ˜ℓ(div ˜m − ]div θ)|2,

(29)

and on the other hand
LOGQ(±(η1 ∧ . . . ∧ ηg−1 ⊗ η1 ∧ . . . ∧ ηg−1)⊗2 ⊗ (α1 ∧ . . . ∧ αg ⊗ α1 ∧ . . . ∧ αg)⊗(−2))
(30)
But now, log(±1) = 0 modulo πi Z and the Deligne isomorphism is an isometry
in the unitary case. Hence, the expressions (29) and (30) are equal modulo πi Z.
Therefore, the constant κ is zero modulo πi Z.

= log(±1) + 2 logkη1 ∧ . . . ∧ ηg−1k2

Q − 2 logkα1 ∧ . . . ∧ αgk2

Q

The second argument is similar, but replaces [16, Sec. 5] by the following self-
contained remarks. On the one hand, the intersection logarithm on the Deligne

32

FREIXAS I MONTPLET AND WENTWORTH

pairings is holomorphic on MB(X), after Corollaries 4.7–4.8. On the other hand, the
Quillen logarithm is holomorphic on its domain MB(X) \ (V0 ∪ V), by construction.
Finally, both logarithms coincide on the unitary locus of MB(X) \ (V0 ∪ V), which is
a maximal totally real subvariety. Hence, by a standard argument (cf. [16, Lemma
5.12]) both holomorphic logarithms must coincide on the whole MB(X) \ (V0 ∪ V).
In either approach, the proof of the theorem is complete.
Corollary 5.3. The Quillen logarithm LOGQ, initially deﬁned on MB(X) \ (V0 ∪ V),
uniquely extends to the whole MB(X). The extension is compatible with Deligne’s isomor-
phism (modulo πi Z) and is holomorphic.

(cid:3)

Proof. The extension of the Quillen logarithm, modulo πi Z, follows from the
theorem and the fact that the intersection logarithm is already deﬁned on the
whole MB(X). At the same time, this logarithm is deﬁned modulo 2πi Z on a
dense open subset. Both observations together imply that the Quillen logarithm
can be extended everywhere. For the holomorphy, by the very construction of
LOGQ, it is satisﬁed on a dense open subset of MB(X), and hence everywhere (for
the extension). Indeed, this amounts to the vanishing on the well deﬁned smooth
(0, 1)-form ∂LOGQ, and it is enough to check the vanishing on a dense open subset.

(cid:3)

It is important to notice that the theorem implies the compatibility of Deligne’s
isomorphism for general conjugate families modulo πi Z, as well as the compati-
bility with the Quillen type connections and the intersection connections.
Corollary 5.4. In the case of general Kähler ﬁbrations4 and for a conjugate pair of data
π : X → S, (L,∇L
), with rigidiﬁcations along a given
section, the Deligne isomorphism

X/S), and π : X → S, (Lc,∇L,c

X/S

D : (det Rπ∗(L − OX) ⊗C∞S

det Rπ∗(Lc − O

X))⊗2

∼−−→ hL, L ⊗ ω−1

X/Si ⊗C∞S hLc, Lc ⊗ ω−1
X/Si

(31)

transforms LOGQ into LOGint, modulo πi Z. As a consequence, the Deligne isomorphism
D is parallel with respect to the connections ∇Q on the left hand side of (31) and ∇int on
the right.

6. The Quillen logarithm and the Cappell-Miller torsion

In this section, we prove Theorem 6.12, to the eﬀect that the construction of
the Quillen logarithm is equivalent to a variant of holomorphic analytic torsion,
proposed by Cappell-Miller [12]. Our observation is that the Cappell-Miller torsion
behaves holomorphically in holomorphic families of ﬂat line bundles on a ﬁxed
Riemann surface. In the proof, we make essential use of Kato’s theory of analytic
perturbations of linear closed operators [23, Chap. VII], which turns out to be
particularly well-suited for these purposes.

Let X be a ﬁxed compact Riemann surface with a smooth hermitian metric on TX,
p a base point, and (X, p) the conjugate datum. Let MB(X) be the space of characters
of π1(X, p), and L, Lc the holomorphic universal bundles on X := X × MB(X) and
4For a Kähler ﬁbration, here we mean a smooth family of curves π : X → S with a choice of smooth

hermitian metric on ωX/S. This is not the standard deﬁnition in higher relative dimensions.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

33

Xc := X× MB(X). Recall the ﬁbers Lχ, Lc
χ at χ ∈ MB(X), are canonically trivialized at
the base point and have holonomy representations χ and χ−1, respectively. There
are corresponding universal relative holomorphic connections. Write π and πc for
the projection maps onto MB(X).

Inspired by Quillen [26], Bismut-Freed [2, 3] and Bismut-Gillet-Soulé [4, 5, 6],
we present the determinant of cohomology λ(L) = det Rπ∗(L) as the determinant
of a truncated Dolbeault complex of ﬁnite dimensional holomorphic vector bundles.
The diﬀerence with the cited works is in the holomorphicity of these vector bundles.
One can similarly proceed for Lc.

Introduce the relative Dolbeault complex of L, considered as a smooth complex
line bundle with a ¯∂-operator. More precisely, this is the complex of sheaves of
C∞MB(X)-modules

DX/MB(X) = DX/MB(X)(L): 0 −→ A0,0

X/MB(X)(L) ∂X−→ A0,1

X/MB(X)(L) −→ 0.

We have decorated the relative Dolbeault operator ∂X with the index X to emphasize
the fact that we are in a product situation, and we are only diﬀerentiating in the
X direction. The cohomology sheaves of the complex π∗DX/MB(X) will be written
H0,p
(L). After [6, Thm.3.5], there are canonical isomorphisms of sheaves of C∞MB(X)-
∂X

modules

ρp : Rpπ∗(L) ⊗ C∞MB(X) ∼−−→ H0,p

∂X

(L).

By Proposition 3.10 of loc. cit., there is a natural holomorphic structure on H0,p
(L),
∂X
deﬁned in terms of both the relative and the global Dolbeault complexes of L.
For the sake of brevity, we refer to it as the holomorphic structure of Bismut-Gillet-
Soulé. They prove their structure coincides with the holomorphic structure on the
coherent sheaves Rpπ∗(L), through the isomorphism ρp. Finally, in [6, Lemma 3.8] it
is shown that π∗DX/MB(X) (E • in the notation of the cited paper) is a perfect complex
in the category of sheaves of C∞MB(X)-modules. As a result, to compute higher direct
images and the determinant of cohomology, we can equivalently work with the
complex π∗DX/MB(X) and the holomorphic structure of Bismut-Gillet-Soulé.

Associated to the relative connection on L and the hermitian metric on TX, there
♯
are non-self-adjoint Laplace operators ∆0,p = (∂X + ∂
X)2 on π∗DX/MB(X). Fiberwise,
they restrict to the Laplace type operators of Cappell-Miller. We use the notation
0,p
χ for the restriction to the ﬁber above χ, and similarly for other operators. Let
∆

us explicitly describe them. Let eX be the universal cover of X, with fundamental

group Γ = π1(X, p) and the complex structure induced from X. The Dolbeault
complex of Lχ is isomorphic to the Dolbeault complex

∂

−→ A0,1(eX, χ),

A0,0(eX, χ)

we are implicitly appealing to the canonical trivialization of Lχ at the base point

where A0,p(eX, χ) indicates the smooth diﬀerential χ-equivariant forms of type (0, p),
and ∂ is the standard Dolbeault operator on functions on eX. In the identiﬁcation,
p. The metric on TX induces a metric on TeX and a formal adjoint ∂∗, deﬁned as
usual in terms of the Hodge ∗ operator. Let D0,p = (∂ + ∂∗)2. Then, the Dolbeault

34

FREIXAS I MONTPLET AND WENTWORTH

complex of Lχ and ∆0,•χ are identiﬁed to (A0,•(eX, χ), ∂, D0,•). To make the holomor-

phic dependence on χ explicit, we parametrize MB(X) by H1
dR(X, C), and further
identify cohomology classes with harmonic representatives. In particular, let ν be
a harmonic representative for χ. Deﬁne the invertible function

Gν(z) = exp Z z

˜p

ν! .

We build the isomorphism of complexes

G−1
ν · 

A0,0(eX, χ)
A0,0(eX)Γ

∂

∂−ν′′

G−1
ν ·

A0,1(eX, χ)
/ A0,1(eX)Γ.

Accordingly, the operators ∂∗ and D0,p can be transported to the new complex,
through conjugation by Gν. We indicate with an index ν the new conjugated
operators, so that for instance ∂ν = ∂ − ν′′, and similarly for ∂∗
0,p
ν . After all
ν and D
♯
0,p
ν and ∆
χ will correspond
these identiﬁcations, we see that ∂
to D

χ will correspond to ∂∗

0,p
ν .

Lemma 6.1.

0,p
ν

(i) The operators D

form a holomorphic family of type (A) in the sense of Kato [23,
Chap. VII, Sec. 2]: i) they all share the same domain A0,p(X) and are closed with
respect to the L2 structure induced by the choice of hermitian metric on TX and
ii) they depend holomorphically in ν.

(ii) The operators D

0,p
ν have compact resolvent, and spectrum bounded below and

contained in a “horizontal" parabola.

0,p
Proof. For the ﬁrst item, we notice that the D
ν are diﬀerential operators of order
2 and share the same principal symbol with D0,p, hence they are elliptic since
0,p
the latter is. This also implies that the D
ν are closed as unbounded operators
acting on A0,p(X) and with respect to the L2 structure. We have thus checked the
ﬁrst condition in Kato’s deﬁnition. For the holomorphicity, introduce a basis of
holomorphic diﬀerentials {ωi} of X and write

ν =Xi

(siωi + tiωi).

The holomorphic dependence on ν amounts to the holomorphic dependence on the
parameter si, t j, which is obvious from the construction of D
by conjugation by
(0,p)
Gν: given θ ∈ A0,p(X), the diﬀerential form D
ν θ is holomorphic in the parameters
si, ti. This establishes the second condition, so the ﬁrst claim.

(0,p)
ν

For the compact resolvent property, this is done in [15] (especially p. 111), where
χ − s(1 − s))−1 (see also the remark
Fay explicitly constructs the Green kernel for (∆
below). The spectrum assertion is an observation of Cappell-Miller [12, Lemma
4.1].

0,p

(cid:3)

Remark 6.2. Actually, for holomorphic families of type (A) in a parameter χ on a
domain, compactness of the resolvent for all χ follows from the compactness of the

/
/



/
FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

35

resolvent at a given χ0 [23, Thm. 2.4]. Therefore, the compactness asserted by the
lemma is automatic from the classical compactness in the unitary and self-adjoint
case, for instance when ν = 0.

0,p

χ or ∆0,1

We now look at a given χ0 ∈ MB(X). Let b > 0 not in the spectrum of ∆

0,p
χ0 . By
the Lemma 6.1 and [23, Chap. VII, Thm. 1.7], there exists a neighborhood Uχ0 of χ0
χ , if χ ∈ Uχ0. Hence, the set Ub of those
such that the same property still holds for ∆
0,p
χ ∈ MB(X) such that b is not the real part of any generalized eigenvalue of ∆
χ ,
forms an open set. Because b > 0, it is easy to see that this open set does not depend
on whether we work with ∆0,0
χ : it is the same for both. Such open subsets
Ub form an open cover of MB(X). We deﬁne V 0,p
b,χ ⊂ A0,p(Lχ) the subspace spanned
0,p
by generalized eigenfunctions of ∆
χ , of generalized eigenvalue λ with Re(λ) < b.
If c > b > 0 are not the real parts of the eigenvalues at some χ0, we can similarly
introduce V 0,p
(b,c),χ on Ub ∩ Uc, by consideration of generalized eigenfunctions with
eigenvalues whose real part is in the open interval (b, c).
0,p
Proposition 6.3. For χ ∈ Ub (resp. Ub ∩ Uc), the vector spaces V
b,χ (resp. V
a holomorphic vector bundle on Ub (resp. Ub ∩ Uc) with locally ﬁnite ranks.
Proof. In view of Lemma 6.1, this is a reformulation of [23, Chap. VII, Thm. 1.7].
The proof of loc. cit. provides an illuminating construction by means of spectral
projectors.

0,p
(b,c),χ) deﬁne

(cid:3)

We denote by

V 0,p

b

= V 0,p

(L) ⊂ π∗A0,p
the holomorphic bundle on Ub thus deﬁned. The diﬀerential on the Dolbeault
complex π∗DX/MB(X) induces a diﬀerential on V 0,p
. Indeed, the
0,p
relative ∂ operator of L commutes with the operators ∆
χ . We introduce similar
notation for eigenspaces with real parts in (b, c).

, and ∂X(V 0,0

) ⊂ V 0,1

X/MB(X)(L)(cid:12)(cid:12)(cid:12)Ub

b

b

b

b

Proposition 6.4.

(i) The inclusion of complexes

(V 0,•b ⊗ C∞Ub

, ∂X) ֒→ π∗DX/MB(X)(cid:12)(cid:12)(cid:12)Ub

(32)

computes H0,p
∂X

(L)

is a quasi-isomorphism. Therefore, the complex V 0,•b ⊗ C∞Ub
restricted to Ub.

(ii) The cohomology sheaves of V 0,•b

compatible with the holomorphic structures of Bismut-Gillet-Soulé on H
Therefore, the complex V 0,•b
(iii) The complex V 0,•(b,c) is acyclic.

computes Rπ∗(L) restricted to Ub.

have natural structures of coherent sheaves on Ub,
(L).

0,p
∂X

Proof. First, by [6, Lemma 3.8] we know that the relative Dolbeault complex is
perfect as a complex of C∞MB(X)-modules, and its cohomology is bounded and ﬁnitely
generated. Second, Cappell-Miller show that (32) is ﬁberwise a quasi-isomorphism
[12, top of p. 151]. Finally, the V 0,•b ⊗ C∞Ub
are vector bundles, hence projective objects
in the category of sheaves of C∞Ub
-modules. The three assertions together are enough
to conclude the ﬁrst assertion.

36

FREIXAS I MONTPLET AND WENTWORTH

That the cohomology of V 0,•b

is formed by coherent sheaves is immediate, being
the cohomology sheaves of a complex of ﬁnite rank holomorphic vector bundles.
For the compatibility of holomorphic structures, taking into account the construc-
tion of Bismut-Gillet-Soulé, it is enough to observe the following. Assume θ is a
local holomorphic section of V 0,p
. Hence, it depends holomorphically on χ and
∂Xθ = 0. Because X = X× MB(X) is a product, we can assume that θ is a global (0, p)
form, with ∂Xθ = 0 and depending holomorphically on χ. By the very construction
of the universal bundle L, this is tantamount to saying ∂Lθ = 0. Here ∂L is the
Dolbeault operator of L on X. But now ∂Lθ = 0 is exactly the condition deﬁning
the holomorphic structure of Bismut-Gillet-Soulé [6, p. 346] in our case.

b

The last assertion is left as an easy exercise.

Let us graphically summarize the proposition with a diagram:

Hp(V 0,•b

♥

♥

, ∂X) ⊗ C∞Ub

αp,b ∼

/ H0,p
∂X

(L) |Ub .

βp,b

♥

♥

ρp∼

♥

♥

v♥

Rpπ∗(L) ⊗ C∞Ub

(cid:3)

(33)

The complex structures on H0,p
induced by ρp and αp,b are compatible by
∂X
the proposition, and hence βp,b is induced by an isomorphism of coherent sheaves.
There are corresponding arrows between determinants of cohomologies, that we
indicate ρ, αb and βb. In particular, by an abuse of notation the isomorphism βb can
be identiﬁed with an isomorphism of holomorphic line bundles

(L)(cid:12)(cid:12)(cid:12)Ub

βb : det(V 0,•b

) ∼−−→ det Rπ∗(L) |Ub .

Here, we used the canonical isomorphism between the determinant of cohomology
of V 0,•b
and the determinant of its cohomology. A parallel digression applies to Lc,
and we use the index c for the corresponding objects. There is also a variant that
applies to L ⊗ ωX and Lc ⊗ ωX, where we incorporate the Chern connections on
ωX and ωX, with respect to the ﬁxed hermitian metric. We leave the details to the
reader. We introduce the notations V 0,p
(L ⊗ ωX), etc. when confusions can arise.
We now have a fundamental duality phenomenon.

b

Proposition 6.5. The operator ∂
bundles on Ub

♯
X induces a homological complex of holomorphic vector

This complex is OUb -isomorphic (i.e. holomorphically) to the cohomological complex

♯
∂
X

V 0,1

b

(L)

−−−−→ V 0,0

b

(L).

V 0,0

b

((Lc)∨ ⊗ ωX)

♯
∂
X

−−−−→ V 0,1

b

((Lc)∨ ⊗ ωX).

Therefore, there is a canonical isomorphism of holomorphic line bundles

det(V 0,•b

)

βc
b

−−−−→ det Rπc
∗

((Lc)∨ ⊗ ωX)∨.



v
/
FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

37

♯
X commutes with ∆0,p. The coincidence
Proof. The ﬁrst assertion follows because ∂

V 0,1

b

= V 0,0

b

((Lc)∨ ⊗ ωX)

as holomorphic vector bundles is easily seen. Notice the natural appearance of
(Lc)∨, which has same holonomy characters as L, but the opposite holomorphic
structure ﬁberwise. Observe that the base point and the trivialization of the univer-
sal bundles at p is implicit in the identiﬁcation. Moreover, there is an isomorphism
of holomorphic vector bundles given by the Hodge star operator followed by
conjugation, that following [12] we write ˆ⋆:
(L) ∼−−→ V 1,0

((Lc)∨ ⊗ ωX).

Observe that ˆ⋆ is complex linear, and this is necessary if we want to preserve
holomorphy. The compatibilities with the diﬀerentials are readily checked from
the deﬁnitions. This concludes the ﬁrst assertion. For the second, we just need
to stress that the determinant of V 0,•b
as a cohomological complex is dual to the
determinant of V 0,•b
Corollary 6.6.

as a homological complex.

ˆ⋆: V 0,0

(cid:3)

b

b

(i) There is a diagram of isomorphisms of holomorphic line bundles on Ub

det(V 0,•b

)

id

det(V 0,•b

)

βb

βc
b

det Rπ∗(L) ∼ /

/ det Rπc
∗

((Lc)∨ ⊗ ωX)∨.

It induces a holomorphic trivialization τ(b) of det Rπ∗(L) ⊗ det Rπc
∗

(ii) Let c > b > 0. On Ub ∩ Uc, the relation between τ(b) and τ(c) is given by

(Lc) on Ub.

τ(b) = τ(c)

det ∆0,1
(b,c),

mYj=1

(b,c) is the endomorphism of the holomorphic vector bundle V 0,1

(b,c) deﬁned

where ∆0,1
by the laplacians ∆0,1

χ , χ ∈ Ub ∩ Uc.

Proof. The ﬁrst item is a reformulation of the proposition, together with the canoni-
cal Serre duality det Rπ∗((Lc)∨⊗ωX) ≃ det Rπ∗(Lc). For the second item, it is enough
to check this equality pointwise and use that the determinant of a holomorphic
bundle endomorphism is a holomorphic function. The pointwise relation follows
from [12, Eq. (3.6)].
Remark 6.7. The holomorphic function det ∆0,1
of the holomorphic line bundle det H•(V0,•(b,c)).

(b,c) is to be thought as a trivialization

(cid:3)

For a given χ ∈ Ub and b > 0, let us denote Pb the spectral projector on general-
ized eigenfunctions of ∆0,1
χ of eigenvalues with real part < b. We put Qb = 1 − Pb,
and deﬁne the spectral zeta function of Qb∆0,1
χ , as usual to be the Mellin transform
of the heat operator e−tQb∆0,1
χ . This depends on the auxiliary choice of an Agmon
angle. Let this function be ζb,χ(s). It is a meromorphic function on C, regular at
s = 0. The bases for these deﬁnitions and claims are due to Cappell-Miller, and

/
/




38

FREIXAS I MONTPLET AND WENTWORTH

rely on Seeley’s methods [30]. Furthermore, the special value exp(ζ′b,χ(0)) does not
depend on the choice of Agmon angle.
Lemma 6.8. The expression exp(ζ′b,χ(0)) deﬁnes a holomorphic function in χ ∈ Ub.
Proof. We adapt the proof of the smoothness property for unitary χ, in the lines
of Bismut-Freed [2, Sec. g)]. Let us explain the main lines. The holomorphicity is
a local property, and hence we can restrict to a small neighborhood Ω of a ﬁxed
χ0 ∈ Ub, where a uniform choice of Agmon angle is possible. We then address the
holomorphicity of ζ′b,χ(0) for χ ∈ Ω, for this uniform choice of Agmon angle.
χ deﬁne an endomorphism of the ﬁnite rank holo-
morphic vector bundle V 0,p
b are obviously trace
class and

on Ω. Hence, the operators e−tPb∆0,1

First of all, the operators ∆0,1

b

tr(e−tPb∆0,1
χ )

is an entire function both in t and χ. Second, after possibly restricting Ω, we can
lift χ to harmonic representatives ν = ν(χ), depending holomorphically in χ, as in
the beginning of this section. Then the operators ∆0,1
χ are conjugate to the operators
D0,1
ν acting on A0,1(X), as in Lemma 6.1. These constitute a holomorphic family of
diﬀerential operators of order 2. They diﬀer from the ﬁxed self-adjoint Dolbeault
laplacian D0,1
0 by diﬀerential operators of order 1. In particular, the theory of Seeley
[30] and Greiner [21, Sec. 1] applies. From the latter one sees there is an asymptotic
expansion as t → 0

tr(e−tD0,1

ν ) =

t−1+k/2ak(ν) + o(t−1+N/2),

NXk=0

where the ak(ν) are holomorphic functions in ν, and the remainder is uniform in
ν (after possibly shrinking Ω). Hence, one concludes with a similar property for
tr(e−tQb∆0,1
χ ). Finally, for the large time asymptotics, one can adapt the methods of
Seeley to show

tr(e−tQb∆0,1

χ ) = O(e−tb),

with a uniform O term on Ω (after again possibly restricting). This makes use of the
resolvent kernel, as constructed by Seeley. These considerations, combined with
the explicit expression for ζ′b,χ(0) provided by [12, Thm. 11.1], prove the statement
of the lemma.
Proposition 6.9. Let c > b > 0. We have an equality of holomorphic sections on Ub ∩ Uc

(cid:3)

τ(b) exp(−ζ′b(0)) = τ(c) exp(−ζ′c(0)).

Hence, such expressions can be glued into a single holomorphic trivialization τ

of det Rπ∗(L) ⊗ det Rπ∗(Lc) on MB(X).
Proof. The proof is direct after Corollary 6.6 and the very deﬁnition of the spectral
zeta functions.

(cid:3)

The proposition motivates the following terminology.

Deﬁnition 6.10.

Proposition 6.9 is called the holomorphic Cappell-Miller torsion.

(i) The holomorphic trivialization τ of λ(L) ⊗ λ(Lc) deﬁned by

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

39

(ii) The holomorphic logarithm LOG of λ(L) ⊗ λ(Lc) attached to the holomorphic
Cappell-Miller torsion is called the Cappell-Miller logarithm, and written
LOGCM.

Remark 6.11. By construction, at a given χ, the section τ coincides with the con-
struction of Cappell-Miller. To sum up, our task so far has been to establish that
the Cappell-Miller construction can be put into holomorphic families.

We can now state the main theorem of this section.

Theorem 6.12. The Quillen and the Cappell-Miller logarithms on λ(L)⊗C λ(Lc) coincide.
Proof. First of all, both logarithms are holomorphic. Second, by construction of
the Cappell-Miller torsion and the Quillen logarithm, both coincide on the unitary
locus of MB(X), which is a maximal totally real subvariety. Then by a standard
argument, they coincide on all of MB(X).

(cid:3)

Remark 6.13.

(i) A consequence of the theorem, together with Theorem 5.1 and
Corollary 5.3, is that in dimension 1 and rank 1, the Cappell-Miller torsion
enjoys of analogous properties to the holomorphic analytic torsion of Bismut-
Gillet-Soulé, regarding the Riemann-Roch formula. This answers aﬃrma-
tively a question of these authors.

(ii) From now on, we will refer to LOGQ as the Quillen-Cappell-Miller logarithm.

7. Arithmetic Intersection Theory for Flat Line Bundles

7.1. Conjugate pairs of line bundles with logarithms on Spec OK. Let K be a
number ﬁeld with ring of integers OK. We write S = Spec OK. An invertible sheaf
(or line bundle) L over S can be equivalently seen as a projective OK module of
rank 1. We will not make any distinction between both points of view, in order to
ease notations. This particularly concerns base change and tensor product.

Deﬁnition 7.1. A conjugate pair of line bundles with logarithms, or simply a conjugate
pair, on S consists in the following data:

(i) a pair of line bundles L and Lc over S;
(ii) for every embedding τ: K ֒→ C, a logarithm LOGτ on the one dimensional
We introduce the notation L♯ for the data (L, Lc,{LOGτ}τ: K֒→C).

τ.
complex vector space Lτ ⊗C Lc

Given conjugate pairs L♯ and M♯, an isomorphism ϕ♯ : L♯ → M♯ is a pair (ϕ, ϕc)
of isomorphisms, ϕ: L → M and ϕc : Lc → Mc, such that for every τ: K ֒→ C,
τ preserves logarithms. There are standard constructions on conjugate pairs
ϕτ ⊗ ϕc
with logarithms, notably tensor product and duality.

Deﬁnition 7.2. The groupoid of conjugate pairs of line bundles with logarithms,
denoted PIC♯(S), is deﬁned by:

• objects: conjugate pairs of line bundles with logarithms;
• morphisms: isomorphisms of pairs of line bundles with logarithms.

It has the structure of a Picard category. The group of isomorphisms classes of
objects is denoted by Pic♯(S) and is called the arithmetic Picard group of conjugate
pairs of line bundles with logarithms.

40

FREIXAS I MONTPLET AND WENTWORTH

Arithmetic degree. We proceed to construct an arithmetic degree map on Pic♯(S),

deg♯ : Pic♯(S) −→ C/πi Z.

We emphasize that the target group is not C/2πi Z, but C/πi Z. Let L♯ be a
conjugate pair. Given nonvanishing elements ℓ ∈ LK, ℓc ∈ Lc
LOGτ(ℓτ ⊗ ℓc
τ)

ordp(ℓ ⊗ ℓc) log(Np) − Xτ:K֒→C

K, the quantity

Xp

taken in C/πi Z does not depend on the choices ℓ, ℓc. Indeed, for λ, µ ∈ K×, the
following relations hold in C/πi Z:
Xp

log(τ(λ)τ(µ)) =

ordp(λµ) log(Np) − Xτ:K֒→C
− logYp

|λ|p Yτ:K֒→C

τ(λ) − logYp

= − log(±1) − log(±1) = 0 .

|µ|p Yτ:K֒→C

τ(µ)

(34)

We then conclude by the very deﬁnition of logarithm: modulo 2πi Z, and hence
modulo πi Z, LOGτ satisﬁes
LOGτ((λℓ)τ ⊗ (µℓc)τ) = LOGτ(τ(λ)τ(µ)ℓτ ⊗ ℓc
Remark 7.3.

(i) When the ﬁeld K cannot be embedded into R, the arithmetic

τ) = log(τ(λ)τ(µ)) + LOGτ(ℓτ ⊗ ℓc
τ).

degree is well deﬁned in C/2πi Z, and the argument in R/2πZ.

(ii) In general, to obtain an arithmetic degree with values in C/2πi Z, one needs to
add to conjugate pairs a positivity condition at real places (or equivalently, an
orientation). However, our main goal is to prove an arithmetic Riemann-Roch
formula, which relies on the Deligne isomorphism through Theorem 5.1. As
we point out in Remark 5.2, this introduces a log(±1) ambiguity. This is why
we do not impose any positivity conditions in this article.

Example 7.4. Because a Z module of rank 1 admits a basis, which is unique up
to sign, one proves with ease that the arithmetic degree on Pic♯(Spec Z) is an
isomorphism:

We will need the following functorialities for the Picard groups and the arith-

deg♯ : Pic♯(Spec Z) ∼−−→ C/πi Z.

metic degree.
Proposition 7.5. Let F be a ﬁnite extension of K and put T = Spec OF. With respect to
the morphism π: T → S, the arithmetic Picard groups satisfy covariant and contravariant
functorialities:
(i) (Inverse images or pull-backs) Tensor product with OF induces a morphism

(ii) (Direct images or push-forwards) The norm down to OK of a projective OF-module

π∗ : Pic♯(S) −→ Pic♯(T).

induces a morphism

The arithmetic degree on Pic♯(OK) factors through the push-forward to Pic♯(Z).

π∗ : Pic♯(S) −→ Pic♯(T).

(iii) The composition π∗π∗ acts as multiplication by [F : K].
Proof. The proof is elementary.

(cid:3)

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

41

we ﬁx a square root of −1, i = √

7.2. Conjugate pairs of line bundles with connections. For the rest of this section,
−1 ∈ C. Let X → S be an arithmetic surface. By
this we mean a regular, irreducible and ﬂat projective scheme over S, with geo-
metrically connected generic ﬁber XK of dimension 1. We ﬁx some conventions on
complex structures.

Conventions on complex structures.
(i) Given an embedding τ : K ֒→ C, we write Xτ for the base change of X to C
through τ. After the choice we made of √
−1, the set of complex points Xτ(C)
has a complex structure and is thus a Riemann surface. We call this complex
structure the natural one. The other complex structure (corresponding to −i) is
called the reverse, opposite or conjugate one, and as usual we indicate this with
a bar: Xτ(C). With these notations, if τ is a complex, nonreal, embedding, then
Xτ(C) is canonically biholomorphic to Xτ(C).

(ii) If τ is a real embedding, we put Xτ(C) = Xτ(C) (although τ = τ!). For the
natural complex structure on Xτ(C) we then mean the reverse structure on
Xτ(C).

(iii) The same conventions will apply to holomorphic line bundles, and sections
of such, over X. For instance, if L is a line bundle over X and τ is a complex,
nonreal, embedding, the holomorphic line bundles Lτ on Xτ(C) and Lτ on
Xτ(C) can be identiﬁed, after the identiﬁcation of Xτ(C) with Xτ(C). If τ is real,
then the convention is that Lτ = Lτ on Xτ(C) = Xτ(C).

Deﬁnition 7.6. A conjugate pair of line bundles with connections on X consists in the
following data:
(i) two line bundles L, Lc on X;
(ii) holomorphic connections ∇τ on the holomorphic line bundles Lτ, with respect
τ on the holomorphic line bundles Lτ, with respect
(iii) holomorphic connections ∇c
to the natural complex structure on Xτ(C). Observe that by the previous
τ is a holomorphic connection on
conventions, if τ is a real embedding, then ∇c
c
the holomorphic line bundle L
τ on Xτ(C).

to the natural complex structure on Xτ(C);

τ is the character associated to (Lc

(iv) we impose the following relation: if χτ is the holonomy character of π1(Xτ(C),∗)

associated to (Lτ,∇τ), and χc
χ−1
τ .

τ,∇c
We introduce the notation L♯ = ((L,∇), (Lc,∇c)), with ∇ = {∇τ}τ, ∇c = {∇c
Remark 7.7. In the deﬁnition we do not impose any relationship between χτ and
= χ−1
τ ,
χτ, in contrast to classical Arakelov geometry. Moreover, we required χc
τ
and not χc
= χτ. The latter condition only happens in the unitary case, which is
τ
the range of application of classical Arakelov geometry.

τ), then χc
τ

=

τ}τ.

There is an obvious notion of isomorphism of conjugate pairs of line bundles
with connections. There are also standard operations that can be performed, such
as tensor products and duals. Base change is possible as well, for instance by
unramiﬁed extensions of K (in order to preserve the regularity assumption for
arithmetic surfaces).

42

FREIXAS I MONTPLET AND WENTWORTH

Deﬁnition 7.8. We denote by PIC♯(X) the groupoid of conjugate pairs of line
bundles with connections.
It is a Picard category. The group of isomorphism
classes is denoted Pic♯(X) and is called the Picard group of conjugate pairs of line
bundles with connections.

Let us now suppose there is a section σ : S → X. A rigidiﬁcation along σ of a
conjugate pair of line bundles with connections L♯, is a choice of isomorphisms
σ∗L ∼−−→ OS and σ∗Lc ∼−−→ OS. The previous deﬁnitions have obvious counterparts
in this setting.
Deﬁnition 7.9. Given a section σ : S → X, we denote by PICRIG♯(X, σ) the groupoid
of conjugate pairs of line bundles with connections, rigidiﬁed along σ.

Remark 7.10.

at στ and Lc

(i) Observe that a rigidiﬁcation of L♯ induces rigidiﬁcations of Lτ
τ at στ, for τ: K ֒→ C.

(ii) A rigidiﬁcation is unique up to O×K. Because the norm down to Q of a unit is ±1,
the arithmetic degree is not sensitive to the particular choice of rigidiﬁcation.
(iii) The Hilbert class ﬁeld H of K is the maximal unramiﬁed abelian extension of
K, and has the property that any invertible OK-module becomes trivial after
base change to OH. Therefore, after possibly extending the base ﬁeld to H, a
rigidiﬁcation always exists.

Arithmetic intersection product. The Deligne pairing and the intersection loga-
rithm constructions allow to deﬁne a symmetric bilinear pairing

PIC♯(X) × PIC♯(X) −→ PIC♯(S).

The construction works as follows. Let L♯ and M♯ be conjugate pairs of line bundles
with connections. We consider the Deligne pairings hL, Mi, hLc, Mci. For every
complex embedding τ: K ֒→ C,

hL, Miτ ⊗C hLc, Mciτ = hLτ, Mτi ⊗C hLc

τ, Mc
τi

carries an intersection logarithm LOGint,τ, build up from the connections deﬁning
L♯, M♯ and intermediate choices of rigidiﬁcations (we proved the construction is
independent of these choices). We obtain this way a conjugate pair of line bundle
with logarithms on S, that we denotehL♯, M♯i. The bilinearity of this pairing is clear,
and the symmetry is a consequence of Proposition 4.6. In terms of this pairing,
the arithmetic intersection product of L♯ and M♯ is obtained by taking the arithmetic
degree:

(L♯, M♯) = deg♯hL♯, M♯i ∈ C/πi Z.

One of the aims of this section is to prove an arithmetic Riemann-Roch formula
that accounts for these arithmetic intersection numbers.

Argument of the Deligne pairing. Let L♯ and M♯ be conjugate pairs of line bundles
with connections. By the argument of the Deligne pairing of L♯ and M♯ we mean the
imaginary part of the intersection product:

arg♯hL♯, M♯i = Im(L♯, M♯) ∈ R/πZ.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

43

7.3. Mixed arithmetic intersection products. The classical arithmetic Picard group
in Arakelov geometry classiﬁes smooth hermitian line bundles, and is denoted

cPic(X). There is an obvious groupoid version that we denote dPIC(X). We con-

structed intersection logarithms between conjugate pairs of rigidiﬁed line bundles
with connections and hermitian line bundles. With this, we can deﬁne a pairing

PICRIG♯(X) ×dPIC(X) −→ PIC♯(S)

simply as follows. Given a conjugate pair of line bundles with connections L♯,
rigidiﬁed along σ, and a hermitian line bundle M on X, we deﬁne the Deligne
pairing

We denoted LOGint,τ the intersection logarithm on the base change

hL♯, Mi = (hL, Mi,hLc, Mi,{LOGint,τ}τ).

hL, Miτ ⊗C hLc, Miτ = hLτ, Mτi ⊗C hLc

τ, Mτi,

build up using the connections deﬁning L♯ at τ, the rigidiﬁcations, and the hermit-
ian metric on M. In terms of this Deligne pairing, we deﬁne the mixed arithmetic
intersection product

Because a rigidiﬁcation is unique up to O×K, this quantity does not depend on the
particular choice of rigidiﬁcation, but in general it depends on the section.

(L♯, M) = deg♯hL♯, Mi ∈ C/πi Z.

Variant in the absence of rigidiﬁcation. When a section σ is given, but we do not
have a rigidiﬁcation, we may follow the observation made in Remark 7.10 and
base change to the Hilbert class ﬁeld H. Observe the base change XOH is still an
arithmetic surface: because the Hilbert class ﬁeld H is unramiﬁed, the regularity of
the scheme is preserved. Let us indicate base changed objects with a prime symbol.
Given L♯, the base change L♯′ admits a rigidiﬁcation, which is unique up to unit.
Then, the arithmetic intersection number

(L♯′, M′) ∈ C/πi Z

is deﬁned. Taking into account the functoriality properties of the arithmetic degree
(Proposition 7.5), it is more natural to normalize this quantity by [H : K], that is the
class number hK. We then write

(L♯, M) :=

1
hK

(L♯′, M′) ∈ C/πi Z[1/hK].

In particular, when K = Q, or more generally when hK = 1, the mixed arithmetic
intersection number with values in C/πi Z is always deﬁned, without any reference
to the rigidiﬁcation (but always depending on the section).

7.4. Variants over R and C, argument and periods. While classical Arakelov ge-
ometry over R or C cannot produce any interesting numerical invariants (only
zero), the present theory has a nontrivial content over these ﬁelds. Let us discuss
the case of the base ﬁeld C. We saw we can still deﬁne Pic♯(Spec C), and an arith-
metic degree deg♯, now with values in iR/2πi Z. In the construction, one has to
take into account the identity and conjugation embeddings C → C. We denote the
imaginary part of deg♯ by arg♯:

arg♯ : Pic♯(Spec C) −→ R/2πZ.

44

FREIXAS I MONTPLET AND WENTWORTH

Let X be a smooth, proper and geometrically irreducible curve over C. We can also
deﬁne PIC♯(X) and a Deligne pairing. The argument of the Deligne pairing is still
deﬁned:

Similarly there is a well-deﬁned argument of the mixed arithmetic intersection

arg♯hL♯, M♯i ∈ R/2πZ.

product, between PICRIG♯(X) and dPIC(X).

X/C and ∇L : L → L⊗ Ω1

Interpretation of the argument. Let X be a smooth, projective and irreducible
curve over C. To apply the formalism above, we stress C has to be considered
with its identity and conjugation embeddings. Let L be a line bundle on X and
L the conjugate line bundle on X. We suppose given holomorphic connections
∇L : L → L⊗ Ω1
with real holonomy characters. We do not
c with
impose any further condition. We choose Lc = L∨, and we endow Lc and L
the dual connections to ∇L, ∇L. This provides an example of conjugate pair of line
bundles with connections on X, that we write L♯. Let M be a degree 0 line bundle
on X, that we endow with its unitary connection. On M we put the conjugate
connection. In this case we take Mc = M, with same connections. We proceed to
describe

X/C

arg♯hL♯, M♯i ∈ R/2πZ.

We ﬁx a base point p ∈ X and a trivialization of L. Let ℓ and m be rational sections of
L and M. Using the connection ∇L, we lift as usual ℓ to ˜ℓ, on the universal covering.
We also lift div m to ]div m. For the conjugate datum, we lift ℓ to ˜ℓ and div m to ]div m.
We will appeal to the explicit description of the intersection logarithm in Section
4.4, in particular formula (27). Because we didn’t impose any relation between ∇L
and ∇L, we cannot conclude with

˜ℓ( ]div m) = ˜ℓ( ]div m).

In words, in general “conjugation does not commute with tilde”. There exists a
holomorphic diﬀerential form on X, that we present as θ′ for some holomorphic
form θ′ on X, such that ∇L = ∇L + θ′. Because both connections are supposed to
have real holonomy characters, we see that

exp Zγ

θ′! = exp Zγ

θ′! .

Hence, the harmonic diﬀerential form θ = θ′ − θ′ has periods in 2πi Z. Such
diﬀerential forms are of course parametrized by H1(X, 2πi Z), which is a rank 2g
Z-module. In terms of θ′ we have

From this and equation (27), we conclude that

˜ℓ( ]div m) = ˜ℓ( ]div m) exp
Z ]div m

˜p

arg♯hL♯, M♯i = −2 Im

˜p

θ′ .
Z ]div m
θ′ = Im
Z ]div m

˜p

θ .

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

45

Because θ has periods in 2πi Z, this quantity does not depend on the choice of
lifting ]div m, modulo 2πZ. Moreover, modulo 2πZ it only depends on the rational
equivalence class of div m, namely M itself. And this is again because θ has periods
in 2πi Z. It is also independent of the base point, because M has degree 0. Finally,
the connection on M played no role. This is of course in agreement with the
properties of the intersection pairings. Therefore, given a degree 0 Weil divisor D
on X, we have a well deﬁned argument

arg♯hL♯, O(D)i = Im Z D

˜p

θ! ∈ R/2πZ.

Let us write θL♯ for the harmonic diﬀerential form above. We thus have a pairing

arg♯ : PIC♯(X)re × Pic0(X)(C) −→ R/2πZ

(L♯, O(D)) 7−→ arg♯hL♯, O(D)i = Im Z D

˜p

θL♯! ,

where the subscript re indicates we restrict to conjugate pairs with real holonomy
connections. The values of this pairing are imaginary parts of integer combinations
of periods!

There is a variant of this pairing when M = O(D) has arbitrary degree. In this
case one needs to equip L♯ with a rigidiﬁcation. Because Lc = L∨, it is enough to ﬁx
a rigidiﬁcation for L. For the argument, one needs to ﬁx a hermitian metric on M
and use the mixed intersection pairing. The ﬁnal formula looks exactly the same.
While the result will not depend on the metric on M, it depends on the base point
(since deg D , 0). If we had chosen unrelated rigidiﬁcations for L and Lc, the result
would have depended on these choices, as well.

Remark 7.11. There is no simple formula for the general case of an arbitrary
conjugate pair L♯.
7.5. Arithmetic Riemann-Roch theorem. Let π: X → Spec OK be an arithmetic
surface with a section σ: S → X. Let L♯ be a rigidiﬁed pair of conjugate line
bundles with connections. Recall the notation λ(L) for det Rπ∗(L). It is compatible
with base change. Following the construction of Section 5, for every τ there is a
Quillen-Cappell-Miller logarithm LOGQ,τ on

τ) = det H•(Xτ(C), Lτ) ⊗ det H•(Xτ(C), Lc
τ).
We introduce the conjugate pair of line bundles with logarithms on S

λ(Lτ) ⊗C λ(Lc

λ(L♯)Q = (λ(L), λ(Lc),{LOGQ,τ}τ).

Notice the construction of the Quillen-Cappell-Miller logarithm requires the rigid-
iﬁcation, in order to identify Lτ to Lχτ and Lc

χτ.
τ to Lc

Theorem 7.12. Let us endow the relative dualizing sheaf ωX/S with a smooth hermitian
metric. Let L♯ be a rigidiﬁed conjugate pair of line bundles with connections. There is an
equality in C/πi Z

12 deg♯ λ(L♯)Q − 2δ = 2(ωX/S, ωX/S) + 6(L♯, L♯) − 6(L♯, ωX/S)

(35)

− (4g − 4)[K : Q]  ζ′(−1)
ζ(−1)

1

2! ,

+

46

FREIXAS I MONTPLET AND WENTWORTH

where δ = Pp np log(Np) is the “Artin conductor" measuring the bad reduction of X →

If K does not admit any real embeddings, then the equality already holds in

Spec OK.
C/2πi Z.

Remark 7.13. The mixed arithmetic intersection product (L♯, ωX/S) involves the
rigidiﬁcation, and depends on it. This is in agreement with the dependence of the
Quillen logarithm on the rigidiﬁcation. Nevertheless, it does not depend on the
choice of metric on ωX/S, by Lemma 3.7. Therefore, on the right hand side of the
formula, the dependence in the metric on ωX/S comes from (ωX/S, ωX/S).

Proof of Theorem 7.12. The theorem is derived as a combination of the following
statements:
(i) the Deligne isomorphism applied to X → S, L, Lc and OX, and its compatibility
to base change under τ : K ֒→ C;
(ii) the arithmetic Riemann-Roch theorem of Gillet-Soulé [20] applied twice to OX
in Deligne’s functorial formulation [13, 31], which guarantees a quasi-isometry

λ(OX)⊗12

Q ⊗ O(−∆) ∼−−→ hωX/S, ωX/Si,

with norm exp((2g−2)(ζ′(−1)/ζ(−1)+1/2)). The index Q stands for the Quillen
metric (for the trivial hermitian line bundle in this case), ∆ is the so-called
Deligne discriminant supported on ﬁnite primes, and O(∆) is endowed with
the trivial metric (then δ is the arithmetic degree of O(∆)).
It is related to
Artin’s conductor through work of T. Saito [29];

(iii) the fact that our deﬁnition of LOGQ for the trivial hermitian line bundle

amounts to the Quillen metric;

(iv) Theorem 5.1 applied to Xτ(C), Lχτ, Lc
(v) the use of the connections and rigidiﬁcations in order to identify Lτ to Lχτ and
χτ, plus the compatibility of Deligne’s isomorphism to isomorphisms

χτ;

τ to Lc
Lc
of line bundles.

This provides a statement in a ﬁner form, at the level of PIC♯(S). We conclude by
applying the arithmetic degree deg♯. For the last claim, it is enough to observe
ﬁrst that the arithmetic intersection numbers are well deﬁned in C/2πi Z, and that
the sign ambiguity in Deligne’s isomorphism disappears, since there is an even
number of diﬀerent embeddings from K into C.

(cid:3)

Variant in the absence of rigidiﬁcation. In practical situations, while a section σ of
π: X → S may be given, a natural choice of rigidiﬁcation may not. As we explained
in Remark 7.10 and in Section 7.3, this can be remedied by base changing to the
Hilbert class ﬁeld of K. For instance, we justiﬁed that mixed intersection products
(L♯, M) are naturally deﬁned in C/πi Z[1/hK]. For the determinant of cohomology
λ(L♯) it is even simpler, since the rigidiﬁcation is only needed in the construction
of the logarithms, which happen on the archimedean places. Clearly, λ(L♯) can be
deﬁned over OK if it is deﬁned after base change to OH.
Corollary 7.14. Let X → S be an arithmetic surface with σ: S → X a given section. Fix
a hermitian metric on ωX/S. Let L♯ be a conjugate pair of line bundles with connections.
Then, the formula (35) holds with values in C/πi Z[1/hK], where hK is the class number
of K.

FLAT LINE BUNDLES AND THE CAPPELL-MILLER TORSION IN ARAKELOV GEOMETRY

47

Proof. After Theorem 7.12, it is enough to base change to the Hilbert class ﬁeld,
and use the functoriality of the arithmetic degree and the compatibility of the
determinant of cohomology with base change.

(cid:3)

Variant over Spec C. There is an interesting version of Theorem 7.12 when the base
scheme Spec C, when the argument is still well deﬁned and with values in R/2πZ.
The formula dramatically simpliﬁes:

Theorem 7.15 (Argument of arithmetic Riemann-Roch). When the base scheme is
Spec C, there is the following equality of arguments in R/2πZ:

12 arg♯ λ(L♯)Q = 6 arg♯hL♯, L♯i − 6 arg♯hL♯, ωX/Si.

Example 7.16. Let X be a compact Riemann surface with a ﬁxed base point p. Let
L♯ be a conjugate pair of rigidiﬁed line bundles with connections. Assume the
connections have real holonomies, that Lc = L∨ and the rigidiﬁcation is induced by
a trivialization of L alone. Because we are in the real holonomy case, the explicit
description of the intersection logarithm in Section 4.3.1 shows that arg♯hL♯, L♯i = 0.
For the other intersection product, recall we saw in Section 7.4 that L♯ determines
a harmonic diﬀerential form θL♯ with periods in 2πi Z. Then, if ωX/C = O(K) for
some canonical divisor K, we have

arg♯hL♯, ωX/Ci = Im Z K

˜p

θL♯! .

Now the argument of the arithmetic Riemann-Roch theorem in this particular case
specializes to

12 arg♯ λ(L♯)Q = −6 Im Z K

˜p

θL♯!

in R/2πZ.

This can be seen as an anomaly formula for the imaginary part of the Quillen-
Cappell-Miller logarithm, under a change of connection (within the real holonomy
assumption).

References

1. S. Ju. Arakelov, An intersection theory for divisors on an arithmetic surface, Izv. Akad. Nauk SSSR Ser.

Mat. 38 (1974), 1179–1192.

2. J.-M. Bismut and D. S. Freed, The analysis of elliptic families. I. Metrics and connections on determinant

bundles, Comm. Math. Phys. 106 (1986), no. 1, 159–176.

3.

, The analysis of elliptic families. II. dirac operators, eta invariants, and the holonomy theorem,

Comm. Math. Phys. 107 (1986), no. 1, 103–163.

4. J.-M. Bismut, H. Gillet, and C. Soulé, Analytic torsion and holomorphic determinant bundles. I. Bott-Chern

forms and analytic torsion, Comm. Math. Phys. 115 (1988), no. 1, 49–78.

5.

6.

, Analytic torsion and holomorphic determinant bundles. II. Direct images and Bott-Chern forms,

Comm. Math. Phys. 115 (1988), no. 1, 79–126.

, Analytic torsion and holomorphic determinant bundles. III. Quillen metrics on holomorphic deter-

minants, Comm. Math. Phys. 115 (1988), no. 2, 301–351.

7. J.-M. Bismut and G. Lebeau, Complex immersions and Quillen metrics, Inst. Hautes Études Sci. Publ.

Math. (1991), no. 74, ii+298 pp. (1992).

8. J.-B. Bost, Théorie de l’intersection et théorème de Riemann-Roch arithmétiques, Astérisque (1991), no. 201-

203, Exp. No. 731, 43–88 (1992), Séminaire Bourbaki, Vol. 1990/91.

9. Maxim Braverman and Thomas Kappeler, Reﬁned analytic torsion, J. Diﬀerential Geom. 78 (2008),

no. 2, 193–267. MR 2394022

10. J. I. Burgos, Arithmetic Chow rings and Deligne-Beilinson cohomology, J. Algebraic Geom. 6 (1997), no. 2,

335–377.

48

FREIXAS I MONTPLET AND WENTWORTH

11. J. I. Burgos Gil, J. Kramer, and U. Kühn, Cohomological arithmetic Chow rings, J. Inst. Math. Jussieu 6

(2007), no. 1, 1–172.

12. S. E. Cappell and E. Y. Miller, Complex-valued analytic torsion for ﬂat bundles and for holomorphic bundles

with (1, 1) connections, Comm. Pure Appl. Math. 63 (2010), no. 2, 133–202.

13. Pierre Deligne, Le déterminant de la cohomologie, Current trends in arithmetical algebraic geometry
(Arcata, Calif., 1985), Contemp. Math., vol. 67, Amer. Math. Soc., Providence, RI, 1987, pp. 93–177.

14. G. Faltings, Calculus on arithmetic surfaces, Ann. of Math. (2) 119 (1984), no. 2, 387–424.
15. J. Fay, Analytic torsion and Prym diﬀerentials, Riemann surfaces and related topics: Proceedings of
the 1978 Stony Brook Conference (State Univ. New York, Stony Brook, N.Y., 1978), Ann. of Math.
Stud., vol. 97, Princeton University Press, 1981, pp. 107–122.

16. G. Freixas i Montplet and R. A. Wentworth, Deligne pairings and families of rank one local systems on

algebraic curves, arXiv:1507.02920 [math.DG] (2015).

17. H. Gillet and C. Soulé, Arithmetic intersection theory, Inst. Hautes Études Sci. Publ. Math. (1990),

no. 72, 93–174 (1991).

18.

19.

, Characteristic classes for algebraic vector bundles with Hermitian metric. I, Ann. of Math. (2) 131

(1990), no. 1, 163–203.

, Characteristic classes for algebraic vector bundles with Hermitian metric. II, Ann. of Math. (2)

131 (1990), no. 2, 205–238.

20.
21. Peter Greiner, An asymptotic expansion for the heat equation, Arch. Rational Mech. Anal. 41 (1971),

, An arithmetic Riemann-Roch theorem, Invent. Math. 110 (1992), no. 3, 473–543.

163–218.

22. N. Hitchin, On the hyperkähler/quaternion Kähler correspondence, Comm. Math. Phys. 324 (2013), no. 1,

77–106.

23. T. Kato, Perturbation theory for linear operators, second ed., Springer-Verlag, Berlin-New York, 1976,

Grundlehren der Mathematischen Wissenschaften, Band 132.

24. Young-Heon Kim, Holomorphic extensions of Laplacians and their determinants, Adv. Math. 211 (2007),

no. 2, 517–545.

25. F. F. Knudsen and D. Mumford, The projectivity of the moduli space of stable curves. I. Preliminaries on

“det” and “Div”, Math. Scand. 39 (1976), no. 1, 19–55.

26. D. Kvillen, Determinants of Cauchy-Riemann operators on Riemann surfaces, Funktsional. Anal. i

Prilozhen. 19 (1985), no. 1, 37–41, 96.

27. Andrew McIntyre and Lee-Peng Teo, Holomorphic factorization of determinants of Laplacians using

quasi-Fuchsian uniformization, Lett. Math. Phys. 83 (2008), no. 1, 41–58.

28. D. Mumford, Stability of projective varieties, Enseignement Math. (2) 23 (1977), no. 1-2, 39–110.
29. T. Saito, Conductor, discriminant, and the Noether formula of arithmetic surfaces, Duke Math. J. 57 (1988),

no. 1, 151–173.

30. R. T. Seeley, Complex powers of an elliptic operator, Singular Integrals (Proc. Sympos. Pure Math.,

Chicago, Ill., 1966), Amer. Math. Soc., Providence, R.I., 1967, pp. 288–307.

31. C. Soulé, Géométrie d’Arakelov des surfaces arithmétiques, Astérisque (1989), no. 177-178, Exp. No. 713,

327–343, Séminaire Bourbaki, Vol. 1988/89.

32. C. Voisin, Hodge theory and complex algebraic geometry. II, english ed., Cambridge Studies in Advanced
Mathematics, vol. 77, Cambridge University Press, Cambridge, 2007, Translated from the French
by Leila Schneps.

CNRS – Institut de Math´ematiques de Jussieu, 4 Place Jussieu, 75005 Paris, France
E-mail address: gerard.freixas@imj-prg.fr

Department of Mathematics, University of Maryland, College Park, MD 20742, USA
E-mail address: raw@umd.edu

