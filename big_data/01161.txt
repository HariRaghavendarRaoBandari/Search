6
1
0
2

 
r
a

M
 
3

 
 
]

M

I
.

h
p
-
o
r
t
s
a
[
 
 

1
v
1
6
1
1
0

.

3
0
6
1
:
v
i
X
r
a

Submitted to JAE
Preprint typeset using LATEX style emulateapj v. 01/23/15

PRECISE POINTING AND STABILIZATION PERFORMANCE FOR THE BALLOON-BORNE IMAGING

TESTBED (BIT): 2015 TEST FLIGHT

L. J. Romualdez1, P. Clark3, C. J. Damaren1, M. N. Galloway2,

J. W. Hartley2, L. Li1, R. J. Massey2, C. B. Netterfield2

Submitted to JAE
ABSTRACT

Balloon-borne astronomy oﬀers an attractive option for experiments that require precise pointing and
attitude stabilization, due to a large reduction in the atmospheric interference observed by ground-
based systems as well as the low-cost and short development time-scale compared to space-borne sys-
tems. The Balloon-borne Imaging Testbed (BIT) is an instrument designed to meet the technological
requirements of high precision astronomical missions and is a precursor to the development of a facility
class instrument with capabilities similar to the Hubble Space Telescope. The attitude determination
and control systems (ADCS) for BIT, the design, implementation, and analysis of which are the focus
of this paper, compensate for compound pendulation eﬀects and other sub-orbital disturbances in
the stratosphere to within 1-2(cid:48)(cid:48) (rms), while back-end optics provide further image stabilization down
to 0.05(cid:48)(cid:48) (not discussed here). During the inaugural test ﬂight from Timmins, Canada in September
2015, BIT ADCS pointing and stabilization performed exceptionally, with coarse pointing and target
acquisition to within < 0.1◦ and ﬁne stabilization to 0.68(cid:48)(cid:48) (rms) over long (10-30 minute) integrations.
This level of performance was maintained during ﬂight for several tracking runs that demonstrated
pointing stability on the sky for more than an hour at a time. To refurbish and improve the system
for the three-month ﬂight from New Zealand in 2018, certain modiﬁcations to the ADCS need to be
made to smooth pointing mode transitions and to correct for internal biases observed during the test
ﬂight. Furthermore, the level of autonomy must be increased for future missions to improve system
reliability and robustness.
Keywords: Attitude determination, attitude control, balloon-borne astronomy, sub-arcsecond pointing

stability, non-linear estimation

1. BACKGROUND

1.1. Overview of balloon-borne astronomy

For many astronomical and astrophysical experiments,
scientiﬁc balloon-borne payloads oﬀer an attractive
trade-oﬀ between space-borne systems, which are often
expensive and require a long development time-scale, and
ground-based systems, which suﬀer greatly from atmo-
spheric eﬀects or “seeing” on the order of 1(cid:48)(cid:48) (arcsec-
ond). Speciﬁcally, certain dark matter and dark energy
related missions, as proposed by the Canadian 2010 Long
Range Plan for Astronomy (LRP2010) and the US As-
tro2010 panel (CASCA 2011), require systems with a
highly precise pointing resolution over large integration
times in order to detect photometric redshifts in super-
novae for lensing studies involved with such experiments
(CASCA 2011). At an altitude of approximately 35-
40 km, balloon-borne instrumentation provides a viable
platform for meeting these requirements since a theoret-
ical resolution of 0.01(cid:48)(cid:48) can be achieved at near-UV and
visible wavelengths (300-900 µm).

From a control design perspective, the operational en-
vironment for a high precision pointing balloon-borne
instrument must be given special consideration, since
any payload operating in the stratosphere is subject to
a number of sub-orbital eﬀects that are not present in

1 Institute for Aerospace Studies, University of Toronto,

Canada

2 Department of Physics, University of Toronto, Canada
3 Centre

for Advanced Instrumentation, University of

Durham, United Kingdom

a space or ground-based environment. A stratospheric
launch vehicle is typically divided into three main struc-
tures (see Figure 1): a 1 million cubic metre helium
balloon, a 60-100 m long ﬂight train containing the re-
turn parachute, and the payload or gondola housing all
scientiﬁc equipment. From a disturbance point-of-view
at ﬂoat altitude, gravity-driven eﬀects dominate the low
frequency regime and are manifested as a six degree-of-
freedom double pendulative motion about the balloon-to-
ﬂight-train connection (∼ 0.01-0.05 Hz) as well as about
the ﬂight-train-to-payload or pivot connection (∼ 0.5-1
Hz) (Chung et al. 2007). Despite the lack of atmosphere
(∼ 3 mbar), the stratosphere both directly and indirectly
aﬀects the balloon-borne payload via stratospheric wind-
shears causing intermittent translational and rotational
acceleration (∼ 0.5 g) as well as a slowly varying balloon
rotation (∼ 0.03 rpm) (CASCA 2011; Chung et al. 2007).
For remote sensing missions that require long integration
times (∼ 5-10 min) such as those proposed above, eﬀects
due to the rotation of the Earth and the precession of
the balloon during integration must also be taken into
account.

Historically, the most notable experiment in the ﬁeld
of high pointing precision astronomical systems from the
stratosphere is Stratoscope II, a balloon-borne visible
range telescope which pioneered advances and innova-
tions in atmospheric and space astronomy from 1967-
1973 (Danielson et al. 1964; McCarthy 1968). Being
one of the ﬁrst sub-orbital telescopes, post-ﬂight anal-
ysis of Stratoscope II data showed that it was capable of

2
a 0.02(cid:48)(cid:48) focal plane equivalent pointing stability with an
image resolution of 0.2(cid:48)(cid:48) for integration periods upwards
of 1 minute, which was unmatched by any other instru-
ment in use at the time (Danielson et al. 1964; McCarthy
1968). To accomplish this, Stratoscope II had a two-
stage pointing and stabilization scheme: a coarse routine
that stabilized the instrument to 15(cid:48)(cid:48) using a combina-
tion of stepper motors and smooth torquers (i.e. direct-
drive motors), and a ﬁne routine that used a 4-12 Hz
bandwidth transfer lens to track out remaining distur-
bances on the image plane (McCarthy 1968). With this
control methodology, Stratoscope II set the precedent
for future high precision astronomical instrumentation,
and, as such, represents the state-of-the-art for control
design and pointing stability of balloon-borne imaging
telescopes to date.

It should be noted that Stratoscope II relied primar-
ily on a low-gain control scheme, where disturbances
from the balloon-borne environment are passively con-
trolled the majority of the time via balancing and occa-
sionally corrected to compensate for larger disturbances
and coupling (McCarthy 1968). Consequently, signiﬁ-
cant image processing in post-ﬂight analysis was required
to demonstrate the quoted pointing stability and image
resolution for only a handful of images (McCarthy 1968).
As a result, there is precedent to develop stratospheric
instruments that can achieve a high degree of point-
ing stabilization and image resolution on demand with
a high-gain closed loop system that actively and con-
tinuously corrects for disturbances. The Balloon-borne
Imaging Testbed (BIT) is such an instrument that at-
tempts to meet these technological requirements, where
the design, ﬂight implementation, and performance of
on-board, real-time attitude determination and control
systems (ADCS) is the focus of this work.

1.2. The Balloon-borne Imaging Testbed (BIT)

The Balloon-borne Imaging Testbed (BIT) is a joint
project between the University of Toronto Astrophysics
Department (U of T) as well as the Institute for
Aerospace Studies (UTIAS), the Durham University
Centre for Advanced Instrumentation (CfAI), and the
Jet Propulsion Laboratory (JPL-NASA). The overall ob-
jective of the project is to develop, build, and test a
balloon-borne telescope platform designed to meet the
technological requirements of astronomical missions that
require a high degree of pointing accuracy and stabiliza-
tion in a way that is “better, faster, and cheaper” than
similar space-borne or ground-based telescope missions.
As such, the BIT project is structured to develop design-
oriented and implementation methodologies for generic
high-precision balloon-borne astronomical missions while
demonstrating an overall system pointing resolution of
0.05(cid:48)(cid:48), a capability that is second only to the Hubble
Space Telescope (HST). The pointing stabilization and
control results of the September 2015 ﬂight from Tim-
mins, Canada with the Canadian Space Agency (CSA)
and Centre national d’etudes spatiales (CNES) are pre-
sented in this work. The pointing speciﬁcations will
be further veriﬁed during a 24 hour performance ﬂight
from Fort Sumner, New Mexico as well as a three month
fully operational ﬂight in 2018 from New Zealand, which
will demonstrate the capabilities of BIT as a facility
class instrument on an ultra long-duration balloon ﬂight

Romualdez et al.

(ULDB).

As shown in Figure 3, the physical architecture of the
BIT gondola can be broken down into three main gim-
balled substructures or frames, each actuated about their
own orthogonal axis. The outer frame structure is actu-
ated about the yaw θ3 axis via a reaction wheel located at
the base and co-actuated at the pivot connection to pre-
vent ﬂight train twisting and reaction wheel saturation.
The middle frame is actuated relative to the outer frame
about the roll θ1 axis and is physically constrained by
a ±6◦ range. Similarly, the inner frame, which contains
the telescope, optics, and the corresponding ﬂight elec-
tronics, is actuated relative to the middle frame about
the pitch θ2 axis and has a full range from 20-57◦ rela-
tive to horizontal. Using these three gimballed frames,
the attitude of the telescope on the inner frame relative
to targets on the sky is fully controlled with hardware
speciﬁed to stabilize the telescope to within 1-2(cid:48)(cid:48). Back-
end optics located at the rear of the telescope further
stabilize the image on the telescope focal plane to 0.05(cid:48)(cid:48)
according to the desired speciﬁcations. The control of the
inner frame attitude and telescope stabilization down to
1-2(cid:48)(cid:48) is the primary focus of this work, whereas the per-
formance of the back-end optics is beyond the scope of
this paper.

2. BIT ADCS DESIGN

2.1. Attitude determination

2.1.1. Celestial coordinate systems.

Given the astronomy- and cosmology-related applica-
tions of BIT, all attitude determination and state es-
timation is done in the Earth-centric equatorial frame
FE, which is based in right ascension (RA), declina-
tion (Dec), and ﬁeld rotation (F R) coordinates (Duﬀett-
(cid:126)
Smith 1979). As such, the orientation of the telescope
Fb with respect to the equatorial inertial
body frame
frame
(cid:126)
Fb ·
(cid:126)

FE is represented by the 3-2-1 Euler sequence
(cid:126)
CbE =

F T
E = Cx(F R)Cy(−Dec)Cz(RA)
(cid:126)

(1)
where Cx(·), Cy(·), and Cz(·) are the respective elemen-
tary rotations about the x, y, and z axes. Note that
the signs for the coordinates are based on astronomical
conventions.

Although all attitude determination takes place in the
equatorial frame, it is often useful to reference the lo-
FH, which is ﬁxed to and rotates
cal horizontal frame
with the Earth, since certain sensors provide attitude
(cid:126)
information that is intrinsically referenced to an Earth-
Fb with respect to the
ﬁxed frame. The coordinates of
FH are based in azimuth (Az), eleva-
horizontal frame
(cid:126)
tion (El), and image rotation (IR) (Duﬀett-Smith 1979),
(cid:126)
which parameterize the 3-2-1 Euler sequence

CbH =

Fb ·
(cid:126)

F T
H = Cx(−IR)Cy(−El)Cz(Az)
(cid:126)

(2)
where again the signs are based on astronomical conven-
tions.
FH is Earth-ﬁxed and rotates with respect to
Since
FE can be
FE, the orientation of
(cid:126)
given in terms of local latitude φ(cid:96), local longitude ψ(cid:96),
(cid:126)
(cid:126)
and local sidereal time θ(cid:96) (Duﬀett-Smith 1979) as

FH with respect to
(cid:126)

CHE =

FH ·
(cid:126)

F T
E = Cy(φ(cid:96) − π
(cid:126)

2 )Cz(−(ψ(cid:96) + θ(cid:96) + π))(3)

Precise Pointing & Stabilization of BIT

3

where it is clear that CHE = CHE(t) since sidereal time
is based on UTC time. From this, all pertinent informa-
FH is
tion regarding telescope orientation in either
captured in a way that is easily applied to attitude deter-
(cid:126)
mination schemes involving rotation matrix estimation,
such as those presented here.

FE or
(cid:126)

2.1.2. State model and prediction.

In general, the rotational kinematics of a rigid body
can be shown to have the following discrete-time form
(Hughes 2004):

CbE,k = ΨkCbE,k−1

where

(cid:18) ψk

Ψk = cos(ψk)1 + (1 − cos(ψk))

(cid:19)×
ψk = ωb,kTk, ψk = (cid:107)ψk(cid:107)

... − sin(ψk)

ψk

(cid:18) ψk

(cid:19)(cid:18) ψk

(cid:19)T

ψk

ψk

(4)

+

Fb with
Here, CbE,k is the orientation of the telescope
FE, and Tk is the sampling
respect to equatorial frame
(cid:126)
period for the discrete time system, where it is noted
(cid:126)
that the construction of Ψk preserves the orthogonality
of CbE at each time index k. The angular velocity ωb,k
Fb is measured by three orthogonal single-
expressed in
axis KVH R(cid:13) DSP-1750 ﬁbre-optic rate gyroscopes (sensor
(cid:126)
characteristics are given in Table 1) according to the sen-
sor model

ωb = Abg(ωg + bg)

(6)
where ωg is the raw measurement, bg is the rate gyro-
scope measurement bias, and Abg is a calibration matrix
that accounts for orthogonality and scale factor misalign-
ments.
Using the fact that a small perturbation of a rotation
matrix is, in general, given by (1 − δφ
×
) (Hughes 2004),
the error kinematics for the discrete system can be shown
to have the following linear form:

(cid:20)δφbE,k
(cid:123)(cid:122)
(cid:124)

δbg,k

(cid:21)
(cid:125)

δxk

=

(cid:21)
(cid:125)

1

0

(cid:20)Ψk AbgTk
(cid:21)
(cid:20)δφbE,k−1
(cid:125)
(cid:124)
(cid:123)(cid:122)
(cid:123)(cid:122)
(cid:124)
(cid:20)δωg
(cid:21)
(cid:21)
(cid:20)AbgTk 0
(cid:124) (cid:123)(cid:122) (cid:125)
(cid:123)(cid:122)
(cid:125)
(cid:124)

δbg,k−1

δβg

δxk−1

... +

Hx,k

1

0

Hw,k

wk

+

(7)

Here, δωg represents the noise model for the raw rate
gyroscope measurements and δβg
models the drift in the
rate gyroscope bias as a random walk process. It is clear
that the matrices Hx,k and Hw,k are the state and mea-
surement Jacobians, respectively, for the predictive step
of an extended Kalman ﬁlter (EKF) (Jazwinski 1970).

2.1.3. Measurement model and correction.

External measurements of the telescope attitude are
obtained from two separate sources:
coarse sensors,
which include three-axis magnetometer and optical en-
coder measurements, and star cameras. For large slews
and coarse pointing up to ∼ 0.5◦, the coarse sensors are

(5)

where

the primary external measurement for attitude determi-
nation, whereas for pointing stabilization and ﬁne point-
ing up to < 1-2(cid:48)(cid:48), the star cameras are the dominant
external measurement.
For coarse sensors, the telescope orientation can be es-
timated to within the ∼ 1-2(cid:48) (arcminute) pendulations
of the outer frame based on the gimbal position of the
three frames. As a result, the orientation of the tele-
FH can be estimated by from a
scope with respect to
3-1-2 Euler sequence CIF,OF from the outer frame to
(cid:126)
the inner (telescope) using coarse sensors as well as a
calibration term Ccal,coarse to account for the oﬀset of
the outer frame with respect to the horizon due to mass
imbalances. Thus, the telescope orientation with respect
to

FE is given by
(cid:126)

CbE,meas,coarse = CIF,OF Ccal,coarseCHE(t)

(8)

CIF,OF = Cy(θ2)Cx(θ1)Cz(θ3)

and CHE(t) is given by (3).
The roll gimbal angle θ1 of the middle frame with re-
spect to the outer frame is obtained from a 16-bit ab-
solute optical encoder from BEI Sensors (further sensor
details are given in Table 1). A combination of encoder
measurements on the inner frame axis and pitch stepper
motor counts provide the pitch angle θ2 of inner (tele-
scope) frame with respect to the middle frame. Lastly,
the yaw gimbal angle θ3 of the outer frame with respect
to due north is obtained from a Honeywell HMR2300
three-axis magnetometer (details in Table 1) according
to the simple calibrated model

θ3 = atan2(sx(mx − dx), sy(my − dy)) + θ3,0

(9)

where mx,y are the raw magnetometer measurements
along the x (roll) and y (pitch) axes. The terms sx,y and
dx,y are scale factor and oﬀset calibration terms deter-
mined experimentally with θ3,0 as the overall yaw oﬀset
term.
From this estimate of the telescope orientation CbE,

the measurement model takes on the trivial form
CbE,meas,coarse,k = (1 − δncoarse)CbE,k

(10)

where δncoarse is a measurement noise term that models
the accuracy of the coarse sensors. From this, it can be
shown that the measurement and noise Jacobians for the
correction step of an EKF (Jazwinski 1970) are given by
Gx,k = 1 and Gn,k = 1, respectively. Similarly, the
innovation or error term ek is given by
k ≈ 1 − CbE,meas,kCT
e×

(11)

bE,k

which, with a suitable gain Kk, can be used to correct
the telescope orientation C−
and rate gyroscope bias
b−

from the prediction step according to

bE,k

g,k

CbE,k = ΞkC−
bg,k = b−

bE,k
g,k + δξg,k

(12)

Romualdez et al.

4

where

Ξk = cos(δξbE,k)1 +

(cid:18) δξbE,k
(cid:19)×

δξbE,k

(cid:19)(cid:18) δξbE,k

(cid:19)T

δξbE,k

+

(13)

(cid:18) δξbE,k

δξbE,k

... + (1 − cos(δξbE,k))

... − sin(δξbE,k)

and

δξbE,k =(cid:107)δξbE,k(cid:107)

(cid:20)δξbE,k

(cid:21)

δξg,k

= Kkek

Note that similar to (5), this formulation preserves rota-
tion matrix orthogonality.

For pointing stabilization and ﬁne pointing, two star
cameras are used to track the sky and mitigate distur-
bances:
the bore star camera along the boresight of
the telescope, which provides ﬁne star camera measure-
ment CbE,meas,sc = CbE,meas,bore since it is aligned with
Fb (CbE,meas,bore from bore star camera coordinates),
and the roll star camera, which provides CbE,meas,sc =
(cid:126)
CrbCbE,meas,roll since it is orthogonal to the telescope
boresight (Crb from calibration and CbE,meas,roll from
roll star camera coordinates). The measurement model
and correction for the two star cameras are analogous to
the coarse measurement model given in (10) except for, of
course, the magnitude of the noise terms contributing to
the pointing solution uncertainty (i.e. δnsc (cid:28) δncoarse).
In addition, to ensure dominance of star camera con-
tribution to the pointing solution, the variance on the
noise term δncoarse is increased during pointing stabi-
lization. Furthermore, to improve coarse attitude deter-
mination accuracy, the measurement model given by (9)
is trimmed to correct for outer frame imbalances by com-
puting Ccal,coarse from

Ccal,coarse = CT

IF,OF CbE,meas,scCT

HE(t)

(14)

When star cameras provide a full pointing solution
(a.k.a. lost-in-space mode), the measured equatorial co-
ordinates are converted to a pointing measurement us-
ing (1) to give CbE,meas,sc. However, once the initial
lock is obtained, the brightest star in each star camera
is reported and attitude determination switches to dif-
ferential mode in which only the centroid locations of
the brightest blobs are used for feedback. For both star
cameras, the centroid pixel coordinates (xsc, ysc) are es-
timated as a constant vector in

FE as
(cid:126)
bE,meas,scvb ≈ CT

bE,meas,sc

vE = CT



 1

p
xsc
ysc

where p is the pixel scale (in rad/px) of the given star
camera. From this, the measurement model when using
centroids in diﬀerential mode is given by

vb,meas = CbE,kvE + δncentroid

(16)

which can be shown to have the following linear error

dynamics:

δvb,meas =(cid:2)(CbE,kvE)× 0(cid:3)
(cid:125)

(cid:123)(cid:122)

(cid:124)

Gx,k

(cid:20)δφbE,k
(cid:124)
(cid:123)(cid:122)

δbg,k

(cid:21)
(cid:125)

+

δxk

... + δncentroid

(17)
As before, Gx,k and Gn,k = 1 are the measurement and
noise Jacobians for the correction step of a typical EKF
(Jazwinski 1970). It is worth noting that each star cam-
era contributes centroid information to the pointing so-
lution asynchronously, so although a single centroid mea-
surement from a single star camera does not provide full
attitude information (i.e. no information about the roll
axis of the centroid), the contribution of centroid infor-
mation from both star cameras over time constrains the
full pointing estimate.

2.2. Attitude stabilization and control

2.2.1. Target command coordinates.

FH (Az and El) (Duﬀett-Smith 1979).
(cid:126)

When commanding a desired astronomical target on
the sky, coordinates are conventionally speciﬁed in the
FE (RA and Dec) or in the horizontal
equatorial frame
frame
In both
(cid:126)
cases, only two of the three coordinates in either frame
are speciﬁed, which allows for an extra degree of free-
dom in the pointing speciﬁcation. Due to physical gim-
bal constraints, a natural pointing speciﬁcation would be
to select initial gimbal angles that maximize exposure on
the sky. Thus, the roll of the middle frame with respect
to the outer frame θ1 was selected for the third pointing
coordinate since it is the most restrictive (±6◦). As such,
from (2) and (9), the gimbal angles θ = [θ1 θ2 θ3]T are
related to the equatorial coordinates simply by

Cx(−IR)Cy(−El)Cz(Az) = CIF,OF Ccal,coarse (18)
where the left side is a 3-2-1 Euler rotation and the right
side is a 3-1-2 Euler rotation. Therefore, given a set
(Az, El, θ1) as well as a calibrated Ccal,coarse, one can
ﬁnd a unique pitch angle θ2, yaw angle θ3, and image
rotation IR that maximizes the roll gimbal angle range
while tracking the sky. Similarly, given coordinates (RA,
Dec, θ1) with (1) and (3), a corresponding gimbal set θ2
and θ3 as well as ﬁeld rotation F R can be found.
Additionally, it is also useful for direct gimbal control
to project the rate gyroscope measurements to the cor-
responding gimbal axes. This is done using the mapping
matrix Sθ, which is deﬁned for a 3-1-2 Euler rotation as
(Hughes 2004)

(cid:34)cos(θ2) 0− cos(θ1) sin(θ2)
(cid:124)

sin(θ2) 0 cos(θ1) cos(θ2)

(cid:123)(cid:122)

sin(θ1)

0

1

(cid:35)
(cid:125)

Sθ


 ˙θ1
(cid:124)(cid:123)(cid:122)(cid:125)

˙θ2
˙θ3

˙θ

(19)

In this way, given rate gyroscope measurements ωb and
measurements of roll θ1 and pitch θ2, the correspond-
ing gimbal rate ˙θ can be found. This of course is only
valid away from the matrix singularity θ1 = ± π
(Hughes
2004), which is a reasonable constraint since the physical
bounds of the roll axis are limited to ±6◦.

2

(15)

ωb =

Precise Pointing & Stabilization of BIT

5

2.2.2. Coarse gimbal control.

Coarse gimbal control is primarily used on BIT for
coarse stabilization after launch as well as for coarse tar-
get acquisition that requires large slews. As such, this
mode of coarse control does not track pendulations of
the gondola or the rotation of the sky, but instead sets
the local yaw θ3, pitch θ2, and roll θ1 angles to corre-
spond with a given celestial target, as in (18). With this
method, coarse gimbal control acquires its target nomi-
nally to within < 0.1◦.
For coarse stabilization and pointing in yaw, the outer
frame of the gondola is actuated primarily by a large 20
kg·m2 reaction wheel driven by a 20 N·m Parker frame-
less DC motor ﬁxed to the bottom of the gondola (see
Table 2 for details). To prevent reaction wheel satura-
tion, a speed controlled Applied Motion Products HT17-
075 stepper motor actuates the pivot at the top of the
outer frame (see Figure 1) through a 100:1 gear reducer.
In this way, momentum can be dumped from the reac-
tion wheel through the ﬂight train to the stratospheric
balloon. With a prescribed bias reaction wheel speed
ωrw,d, the momentum dumping law chosen (Shariﬀ and
et al 2014) for yaw control and to prevent reaction wheel
saturation is

ωpiv = g1(ωrw − ωrw,d) + g2τrw,comm

(20)
where the pivot speed ωpiv is commanded based on the
reaction wheel speed ωrw and the commanded reaction
wheel torque τrw,comm through gains g1 and g2, respec-
tively. For coarse slews, a simple PI speed controller is
used to command reaction wheel torque based on the yaw
speed ˙θ3 from rate gyroscope measurements ωb projected
to the outer frame:

τrw,comm = −kP ( ˙θ3 − ˙θ3,d) − kI

( ˙θ3 − ˙θ3,d)dt (21)

0

Here, the desired yaw rate ˙θ3,d follows a trapezoidal speed
proﬁle towards the target yaw angle θ3 with a constant
acceleration of 0.5 deg/s2 on the rising edge, 0.1 deg/s2
on the falling edge, and a top speed of 4 deg/s. Further-
more, if controller coupling is ignored, it can be shown
via the yaw dynamics that gains kP and kI can be chosen
to asymptotically stabilize ˙θ3 while gains g1 and g2 can
be chosen to asymptotically stabilize ωrw (Shariﬀ and
et al 2014) according to

Iyaw ¨ωrw + g2kf tIyaw ˙ωrw + g1kf tωrw = g1kf tωrw,d(22)
where Iyaw is the gondola inertia about the yaw axis and
kf t is the torsional stiﬀness of the ﬂight train. Note that
these dynamics are a simpliﬁcation of the full yaw dy-
namics, a discussion of which is beyond the scope of this
work. Suﬃce it to say that if the fully coupled yaw dy-
namics are taken into account, it can be shown using a
Routh stability analysis (Franklin et al. 2010) that there
are restrictions on the gains g1 and g2 based on the se-
lection of gains kP and kI to maintain system stability
(see Figure 4). Consequently, for reasonable gain selec-
tion providing critically-to-near-over-damped speed con-
trol response from (21), there is a clear upper limit in g2
for a given g1, which, in eﬀect, limits the response time on
stabilizing ωrw to large time scales. This eﬀect was ob-
served empirically during BIT system development and

(cid:90) t

for other balloon-borne payloads (Shariﬀ and et al 2014),
where large pivot gains generally caused system instabil-
ity. Despite this, the restriction on the controller gains
in (20) is deemed an acceptable limitation for coarse con-
trol.
The roll and pitch axes are controlled using two 5 N·m
Parker frameless DC motors per axis with 8-bit Advanced
Motion Controls (AMC) PWM controllers for each (see
Table 2). For the roll axis θ1, the gimbal position is
servoed to the desired angle θ1,d using feedback from ab-
solute encoders and the PID control law

τroll =−kP,r(θ1 − θ1,d) +

(cid:90) t

... − kI,r

(θ1 − θ1,d)dt − kD,r

˙θ1

(23)

0

where ˙θ1 is found from (19).
The pitch axis is identical to the roll axis except that it
is doubly actuated by two coarse stepper motors through
a 12:1 gear reducer to achieve a full pitch range of 20-
57◦. For coarse moves, the stepper motors are com-
manded to a given position from a known “home” po-
sition (θ2 = 19.2◦) using a trapezoidal speed proﬁle with
constant acceleration of ±0.5 deg/s2 on the rising/falling
edges and a top speed of 1.0 deg/s to prevent damage to
the telescope and optics. During the coarse motion, the
pitch encoder is servoed to zero using the same type of
PID controller as (23).
In order to reset the stepper
motor count and encoder position, a coarse pitch syn-
chronization routine is used, which zeros the pitch mea-
surement at the home position.

2.2.3. Fine pointing stabilization.

Once the gimbal position corresponding to the desired
target location on the sky has been reached, the control
algorithm switches to a ﬁne pointing stabilization mode,
where sky rotation and disturbances from pendulations
are tracked using the rate gyroscopes and star cameras.
To prevent unnecessary disturbances, coarse stepper mo-
tors on the pitch axis are in a locked state, which, as a
result, limits the pitch gimbal angle to ±10◦ from the
coarse pitch target. It should also be noted that the mo-
mentum dumping law given in (20) continues to stabilize
the reaction wheel speed during ﬁne pointing stabiliza-
tion.

From a controller perspective, in order to map torques
Fb to the gimbal axes, the following
from the body frame
PID control law is used:
(cid:126)
θ Sθ)−1

τ app =−(ST

KP θerr + KI

(cid:90) t

θerrdt

(cid:19)

(cid:18)

+

0

... − S−1

θ KDωb

(24)
where the matrices KP = KT
I > 0, and
D > 0 are the proportional, integral, and deriva-
KD = KT
tive gains, respectively, and ωb is the angular velocity of
Fb. Furthermore, the error term θerr is
the telescope in
approximated by (Hughes 2004)
(cid:126)

P > 0, KI = KT

θ

err = 1 − CbECT
×

(25)
where CbE,d is found from (3) and (18) given equatorial
coordinates. This is a reasonable approximation since
the ﬁne pointing stabilization controller is only active

bE,d

6

Romualdez et al.

once the coarse gimbal control has reached its target to
within < 0.1◦.
Given the mapping matrix Sθ from (19), it can be
shown (Hughes and Sincarsin 1989) that the torque in the
body frame τ b is related to the applied gimbal torques
τ app through the same mapping matrix
τ b = Sθτ app = I ˙ωb + ω×

(26)
where the right-hand side is Euler’s equation for rota-
tional dynamics (Hughes 2004) (I is the inertia matrix
for the telescope and inner frame). Using these facts and
the Lyapunov function

b Iωb

V =

1
2

ωT

b Iωb +

1
2

θT
errKP θerr

(27)

the PD components of the controller given in (24) ensure
asymptotic stability as follows:

this was deemed unnecessary since reaction wheel bias
momentum is present only to prevent the static friction
region when controlling through the reaction wheel speed
zero point; thus, the exact value of the bias momentum
is irrelevant if it is suﬃciently above zero. Furthermore,
at +45 seconds, a change of ∼ 5◦ in the desired yaw
position was given, which accounts for the large spikes
in commanded pivot speed. Despite this, however, it is
clear that the reaction wheel speed stabilization using
the momentum dumping scheme is unaﬀected.

When looking at the yaw performance of the gondola
overall as shown in Figure 6 (top), the response to the
trapezoidal speed proﬁle is clearly observed in the mea-
sured yaw rate ˙θ3, which provides a smooth transitional
motion in azimuth even over large 180◦ slews (note that
here azimuth and elevation are approximately aligned
with yaw and pitch, respectively). Since pendulations are
not tracked during coarse slews, periodic variations in the
elevation are observed, the magnitudes and frequencies of
which are directly related to the highbay ﬂight train. For
the pitch and roll performance shown in Figure 6 (bot-
tom), the response to the requested gimbal angles for
θ1 and θ2 shows critically damped behaviour to within
< 0.1◦, where periodic pedulations leak into the gimbal
control through rate gyroscope measurements according
to (19) and (23) (i.e. there is no way to subtract the pitch
and roll pendulations of the outer frame from the gimbal
rates). During the coarse pitch change from between +6
and +11 seconds, the sawtooth pattern in the ﬁne pitch
encoder θ2,f ine measurement is directly associated with
the coarse granularity of the pitch stepper motors cause
by the limited resolution and precision in the stepper mo-
tor controllers. However, after the coarse pitch motion
has terminated, the ﬁne encoder measurements servo to
an encoder angle of zero as desired.

3.2. Fine attitude determination and control

After stabilizing the telescope using coarse gimbal con-
trol, a series of ﬁne pointing stabilization runs were per-
formed in ﬂight, during which the system was calibrated
and tested for several star ﬁelds. Over the course of
about 6.5 hours, two ﬁne control runs were performed
that stabilized the telescope at the sub-arcsecond level for
more than an hour, where several shorter runs (on the
order of 10-20 minutes) were performed for calibration
and testing purposes. A segment of one of the hour long
runs is given here as shown in Figures 7-9. Note that all
pointing results involving the telescope orientation CbE
are parametrized according to equatorial coordinates in
frame

In Figure 7, the results shown for attitude determina-
tion and control over the 23 minute period are twofold.
From an attitude determination perspective, the restric-
tion of the pointing error to the 3σ envelope for all three
coordinates clearly demonstrates estimator consistency
even over large time scales, which validates the conﬁ-
dence that the attitude determination scheme (i.e. EKF)
has in the estimates that are produced (Jazwinski 1970).
The thickness in the 3σ envelope is due to the increase
in pointing solution variance from integrating rate gyro-
scope measurements between asynchronous star camera
centroid measurements. Secondly from a control perspec-
tive, the pointing stability is clearly beyond the required

FE for readability.
(cid:126)

b I ˙ωb + θT

(cid:0)−ω×
(cid:0)−(ST

˙V = ωT
= ωT
b
= ωT
b Sθ

errKP

˙θ

(cid:1) + θT

b Iωb + Sθτ app

errKP
θ Sθ)−1KP θerr + −S−1
˙θerr

˙θerr

θ KDωb

(28)

(cid:1) +

errKP
θ KP θerr − ωT

... + θT
b S−T

=−ωT
=− ˙θT KP θerr − ωT
=−ωT

b KDωb ≤ 0

b KDωb + θT
errKP

b KDωb + θT

errKP
˙θerr

˙θerr

which holds for all ωb ∈ R3 (it is assumed that reference
CbE,d is constant so that ˙θ = ˙θerr) (Lyapunov 1992).
Now, it is relatively straightforward to show that when
the critical point ωb ˙=0 (which implies ˙ωb ˙=0) is substi-
tuted into the dynamics given by (26), the only conﬁgura-
tion that satisﬁes the equation is θerr = 0 if only the PD
components of the controller in (24) are considerd. Thus,
based on LaSalle’s invariance principle (LaSalle 1960),
this demonstrates asymptotic stability for θerr = 0 un-
der the approximation given in (25). It should be noted
that for the full PID controller, which includes the inte-
gral term, this stability is limited by the magnitude of
KI (Arimoto and Miyazaki 1984).

3. FLIGHT PERFORMANCE

The engineering results in the following subsections are
taken from the 8 hour test ﬂight of BIT from Timmins,
Canada from September 18-19, 2015. Coarse and ﬁne
pointing stability and control for the telescope frame are
given here and discussed in detail in the following section.

3.1. Coarse attitude determination and control

For coarse stability and pointing control involving large
slews and coarse target acquisition, the primary ﬂight re-
sults for gimbal control are given in Figures 5 and 6. As
shown in Figure 5, reaction wheel speed is stabilized over
approximately three minutes to a steady state bias speed
of about 6.1 rad/s using the yaw coarse control and mo-
mentum dumping scheme given in (20) and (21). With
a commanded bias speed of 7 rad/s, the steady state er-
ror in reaction wheel speed of approximately 0.9 rad/s is
due to the lack of an integral term in ωrw for the pivot
momentum dumping scheme given in (20). Although an
integral term could have corrected the steady state error,

Precise Pointing & Stabilization of BIT

7

speciﬁcation of 1-2(cid:48)(cid:48), where total stability is 0.86(cid:48)(cid:48) (rms)
over 23 minutes and 0.68(cid:48)(cid:48) (rms) over 10 minutes (aver-
aged over all pointing measurement errors). Addition-
ally, it was observed that pointing stability over longer
time scales are consistently sub-arcsecond regardless of
target on the sky, which demonstrates closed-loop, on-
demand stabilization for arbitrary astronomical targets.
Overall, compared to the magnitude of disturbances due
to pendulations shown in Figure 2, an attenuation of
approximately 100:1 was achieved with the BIT ADCS,
where gains for controller given in (24) were only limited
by rate gyroscope and star camera noise.

As shown in Figure 8, the positions of the tracked star
in the roll and bore star cameras are plotted over a three
minute period of sub-arcsecond stabilization. It is clear
that the bore centroids are well constrained in the x and
y directions, where the 3σ ellipse is a good representation
of the centroid spread. For the roll camera, however, it is
evident that the spread is much wider in the x direction
than it is in the y direction, which may indicate a slight
drift in the roll centroids corresponding to a bias in the
telescope roll component of the pointing solution. Likely
causes for this drift and the possible eﬀects it has on
pointing stability are discussed in the following section.
During the ﬂight, a series of 1(cid:48) moves in Az and El
were performed to move bright stars from the telescope
focal plane to the ﬁne tracking camera used in the ﬁne
guidance system. The eﬀects of these moves on the equa-
torial coordinates corresponding to the pointing solu-
tion are given in Figure 9. From the results, it is clear
that the high gain system causes some overshoot at each
arcminute step, but overall system stability is assured
based on (28). Furthermore, the sub-arcsecond stability
of the pointing system between steps is recovered after
a < 2 second settling time, which is an acceptable time
scale for small changes in pointing targets between sci-
ence camera integrations on the order of > 1 minute.

4. DISCUSSION

For the coarse attitude determination and control over-
all, it is clear that the level of coarse stabilization during
gimbal control and coarse pointing during large gimbal
slews is adequate, where targets on the sky are acquired
to within < 0.1◦ of the measured attitude. Trapezoidal
speed proﬁles perform to within acceptable limits, where
deﬁned constraints on angular acceleration and maxi-
mum speed are met. During the ﬂight, however, it was
observed that the component of the pointing solution in
the azimuth direction would manifest large steady state
FH after long ﬁne sta-
errors of > 10◦ with respect to
bilization runs. One possible cause for this is that the
(cid:126)
magnetometer had not been calibrated fully due to time
constraints during the ﬂight such that its contribution
to the attitude estimate was minimal (i.e. did not have
a good inertial measurement of yaw to correct for drift
while integrating using only rate gyroscopes). Although
this would in principle have some eﬀect on the absolute
pointing error in this way, one would expect the drift in
the pointing solution based on rate gyroscope measure-
ments to be on the order of < 1◦, given the high mea-
surement frequency and relatively low 1/f noise charac-
teristics (see Table 1).
A more likely cause for this steady state yaw error is the
residual magnitude of the pointing solution covariance af-

ter a ﬁne stabilization run, during which the conﬁdence in
the pointing estimate is quite high. When mode switch-
ing occurred during the ﬂight from ﬁne to coarse (i.e.
to acquire a new target after tracking), it was observed
that the covariance of the attitude estimate increased,
but not enough to maintain estimator consistency dur-
ing coarse slews; thus, the state estimation scheme was
overconﬁdent in the attitude estimates when performing
coarse slews immediately after ﬁne stabilization. As a
result, the attitude determination scheme would tend er-
roneously towards the previous ﬁne stabilized attitude
estimate, causing a large absolute error with respect to
FH (Jazwinski 1970).
the current attitude estimate in
Despite this problem in coarse pointing, steady state yaw
(cid:126)
errors were mitigated manually during ﬂight by reacquir-
ing target lock on the sky via lost-in-space from the star
cameras. This can be corrected in future ﬂights by either
artiﬁcially increasing the covariance of the attitude esti-
mate during mode switches from ﬁne to coarse pointing
or increasing the noise covariance associated with coarse
gimbal measurement CbE,meas,coarse (i.e. a covariance
estimate reset).
From the ﬁne attitude determination and control re-
sults, the target lock and ﬁne stabilization performed
exceptionally well, where the overall ﬁne stability demon-
strated was a factor of four times better than the required
speciﬁcation. Furthermore, the closed-loop step response
of the system was well within acceptable limits, which
was demonstrated over integration periods of more than
an hour in duration. Although this is a positive result,
it is evident from the centroiding data that there was a
notable drift in the x direction of the roll star camera
focal plane. Taking into account the orientation of the
roll camera with respect to the telescope frame, the pixel
drift on the roll camera corresponds to a 0.25(cid:48)(cid:48)/s drift
with respect to the sky along the axis parallel to the tele-
scope boresight. Although the roll star camera measure-
ments were contributing to the pointing solution, it was
observed that the pixel measurements themselves were
not being fully integrated; in other words, the roll cam-
era centroids were clearly aﬀecting the pointing solution
through the reduction in the estimator covariance about
the boresight axis, but the measurements used to correct
the state were erroneous.
It was discovered post-ﬂight
that there was a programming error that caused this
behaviour, which can easily be corrected in subsequent
ﬂights. Despite the fact that this drift did introduce a
slight coupling between RA and Dec over long integra-
tion periods, the overall stability of the telescope was not
greatly aﬀected. In fact, during the test ﬂight, this was
mitigated by manually adjusting the rate gyroscope bias
about the telescope boresight axis to compensate for the
roll drift.

Another aspect of the ﬂight performance that is related
to the pointing and stabilization of the telescope frame
is the eﬀect of the controller characteristics on image
stabilization of the telescope focal plane down to 0.05(cid:48)(cid:48).
Since the image stabilization control functions within the
closed-loop regime of the telescope stabilization control,
any residual disturbances or driven resonances from the
telescope are propagated through to and perturb image
stabilization. During the test ﬂight, it was observed that
there were signiﬁcant higher frequency disturbances (>
5-10 Hz) seen on the focal plane of the telescope, which

8

Romualdez et al.

the image stabilization controller could not fully compen-
sate for. Although there were other factors contributing
to this lack of bandwidth in image stabilization (the dis-
cussion of which is beyond the scope of this paper), it
is likely that this eﬀect could be mitigated to a certain
degree by reducing the gains on the telescope stabiliza-
tion controller. In this way, the pointing stability of the
telescope would be somewhat diminished, but with the
possible beneﬁt of reducing the frequency of the distur-
bances to within the bandwidth of the image stabilization
control. For future ﬂights, this trade-oﬀ can be further
explored to see exactly how much control bandwidth can
be gained from an image stabilization perspective.

5. CONCLUSIONS

Overall, the attitude determination and control sys-
tems for BIT performed adequately during the 2015 test
ﬂight, during which both the pointing and stabilization
speciﬁcations were demonstrated thoroughly. Some im-
provements in handling mode switching from ﬁne stabi-
lization to coarse target acquisition can be made such
that manual corrections for absolute steady state errors
are no longer necessary. Furthermore, improving ﬁne sta-
bility about the telescope bore axis can certainly improve
the overall performance of the ﬁne stabilization control
such that long time-scale drifts are corrected for by de-
sign. In addition to this, a reduction in telescope stabi-
lization gains may improve image stabilization, but this
eﬀect is likely marginal since most of the major improve-
ments on the image stabilization front are unrelated to
telescope control.

For the proposed ULDB ﬂight from New Zealand in
2018, a number of modiﬁcations must be made to the at-
titude determination and control systems in order to im-
prove robustness, reliability, and long-term use. First of
all, the overall autonomy of the system must be increased
such that minimal human intervention is required to ac-
quire and lock on to astronomical targets, where target
prioritization and scheduling is done independently on
ﬂight hardware. Similarly, the ability of the pointing

BIT attitude sensor characteristics

Table 1

systems to self-calibrate attitude sensors and actuators
is an absolute requirement for future missions due to lim-
ited communication windows with the payload for ﬂights
as long as three months. Lastly, measures must be taken
to improve the robustness of the attitude determination
and control systems against erroneous states, which is
critical to demonstrating the capabilities of BIT as a fa-
cility class instrument and for ensuring reliability and
consistency of the system for the upcoming ﬂights.

REFERENCES

CASCA, “Report of the long range plan 2010 panel,” (2011).
J. Chung, G. Patanchon, M. Rex, M. J. Devlin, C. J. MacTavish,

J. O. Gundersen, C. Semisch, D. V. Wiebe, N. Thomas, J. J.
Bock, D. H. Hughes, P. C. Hargrave, P. A. Ade, M. Halpern,
C. B. Netterﬁeld, M. P. Viero, E. L. Chapin, M. Griﬃn,
P. Mauskopf, T. G. Martin, L. Olmi, D. Scott, M. D. Truch,
G. S. Tucker, J. Klein, P. G. Martin, C. Tucker, S. Dicker,
G. Marsden, and E. Pascale, The Astrophysical Journal 681,
400 (2007).

R. E. Danielson, J. E. Gaustad, M. Schwarzschild, H. F. Weaver,

and N. J. Woolf, The Astronomical Journal 69, 344 (1964).

D. J. McCarthy, IEEE Transaction on Aerospace and Electronic

Systems 5, 323 (1968).

P. Duﬀett-Smith, Practical Astronomy with your calculator, 3rd

ed. (Cambridge University Press, United Kingdom, 1979).

P. C. Hughes, Spacecraft Attitude Dynamics (Dover Publications,

Mineola, New York, 2004).

A. H. Jazwinski, Stochastic Processes and Filtering Theory,

Vol. 63 (Academic Press, 1970).

J. A. Shariﬀ and et al, in Proceedings of the SPIE, Vol. 9145

(2014).

G. F. Franklin, J. D. Powell, and A. Emami-Naeini, Feedback
Control of Dynamic Systems, 6th ed. (Prentice Hall, Upper
Saddle River, NJ, 2010).

P. C. Hughes and G. B. Sincarsin, Dynamics and Stability of

Systems 4, 227 (1989).

A. M. Lyapunov, General Problem of the Stability Of Motion

(Taylor & Francis, 1992) 92032800.

J. P. LaSalle, IRE Transactions on Circuit Theory , 520 (1960).
S. Arimoto and F. Miyazaki, Robotics Research: The First

International Symposium , 783 (1984).

H. Akima, Journal of the Association for Computing Machinery

17, 590 (1970)

Resolution

Readout Frequency (Hz)

Sensor Description
Fibre optic rate gyroscope
Absolute optical encoder
3-axis magnetometer
Coarse elevation stepper
Bore star camera
Roll star camera
a Asynchronous serial (±5%) remapped to synchronous
1000 Hz via Akima interpolation Akima (1970)
b Sky equivalent read noise

1000a
100
20
10
3
3

4.768 · 10−4 deg/s
5.49 · 10−3 deg
6.7 · 10−5 Gs
9.374 · 10−3 deg
0.23(cid:48)(cid:48) centroids
0.46(cid:48)(cid:48) centroids

Hz)

Noise Figure

2.2 · 10−4 deg/(s·√
2.0 · 10−4 Gs
5.75 · 10−4(cid:48)(cid:48)/sb
5.75 · 10−4(cid:48)(cid:48)/sb

-

-

Precise Pointing & Stabilization of BIT

9

Figure 1. The Balloon-borne Imaging Testbed (BIT) approximately one hour before the September 2015 test launch from Timmins,
Canada; the stratospheric balloon (left in the distance) is attached to the ﬂight train (along the bottom) via a smaller tow balloon and
parachute (attached to truck) with the BIT payload/gondola (on the right).

Figure 2. Amplitude spectrum for pitch rate gyroscope measurements in an uncontrolled state at a ﬂoat altitude of 35 km; the dominant
modes are clearly present in the low frequency regime (< 1 Hz); peaks at 0.038 Hz and 0.78 Hz are due to compound pendulations the
ﬂight train about the balloon and the pivot; the central 0.47 Hz peak is likely due to the large communication electronics box used by the
launch provider (CSA-CNES) located midway up the ﬂight train.

Amplitude Spectrum [rad/s]Frequency [Hz]10-110010110202x10-054x10-056x10-058x10-0510

Romualdez et al.

Figure 3. Schematic diagram of the BIT gondola, comprised of an outer frame (left), middle frame (centre), and inner frame (right);
gimbal coordinates are deﬁned by θ = [θ1 θ2 θ3]T as a 3-1-2 Euler sequence about their respective axes (thick line); yaw θ3 is unconstrained
whereas roll θ1 and pitch θ2 have gimbal ranges of ±6◦ and 20-57◦, respectively.

Figure 4. Stability regions (white and shaded) for momentum dumping and coarse yaw speed control using fully coupled yaw dynamics
(unstable region is hatched); gains g2 on the y-axis and kI on the x-axis are normalized for a given g1 and kP , respectively, where
kI · Iyaw/k2
P ≤ 0.25 is the condition for critical to near-overdamped control from (21) assuming uncoupled yaw dynamics; three stability
regions are given for g1 ≤ 0.01 (white and shaded), g1 ≤ 0.022 (light and dark shaded), and g1 ≤ 0.034 (dark shaded), where it is clear
that increasing the bound on g1 shrinks the stability region.

InnerFramePitchθ2aboutMiddleFrameYawθ3aboutﬂighttrainOuterFrameRollθ1aboutOuterFrameMiddleFrameg2∙√kft∙ I/g1kI∙ Iyaw/k2P00.050.10.150.200.511.522.533.5rwUnstableStable g1 ≤ 0.010Stable g1 ≤ 0.022Stable g1 ≤ 0.034Precise Pointing & Stabilization of BIT

11

Figure 5. Reaction wheel (RW) response (top) over a period of three minutes while stabilizing on the sky with a set bias speed of 7
rad/s; commanded pivot speed (bottom, thick) tracks in the opposite direction to dump reaction wheel momentum, where noise on the
pivot speed (bottom, thin) is due to contribution of the RW torque gain in (20).

Figure 6. (Top) full 360◦ yaw θ3 rotation through two 180◦ slews during pre-ﬂight; the yaw rate dθ3/dt follows the prescribed trapezoidal
proﬁle to reach the commanded azimuth (θ3 dotted) within one minute with little overshoot in measured azimuth (θ3 solid); the pitch
θ2 during slews varies by 0.1◦ at ∼ 0.15 Hz and 0.3◦ at ∼ 0.01 Hz from the highbay ﬂight train; (bottom) coarse roll and pitch encoder
measurements θ1 and θ2,f ine with a zero gimbal angle command over a 20 second period during pre-ﬂight; coarse control acquires gimbal
target to within < 0.1◦ over 15 seconds, where low frequency periodic variations are due to pendulations.

Pivot Speed [rad/s]UTC Time[0][30][60][90][120][150][180]18 Sep 2015 03:44:30 [Seconds]00.050.1RW Speed [rad/s]-20246θ2,ﬁne[deg]UTC Time[0][5][10][15][20]18 Sep 2015 04:16:15 [Seconds]-3-2-10θ1[deg]00.20.40.6dθ3/dt [deg/s]024θ3[deg]-200-1000θ2[deg]UTC Time[0][60][120][180]18 Sep 2015 03:42:00 [Seconds]26.226.426.626.812

Romualdez et al.

Figure 7. Pointing controller stability (dark) and 3σ envelope (light) for RA (top), Dec (middle), and F R (bottom) over a 23 minute
integration period; attitude estimation is consistent with the estimator covariance, where the variation in the 3σ envelope is due to
asynchronous star camera measurements.

Figure 8. Bore star camera (left) and roll star camera (right) centroid locations over three minutes while tracking and stabilizing the
telescope frame; 3σ ellipse (dashed) shows the spread of the centroids over the star camera focal planes, where the pixel scale for bore and
roll are 2.3(cid:48)(cid:48)/px and 4.3(cid:48)(cid:48)/px, respectively; centroid locations artiﬁcially discretized to one-tenth of a pixel in software.

Error [deg]-0.00200.0020.8654614" 1σstability over 23 mins.0.5590238" 1σstability over 10 mins.RA Error [deg]-0.00200.0020.89697528" 1σstability over 23 mins.0.53971825" 1σstability over 10 mins.FR Error [deg]Local Time[0][2][4][6][8][10][12][14][16][18][20][22]19 Sep 2015 04:42:00 [Minutes]-0.00200.0020.82659159" 1σstability over 23 mins.0.89315962" 1σstability over 10 mins.DecY bin [0.1 px]X bin [0.1 px]0510152005101520Bore Centroid Distribution050100150Blob DensityY bin [0.1 px]X bin [0.1 px]0510152025-10-50510152025Roll Centroid Distribution0100200Blob DensityPrecise Pointing & Stabilization of BIT

13

Figure 9. RA (top), Dec (middle), and F R (bottom) responses to 1(cid:48) step commands in Az and El while stabilizing on the sky over a 10
minute period; the high gain ﬁne pointing control has some overshoot per step, but the settling time is on the order of < 2 seconds.

Table 2

BIT actuator characteristics

Actuator Description
Reaction wheel - frameless DC motor
Pitch/roll - frameless DC motor × 4
Pivot - 2-phase stepper motor
Pitch - 2-phase stepper motor × 2
a Pulse-Width Modulation
b 1.8 deg/step motor through a 100:1 gear reducer
c 1.8 deg/step motor through a 12:1 gear reducer

Control Input
16-bit analog
8-bit PWMa

pulse step/direction
pulse step/direction

Characteristics

15 N·m max. torque; 3600 lines/rev encoder feedback
5.0 N·m max. torque; 3-phase Hall sensor feedback
0.018 deg/stepb; 2-256 µstep/step; 0.44 N·m hold

0.15 deg/stepc; 16 µstep/step; 0.51 N·m hold

RA [deg]92.7592.892.85RA CommandRA Response [deg]22.8422.8622.8822.922.92 Command ResponseFR [deg]UTC Time[0][60][120][180][240][300][360][420][480][540]9/19/15 08:05:00 [Seconds]44.6244.6444.6644.6844.7FR ResponseDecDecDec