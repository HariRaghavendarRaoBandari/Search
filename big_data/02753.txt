6
1
0
2

 
r
a

M
9

 

 
 
]

.

G
A
h
t
a
m

[
 
 

1
v
3
5
7
2
0

.

3
0
6
1
:
v
i
X
r
a

Symplectic and Poisson derived geometry

and deformation quantization

T. Pantev, G. Vezzosi

Abstract

We review recent results and ongoing investigation of the symplectic and Poisson geometry of derived moduli

spaces, and describe applications to deformation quantization of such spaces.

Contents

Introduction

1 Shifted symplectic structures

1.1 Deﬁnitions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
1.2 Existence theorems and examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

2 Shifted Poisson structures

2.1 Diﬀerential calculus

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.1.1 De Rham theory . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.1.2 Polyvectors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.1.3
Standard realizations over k . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.1.4 Comparison between Poisson algebras and shifted Poisson pairs . . . . . . . . . . . . . . . . . .
2.1.5 From non-degenerate Poisson algebra structures to symplectic structures . . . . . . . . . . . . .
2.1.6 Tate realizations over k . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.2 Formal derived stacks and formal localization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.2.1 Formal derived stacks
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.2.2 Formal localization for X → XDR . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.3 Shifted Poisson structures . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.4 Comparison between non degenerate shifted Poisson structures and shifted symplectic structures . . .
2.5 Coisotropic structures
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

3 Deformation quantization

3.1 Weak and strong quantization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
3.2 Examples and vistas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

1

5
5
8

13
13
13
15
16
17
19
20
22
22
24
27
28
29

30
31
32

Introduction

From the vantage point of the timeline of the AMS Summer Institutes, this contribution is a continuation and an
update of B. To¨en’s 2005 overview [To1]. Our goal here is to highlight some of the remarkable developments in derived
geometry that we witnessed in the past ten years.

Our main topics - symplectic and Poisson geometry on derived moduli spaces - are among the latest topics in the
area. Even though the study of these topics is still in an early stage, it has already led to some exciting applications.
Among the moduli theoretic applications, we might mention the fact that (−1)-shifted symplectic structures induce
symmetric perfect obstruction theories in the sense of [Be-Fa] (and actually all the geometrically interesting examples
of symmetric obstruction theories arise this way), and the related important result that the Donaldson-Thomas moduli
space is (−1)-shifted symplectic and Zariski locally isomorphic to the critical locus of a potential [BBJ].

Section 1 explains and summarizes the main results from [PTVV], while sections 2 and 3 delve into the substance
of [CPTVV]. The aim of our review has been twofold: on one hand to convey the intuition behind deﬁnitions,

1

constructions, and proofs of the main results, and on the other hand, to explain and motivate the slight change of
point of view going from [PTVV] to [CPTVV]. The upshot is that shifted Poisson geometry and its applications
to deformation quantization of derived categories require a new broader perspective and new technical tools, i.e.
diﬀerential calculus in an extremely general setting (Section 2.1), and formal localization (Section 2.2). Even though
these powerful tools were created in order to solve our speciﬁc problems related to shifted Poisson structures, they
constitute also a conceptual advance, very likely to become relevant in other contexts and to diﬀerent problems in
derived algebraic geometry.

Note that there is a parallel theory of shifted quadratic forms on derived moduli spaces, but we will not review it

here (see [Vez2] for a ﬁrst investigation).

We now describe, section by section, the mathematical contents of this paper in more details.

Shifted symplectic structures. A shifted symplectic structure on a derived stack X with a perfect cotangent
complex LX is a structured self-duality of LX up to a shift, i.e. a quasi-isomorphism TX ≃ LX [n] induced by a closed
n-shifted 2-from on X. The idea is an obvious generalization of the classical deﬁnition of symplectic form, but with
an important additional, purely derived algebro-geometrical feature: for a shifted form on X, being closed is not a
property but rather a datum. In other words, there is a canonical map, called the underlying-form map, from the
space Ap,cl(X, n) of n-shifted closed p-forms on X, to the space Ap(X, n) of n-shifted p-forms on X, but this map
is not, in general, “injective” in any reasonable sense of the word (e.g. not injective on the connected components
of these spaces). The space Sympl(X, n) is exactly the subspace of A2,cl(X, n) of closed 2-forms whose underlying
2-from is non-degenerate, i.e. such that the induced map TX → LX [n] is a quasi-isomorphism. Shifted symplectic
structures abound, in the sense that many moduli spaces of interest to algebraic geometers and topologists, such as
the moduli spaces of principal bundles or perfect complexes on algebraic Calabi-Yau manifolds or compact orientable
topological manifolds, have derived enhancements carrying natural shifted symplectic structures. In Section 1 we give
three general existence results for shifted symplectic structures on derived moduli stacks, leading to a long list of
examples.

Shifted Poisson structures. Having at our disposal a theory of shifted symplectic structures, it is natural to look for
a more general theory of shifted Poisson structures on derived moduli stacks. Actually, our original motivation for such
a general theory came from the expected link between a shifted Poisson structure on a derived stack and an induced
deformation quantization of its dg-derived category of perfect complexes. We will say more about this motivation-
application below. While classically, setting up a theory of Poisson varieties does not present more diﬃculties than
setting up a theory of symplectic varieties, in derived algebraic geometry the situation is radically diﬀerent. The usual
bad functoriality properties of shifted polyvectors (as opposed to the good functoriality of closed shifted forms) together
with the very delicate and intricate strictiﬁcation problems related to establishing a meaningful shifted Poisson algebra
structure on them, immediately made us realize that, outside the derived Deligne-Mumford case, a full-ﬂedged theory
of shifted Poisson structures on derived Artin stacks required new ideas and tools.
If X is a derived Artin stack,
locally of ﬁnite presentation over the base k (always assumed to be a Noetherian commutative Q-algebra), then its
cotangent complex LX is perfect, and we may consider the graded commutative diﬀerential graded algebra

P ol(X, m) :=Mp≥0

Γ(X, Symp(TX [−m])

of m-shifted polyvectors on X. Here, m ∈ Z, TX is the tangent complex of X, i.e. the OX -dual of LX , Γ denotes the
derived functor of global sections (i.e. hypercohomology), and the external grading, called weight grading, is given by
p. In order to deﬁne shifted Poisson structures on X, we have to endow P ol(X, m) with a degree m and weight −1 Lie
bracket, making it into a graded Pm+1-commutative diﬀerential graded algebra over k. In particular, P ol(X, m)[m]
will be a graded dg-Lie algebra over k, with a weight −1 Lie bracket. Then we could adopt the following derived
variation of a classical deﬁnition of Poisson structure, and put

Poiss(X, n) := Mapdgliegr

k

(k(2)[−1], P ol(X, n + 1)[n + 1])

for the space Poiss(X, n) of n-shifted Poisson structures on X, for n ∈ Z. Here k(2)[−1] is the graded dg-Lie algebra
consisting of k in pure cohomological degree 1, pure weight 2, and trivial bracket, obviously. If X is a smooth underived
,
k , with its Hom set Homdgliegr
scheme, n = 0, and we replace the mapping space Mapdgliegr
then we obtain the set of bivectors π on X, whose Schouten-Nijenhuis self bracket [π, π] is zero, i.e. exactly the set
of Poisson bivectors on X. The functoriality problems mentioned above prevent any elementary, easy extension of

in the model category dgliegr

k

k

2

(a shifted version of) the usual Schouten-Nijenhuis bracket when X is a general derived Artin stack, locally of ﬁnite
presentation over k. Hence, there is no elementary, easy way of making sense of the above deﬁnition of Poiss(X, n).

Our solution to this problem consists of two steps. First of all, in Section 2.1 we build a very general theory
of diﬀerential calculus, including de Rham algebras and polyvectors, in an arbitrary symmetric monoidal model ∞-
category M enriched over k-dg modules (and satisfying suitable, mild hypotheses). In particular, for any commutative
algebra A in M, we are able to make sense of the space Sympl(A, n) of n-shifted symplectic structures on A, to deﬁne a
Pn+1-commutative diﬀerential graded algebra Pol(A, n) over k of n-shifted polyvectors on A, and hence to make sense
of the space Poiss(A, n) of n-shifted Poisson structures on A, as explained above. Moreover, we produce a general
comparison map from the the space Poissnd(A, n), of suitably deﬁned non-degenerate n-shifted Poisson structures on
A to Sympl(A, n). The second step is what we call formal localization (Section 2.2), and it concerns essentially the
study of the map X → XDR, for X derived Artin stack, locally of ﬁnite presentation over k. Here XDR is the de
Rham stack of X (Deﬁnition 2.2.3), and the ﬁber of X → XDR at a closed point x : Spec K → XDR is the formal

completions of X.

completion cXx of X at the corresponding point x ∈ X 1; hence X → XDR can be viewed as the family of formal

The remarkable properties of the map X → XDR, allow us to associate to any derived Artin stack X, locally of
ﬁnite presentation over k, a commutative algebra PX (∞) in a suitable symmetric monoidal model ∞-category MX
constructed out of X, such that:

• There is an equivalence of spaces Sympl(PX (∞), n) ≃ Symp(X, n).

• After forgetting the bracket Pol(PX (∞), n) is equivalent to P ol(X, n), in other words we ﬁnally have a way of
In

endowing P ol(X, n) with the structure of a graded Pn+1-commutative diﬀerential graded algebra over k.
particular, it now makes sense to deﬁne Poiss(X, n) := Mapdgliegr

(k(2)[−1], Pol(PX (∞), n + 1)[n + 1]).

k

• The canonical map Poissnd(X, n) = Poissnd(PX (∞), n) → Sympl(PX (∞), n) ≃ Symp(X, n) is an equivalence of

spaces.

• The ∞-category Perf (X) of perfect complexes on X is equivalent to a suitably deﬁned ∞-category of perfect

PX (∞)-dg-modules.

Let us brieﬂy describe the commutative algebra object PX (∞) in MX . As already observed, the canonical map
X −→ XDR realizes X as a family of formal derived stacks over XDR, namely as the family of formal completions at
closed points of X. By [Lu2] each of these formal completions is determined by a dg-Lie algebra ℓx. The collection of
dg-Lie algebras ℓx does not ﬁt together globally in a sheaf of dg-Lie algebras over XDR, simply because its underlying
complex is the shifted tangent complex TX [−1] of X (see [Hen]), which in general does not admit a ﬂat connection
and thus does not descend to XDR. However, a remarkable consequence of derived formal localization is that the
Chevalley-Eilenberg complexes of ℓx, viewed as graded mixed commutative dg-algebras, do ﬁt together into a global
object over XDR. Up to a twist (by k(∞), see Section 2.1), this is exactly PX (∞). Thus, formal localization tells us
how to express global geometric objects on X as correspondingly sheaﬁﬁed objects on XDR related to PX(∞).

Deformation quantization of derived categories. One of our main original motivations for developing a theory of
shifted symplectic and Poisson structures on derived moduli spaces was in fact a prospective application to deformation
quantization of derived categories of perfect complexes. We are now able to obtain such applications, and we will brieﬂy
describe them here (for more details, see Section 3). We start by deﬁning the deformation quantization problem for n-
shifted Poisson structures, whenever n ≥ 0. For every such n, we consider a Gm-equivariant A1
k-family of k-dg-operads
BDn+1 such that its 0-ﬁber is the Poisson operad Pn+1 and its generic ﬁber is the k-dg-operad En+1 of chains of the
topological operad of little (n + 1)-disks. The general deformation quantization problem can then be loosely stated as
follows:

Given a Pn+1-algebra stucture on an object in a k-linear symmetric
Deformation Quantization Problem.
monoidal ∞-categorie, does it exist a family of BDn+1-algebra structures such that its 0-ﬁber is the original Pn+1-
algebra structure ?

To be more precise, let now X be a derived Artin stack locally of ﬁnite presentation over k, and equipped with an
n-shifted Poisson structure. Using the formality of the En-operad, and the fact that for n ≥ 1 the homology operad

1Note that X and XDR have the same reduced points.

3

of En+1 is Pn+1, we can solve the deformation quantization problem above for the Pn+1-algebra structure on PX (∞).
This gives us, in particular, a Gm-equivariant 1-parameter family of En+1-algebra structures on PX (∞).

One of the main results of formal localization (Section 2.2) tells us that the ∞-category Perf (X) of perfect
complexes on X is equivalent to the ∞-category of (suitably deﬁned) perfect PX (∞)-modules (in MX ). We thus get
a 1-parameter deformation of Perf (X) as an En-monoidal ∞-category, which we call the n-quantization of X. We
also give a version of this result for n < 0 (where of course En will be replaced by E−n). In contrast, the unshifted
n = 0 case for derived Artin stacks, which was previously addressed for smooth varieties by [Ko1, Ye], is not currently
covered by our analysis and seems to require new ideas.

Finally, in Section 3.2, we describe some examples of these n-shifted quantizations, especially the quantization on
a formal neighborhood of a point, and of various derived moduli stacks of G-local systems, for G a complex reductive
group. Many more examples are awaiting a careful investigation.

Acknowledgements. First of all, we would like to thank our co-authors D. Calaque, B. To¨en, and M. Vaqui´e for
the interesting mathematics we did together. We thank V. Melani and M. Porta for their interesting questions that
have hopefully led to a clearer text. We are grateful to P. Safronov and N. Rozenblyum for useful exchanges on
various topics treated in this review. We are also grateful to the organizers of the 2015 Summer Research Institute on
Algebraic Geometry in Salt Lake City, for their invitation to give our talks and to write this review.

Tony Pantev was partially supported by NSF research grant DMS-1302242 and by grant # 347070 from the Simons
Foundation. Gabriele Vezzosi is a member of the GNSAGA-INDAM group (Italy) and of PRIN-Geometria delle variet´a
algebriche (Italy). He would like to point out the serious problems of scientiﬁc research in public universities in Italy,
due to the substantial lack of acknowledgement from our government of the important cultural and social role of public
research in a modern country, and to the subsequent largely insuﬃcient investment of government funds into public
research and universities.

Background. We will assume the reader has some familiarity with derived algebraic geometry, for which useful
reviews are [To1], and the more recent [To2], while the foundational works are To¨en-Vezzosi’s [HAG-II], J. Lurie’s
DAG series [Lu3], and also the recent [Lu5], the last two being available at http://www.math.harvard.edu/∼lurie/ .
We will use both the “old” but sometimes still useful language and theory of model categories (see e.g. [Hov, Hir]),
and the modern language and theory of ∞-categories ([Lu1, Lu4]).

Notations.
• Throughout this paper k will denote a noetherian commutative Q-algebra.
• We will use (∞, 1)-categories [Lu1] as our model for ∞-categories. They will be simply called ∞-categories.
• As a general rule, a model category is written in sans-serif fonts N, and we denote in bold-face fonts N := L(N) the
∞-category deﬁned as the homotopy coherent nerve of the Dwyer-Kan localization of ﬁbrant-coﬁbrant objects in N
along its weak equivalences, with the notable exceptions of the ∞-category of spaces, denoted as T := L(sSets), and
of our base ∞-category M := L(M) (Section 2). The passage from a model category to the associated ∞-category
is a localization, and thus very similar to the passage from the category of complexes in an abelian category to the
associated derived category. This is a good example to keep in mind.
• All symmetric monoidal categories we use will be symmetric monoidal (bi)closed categories.
• dgk will denote the symmetric monoidal model category of (unbounded) complexes of k-modules, with ﬁbrations
being degreewise surjective amps, and weak equivalences being quasi-isomorphisms. The associated ∞-category will
be denoted by dgk. Note that dgk is then a stable symmetric monoidal ∞-category ([Lu4, Deﬁnition 2.0.0.7]).
• cdgak will denote the ∞-category of non-positively graded diﬀerential graded k-algebras (with diﬀerential increasing
the degree). Its objects will be frequently called simply cdga’s. For A ∈ cdgak, we will write πi A := H −i(A) for any
i ≥ 0.
• For A ∈ cdgak, we will denote either by L(A) or QCoh(A) the ∞-category of A-dg-modules.
• For A ∈ cdgak, we will denote by Perf (A) the full sub-∞-category of QCoh(A) consisting of perfect A-dg-modules.
• If X is a derived geometric stack, we will denote by QCoh(X) the k-linear symmetric monoidal dg-category of
quasi-coherent complexes on X.
• If X is a derived geometric stack, we will denote by Perf (X) the symmetric monoidal sub-dg-category of QCoh(X)
consisting of dualizable objects, i.e. perfect complexes over X.
• If X is a derived geometric stack, we will denote by Coh(X) or the full sub-dg category of QCoh(X) consisting of
complexes whose cohomology sheaves are coherent over the truncation t0X.

4

• For a morphism A → B of cdga’s, the relative cotangent complex will be denoted LB/A ∈ L(B). When A = k, we
will simply write LB instead of LB/k.
• For derived stacks, we follow the vocabulary of [HAG-II]. In particular derived Artin stacks X will be higher derived
stacks, unless stated otherwise, and always have a cotangent complex, denoted as LX ∈ QCoh(X). The acronym lfp
means, as usual, locally ﬁnitely presented.
• For a derived stack X, Γ(X, −) will always denote the derived functor of global sections on X (i.e. hypercohomology).

1 Shifted symplectic structures

1.1 Deﬁnitions
Let ǫ − dggr
k be the category of graded mixed complexes of k-dg-modules. Its objects are Z-families of k-dg-modules
{E(p)}p∈Z, equipped with dg-module maps ǫ : E(p) −→ E(p + 1)[1], such that ǫ2 = 0, and the morphisms are Z-
families of morphisms in dgk commuting with ǫ. This is a symmetric monoidal model category: weak equivalences
and coﬁbrations are deﬁned weight-wise (i.e. with respect to the external Z-grading, that will be called the weight

grading), the monoidal structure is deﬁned by (E ⊗ E′)(p) := Li+j=p E(i) ⊗ E′(j), and the symmetry constraint

does not involve signs, but just swaps the two factors in E(i) ⊗ E′(j). Since our base ring k has characteristic zero,
the category Comm(ǫ − dggr
k is again model category, with
weak equivalences and ﬁbrations inherited via the forgetful functor to ǫ − dggr
k (which is then a right Quillen adjoint).
According to our general conventions, we will denote by ǫ − dggr
k ), the ∞-category associated
to ǫ−dggr
k is therefore the ∞-category of {B(p) ∈ dgk}p∈Z
together with mixed diﬀerential ǫ : B(p) → B(p + 1)[1], ǫ2 = 0, and maps B(p) ⊗ B(q) → B(p + q) which are unital,
associative, commutative, and suitably compatible with ǫ.

k of commutative monoid objects in ǫ − dggr

k ). Informally speaking, ǫ−cdgagr

k (respectively to ǫ−cdgagr

k (respectively, ǫ − cdgagr

k ) =: ǫ − cdgagr

The ∞-functor ǫ − cdgagr

k → cdgak : {B(p)} 7→ B(0) is accessible and preserves limits, thus ([Lu1, Corol-

lary 5.5.2.9]) has a left adjoint DR : cdgak → ǫ − cdgagr
k .

Deﬁnition 1.1.1 The functor DR : cdgak → ǫ − cdgagr

k is called the de Rham algebra ∞-functor.

Remark 1.1.2 If A ∈ cdgak, we can replace in the previous argument ∞-category cdgak with A/cdgak, and the
∞-category ǫ − cdgagr

k , and get a relative de Rham algebra ∞-functor DR(−/A).

k with DR(A)/ǫ − cdgagr

One can prove that DR(A) ≃ SymA(LA[−1]) in cdgagr

k (i.e. as graded cdga’s, by forgetting the mixed diﬀerential
deﬁned on the rhs). In other words, the construction DR yields the full derived de Rham complex of A, including the
de Rham diﬀerential. We are now able to deﬁne shifted closed forms on cdga’s. For m, n ∈ Z, k(m)[n] will denote the
graded k-dg-module sitting in weight degree m and in cohomological degree −n.

Deﬁnition 1.1.3 Let A ∈ cdgak

• The space of closed n-shifted p-forms on A is Ap,cl(A, n) := Mapǫ−dggr

(k(p)[−p − n], DR(A)) ∈ T. An element

k

in π0(Ap,cl(A, n)) is called a closed n-shifted p-form on A.

• The space of n-shifted p-forms on A is Ap(A, n) := Mapdgk

called a n-shifted p-form on A.

(k[−n], ∧p

ALA) ∈ T. An element in π0(Ap(A, n)) is

• The induced map u : Ap,cl(A, n) → Ap(A, n) is called the underlying p-form map.

Remark 1.1.4 Here is a more concrete description of the space of shifted (closed) forms. If A ∈ cdgak, and A′ → A is
a coﬁbrant replacement in cdgak, then ⊕p≥0Lp
A′/k is a fourth quadrant bicomplex with vertical diﬀerential
dv induced by dA′, and horizontal diﬀerential dh given by the de Rham diﬀerential

A/k = ⊕p≥0Ωp

dv : Ωp,i

A′/k → Ωp,i+1

A′/k , dh = dDR : Ωp,i

A′/k → Ωp+1,i
A′/k .

The Hodge ﬁltration F • deﬁned by F q(A) := ⊕p≥qΩp
Ap,cl(A, n) := Tot

(F p(A)[n + p], we have

Q

A′/k is still a fourth quadrant bicomplex, and if we put

Ap,cl(A, n) = |Ap,cl(A, n)| n ∈ Z

5

where |E| denotes Mapdgk
and Tot

Q

(k, E) i.e. the Dold-Kan construction applied to the ≤ 0-truncation of the dg-module E,

is the totalization by products. In particular, we have a corresponding Hodge tower of dg-modules

... → Ap,cl(A, 0)[−p] → Ap−1,cl(A, 0)[1 − p] → ... → A0,cl(A, 0),

where, for any p, the coﬁber of Ap,cl(A, 0)[−p] → Ap−1,cl(A, 0)[1−p] is equivalent to the dg-module Ap−1(A, 0)[1−p] :=
(∧p−1
A LA)[1−p] of (1−p)-shifted (p−1)-forms on A (so that we have an equivalence |Ap−1(A, 0)[1−p]| ≃ Ap−1(A, 1−p)
in T). Finally, let us observe that the rightmost dg-module A0,cl(A, 0) in the above Hodge tower, is exactly Illusie’s
derived de Rham complex of A ([Ill, ch. VIII]).

Remark 1.1.5 Note that the de Rham algebra functor, and hence the notion of (closed) shifted forms, makes sense
when dgk is replaced by (essentially) any symmetric monoidal stable k-linear ∞-category M. The intermediate
categories of interest will then be ǫ − Mgr (generalizing ǫ − dggr
k ). For any
A ∈ A − ModM, a de Rham algebra functor DRM : CAlgM →
A ∈ CAlgM, this will yield a cotangent complex LM
ǫ − CAlggr
M (A, n)), where the sub/superscript M indicates
that all the constructions are performed internally to M. This level of generality and ﬂexibility in the choice of the
context for our diﬀerential calculus, will prove extremely useful in the rest of the paper. As relevant cases, the reader
should keep in mind the case where M = ǫ − dggr
k . We will come back to this
generalization more systematically in Section 2.1, and use it as an essential tool starting from Section 2.3.

M, and a space of n-shifted (closed) p-form Ap

k or, more generally, diagrams in ǫ − dggr

k ), and ǫ − CAlggr

M (generalizing ǫ − cdgagr

M(A, n) (Ap,cl

We are now ready to globalize the above construction to derived stacks. We start by globalizing the de Rham
algebra construction (Deﬁnition 1.1.1). The functor A → DR(A), and its relative version (over a ﬁxed base B, see
Remark 1.1.2), are both derived stacks (for the ´etale topology) with values in mixed graded dga’s, so we give the
following

Deﬁnition 1.1.6 (1) Let F → Spec B be a map in dStk. The relative de Rham algebra of F over B

DR(F/B) :=

lim

Spec C→F

DR(C/B) ∈ ǫ − cdgagr
B

(see Remark 1.1.2) where the limit is taken in the ∞-category ǫ − cdgagr
cdgas, and over all morphisms Spec C → F of derived stacks over Spec B.

B = B/ǫ − cdgagr

k of graded mixed B-linear

(2) For an arbitrary map F → G in dStk, we deﬁne the relative de Rham algebra of F over G as

DR(F/G) :=

lim

Spec A→G

DR(FA/A) ∈ ǫ − cdgagr
k ,

where FA denotes the base change of F → G along Spec A → G, and the limit is taken in the ∞-category ǫ − cdgagr
k .

We now globalize to derived stacks the notion of (closed) shifted forms. From Deﬁnition 1.1.3 one deduces ∞-
functors Ap,cl(−, n) : A 7→ Ap,cl(A, n), and Ap(−, n)) : A 7→ Ap(A, n) from cdgak to T. By [PTVV, Proposition 1.11],
these functors are derived stacks (for the ´etale topology). This allows us to globalize Deﬁnition 1.1.3 on an arbitrary
derived stack.

Deﬁnition 1.1.7 Let F be a derived stack.

• The space of closed n-shifted p-forms on F is Ap,cl(F, n) := MapdStk (F, Ap,cl(−, n)).
• The space of n-shifted p-forms on F is Ap(F, n) := MapdStk (F, Ap(−, n)).
• The resulting induced map u : Ap,cl(F, n) → Ap(F, n) is called the underlying p-form map.

Note that, in general, the homotopy ﬁber of the underlying p-form map u can be non-trivial (i.e. not empty nor
contractible). Hence being closed is a datum rather than a property, for a general derived stack.

6

Remark 1.1.8 (1) Equivalently, we have Ap,cl(F, n) ≃ limSpec A∈(dAﬀ /F )op Ap,cl(A, n),
and Ap(F, n)
≃ limSpec A∈(dAﬀ /F )op Ap,cl(A, n), where the limits are taken in the ∞-category of ∞-functors from (dAﬀ /F )op
to T.

(2) Also note that we have an equivalence Ap,cl(F, n) ≃ Mapǫ−dggr

k

(k(p)[−p − n], DR(F/k)) in T.

(3) For F = Spec A, the complex ∧pLA has non-positive tor-amplitide, hence there are no non-trivial n-shifted p-forms
on F , for n > 0. For F = X an underived smooth scheme, a similar argument shows that F admits no non-trivial
n-shifted p-forms on F , for n < 0. If moreover X is proper over k, then the degeneration of the Hodge-to-de Rham
spectral sequence implies that the underlying p-form map is injective on π0.

For derived (higher) Artin stacks F , the space Ap(F, n) has the following equivalent description (smooth descent).

Proposition 1.1.9 [PTVV, Proposition 1.14] If F ∈ dSt is Artin, then we have an equivalence

Ap(F, n) ≃ MapQCoh(F )(OF , ∧pLF [n]) ,

functorial in F .

In particular π0(Ap(F, n)) ≃ Hn(X, ∧pLF ), for F Artin. Thus an n-shifted 2-form ω can be identiﬁed with a map
ω : OF → ∧2LF [n]. If F is moreover locally of ﬁnite presentation over k (so that its cotangent complex LF is perfect,
i.e. dualizable in QCoh(F )), we may associate to such an ω an adjoint map ω♭ : TF → LF [n], where TF denotes
the dual of LF in QCoh(F ), and it is called the tangent complex of F . An n-shifted 2 form ω on such an F is said
to be non-degenerate if the map ω♭ is an equivalence, i.e. an isomorphism in the derived category of quasi-coherent
complexes on F , and we will denote by A2
nd(F, n) the subspace of A2(F, n) consisting of connected components of
non-degenerate forms.

Deﬁnition 1.1.10 Let F be an derived Artin stack locally of ﬁnite presentation over k. The space of n-shifted
symplectic structures on F is deﬁned by the following pullback diagram in T

Sympl(F, n)

A2,cl(F, n)

,

A2

nd(F, n)

/ A2(F, n)

and an element in π0(Sympl(F ; n)) is called a n-shifted symplectic structure on F .

In other words, an n-shifted symplectic structure ω on F is a closed n-shifted 2-form on F whose underlying
2-form is non-degenerate; in particular, LF is self dual, up to a shift. We use the word symplectic structure instead of
symplectic form because a shifted symplectic structure is a closed- 2-form, and with respect to the underlying form,
this consists of additional structure rather than just being a property.

The non-degeneracy condition entails a mixture of the (higher) stacky (i.e. positive degrees in the cotangent
complex) and derived (i.e. negative degrees of the cotangent complex) nature of the stack F , and in particular it poses
it is clear that if LF has
severe restrictions on the existence of shifted symplectic structures on a given stack. E.g.
perfect amplitude in [a, b], then F may only support (a + b)-shifted symplectic structures. More precisely, it is easy to
check that for a smooth underived scheme X, not ´etale over k, the space Sympl(X, n) is empty for n 6= 0, and either
empty or contractible for n = 0, and moreover, the set of connected components of Sympl(X, 0) is in canonical bijection
with the set of usual algebraic symplectic forms on X ([PTVV, p. 298]). So, we get nothing new for smooth underived
schemes, or more generally, smooth Deligne-Mumford stacks. However, we will see in the following subsection that
there are plenty of derived schemes or stacks carrying interesting shifted symplectic forms.

7

/
/




/
1.2 Existence theorems and examples

We will now review the three basic existence theorems (Theorems 1.2.1, 1.2.5, 1.2.8, below) for shifted symplectic
structures established in [PTVV]. In combination they give a long list of non-trivial examples of shifted symplectic
stacks.

The ﬁrst interesting example of a shifted symplectic stack is the classifying stack BG of a smooth aﬃne reductive

group scheme over k. In this case ,we have ([PTVV, p. 299])

π0(Sympl(BG, n)) =(0

Symk(g

n 6= 2
nd n = 2

∨)G

where g is the Lie algebra of G, and Symk(g
nd is the set of non-degenerate G-invariant symmetric bilinear forms on
g. At the level of tangent complex TBG,e ≃ g[1], the underlying 2-form corresponding to a non-degenerate G-invariant
symmetric bilinear form σ : Sym2

k(g) → k is given by the composite

∨)G

TBG,e ∧ TBG,e

∼ /

/ g[1] ∧ g[1] ∼ /

/ Sym2

k(g)[2]

σ[2]

/ k[2],

where the central quasi-isomorphism is given by d´ecalage. For example, if G = GLn, the usual map (A, B) 7→ tr(AB),
for A, B (n × n) matrices over k, yields a 2-shifted symplectic form on BGLn. This example will be vastly generalized
in Theorem 1.2.8 below.

As a second example,

:=
SpecF (SymOF (TF [−n])) of a derived Deligne-Mumford stack F lfp over k, is canonically n-shifted symplectic via the
de Rham diﬀerential of the canonical shifted Liouville form ([PTVV, Proposition 1.21]). Recently, D. Calaque has
extended this result to derived Artin stacks lfp over k [Cal2].

for any n ∈ Z, one has

the n-shifted cotangent

that

stack T∗F [n]

The ﬁrst general existence result for shifted symplectic form is an enhanced derived version of the main result in

[AKSZ].

Theorem 1.2.1 Let F be a derived Artin stack lfp over k, equipped with a n-shifted symplectic form, and let X be an
O-compact derived stack equipped with a d-orientation [X] : H(X, OX ) → k[−d]. If MAPdSt(X, F ) is a derived Artin
stack lfp over k, then it carries a canonical (n − d)-shifted symplectic structure.

We direct the reader to [PTVV, 2.1] for the deﬁnition of O-compact derived stack, and for the notion of d-orientation
on a O-compact derived stack (i.e. for the special properties of the map [X] in the theorem), and to [PTVV, Theorem
2.5] for a detailed proof. Here we will content ourselves with a few comments.

First of all the class O-compact derived stacks equipped with a d-orientation includes compact smooth oriented
topological manifolds M of dimension d (identiﬁed with constant stacks with value M , and where capping with the
fundamental class gives the d-orientation), Calabi-Yau varieties of complex dimension d (where the orientation is given
by a trivialization of the canonical sheaf followed by the trace map), and De Rham stacks X = YDR for Y a smooth
and proper Deligne-Mumford stack with connected geometric ﬁbers, and relative dimension d/2 over Spec k 2 (where
the d-orientation is induced by the choice of a fundamental class in de Rham cohomology HdR(Y /k, O)).

As a second comment we outline the proof of Thm 1.2.1. One ﬁrst uses the evaluation map ev : X×MAPdSt(X, F ) →
F in order to pull back the n-shifted symplectic structure ω on F , to a closed form on X ×MAPdSt(X, F ); this pullback
is then “integrated along the ﬁber” of the projection X × MAPdSt(X, F ) → MAPdSt(X, F ), and this integrated form
is shown to be (n − d)-shifted symplectic. The possibility of deﬁning an integration along the ﬁber X is a consequence
of the deﬁnition of d-orientation on an O-compact stack ([PTVV, Deﬁnition 2.3]). Finally, we observe that the general
question of ﬁnding optimal conditions on X and F ensuring that MAPdSt(X, F ) is a derived Artin stack lfp over k is
delicate, the Artin-Lurie representability criterion (even in the simpliﬁed version of [HAG-II, Appendix]) will give an
answer in all the applications we will discuss below.

We come to the second existence theorem for shifted symplectic structures. Before stating it, we need to deﬁne
the notion of lagrangian structure on a map whose target is a shifted symplectic stack. We start by deﬁning what is
an isotropic structure on such a map.

Deﬁnition 1.2.2 Let X and F be derived Artin stacks lfp over k, ω a n-shifted symplectic structure on F , and
f : X → F a map. The space Isotr(f ; ω) of isotropic structures on the map f relative to ω is the space of paths
Ωf ∗ω,0A2,cl(X, n) between f ∗ω and 0 in the space of n-shifted closed p-forms on X. An element in γ ∈ π0(Isotr(f ; ω)),
i.e. a path between f ∗ω and 0, is called an isotropic structure on f relative to ω.

2The notion of de Rham stack will be deﬁned and discussed in Section 2.2

8

/
The idea, ubiquitous in all of derived geometry and higher category theory, and that we already saw in action in
the deﬁnition of closed forms (Def 1.1.3), is that it is not enough to say that there exists a path between f ∗ω and 0
in A2,cl(X, n) (this would be a property), but one rather has to specify one such path (i.e. a datum).

Once an isotropic structure γ is given, it makes sense to say that it has the property of being non-degenerate,
as follows. By composition with the underlying 2-form map u : A2,cl(X, n) → A2(X, n), the path γ induces a path
γu between u(f ∗ω) = f ∗(u(ω)) and 0 in A2(X, n). Since LX is perfect, by adjunction, this yields in turn a path γ♭
u
between (f ∗(u(ω)))♭ and 0 in MapPerf (X)(TX , LX [n]), where (f ∗(u(ω)))♭ is the composite

TX

a∨

/ f ∗TF

f ∗(u(ω)♭)

/ f ∗LF [n]

a[n]

/ LX [n] ,

a : f ∗LF → LX being the canonical map induced by f . If we denote by tf,ω the composite a[n] ◦ f ∗(u(ω)♭), we thus
obtain that γ♭

u is a homotopy commutativity datum for the square

TX

a∨

0

f ∗TF tf,ω

/ LX [n].

In particular, if we denote by T⊥

f,ω the pullback in the diagram

T⊥
f,ω

0

f ∗TF tf,ω

/ LX [n]

(i.e. the kernel of tf,ω), we get a canonical induced map θγ : TX → T⊥

f,ω in Perf (X).

Deﬁnition 1.2.3 In the setting of Deﬁnition 1.2.2, an isotropic structure γ ∈ π0(Isotr(f ; ω)) is called non-degenerate
or lagrangian if the induced map θγ : TX → T⊥
f,ω is an equivalence in Perf (X) (i.e. an isomorphism in the underlying
derived/homotopy category). The space Lagr(f ; ω) of lagrangian structures on f : X → F relative to ω is the subspace
of Isotr(f ; ω) consisting of connected components of lagrangian structures.

Remark 1.2.4 (1) It is easy to check that if X and F are underived smooth schemes, ω is a usual (i.e. 0-shifted)
symplectic structure on F , and f is a closed immersion, then Lagr(f ; ω) is either empty or contractible, and it is
in fact contractible iﬀ X is a usual smooth lagrangian subscheme of F via f . The nondegeneracy condition ensures
that the dimension of X is then half of the dimension of F , and in fact T⊥
f,ω is then quasi-isomorphic to the usual
symplectic orthogonal of TX = TX in TF = TX . Thus, the notion of lagrangian structure reduces to the usual notion
of lagrangian subscheme in this case.

(2) By rephrasing Deﬁnition 1.2.3, an isotropic structure γ ∈ π0(Isotr(f ; ω)) is lagrangian iﬀ the (homotopy) commu-
tative square

is actually a pullback square. But the square

TX

a∨

0

f ∗TF tf,ω

/ LX [n]

tf,ω

f ∗TF

LX [n]

f ∗(u(ω)♭)

id

f ∗LF [n]

/ LX [n]

a[n]

9

/
/
/
/
/




/
/
/




/
/
/




/
/
/




/
is a pullback because f ∗(u(ω)♭) is an equivalence (u(ω) being non-degenerate), hence γ is lagrangian iﬀ the outer
square in

TX

a∨

f ∗TF

0

tf,ω

/ LX [n]

f ∗(u(ω)♭)

id

f ∗LF [n]

/ LX [n]

a[n]

is cartesian, i.e.
dual map Θγ := ρ∨
and [PTVV, Deﬁnition 2.8].

iﬀ the induced canonical map ργ : TX → ker(a[n]) ≃ Lf [n − 1] is an equivalence i.e.

iﬀ the shifted
γ [n − 1] : Tf → LX [n − 1] is an equivalence. This shows the equivalence between Deﬁnition 1.2.3

n+1 (note that Lk ≃ Ω1

(3) As ﬁrst noticed by D. Calaque, shifted symplectic structures are particular instances of lagrangian structures (a fact
that is obviously false inside usual, 0-shifted and underived algebraic geometry). In fact, let n ∈ Z, X be a derived stack
lfp over k, f : X → Spec k be the structure map, and let us endow Spec k with the unique (n + 1)-shifted symplectic
structure ω0
k/k[0] ≃ 0[0], therefore for any m ∈ Z, there is a unique m-shifted symplectic form
given by the the shift of the zero form). Now, if γ ∈ π0(Lagr(f ; ω)) as in Deﬁnition 1.2.3, then γ is actually a loop at 0
inside A2,cl(X, n + 1), and its class [γ] ∈ π1(Ω0,0(A2,cl(X, n + 1))) ≃ π0(A2,cl(X, n))3 gives an n-shifted closed 2-form
ωγ on X. The non-degeneracy condition on γ is equivalent to the fact that the induced map Θγ : Tf ≃ TX → LX [n−1]
of point (2) in this Remark, is an equivalence. But it is easy to check that this map is exactly ω♭
γ, hence ωγ is indeed
an n-shifted symplectic form on X. By using again that π1(Ω0,0(A2,cl(X, n + 1))) ≃ π0(A2,cl(X, n)), and running the
previous argument backwards, we get an equivalence of spaces Sympl(X, n) ≃ Lagr(f : X → Spec k, ω0

n+1).

The link between shifted symplectic structures and lagrangian structures expressed in Remark 1.2.4 (3) extends to

the case of lagrangian intersections as follows.

Theorem 1.2.5 Let n ∈ Z, (F, ω) be a n-shifted symplectic stack, fi : Xi → F , i = 1, 2 maps between derived
Artin stacks lfp over k, and γi lagrangian structures on fi relative to ω, i = 1, 2. Then, there is a canonical induced
(n − 1)-shifted symplectic structure on the ﬁber product X1 ×F X2.

Recall that, according to our conventions, all ﬁber products of derived stacks are taken in the ∞-category of derived
stacks, and are therefore implicitly derived ﬁber products. We refer the reader to [PTVV, Theorem 2.9] for a proof
of Theorem 1.2.5. We will only give a sketch of the argument in the classical case i.e. for n = 0, F, X1, X2 underived
smooth schemes, and fi closed immersions, i = 1, 2, in order to convey the main idea of why Theorem 1.2.5 is true.
Under our hypotheses, X1 and X2 are usual lagrangian smooth subschemes of the smooth symplectic scheme F . If
X12 := X1 ×F X2 denotes the (derived) intersection of X1 and X2 inside F , we may pull back the closed form ω to
X12 in two diﬀerent ways, i.e. using f1 or f2, and get two closed forms ω1 and ω2 on X12. Now, X12 is a derived
ﬁber product, hence these two pullbacks come equipped with a canonical path γ between them inside A2,cl(X12, 0).
On the other hand, as X1 and X2 are lagrangian subschemes we have ω1 = ω2 = 0, so that γ is in fact a loop at 0 in
A2,cl(X12, 0). Since, π1(A2,cl(X12, 0); 0) ≃ π0(A2,cl(X12, −1)), the class [γ] ∈ π0(A2,cl(X12, −1)) deﬁnes a (−1)-shifted
closed 2-form on X12, whose non-degeneracy follows easily from the same property for ω. Thus [γ] is a (−1)-shifted
symplectic structure on the derived intersection X12. The appearence of a (−1)-shift here perhaps explains why this
phenomenon, even though arising from a completely classical situation in usual (algebraic) symplectic geometry, was
not observed before.

Remark 1.2.6 The following special case of 1.2.5 is particularly relevant for applications to Donaldson-Thomas
invariants (see Theorem 1.2.10 below). Let X be a smooth underived scheme and g : X → A1
k a smooth function.
We may embed X inside its cotangent bundle either via the zero section or via the diﬀerential dg : X → T∗X,
and both these immersions are lagrangian with respect to the standard symplectic structure on T∗X. The derived
intersection of these two lagrangians is called the derived critical locus of g, and is denoted by dCrit(g). Note that
its truncation is the usual scheme-theoretic critical locus of g. Now, Theorem 1.2.5 endow dCrit(g) with a canonical

3This isomorphism is perhaps more familar to the reader in the following form: a self-homotopy h of the zero map of complexes

0 : E → F is the same thing as map of complexes E → F [1].

10

/
/






/


/
(−1)-shifted symplectic structure ωg. One can rather easily give an explicit description of ωg using Koszul resolutions
(see, e.g.
[Vez1]), and observe that a similar result holds by replacing dg with an arbitrary closed 1-form on X.
However, since derived critical loci are particularly important as local models of (−1)-shifted symplectic structures,
the generalization to derived zero schemes of closed 1-forms has not yet received much attention. Also notice that the
previous construction can be easily generalized to build derived zero loci of sections of arbitrary locally free sheaves
on X.

Remark 1.2.7 One may combine Theorem 1.2.1 and Deﬁnition 1.2.3 together with a notion of relative orientation,
in order to get a relative version of Theorem 1.2.1. This is due to D. Calaque ([Cal, 2.3]). Here is an outline of
the construction. Given a map of derived stacks b : B → X, and a perfect complex E on X, we let H(XrelB, E)
be the ﬁber of the induced map bE : Γ(X, E) → Γ(B, b∗E). We deﬁne a relative d-orientation on b is a map
ηb : H(XrelB, OX ) → k[−d] satisfying the following two non-degeneracy properties. First of all, we assume that B
is O-compact, and we require that the composite map Γ(B, OB) → H(XrelB, OX )[1] → k[−d + 1] deﬁnes a (d − 1)-
orientation on B. Then, for any E ∈ Perf (X), we ask that the induced map

Γ(X, E) ⊗ H(XrelB, E∨)

α /

/ H(XrelB, OX )

ηb

/ k[−d]

yields, by adjunction, an equivalence Γ(X, E) ≃ H(XrelB, E∨)[−d]. Here α is the map induced on the vertical ﬁbers
of

Γ(X, E) ⊗ Γ(X, E∨)

tr

Γ(X, OX )

id⊗bE∨

bOX

Γ(X, E) ⊗ Γ(B, b∗E∨)

tr (bE ⊗id)

/ Γ(B, OB).

Given a d-orientation ηb on the map b : B → X, a (n + 1)-shifted symplectic stack Y ′, a map ℓ : Y → Y ′, and a
lagrangian structure on f , we may consider the derived stack

MAPdSt(b, f ) := MAPdSt(B, Y ) ×MAPdSt(B,Y ′) MAPdSt(X, Y ′)

of arrows from b to f . The generalization of Theorem 1.2.1 to this relative situation says that if MAPdSt(b, ℓ) and
MAPdSt(X, Y ) are derived Artin stacks lfp over k, then MAPdSt(b, ℓ) has a canonical (n − d + 1)-shifted symplectic
form, and there is a canonical lagrangian structure on the natural map MAPdSt(X, Y ) → MAPdSt(b, ℓ). If we take B to
be empty (so that ηb is just a d-orientation on X), and Y = (Spec k, ω0
n−d+1),
and by Remark 1.2.4 (3), we get back Theorem 1.2.1. But we may also take Y = (Spec k, ω0
n+1), and B arbitrary (non-
empty), and we get a lagrangian structure on the restriction map MAPdSt(X, Y ) → MAPdSt(B, Y ) ≃ MAPdSt(b, ℓ),
where MAPdSt(B, Y ) is (n−d+1)-symplectic (consistently with Theorem 1.2.1, since B is (d−1)-oriented by hypothesis,
and Y is n-shifted symplectic by Remark 1.2.4 (3)). In other words, what we gain in this case, is that restriction to
the boundary (for maps to a ﬁxed shifted symplectic target) is endowed with a lagrangian structure. Examples of
relative orientations includes topological examples (where b is the inclusion of the boundary in a compact oriented
topological d-manifold with boundary), and algebro-geometric ones where b is the inclusion of the derived zero locus
(Remark 1.2.6) of a section of the anti-canonical bundle of a smooth projective variety of dimension d. When B is a
K3 surface inside a Fano 3-fold, this might be compared with [Ty, Proposition 2.2]. For more details, we address the
reader to [Cal, 3.2.2], and [To2, p. 227].

n+1), we have MAPdSt(b, ℓ) ≃ (Spec k, ω0

The last general existence theorem for shifted symplectic structures is a generalization of the 2-shifted symplectic

structure on BGLn described at the beginning of this subsection.
Let Perf be the derived stack classifying perfect complexes. It can be deﬁned as the functor sending a cdga A to the
nerve of the category of coﬁbrant perfect A-dg-modules with morphisms only the quasi-isomorphisms (as an ∞-functor
it sends A to the coherent nerve of the Dwyer-Kan localization of the previous category). The truncation of Perf is
the (higher) stack ﬁrst introduced and studied in [HS]. Though Perf is not strictly speaking a derived Artin stack lfp
over k, it is quite close to it: it is locally geometric, i.e. it is a union of open derived Artin substacks lfp over k, e.g.
Perf ≃ ∪n≥0Perf[−n,n], where Perf [−n,n] is the derived stack classifying perfect complexes of Tor-amplitude contained
in [−n, n] ([To-Va, Proposition 3.7]).
In particular, it makes sense to ask wether Perf carries a shifted symplectic

structure, as we know its substack Perf[−0,0] = BGL ≃`n≥0 BGLn does. As shown in [PTVV, Theorem 2.12], the

answer is aﬃrmative.

11

/
/
/




/
Theorem 1.2.8 The derived stack Perf has a canonical 2-shifted symplectic structure.

We will brieﬂy give an idea of the proof, and address the readers to [PTVV, Theorem 2.12] for all details. First of all,
by deﬁnition, Perf carries a universal perfect complex E, and we consider its perfect OPerf -Algebra of endomorphisms
B := REndOPerf (E) ≃ E ∨ ⊗OPerf E. One checks that TPerf ≃ B[1], and thus gets a well deﬁned map

ω0 : TPerf ∧OPerf TPerf

∼ /

/ SymOPerf (B)[2] mult /

/ B[2] ≃ E ∨ ⊗OPerf E[2]

tr[2]

/ OPerf [2]

where tr denotes the trace (or evaluation) map for the perfect complex E. So, ω0 is a well deﬁned, and non-degenerate
2-shifted 2-form on Perf. So, it only remains to show that there exists a 2-shifted closed 2-form ω on Perf, whose
underlying 2-form is ω0. By [To-Ve-2], or [Hoy, Theorem 2.1], one can prove that the weight 2 component of the
reﬁned Chern character Ch(E) (with values in negative cyclic homology) as deﬁned in [To-Ve-1] is indeed a 2-shifted
closed 2-form on Perf whose underlying 2-form is 1
2 ω0, thus ω := 2Ch2(E) is indeed a 2-shifted symplectic form on Perf
whose underlying 2-form is ω0.

By combining Theorem 1.2.1, 1.2.5, and 1.2.8, we get the following (non-exhaustive) list of geometrically interest-

ing, classes of examples of n-shifted symplectic derived stacks:

• the derived stack Perf(X) := MAPdSt(X, Perf) of perfect complexes on a Calabi-Yau variety of dimension d (n =
2 − d).
• the derived stack Perf(M ) := MAPdSt(const(M ), Perf) of perfect complexes on a compact oriented topological
manifold M of dimension d (n = 2 − d).
• the derived stack RVectn(X) of rank n vector bundles on a Calabi-Yau variety of dimension d (n = 2 − d).
• the derived stack RVectn(M ) of rank n vector bundles on a compact oriented topological manifold M of dimension
d (n = 2 − d).
• the derived stack RBunG(X) of G-torsors on a Calabi-Yau variety of dimension d, for G reductive (n = 2 − d).
• the derived stack RLocG(M ) of G-local systems on a compact oriented topological manifold M of dimension d
(n = 2 − d)
• MAPdSt(X, Y ), for X a smooth and proper d-dimensional Calabi-Yau scheme, and Y a smooth symplectic scheme
(n = −d).
• MAPdSt(X, T∗Y [m]), for X a smooth and proper d-dimensional Calabi-Yau scheme, and Y a derived Artin stack
lfp over k (n = m − d).
• iterated derived free loop spaces MAPdSt(const((S1)d), Y ) of a smooth symplectic scheme Y , and more generally,
MAPdSt(const(M ), Y ), for M a compact oriented topological d-manifold, and Y a smooth symplectic scheme (n = −d).
• the derived stack RLocDR
G (X) of ﬂat G-bundles on X, a d-dimensional smooth and proper Deligne-Mumford stack
(n = 2 − 2d).
• the derived moduli stack MAPdSt(XDol, Perf) of Higgs ﬁelds on a proper and smooth Deligne-Mumford stack of
dimension d (n = 2 − 2d).
• the derived moduli stack MT of compact objects in a d-Calabi-Yau dg-category T , e.g. the so-called non-commutative
K3 sub-dg-category of the derived dg-category of a cubic 4-fold (n = 2 − d, and d = 2 for a non-commutative K3).4

Remark 1.2.9 If X is a proper and smooth scheme over k, and D is a smooth Calabi-Yau divisor in the anti-canonical
class, then Remark 1.2.7 together with Thms. 1.2.1 and 1.2.8 give us a lagrangian structure on the restriction map
Perf(X) = MAPdSt(X, Perf) → MAPdSt(D, Perf) = Perf(D), The same is true for the restriction map RBunG(X) →
RBunG(D) between the derived stack of torsors under a smooth reductive group scheme G over k.

As a sample consequence of Theorem 1.2.1, 1.2.5, and 1.2.8, we recall the following important result ([BBJ,
Corollary 5.19]) by Brav-Bussi-Joyce, establishing the existence of a local algebraic potential for Donaldson-Thomas
moduli spaces attached to Calabi-Yau 3-folds.

Theorem 1.2.10 (Brav-Bussi-Joyce) The moduli space MDT of simple coherent sheaves or of complexes of coherent
sheaves on a Calabi-Yau 3-fold is Zariski-locally isomorphic, as a (−1)-shifted symplectic derived scheme, to the derived
critical locus (as in Remark 1.2.6) of a regular function f : U → A1

k over a smooth k-scheme U .

4See e.g. [KS, 3.3] for a deﬁnition of a d-Calabi–Yau dg-category, and [To2, 5.3] for a sketch of a proof of this result.

12

/
The function in the statement is called the Donaldson-Thomas potential. Our existence theorems combine to give
MDT a (−1)-shifted symplectic structure, and the authors achieve Theorem 1.2.10 by proving a local structure theorem
(Darboux style) for derived schemes X endowed with a (−1)-shifted symplectic structure: any such X is Zariski-locally
a derived critical locus of a regular function on a smooth scheme. A similar statement in the C-analytic category was
proved before by Joyce-Song [JS, Theorem 5.4] using Gauge Theory, and a version valid formally locally at any point
of MDT , by Kontsevich-Soibelman [KS, Section 3.3]. Obviously, Theorem 1.2.10 is a considerably stronger and more
precise result.

2 Shifted Poisson structures

Setting up a notion of shifted Poisson structure for suﬃciently general derived Artin stacks turns out to be much
more complicated than the case of shifted symplectic structures, described in the previous section. On the other
hand, a shifted Poisson structure on a derived stack F is exactly the right structure that controls the deformation
quantization of the ∞-category of perfect complexes on F . Therefore, in order to establish deformation quantizations
for all the shifted symplectic derived moduli spaces listed at the end of Section 1, one also needs a comparison between
shifted symplectic structures and (non-degenerate) shifted Poisson structures. Unfortunately, this comparison, which
classically takes no more than two lines, is rather tricky in the derived setting, due to the fact that all the structures
involved in the comparison are weak ones i.e. deﬁned up-to-homotopy. The general theory of shifted Poisson structures,
a comparison with shifted symplectic structures, and applications to deformation quantization of derived moduli spaces,
have all been developed recently in [CPTVV], which is more than 100 pages long. In this Section we give a summary
of the main constructions and results from [CPTVV], and a guide to its reading.

2.1 Diﬀerential calculus

In order to be able to deﬁne and study shifted Poisson structures on derived Artin stacks, we will need to have at
our disposal a machinery of derived diﬀerential calculus (de Rham complex, shifted polyvectors etc.) working in
suﬃciently general setting. Thus, let M be a stable presentable symmetric monoidal ∞-category which is k-linear
i.e. enriched over the ∞-category dgk ([Lu4, Deﬁnition 2.0.0.7]). In this paper, M will always be obtained as the
coherent nerve of the Dwyer-Kan localization of a dgk-enriched symmetric monoidal model category M satisfying some
additional technical properties for which we address the reader to [CPTVV, 1.1 and 1.2] 5. And we will suppose that
the enrichment is induced by a symmetric monoidal functor dgk → M.

For our present purposes, it will be enough to keep in mind some of the examples we will be most frequently
k of Z-graded dg-modules over k, the ∞-category ǫ − dgk
k of Z-graded mixed dg-modules over k, or more generally, any

interested in: M could be dgk itself, the ∞-category dggr
of mixed dg-modules over k, the ∞-category ǫ − dggr
category of diagrams in the previous examples.

We denote by CAlgM the model category of commutative algebras in M, and by CAlgM = L(CAlgM), the corre-

sponding ∞-category.

The symmetric monoidal model category ǫ − Mgr of mixed graded objects in M is deﬁned by replacing dgk with
M in the deﬁnition at the beginning of Section 1.1 (and with the cohomological shift deﬁned here as P [1] := P k[−1],
for P ∈ Mgr, using the co-tensor enrichment of M over dgk). The model category of commutative monoids in ǫ − Mgr
is denoted by ǫ − CAlggr
M , and called the model category of graded mixed algebras in M. The corresponding ∞-
categories will be denoted by ǫ − Mgr, and ǫ − CAlggr
M. Note that we have a canonical equivalence of ∞-categories
CAlg(ǫ − Mgr) ≃ ǫ − CAlggr
M ([Lu4, Theorem 4.5.4.7]).

2.1.1 De Rham theory
As explained in Remark 1.1.5, for any A ∈ CAlgM, we have the associated de Rham algebra DRM(A), a mixed graded
algebra in M, where DRM : CAlgM → ǫ − CAlggr
M to
its weight 0 part B(0). Note that if A ∈ cdgak, then DR(A) of Deﬁnition 1.1.1 is exactly DRM(A), with M = dgk.
There is an ∞-functor

M is the left adjoint to the ∞-functor sending B ∈ ǫ − CAlggr

A − ModM −→ T ,

P 7−→ Der(A, P ) := MapCAlgM/A(A, A ⊕ P )

5By [Ni-Sa], it is likely that any k-linear stable presentable symmetric monoidal ∞-category can be obtained this way.

13

which is co-represented by an A-module LM
Section 1.1, one can prove ([CPTVV, Proposition 1.3.12]) that the canonical map

A in M, called the cotangent complex or cotangent object of A. As in

SymA(LM

A [−1]) −→ DRM(A)

is functorial in A, and an equivalence in CAlggr
the construction DRM endows the graded algebra SymA(LM
(weak) de Rham diﬀerential.

M (i.e. forgetting the mixed structure in the target). In other words,
A [−1]) with a canonical (weak) mixed diﬀerential, the

For the sake of brevity, we will omit the completely analogous deﬁnitions and results in the relative setting, i.e. for
morphisms in CAlgM. We will instead say a few words about strict models of the above constructions, i.e. inside the
model category M. First of all, if A′ ∈ CAlgM, then the functor

A′ − ModM −→ T ,

P 7−→ Der(A′, P ) := HomCAlgM/A′ (A′, A′ ⊕ P )

is co-represented by an A′-module Ω1
M,A′ in M called the module of K¨ahler diﬀerentials of A′. If A ∈ CAlgM and QA is
a coﬁbrant model for A in CAlgM, then we have a canonical equivalence Ω1
A in A−ModM ≃ QA−ModM.
Furthermore, the functor ǫ − CAlggr
M → CAlgM selecting the weight 0 component, has a left adjoint DRM, thus for
any A′ ∈ CAlgM, DRM(A′) is a strict mixed graded algebra in M. Still for an arbitrary A′ ∈ CAlgM, we also have a
functorial isomorphism

M,QA ≃ LM

SymA′(Ω1

M,A′ [−1]) −→ DRM(A′)

M of strict graded algebras in M. This precisely says that SymA′(Ω1

in the category CAlggr
M,A′[−1]) has a strict mixed
structure, the de Rham diﬀerential. If A ∈ CAlgM and QA is a coﬁbrant model for A in CAlgM, then there is a
an equivalence DRM(QA) ≃ DRM(A) in ǫ − CAlggr
M,QA[−1]) with the
induced mixed structure, is a strict model for DRM(A) in ǫ − CAlggr
M.

M, i.e. DRM(QA), or equivalently SymA′(Ω1

Diﬀerential forms. Again as in Section 1.1, as suggested in Remark 1.1.5, we may deﬁne (closed) shifted diﬀerential
forms for commutative algebras in M.

Deﬁnition 2.1.1 Let A ∈ CAlgM.

• The space of closed n-shifted p-forms on A is

Ap,cl

M (A, n) := Mapǫ−Mgr (1M(p)[−p − n], DRM(A)) ∈ T.

An element in π0(Ap,cl

• The space of n-shifted p-forms on A is Ap

M (A, n)) is called a closed n-shifted p-form on A.
M(A, n) := MapM(1M[−n], ∧p

is called a n-shifted p-form on A.

ALM

A ) ∈ T. An element in π0(Ap

M(A, n))

• Since SymA(LM

A [−1]) ≃ DRM(A), there is an induced map u : Ap,cl(A, n) → Ap(A, n), called the underlying

p-form map.

If ω is a n-shifted 2-form on A, and we assume that LM

u(ω)♭ : TM
an equivalence.

A → LM

A [n] in A − ModM, where TM

A denotes the dual of LM

A is dualizable in A − ModM, then u(ω) induces a map
A . We say that ω is non-degenerate if u(ω)♭ is

Deﬁnition 2.1.2 Let A ∈ CAlgM. The space of n-shifted symplectic structures on A is the subspace Sympl(A, n) of
Ap,cl

M (A, n) whose connected components consist of non degenerate forms.

Remark 2.1.3 Note that, even if the notation Sympl(A, n) does not record M, this space obviously depends on the
category M inside which we are working. In Section 2.2, we will explain how the abstract Deﬁnition 2.1.2 gives back
the deﬁnition of a shifted symplectic structure on a derived Artin stack (Deﬁnition 1.1.10).

14

2.1.2 Polyvectors
Let Liegr
category of Liegr
by dgLiegr
Liegr
M, and Liegr

k be the graded Lie operad in dgk, where the bracket operation has degree −1. We let dgLiegr

k be the model
k -algebras, i.e. graded Lie-algebras in dgk, where the (strict) Lie bracket has weight −1; we denote
k ). By using our enriching functor dgk → M, we get an operad
M , the model category of graded Lie-algebras in

M in M. Taking algebras with respect to this operad, we have Liegr

k , the corresponding ∞-category L(dgLiegr

M, the corresponding ∞-category L(Liegr

M ).

Similarly, for n ∈ Z, we will denote by Pn the dg-operad (i.e. the operad in dgk) whose algebras are Poisson cdga’s
with a bracket of degree (1−n). Recall that, for n > 1, Pn can be identiﬁed with the operad of chains of the topological
n-little disks operad En (see [Coh]). We will also be interested in a graded version of Pn, denoted by Pgr
n : this is an
operad in dggr
k , whose algebras have multiplication of weight (= external grading) 0, and bracket of weight −1. The
= Pn −cdgagr
corresponding model categories of algebras will be denoted by Pn −Algdgk
k ;
the associated ∞-categories by Pn − Algdgk

= Pn −cdgak, and Pgr
n −Algdgk
= Pn − cdgagr
k .

= Pn − cdgak, and Pgr

By using our enriching functor dgk → M, we thus get operads PM,n in M, and Pgr

M,n-algebras
are commutative algebras B in Mgr endowed with a bracket operation [−, −]p,q : B(p) ⊗M B(q) → B(b + q − 1)[1 − n],
which is a graded bi-derivation, and endows B[n − 1] with a Lie algebra structure inside Mgr. The corresponding
∞-categories L(PM,n − Alg) and L(Pgr
M,n − Alg) of algebras over these operads, will be denoted by PM,n − Alg and
Pgr
M,n − Alg, respectively.

M,n in Mgr. Note that Pgr

n − Algdgk

For A′ ∈ CAlgM, p ≥ 0, and m ∈ Z, we deﬁne the object (in M) of m-shifted, degree p polyvectors PolM(A′, n)(p)
on A′, as follows. We consider T(p)(A′, m) ∈ M the sub-object of HomM(A′⊗p
, A′[mp]) (where HomM is the internal
Hom-object in M) consisting of (shifted) multiderivations ([CPTVV, Section 1.4.2.]). There is a natural action of
the symmetric group Σp on HomM(A′⊗p
and by the (−1)m × Sign
action on A′[mp]. this action restricts to an action on T(p)(A′, m), and we denote by T(p)(A′, m)Σp the M-object of
M,A′, A′[m]).
Σp-invariants. By standard conventions, we put T(0)(A′, m) = A′, and notice that T(1)(A′, m) = HomM(Ω1

, A′[mp]) induced by its standard action on A′⊗p

Deﬁnition 2.1.4 For A′ ∈ CAlgM, and n ∈ Z, we deﬁne the Mgr-object of n-shifted polyvectors on A′ to be

PolM(A′, n) :=Mp

T(p)(A′, −n)Σp .

As in the classical case, there is a “composition” (by insertion) of shifted multiderivations and there is a Schouten-
Nijenhuis-like bracket of shifted multiderivations, so that PolM(A′, n) becomes a graded Pn+1-algebra in M, i.e. an
object in PM,n+1 − Alg.

M,A′ is (strictly) dualizable in A′ − ModM, then it is easy to prove that there is an
Remark 2.1.5 If A′ is such that Ω1
isomorphism T(p)(A′, m)Σp ≃ Symp(TM,A′[−m]) in M, and more generally PolM(A′, n) ≃ ⊕p≥0Symp(TM,A′ [−m]) in
PM,n+1 − Alg, where TM,A′ is the A′-dual of Ω1
M,A′ (and, on the rhs the multiplication is the one induced by Sym, while
the bracket is the one canonically induced by the Lie bracket in TM,A′). Note that, however, we have not used TM,A′
directly, in order to deﬁne PolM(A′, n). We used multiderivations instead, and the the possible deﬁnitions agrees only
under the hypotheses that Ω1

M,A′ is (strictly) dualizable.

The construction A′ 7→ PolM(A′, n) is not fully functorial, since we can neither pullback nor pushforward multi-
derivations in general. However it is possible to deﬁne a restricted functoriality ([CPTVV, Lemma 1.4.13]) at the level
of ∞-categories, enabling us to give the following

Deﬁnition 2.1.6 Let n ∈ Z, and CAlgf´et
ones (i.e. maps A → B such that LB/A ≃ 0): Then there is a well-deﬁned ∞-functor

M the sub ∞-category of CAlgM whose maps are only the formally ´etale

PolM(−, n) : CAlgf´et

M −→ PM,n+1 − Alg,

such that if A ∈ CAlgM and A′ is a ﬁbrant-coﬁbrant replacement of A inside CAlgM, then we have an equivalence
PolM(A, n) ≃ PolM(A′, n) in PM,n+1 − Alg.

Remark 2.1.7 If A ∈ CAlgM is such that LM
equivalence PolM(A, m) ≃ ⊕p≥0Symp(TM

A [−m]).

A is dualizable in A − ModM, then one deduces from Remark 2.1.5 an

15

We are now in a position to give the deﬁnition of a shifted Poisson structure. Recall that if A ∈ CAlgM, then

PolM(A, n) ∈ PM,n+1 − Alg, so that, in particular, PolM(A, n)[n] ∈ Liegr
M.

Deﬁnition 2.1.8 Let n ∈ Z, and A ∈ CAlgM. The space of n-shifted Poisson structures on A is

Poiss(A, n) := MapLiegr

M

(1M[−1](2), PolM(A, n + 1)[n + 1]),

where 1M[−1](2) is the Lie algebra object in M given by 1M sitting in pure cohomological degree 1, and pure weight
2, with (strictly) trivial bracket.

This deﬁnition mimicks the classical one:

k , in the
above deﬁnition, we get exactly the set of Poisson bivectors on A (the bracket being trivial on 1[−1](2) = k[−1](2),
the image of 1 ∈ k gives a biderivation on π on A, such that [π, π] = 0).

if M = dgk, and we replace Map by strict Hom-set in dgLiegr

2.1.3 Standard realizations over k

For the theory of shifted Poisson structures on derived stacks that we develop in Section 2.3 we will systematically
need to pass to global sections. This procedure can be implemented already at the level of generality of the present
section, by considering what we call standard realizations over k. A more technical notion of realization over k (the
Tate realization) will be discussed later on in this Section.

One of our standing hypotheses on the base symmetric monoidal dgk model category M is that the unit 1M is

coﬁbrant. Hence we get a Quillen adjunction, with 1M ⊗ − left adjoint,

where ⊗ denotes the tensor dgk-enrichment of M, and Homk is the Hom-enrichment of M in dgk. This induces a
derived ∞-adjunction on the associated ∞-categories

1M ⊗ − : dgk

/ M : Homk(1M, −)

1M ⊗ − : dgk

/ M : RHomk(1M, −) ,

and we deﬁne the standard realization functor as the right adjoint | − | := RHomk(1M, −). Actually this is the ﬁrst of
a series of realization functors induced on various categories of algebras in M. In fact, since 1M is a comonoid object
in M (hence in M), | − | is actually a lax symmetric monoidal ∞-functor, hence it is a right adjoint on various functor
on categories of “algebras” in M. Our notation will always be | − | for each of these induced realization functors. For
example, we have

|−| : CAlgM → cdgak ,

|−| : CAlggr

M → cdgagr
k ,

|−| : ǫ−CAlgM → ǫ−cdgak ,
|−| : PM,n−Alg → Pn−cdgak ,

|−| : ǫ−CAlggr

M → ǫ−cdgagr
k ,
M,n−Alg → Pn−cdgagr
k .

|−| : Pgr

|−| : LieM → dgLiek ,
In particular we get realizations
|LM

B/A| =: LB/A ∈ dgk ,

|−| : Liegr

M → dgLiegr
k ,

|DRM(B/A)| =: DR(B/A) ∈ ǫ − cdgagr
k ,

|PolM(A, n)| =: Pol(A, n) ∈ Pn+1 − cdgagr
k .

Note that when M = dgk, all this realization functor are (equivalent to) the identity functors.

Later on, we will consider realization functors on category of diagrams in M, and it will be useful to recall the

following fact. The dgk-enriched Hom in a category of diagrams I op → M, satisﬁes
HomM(1M, F (x)),

HomMIop (1MIop , F ) ≃ lim
x∈I op

since the monoidal unit 1MIop is given by the constant I op-diagram at 1M. This observation is the reason for the
appearance, in Thm 2.2.12, of (derived) global sections of various algebras over the derived aﬃne site of a derived
stack.

Example 2.1.9 As examples of the use of standard realization, by deﬁnition of | − | as a right adjoint, we have, for
any A ∈ CAlgM, the following equivalences in T

Poiss(A, n) ≃ MapdgLiegr

k

(k[−1](2), Pol(A, n + 1)[n + 1]),

Ap,cl

M (A, n) ≃ Mapǫ−dggr

k

(k(p)[−p − n], DR(A)) , Ap

M(A, n) ≃ Mapdgk

(k[−n], ∧p

|A|LA).

16

/
o
o
/
o
o
2.1.4 Comparison between Poisson algebras and shifted Poisson pairs

We need a few notations. For an arbitrary ∞-category C, I(C) will denote its moduli space or maximal ∞-subgroupoid
of equivalences (so that I(C) ∈ T), C∆[1] the ∞-category of morphisms in C, and ev0, ev1 : C∆[1] → C the source
and target ∞-functors. For a model category C, we denote by CW
cf the category of coﬁbrant-ﬁbrant objects in C with
morphisms given by weak equivalences.

The nerve of CW

cf is called the moduli space or classifying space (of objects and equivalences) of C. It is a general
fact (going back essentially to Dwyer and Kan) that we have an equivalence of spaces between the moduli space of C
and the space I(C). In other words, we may (and will) identify the moduli space of C with the moduli space of the
associated ∞-category C. We will be interested, below, in the moduli spaces of the ∞-categories PM,n − Alg, Liegr
M,
and CAlgM, associated to the model categories PM,n+1 − Alg, Liegr

M , and CAlgM, respectively.

For A ∈ PM,n −Alg, we will write PM,n(A) for the space of Pn algebra structures on A having the given underlying
commutative algebra structure. More precisely, there is a forgetful ∞-functor U : PM,n − Alg → CAlgM (forgetting
the bracket structure), and the ﬁber of U at a given A ∈ CAlgM is an ∞-groupoid, i.e. a space, that we denote by
PM,n(A).

We have a canonical ∞-functor

v : I(CAlgM) ∋ A 7−→ (1[−1](2), PolM(A, n)[n]) ∈ LieAlggr

M × LieAlggr

M

(note that A 7→ PolM(A, n) is functorial with respect to equivalences in CAlgM, since obviously equivalences are
formally ´etale). Borrowing ideas from [Vez2, 3.1], we deﬁne the space Poisseq

M,n as the following pullback of in T

Poisseq

M,n

q

I((LieAlggr

M)∆[1])

(I(ev0),I(ev1))

I(CAlgM)

I(v)

/ I(LieAlggr

M × LieAlggr

M) .

Thus, informally speaking, Poisseq

M,n is the moduli space of n-shifted Poisson pairs (A, π), consisting of a com-
mutative algebra A in M together with a n-shifted Poisson structure on A (see Deﬁnition 2.1.8). More precisely, let
Poisseq
M,n be the category whose objects are pairs (A, π) where A is a ﬁbrant-coﬁbrant object in CAlgM, and π is a
n-shifted Poisson structure on A, i.e a map 1M[−1](2) → PolM(A, n + 1)[n + 1] in the homotopy category of LieAlggr
M ,
and whose morphisms (A, π) → (A′, π′) are weak equivalences u : A → A′ in CAlgM such that the diagram

1M[−1](2)

PolM(u,n+1)[n+1]

PolM(A, n + 1)[n + 1]

π

6❧❧❧❧❧❧❧❧❧❧❧❧❧❧
(❘❘❘❘❘❘❘❘❘❘❘❘❘

π′

PolM(A′, n + 1)[n + 1]

is commutative in the homotopy category of LieAlggr

M . Then, the nerve of Poisseq

M,n is equivalent to Poisseq

M,n.

There is a (strict) functor w : PM,n+1 − AlgW

M,n, sending a strict Pn+1-algebra B in M to the pair (B, π),
where π is induced, in the standard way, by the (strict) Lie bracket on B (since the bracket is strict, it is a strict
biderivation on B). Restriction to weak equivalences (between coﬁbrant-ﬁbrant objects) in PM,n+1 − Alg ensures this
is a functor, and note that objects in the image of w are, by deﬁnition, strict pairs (B, π), i.e. the shifted Poisson
structure π : 1M[−1](2) → PolM(A, n+ 1)[n+ 1] is an actual morphism in LieAlggr
M (rather than a map in its homotopy
category). We have a commutative diagram of functors

cf → Poisseq

PM,n+1 − AlgW
cf

w

/ Poisseq
M,n

'❖❖❖❖❖❖❖❖❖❖❖❖

u

yssssssssss

q

(CAlgM)W
cf

17

/
/




/


6
(
'
/
y
where u forgets the bracket structure, and q is the functor (A, π) 7→ A. Taking the nerves of the previous diagram,
we get a commutative diagram in T (where we have kept the same name for the maps)

I(PM,n+1 − Alg)

w

/ Poisseq

M,n

I(CAlgM)

(◗◗◗◗◗◗◗◗◗◗◗◗◗

u

x♣♣♣♣♣♣♣♣♣♣

q

Note that u, and q are both surjective, since they both have a section given by the trivial bracket or strict shifted
Poisson structure. Moreover, the ﬁber of q at A ∈ CAlgM is obviously equivalent to the space PoissM(A, n) of
n-shifted Poisson structures on A (Deﬁnition 2.1.8). The following is a slight enhancement of [Me, Theorem 3.2].

Theorem 2.1.10 The map of spaces w : I(PM,n+1 − Alg) → Poisseq

M,n is an equivalence.

Proof. It is enough to prove that for any ﬁbrant-coﬁbrant A ∈ CAlgM, the map induced by w between the u and q
ﬁbers over A is an equivalence. But, since these ﬁbers are, by deﬁnition, PM,n+1(A) (the moduli space of Pn-algebra
structures on A having the given underlying commutative algebra structure), and PoissM(A, n) (the space of n-shifted
Poisson structure on A), this is exactly [Me, Theorem 3.2].
✷

For future reference, we also state the following immediate consequence.

Corollary 2.1.11 (Melani) For any A ∈ CAlgM,
the map w of Theorem 2.1.10 induces an equivalence
wA : PM,n+1(A) ≃ PoissM(A, n) between the moduli space of Pn-algebra structures on A (having the given under-
lying commutative algebra structure), and the moduli space of n-shifted Poisson structures on A.

Proof. As mentioned above, this is exactly [Me, Theorem 3.2].

✷

Remark 2.1.12 (1) Theorem 3.2 in [Me] is stated for the model category M of bounded above cochain complexes
of k-modules, but the proof is general and it extends immediately to our general M. The original statement seems
moreover to require a restriction to those cdga’s having a dualizable cotangent complex. This is due to the fact that
the author uses the tangent complex (i.e. the dual of the cotangent complex) in order to identify derivations. However,
the actual proof produces an equivalence between (weak, shifted) Lie brackets and (weak) biderivations. Therefore if
one identiﬁes derivations using the linear dual of the symmetric algebra of the cotangent complex, the need to pass
to the tangent complex disappears, and the result holds, with the same proof and without the assumption of the
cotangent complex being dualizable (see Remark 2.1.7). This is the main reason we adopted Deﬁnition 2.1.4 and 2.1.6
as our deﬁnition of polyvectors.

(2) Melani’s proof of [Me, Theorem 3.2] also shows that the natural map from the classifying space I(PM,n+1 − Alg)
of strict Pn+1-algebras in M to the classifying space I(PM,n+1,∞ − Alg) of weak Pn+1-algebras in M (where the operad
PM,n+1,∞ is any coﬁbrant resolution of PM,n+1 in the model category of operads in M) is an equivalence.

We also have the following, easier, strict analog of Corollary 2.1.11.

Proposition 2.1.13 [CPTVV, Proposition 1.4.8] For any A ∈ CAlgM, there is a natural bijection

PM,n(A) ≃ HomLiegr

M

(1M(2)[−1], PolM(A, n)[n])

between the set of (strict) Pn-algebra structures on A in M, and the set of morphisms 1(2)[−1] → PolM(A, n)[n] of Lie
algebra objects in Mgr.

As an immediate consequence of Theorem 2.1.10, we get the following, useful, strictiﬁcation result

Corollary 2.1.14 Any weak shifted Poisson pair in Poisseq

M,n is equivalent to a strict pair.

18

(
/
x
Proof. By Theorem 2.1.10, an object (A, π) ∈ Poisseq
M,n (i.e. an a priori weak pair), is equivalent to a pair of the form
w(B), where B ∈ PM,n+1 − Alg (i.e. is a strict Pn+1-algebra in M), whose underlying commutative algebra is weakly
equivalent to A in CAlgM. We conclude by observing that objects in the image of w are always strict pairs.
✷

The DR-to-Pol construction. Let A′ ∈ PM,n − Alg. By Proposition 2.1.13, the Pn algebra structure on the under-
lying commutative algebra of A′ is encoded by a strict map π : 1M[−1](2) → PolM(A′, n)[n] of graded Lie algebras in M.
Since
by
a map
1M → T(2)(A′, −n)Σ2[n + 1] that we still denote by π. Write

of PolM(A′, n)

T(q)(A′, −n)Σq ,

deﬁnition,

induces

the weight

q

part

is,

π

[−, −]p,q : PolM(A′, n)(p) ⊗M PolM(A′, n)(q) → PolM(A′, n)(p + q − 1)[−n]

for the Lie bracket part of the graded Pn+1-algebra structure on PolM(A′, n), the family of composite maps in M

T(q)(A′, −n)

≃ 1M ⊗M T(q)(A′, −n)

/ T(2)(A′, −n)Σ2 [n + 1] ⊗M T(q)(A′, −n)Σq

π⊗id

,❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩❩

ǫq

[−,−]2,q[n+1]

T(q+1)(A′, −n)Σq+1 [1],

for q ∈ N, is easily veriﬁed to be the mixed diﬀerential of a mixed graded algebra structure on PolM(A′, n) inside M.
Moreover, since PolM(A′, n)(0) = A′, by the universal property of DRM(A′) the identity A′ → A′ induces a map

of mixed graded algebras in M.

φA′,π : DRM(A′) −→ PolM(A′, n)

Remark 2.1.15 The above construction of the mixed diﬀerential ǫ = (ǫq)q is a generalization of the classical construc-
tion associating to a classical Poisson bivector π on a smooth manifold, the diﬀerential dπ := [π, −] on polyvectors,
where [−, −] is the Schouten-Nijenhuis bracket, and d2

π = 0 is equivalent to the bivector π being Poisson.

A slight elaboration of this construction (by choosing strict models, see [CPTVV, 1.4.3] for details), yields the

following derived version

• functors DRM, PolM(−, n) : (PM,n+1 − Alg)eq → ǫ − CAlggr
M

• a morphism Φ : DRM → PolM(−, n) betwen the above functors.

Here (PM,n+1 − Alg)eq is the ∞-category of Pn+1-algebras in M with only equivalences as morphisms (this ensures
that PolM(−, n) is indeed a functor), and we slightly abuse notation by writing DRM for the composition of the
usual DRM with the forgetful functor (PM,n+1 − Alg)eq → CAlgM.

2.1.5 From non-degenerate Poisson algebra structures to symplectic structures

Classically, one way of stating that a Poisson structure (on a smooth scheme or manifold X) is non degenerate is
by declaring that the analog of the above map Φ establishes an isomorphism of mixed graded algebras between the
de Rham algebra and the algebra of polyvectors. Analogously, we say that A ∈ PM,n+1 − Alg is non degenerate if
ΦA : DRM(A) → PolM(A, n) is an equivalence of mixed graded algebras in M. For such an A, by Corollary 2.1.11,
we also get a map αA : 1M(2) → PolM(A, n)[n + 1] in ǫ − Mgr. By putting these together, we get a diagram

DRM(A)[n + 1]

ΦA /

/ PolM(A, n)[n + 1]

αA

1M(2)

in ǫ − Mgr, exhibiting both DRM(A)[n + 1] and 1M(2) as objects in the overcategory ǫ − Mgr/PolM(A, n)[n + 1].
We can then give the following

Deﬁnition 2.1.16 Let A ∈ PM,n+1 − Alg. The space of closed 2-shifted forms compatible with the given Pn-structure
on A is the space of lifts of αA along ΦA, i.e. the space

Comp2,cl

M (A, n) := Mapǫ−Mgr/PolM(A,n)[n+1](1M(2), DRM(A)[n + 1]).

19

,
/


o
o
The reasons for using the words “closed forms” in the previous deﬁnition are the following. First of all there is a
“forgetful” map

Comp2,cl

M (A, n) −→ Mapǫ−Mgr (1M(2), DRM(A)[n + 1]) = A2,cl

M (A, n − 1)

to the actual space of closed 2-shifted forms on A. Moreover, if A happens to be non degenerate, then Comp2,cl
M (A, n−1)
is contractible (since ΦA is an equivalence), hence there is a unique closed (n−1)-shifted 2-form ωA ∈ π0(A2,cl
M (A, n−1))
on A, via the above “forgetful” map. Moreover, by deﬁnition, such an ωA is non degenerate since A is: ω is thus a
symplectic structure on A. If we denote by Pnd
M,n(A) the subspace of PM,n(A) whose connected components consist
of non degenerate elements, we get the following

Proposition 2.1.17 For A ∈ CAlgM the above construction yields a well-deﬁned map of
WA : Pnd

M,n(A) → SymplM(A, n − 1).

spaces

There is a parallel (and in fact equivalent) notion of non-degenerate shifted Poisson structure in M. Let B ∈ CAlgM
such that LM
B is a dualizable in B − ModM. An n-shifted Poisson structure π ∈ π0(PoissM(B, n)) deﬁnes a map
B(TM
1M → Sym2
B [−n] in B − ModM: we
say that π is non degenerate if this map is an equivalence. The subspace of PoissM(B, n) whose connected components
consist of non degenerate elements will be denoted by Poissnd
M(B, n). The notions of non degeneracy for Poisson
algebras and for Poisson structures coincide in the following sense

B [−n − 1])[n + 2] in M, and thus induces, by adjunction, a map LM

B → TM

Proposition 2.1.18 Let B ∈ CAlgM such that LM
M,n(B) ≃ Poissnd
2.1.11, restricts to an equivalence Pnd
a map

B is a dualizable in B − ModM. The equivalence wB of Corollary
M(B, n − 1). As a consequence of Proposition 2.1.17, we thus get

W ′

B : Poissnd

M(B, n − 1) −→ SymplM(B, n − 1)

The map W ′

B in Proposition 2.1.18 is called the comparison map between non degenerate shifted Poisson structures

and shifted symplectic structures. We will study it for derived Artin stacks in Section 2.4.

Remark 2.1.19 It is possible that the map W ′
B in Proposition 2.1.18 will turn out to be an equivalence, for very
general M. We have proven this in our geometric case of interest (see Theorem 2.4.2). The diﬃculty in general stems
from the fact that while for the source of W ′
B we have Theorem 2.1.11 and Proposition 2.1.13, and we thus are able to
perform the DR-to-Pol construction and produce the map W ′
B, we don’t have anything similar for the target of W ′
B.
One runs into serious diﬃculties even just trying to construct an inverse equivalence to W ′
B at the level of connected
components. The ﬁrst obstacle is that a shifted symplectic structure is, by deﬁnition, a weak map (i.e. a map in the
relevant homotopy category). Even if we could strictify this map (getting a strictly closed shifted 2-form), we are still
left with the problem that non degeneracy is a weak property, i.e. the property of a map being a quasi-isomorphism,
and therefore cannot be readily used to build a strict Lie bracket on the de Rham algebra. One might be able to
overcome these diﬃculties in general but we do not know how to do this at the moment.

2.1.6 Tate realizations over k
In this section, we will concentrate on the special case M = ǫ − dggr
and in the next Section we will apply the deﬁnitions and results obtained here to categories of diagrams in M.

k , with its associated ∞-category M = ǫ − dggr,

The unit of the symmetric monoidal category M is k(0), i.e. the complex k[0] sitting in pure weight 0, with the
trivial mixed diﬀerential. The enriching symmetric monoidal functor is given by dgk → M : V 7→ V (0), the tensor
enrichment is then given by V ⊗ E := V (0) ⊗M E, for E ∈ M. The enriched hom object is thus

Homk(E, E′) := Zǫ(HomM(E, E′)(0)) ∈ dgk ,

where HomM denotes the internal Hom in M, and, for F ∈ M, we write Zǫ(F (0)) ∈ dgk for the kernel of the map of
k-dg-modules ǫ : F (0) → F (1)[1].

The standard realization functor | − | : M → dgk, for M = ǫ − dggr, is in some sense unsatisfactory since

weights are lost under standard realization. An obvious way to modify | − | and remedy this ﬂaw is to consider

an easy computation ([CPTVV, Proposition 1.5.1]) shows that |E| ≃ Qp≥0 E(p), for E ∈ M, so that all negative
|E|t := colimi≥0Qp≥−i E(p), instead. This new functor | − |t : M → dgk will be called the Tate realization functor

20

for M. By deﬁnition, there is a canonical morphism | − | → | − |t of ∞-functors. One can show, exactly as for | − |,
that | − |t is lax symmetric monoidal as well, so that it is inherited by categories of algebras. In particular, we also
get Tate realization functors

| − |t : ǫ − CAlggr

M → ǫ − cdgagr
k ,

| − |t : Pgr

M,n − Alg → Pn − cdgagr
k .

As in the linear case, there are canonical morphisms | − | → | − |t of ∞-functors between realizations on the level of
these algebra structures.

Let us put this into a broader perspective, and relate the Tate realization to a standard realization (on a diﬀerent

category). Let us start by the fact that there is an equivalence in dgk

Homk(k(i), k(i + 1)) = RHomk(k(i), k(i + 1)) ≃ k[0]

(where Homk denotes the dgk-enriched Hom in M), giving rise to the following canonical ind-object in M

k(∞) := {k(0) → k(1) → · · · → k(i) → k(i + 1) → · · · } ∈ Ind(M).

One can then show that the Tate realization functor for M is related to the standard realization | − |Ind for Ind(M),
by

| − |t ≃ | − ⊗k(∞) |Ind : M −→ dgk

where we have implicitly used the canonical functor M → Ind(M), sending an object E to the constant ind-diagram
in M with value E.

Moreover, since k(i) ⊗ k(j) ≃ k(i + j), k(∞) is a commutative monoid object in Ind(M), hence

A ∈ CAlgM ⇒ A(∞) := A ⊗ k(∞) ∈ k(∞)/CAlgInd(M).

Therefore it make sense to consider the relative objects

DRInd(M)(A(∞)/k(∞)) ∈ ǫ − Alggr

Ind(M) , PolInd(M)(A(∞)/k(∞), n) ∈ PInd(M),n+1 − Alggr ,

and their standard realizations (on algebras in Ind(M))

DR(A(∞)/k(∞)) ∈ ǫ − cdgagr

k , Pol(A(∞)/k(∞), n) ∈ Pn+1 − cdgagr
k .

For de Rham algebras and polyvectors, we have the following comparison result

Proposition 2.1.20 If A ∈ CAlgM, then we have a canonical equivalence

DRt(A) := |DR(A)|t ≃ DR(A(∞)/k(∞))

in ǫ − cdgagr

k . If moreover LM

A is dualizable in A − ModM, then we have a canonical equivalence

in Pn+1 − cdgagr
k .

Polt(A, n) := |Pol(A, n)|t ≃ Pol(A(∞)/k(∞))

Remark 2.1.21 As already observed in the linear case, in general, none of the morphisms DR(A) → DRt(A),
Pol(A, n) → Polt(A, n) are equivalences. If A ∈ ǫ−CAlggr
M happens to have only non-negative weights (this will be the
case in our application to derived stacks), then also LA will have the same property, and DR(A) → DRt(A) will indeed
be an equivalence. However, the dual to LA, if existing, will have postive weights, so that Pol(A, n) → Polt(A, n)
will not be an equivalence, even in this case. So, at least for applications to derived stacks, while the introduction
of the Tate realization will not make any diﬀerence for DR, it will deﬁnitely do for Pol, and indeed the interesting
realization will be Polt rather than the standard one.

21

2.2 Formal derived stacks and formal localization

A crucial ingredient in the theory of shifted Poisson structures on general derived Artin stacks is the method of
formal localization. Formal localization is interesting in its own right as a new, very powerful tool that will prove
useful in many other situations inside derived geometry, especially in order to globalize tricky constructions and
results, whose extension from the local case presents obstructions that only vanish formally locally. An example is
given by obstructions living in de Rham cohomology (even, say, on a smooth scheme X). Suppose we wish to glue
some construction that we can perform “locally” on X, and we know that obstructions to globalize live in de Rham
cohomology of X (e.g. we would like to globalize an algebraic version of the Darboux lemma). Since de Rham
cohomology never vanishes Zariski or ´etale locally, it is going to be hard or impossible, depending on the speciﬁc
problem, to suppress the obstructions and glue with respect to these topologies. On the other hand, for any x ∈ X,

the de Rham cohomology of the formal completion cXx does vanish, so we may try to glue the construction performed
on the family {cXx | x ∈ X} to a construction on X. But in order to do this we need a result telling us when and how

we are able to glue objects along the family of formal completions. This is exactly the content of formal localization
and below we will sketch how it works and why it is useful.

The following conventions will be adopted throughout this section. A cdga A is called almost ﬁnitely presented if
H 0(A) is a k-algebra of ﬁnite type, and each H i(A) is a ﬁnitely presented H 0(A)-module. We will write dAﬀ k for the
opposite ∞-category of almost ﬁnitely presented cdga’s, and we will simply refer to its objects as derived aﬃne schemes
without mentioning the ﬁnite presentation condition. In particular, when writing Spec A, we implicitly assume that
Spec A is an object of dAﬀ k. The ∞-category dAﬀ k is equipped with its usual ´etale topology of [HAG-II, Deﬁnition
2.2.2.3], and the corresponding ∞-topos of derived stacks will be denoted by dStk. Its objects will simply be called
derived stacks, instead of the more precise but longer locally almost ﬁnitely presented derived stacks over k. With
these conventions, an algebraic derived n-stack X will have a smooth atlas by objects in dAﬀ k, and in particular, it
will have a bounded above cotangent complex in Coh(X).

2.2.1 Formal derived stacks

As the name suggests, formal localization deals with formal derived stacks, which we now deﬁne.

Deﬁnition 2.2.1 A formal derived stack is a derived stack F satisfying the following conditions.

1. F is nilcomplete i.e. for all Spec A ∈ dAﬀ k, the canonical map

(induced by the Postnikov tower of A) is an equivalence in T.

F (A) −→ lim
k

F (A≤k)

2. F is inﬁnitesimally cohesive i.e.

for all cartesian squares of almost ﬁnitely presented k-cdga’s in non-positive

degrees

B

B1

B2

/ B0,

such that each π0(Bi) −→ π0(B0) is surjective with nilpotent kernel, then the induced square

F (B)

F (B1)

F (B2)

/ F (B0),

is cartesian in T.

Remark 2.2.2 (1) The property of being inﬁnitesimally cohesive is a derived variation of the Schlessinger condition
in classical deformation theory ([Sch]). In particular, one can show that any derived Artin stack F is a formal derived

22

/
/




/
/
/




/
stack ([HAG-II, Appendix]), and it is actually cohesive i.e. sends any diagram as in 2.2.1 (2), with the nilpotency
condition possibly omitted, to pullbacks in T ([Lu3, DAG IX, Corollary 6.5] and [Lu3, DAG XIV, Lemma 2.1.7]).

(2) A small limit of formal derived stacks is a formal derived stack.

Let the ∞-functor i : algred
k −→ cdgak be the inclusion of the full reﬂective sub ∞-category of reduced discrete objects
(i.e. R ∈ cdgak such that R is discrete and R ≃ H 0(R) is a usual reduced k-algebra). The ∞-functor i has a left
adjoint

(−)red : cdgak −→ algred
k

, A 7−→ Ared := H 0(A)/Nilp(H 0(A),

and it is easy to verify that we get an induced ∞-functor i∗ : dStk −→ Stred,k, where Stred,k is the ∞-category of
stacks on (algred
k )op for the ´etale topology. Now i∗ has both a right adjoint i∗, and a left adjoint i!, both fully faithful,
and i!i∗ is left adjoint to i∗i∗.

Deﬁnition 2.2.3

1. The functor (−)DR := i∗i∗ : dStk −→ dStk is called the de Rham stack functor. By

adjunction, for any F ∈ dStk, we have a canonical natural map qF : F → FDR.

2. The functor (−)red := i!i∗ : dStk −→ dStk is called the reduced stack functor. By adjunction, for any F ∈ dStk,

we have a canonical natural map ιF : Fred → F .

3. Let f : F −→ G be a morphism in dStk. We deﬁne the formal completion bGf of G along the morphism f as

the ﬁbered product in dStk:

bGf

FDR

fDR

G qG

/ GDR.

Since the left adjoint to i is (−)red, then it is easy to see that FDR(A) ≃ F (Ared), and (Spec A)red ≃ Spec (Ared), for

• FDR is a formal derived stack for any F ∈ dStk.

is right adjoint to (−)red, as functors dStk → dStk. We list a few elementary properties of these constructions:

any A ∈ cdgak. Therefore bGf (A) = G(A) ×G(Ared) F (Ared), for f : F → G in dStk. We already observed that (−)DR
• If G is a formal derived stack, the formal completion bGf , along any map f : F → G in dStk, is again a formal
canonical map bFj → F is an equivalence.

Our main object of study in the next section, will be the map q : F → FDR. If K is a ﬁeld, and x : Spec K → FDR
is a point (by adjunction, this is the same thing as a K-point of F , since K is reduced), then the ﬁber of q at x is

• For any F ∈ dStk, if j : t0F → F denotes the canonical map in dStk from the truncation of F to F , then the

derived stack.

exactly the (classical) formal completion cXx of X at the closed point x. More generally, we have

Proposition 2.2.4 Let F ∈ dStk, Spec A ∈ dAﬀ k, and u : Spec A −→ FDR, corresponding to a morphism
u : Spec Ared −→ F . Then the base-change derived stack F ×FDR Spec A is equivalent to the formal completion
\(Spec A × F )(i,u) of the graph morphism

where i : Spec Ared −→ Spec A is the natural map.

(i, u) : Spec Ared −→ Spec A × F,

Remark 2.2.5 Suppose that F ∈ dStk has a cotangent complex (e.g. F is a derived Artin stack). Then LF/FDR
exists, and we have an equivalence LF ≃ LF/FDR in QCoh(F ). In fact, by the transitivity sequence for the map
q : F → FDR. it is enough to show that LFDR ≃ 0. But this follows immediately from the equivalences: FDR(A ⊕ E) ≃
F ((A ⊕ E)red) ≃ F (Ared) ≃ FDR(A), for any A ∈ cdga≤0

k , and any E ∈ dg≤0
A .

23

/
/




/
2.2.2 Formal localization for X → XDR

The general theory of formal localization is developed in detail in Section 2 of [CPTVV]. Instead of giving a complete
account, we will content ourselves with the application of the general theory to our main case of interest, i.e. to the
map q : X → XDR. Throughout this Section, X will be derived Artin stack lfp over k (hence with a perfect cotangent
complex).

The map X → XDR as a family of formal derived stacks. First of all, let us observe that q : X → XDR is an
algebraisable family of perfect formal derived stacks, i.e. for any derived point Spec A → XDR the corresponding ﬁber
XA → Spec A of q has the following properties:

1. XA is a formal derived stack, and the canonical map (XA)red → Spec Ared is an equivalence in dStk.

2. The relative cotangent complex LXA/A is perfect (by Remark 2.2.5 and base change)

3. XA has a cohomologically bounded above coherent cotangent complex LXA (i.e. for any xB : Spec B → XA,

the ﬁber x∗

BLXA is a cohomologically bounded above coherent B-dg-module).

4. XA is equivalent to the formal completion of X × Spec A along the map Spec Ared → X × Spec A, induced by
the chosen derived point Spec A → XDR, and the canonical map Spec Ared → Spec A (see Proposition 2.2.4).

Properties 1-3 caracterize a family of perfect formal derived stacks over A, while property 4 says that the family

is algebraisable ([CPTVV, Section 2.1, 2.2.]).

Crystalline structure sheaf and shifted principal parts. Let us consider the ∞-functor

D : dAﬀ op

k −→ ǫ − cdgagr
k ,

A 7−→ DR(Ared/A)

(where DR(Ared/A) is deﬁned in Deﬁnition 1.1.1, via Remark 1.1.2). Note that D(A) ≃ SymAred (LAred/A[−1]) in
cdgagr

k (Section 1.1). The functor D satisﬁes ´etale descent, and thus we have an induced ∞-functor

D : dStop

k −→ ǫ − cdgagr

k , F 7−→ lim

Spec A→F

D(A).

We consider the following prestacks of mixed graded cdga’s on dAﬀ /XDR

DXDR := D(OXDR ) :(dAﬀ k/XDR)op −→ ǫ − cdgagr
k ,
PX :(dAﬀ k/XDR)op −→ ǫ − cdgagr
k ,

(Spec A → XDR) 7−→ D(A),
(Spec A → XDR) 7−→ D(XA).

Note that there is a natural equivalence PX (Spec A → XDR) ≃ SymAred(LSpec Ared/XA [−1]) in cdgagr
Proposition 2.2.6]).

k ([CPTVV,

Deﬁnition 2.2.6 The prestack DXDR on XDR is called the crystalline structure sheaf for X. The prestack PX on
XDR is called the prestack of principal parts for X.

Remark 2.2.7 An alternative interpretation of PX can be given as follows. As already observed, the canonical map
X −→ XDR realizes X as a family of formal derived stacks over XDR, namely as the family of formal completions
at closed points of X. By [Lu2] these formal completions are determined by a dg-Lie algebra ℓx. The dg-Lie algebra
ℓx itself does not extend globally as a sheaf of dg-Lie algebras over XDR, simply because its underlying complex is
TX [−1], the shifted tangent complex of X ([Hen]), does not descend to XDR. However, a remarkable consequence
of derived formal localization (Theorem 2.2.12) is that the Chevalley-Eilenberg complexes of ℓx, for x ∈ X, viewed
as a graded mixed commutative dg-algebras, do glue to a global object over XDR. This is exactly PX . Then, the
Formal Localization Theorem 2.2.12 tells us exactly how to express global geometric objects on X as correspondingly
sheaﬁﬁed objects on XDR related to PX .

24

Note that, by functoriality of D, we have a natural morphism DXDR → PX of prestacks of mixed graded cdga’s
In particular, if we consider the ∞-category M′ of prestacks on dAﬀ k/XDR with values in ǫ − dggr
on XDR.
k ,
then DXDR ∈ CAlg(M′), and PX ∈ DXDR /CAlg(M′). We let M := DXDR − ModM′. Then PX ∈ CAlg(M) ≃
DXDR /CAlg(M′), and, for any n ∈ Z, we may consider (Section 2.1)

PolM′

(PX /DXDR , n) = PolM(PX , n) ∈ Pgr

M,n+1 − Alg ,

DRM′

(PX /DXDR) = DRM(PX ) ∈ ǫ − CAlggr
M .

We will also consider the following prestacks on dAﬀ /XDR obtained by Tate realizations:

Polt(PX /DXDR , n) : (dAﬀ k/XDR)op −→ Pn+1 − cdgagr

DRt(PX /DXDR) : (dAﬀ k/XDR)op −→ ǫ − cdgagr

k , (Spec A → XDR) 7→ |Polǫ−dggr
k , (Spec A → XDR) 7→ |DRǫ−dggr

(PX (A)/DXDR (A), n)|t

(PX (A)/DXDR (A))|t

Remark 2.2.8 It is worth pointing out that while PX and DXDR are not stacks, all Polt(PX /DXDR, n), DR(PX /DXDR),
and DRt(PX /DXDR) are stacks ([CPTVV, Corollary 2.4.9]).

Analogously (see Section 2.1), if we consider the ∞-category M′

k ), then (see Section 2.1) DXDR (∞) ∈ CAlg(M′

. Then PX (∞) ∈ CAlg(MInd) ≃ DXDR (∞)/CAlg(M′

Ind), and PX (∞) ∈ DXDR (∞)/CAlg(M′

Ind of prestacks on dAﬀ k/XDR with values in
Ind). We let
Ind), and, for any n ∈ Z, we

Ind(ǫ − dggr
MInd := DXDR (∞) − ModM′
may consider

Ind

PolM′

Ind (PX (∞)/DXDR (∞), n) = PolMInd(PX (∞), n) ∈ Pgr

MInd,n+1 − Alg ,

DRM′

Ind(PX (∞)/DXDR (∞)) = DRMInd(PX (∞)) ∈ ǫ − CAlggr

.

MInd

And we also have the following prestacks on dAﬀ /XDR obtained by standard realizations:

Pol(PX (∞)/DXDR (∞), n) : (dAﬀ k/XDR)op

/ Pn+1 − cdgagr
k ,

(Spec A → XDR) ✤

/ |PolInd(ǫ−dggr )(PX (∞)(A)/DXDR (∞)(A), n)|

and

DR(PX (∞)/DXDR (∞)) : (dAﬀ k/XDR)op

/ ǫ − cdgagr
k

(Spec A → XDR) ✤

/ |DRInd(ǫ−dggr )(PX (∞)(A)/DXDR (∞)(A))|

Remark 2.2.9 By Proposition 2.1.20 and Remark 2.1.21, we get equivalences

(PX /DXDR ) ≃ DRt(PX /DXDR) ≃ DR(PX (∞)/DXDR (∞)) ,

DRM′
Polt(PX /DXDR , n) ≃ Pol(PX (∞)/DXDR (∞), n)

but notice that PolM′

(PX /DXDR , n) is not in general equivalent to the previous ones.

The Formal Localization theorem. We have already deﬁned the mixed graded k-cdgas DR(X/k), and DR(X/XDR)
It is an easy consequence of the equivalence LX ≃ LX/XDR (Remark 2.2.5), that DR(X/k) ≃
(Deﬁnition 1.1.6).
DR(X/XDR) in ǫ − cdgagr
k . We can give a similar, general deﬁnition of shifted polyvectors on X, at least as a graded
k-cdga.

Deﬁnition 2.2.10 Let F → G be a map between derived stacks, both having cotangent complexes (so that LF/G exists,
too). We deﬁne the graded k-dg module of n-shifted relative polyvectors as

P ol(F/G, n) ≃Mp≥0

(HomQCoh(F )(⊗pLF/G, OF [−pn]))hΣp ∈ cdgagr
k .

25

/
/
/
/
In the above deﬁnition, QCoh(F ) is regarded as a dg-category over k, and HomQCoh(F ) denotes its k-dg-module of
morphisms; the Σp-action on HomQCoh(F )(⊗pLF/G, OX [pn]) is induced by Σp acting in the standard way on ⊗pLF/G,
and via (−1)n times the sign representation on OF [−pn] = OF [−n]⊗p

.

Remark 2.2.11 (1) Again by Remark 2.2.5, we have an equivalence P ol(X/XDR, n) ≃ P ol(X/k, n) in cdgagr
k .

(2) When LF/G is perfect over F (e.g. for F = X derived Artin stack lfp over k, and G = XDR), then we may express
P ol(F/G, n) using the dual relative tangent complex TF/G as (see Remark 2.1.5)

P ol(F/G, n) ≃Mp≥0

Γ(F, Symp(TF/G[−n]) ∈ cdgagr
k

The problem with Deﬁnition 2.2.10 is that, in general, it is impossible to directly endow P ol(F (/G, n), as deﬁned,
with a bracket and give it the structure of a graded Pn+1-diﬀerential graded algebras over k. This is where the next
result comes to rescue.

Theorem 2.2.12 (Formal localization for X → XDR)

Let X be an Artin derived stack locally of ﬁnite presentation over k.

1. There is a natural equivalence of ∞-categories

Perf (X) ≃ PX − Modperf
M ,

where M was deﬁned right after Remark 2.2.7, and PX − Modperf
consisting of prestacks E of graded mixed PX -modules on dAﬀ /XDR satisfying the following two conditions:

M is the full sub-∞-category of PX − ModM,

• For all Spec A −→ XDR, the graded mixed PX (A)-module E(A) is equivalent, just as a graded PX (A)-

module, to PX (A) ⊗Ared E0, for some E0 ∈ Perf (Ared).

• E is quasi-coherent in the sense that: for all Spec B −→ Spec A in dAﬀ k/XDR, the induced morphism

E(A) ⊗PX (A) PX (B) −→ E(B) is an equivalence.

2. There are natural equivalences of graded mixed cdga’s over k

DR(X/XDR) ≃ DR(X/k) ≃ Γ(XDR, DR(PX /DXDR)) ≃ Γ(XDR, DRt(PX /DXDR )).

(where Γ denotes derived global sections , i.e. Γ(XDR, F ) = limSpec A→XDR F (A), the limit being taken in the
∞-category where F is valued ).

3. For each n ∈ Z, there are natural equivalences of graded dg-modules over k

P ol(X/XDR, n) ≃ P ol(X/k, n) ≃ Γ(XDR, Polt(PX /DXDR, n)) ≃ Γ(XDR, Pol(PX (∞)/DXDR (∞), n)).

4. Let MInd be the ∞-category deﬁned right after Remark 2.2.8. The natural ∞-functor

PX − Modperf

M −→ PX (∞) − Modperf
MInd

,

induced by the base change (−) ⊗ k(∞), is an equivalence.

5. For each n ∈ Z, there are canonical equivalences in T

Symp(X, n) ≃ Symp(PX /DXDR , n) ≃ Symp(PX (∞)/DXDR (∞), n)

where Symp(PX /DXDR , n) and Symp(PX (∞)/DXDR (∞), n) are deﬁned as in Deﬁnition 2.1.2 (with M and MInd,
respectively, as deﬁned in the previous paragraph).

The proof of Theorem 2.2.12 can be found in [CPTVV, Corollary 2.4.12, Proposition 2.4.15].

26

Remark 2.2.13 Let us explain why the formal localization Theorem 2.2.12 is important and useful.

(1) Points 1 and 4 in Theorem 2.2.12 are absolutely crucial since they allow us to completely recover perfect complexes
on X as certain, explicitly identiﬁed, mixed graded modules over PX or PX (∞). This makes manipulations on perfect
complexes much easier, and will allow us to go from a quantization of PX (∞) to a quantization of Perf (X) (see
Section 3.1).

(2) Point 2 in the above Theorem lets us completely recover (with its full structure of mixed graded algebra) the
descent-theoretic deﬁnition 1.1.6 of the de Rham algebra on X in terms of PX /DXDR .

(3) Point 3 is important because it allows us not only to recover the ’geometrical” polyvectors of Deﬁnition 2.2.10, but
also to establish a full graded Pn+1-algebra structure on them. This is essential in order to be able to deﬁne shifted
Poisson structures on X (Deﬁnition 2.3.1).

(4) The last point of Theorem 2.2.12 lets us completely recover shifted symplectic forms on X in terms of shifted
symplectic form on PX /DXDR (or PX (∞)/DXDR (∞)). This have the eﬀect to enable a deﬁnition of shifted Poisson
and shifted symplectic structures in terms of the very same object PX/DXDR (or PX (∞)/DXDR (∞)), thus opening
the way for a comparison between them (see Theorem 2.4.2).

2.3 Shifted Poisson structures

We are ﬁnally ready to deﬁne shifted Poisson structures on a derived Artin stack X lfp over k. In the previous Section
(Deﬁnition 2.2.6), we constructed two prestacks DXDR , and PX := DX/XDR of graded mixed cdga’s on XDR , together
with a map of prestacks DXDR → PX , exhibiting PX as a prestack of DXDR -linear graded mixed cdga’s on XDR. By
passing to Tate realization, we obtain the prestack Polt(PX /DXDR , n) of graded Pn+1-cdga’ on dAﬀ /XDR.

Deﬁnition 2.3.1 If X is a derived Artin stack lfp over k, and n ∈ Z, we deﬁne

• the graded Pn+1-cdga over k, Pol(X, n) := Γ(XDR, Polt(PX /DXDR, n)) of n-shifted polyvectors on X;

• the space Poiss(X, n) := MapdgLiegr

k

(k(2)[−1], Pol(X, n + 1)[n + 1]) of n-shifted Poisson structures on X. An

n-shifted Poisson structure on X is an element π ∈ π0(Poiss(X, n)).

In the second item of the previous deﬁnition, dgLiegr
is the ∞-category of graded k-linear dg-Lie algebras, and
k
k(2)[−1] denotes k sitting in cohomological degree 1, in weight degree 2, endowed with trivial bracket and trivial
diﬀerential.

Since LX is perfect, by Theorem 2.2.12 (3) and Remark 2.2.11, there is an equivalence

Pol(X, n) ≃ P ol(X/k, n) ≃Mp≥0

Γ(X, Symp(TX [−n])

of graded mixed dg-modules over k. This justiﬁes the use of the word polyvectors for Pol(X, n).

The intuition behind our deﬁnition of Poiss(X, n) is that if X is a smooth scheme, n = 0, and we replace MapdgLiegr
(k(2)[−1], Pol(X, n + 1)[n + 1]) is exactly a
with the usual, strict Homdgliegr
bivector ﬁeld π, such that [π, π] = 0, [−, −] being the usual Schouten-Nijenhuis bracket on algebraic polyvector ﬁelds
on X; in other words, such a π is a usual algebraic Poisson bivector on X. See also Example 2.3.3 (1) below.

, one gets that an element in Homdgliegr

k

k

k

We can give an alternative description of the space Poiss(X, n). Recall from the previous section that the stabilized
versions DXDR (∞) and PX (∞) of DXDR and PX are both prestacks of commutative monoid objects in Ind(ǫ − dggr)
on XDR, and that there is an analogous canonical map DXDR (∞) → PX (∞). We let Pn+1(PX (∞)/DXDR (∞)) be the
space of those Pn+1-algebras structures on PX (∞), in the ∞-category M of prestacks, on XDR, of DXDR (∞)-modules
inside Ind(ǫ − dggr), which are compatible the given commutative algebra structure on PX (∞) in M. An elaboration
of Corollary 2.1.11 yields the following comparison

Theorem 2.3.2 ([CPTVV, Theorem 3.1.2]) For any derived Artin stack X lfp over k, and any n ∈ Z, we have a
canonical equivalence Poiss(X, n) ≃ PM,n+1(PX (∞)/DXDR (∞)) in T.

27

This theorem should be viewed as a vast generalization to derived Artin stacks of the equivalence between the notion
of Poisson bivectors on X and Poisson brackets on OX , well-known for smooth schemes X.

Examples 2.3.3 (1) If X is a smooth scheme, then the space Poiss(X, 0) is discrete and equivalent to the vector
space of usual algebraic Poisson brackets on OX .

(2) If G is a reductive group scheme over k, and g its Lie algebra, then one has ([CPTVV, 3.1])

π0(Poiss(BG, n)) ≃

n = 1
k(g)G , n = 2

k(g)G ,
∧3
Sym2
0 ,

n 6= 1, 2

The comparison theorem in the next section, together with the coisotropic (combined with the results of Section 1.2),
and the intersection theorem in Section 2.5, will provide more examples of shifted Poisson structures.

2.4 Comparison between non degenerate shifted Poisson structures and shifted sym-

plectic structures

In this Section, we establish a derived analog of the usual equivalence between classical non-degenerate Poisson
structures and symplectic structures.

Let X be a derived Artin stack lfp over k, n ∈ Z, and π ∈ π0(Poiss(X, n)) be an n-shifted Poisson structure on X

(Deﬁnition 2.3.1). By considering the “forgetful” map

MapdgLiegr

k

(k(2)[−1], Pol(X, n + 1)[n + 1]) −→ Mapdggr

k

(k(2)[−1], Pol(X, n + 1)[n + 1]),

together with the equivalence in dggr
k

Pol(X, n + 1)[n + 1] ≃Mp

Γ(X, Symp

OX (TX [−n − 1])[n + 1]

(see Remark 2.2.11), π induces a morphism k(2) → ⊕pΓ(X, Symp
element απ ∈ H −n(X, Φ(2)

n (TX )), where

OX (TX [−n − 1])[n + 2] in dggr

k , and thus deﬁnes an

Φ(2)

n (TX ) :=(cid:26) Sym2

∧2

OX

TX , if n is odd
OX
TX , if n is even.

We denote by π♯ the map LX → TX [−n] induced, via adjunction, by απ.

Deﬁnition 2.4.1 Let X be a derived Artin stack lfp over k, and n ∈ Z. An n-shifted Poisson structure π ∈
π0(Poiss(X, n)) is non-degenerate if the induced map π♯ : LX → TX [−n] is an equivalence. We denote by Poissnd(X, n)
the subspace of Poiss(X, n) whose connected components are non-degenerate n-shifted Poisson structures on X.

We are now ready to construct the comparison map between the space of shifted Poisson structures and the space

of shifted symplectic structures on derived Artin stacks.
Recalling from the previous Section, let M′
k ),
and MInd the category of DXDR (∞)-modules in M′. Then A := PX (∞) belongs to CAlgM. By Proposition 2.1.18
and Th. 2.3.2, we have an equivalence Pnd
n+1(PX (∞)/DXDR (∞))
is the subspace of non degenerate Pn+1-algebra structures on PX (∞)/DXDR (∞), compatible with the underlying
commutative DXDR (∞)-algebra structure on PX (∞).

Ind is the category of prestacks on dAﬀ /XDR with values in Ind(ǫ − dggr

M,n+1(PX (∞)/DXDR (∞)) ≃ Poissnd(X, n), where Pnd

Recall from Proposition 2.1.17, that for any M, and any A ∈ CAlgM with a dualizable cotangent complex, we
have a map Pnd
M,n+1(A) → Sympl(A, n), from the moduli space of those non-degenerate Pn+1-algebra structures in
M on A which are compatible with the given commutative algebra structure on A, to the moduli space of n-shifted
symplectic structures on A. With our current choice of M, we thus get a map

Poissnd(X, n) ≃ Pnd

M,n+1(PX (∞)/DXDR (∞)) −→ Sympl(PX (∞)/DXDR (∞), n).

28

But by Theorem 2.2.12, we have Sympl(PX (∞)/DXDR (∞), n) ≃ Sympl(X, n), so we obtain a comparison map

ψ : Poissnd(X, n) −→ Sympl(X, n)

from the space of non-degenerate n-shifted Poisson structures on X, to the space of n-shifted symplectic structures on
X. One of the main result of [CPTVV], and the key to quantize all the shifted symplectic moduli spaces constructed
in Section 1.2, is the following

Theorem 2.4.2 [CPTVV, Theorem 3.2.4] Let X be a derived Artin stack lfp over k, and n ∈ Z. The canonical map
ψ : Poissnd(X, n) → Sympl(X, n) is an equivalence in T.

In spite of being expected, and somehow very natural, Theorem 2.4.2 has a rather technical and non-trivial
proof. It is not too diﬃcult showing that ψ induces isomorphisms on all the homotopy groups πi’s for i ≥ 1. More
diﬃcult is proving that ψ is an isomorphism on π0: this is achieved in [CPTVV] by ﬁrst showing that the functors
A 7→ Pnd
M,n+1(PX (∞)(A)/DXDR (∞)(A)), and A 7→ Sympl(PX (∞)(A)/DXDR (∞)(A), n) are both formal derived stacks
(Deﬁnition 2.2.1), and then showing that it is enough to prove the isomorphism on dAﬀ red/Xred. This reduced case
is then speciﬁcally handled by using pairings and copairings on L∞-algebras, the L∞-algebra being given, for any
u : Spec A → X, with A reduced, by an L∞-model for (u∗LX )∨[−1]. Similar techniques have been used in [Co-Gwi].

2.5 Coisotropic structures

In this section we discuss brieﬂy the notion of a coisotrpic structure on a map to a general n-shifted Poisson target.
This is analogous to the notion of a lagrangian structure from Deﬁnition 1.2.3. A new feature of the Poisson context
is that the deﬁnition of coisotropic structure itself requires a non-trivial statement - Rozenblyum’s additivity theorem.
This additivity theorem asserts that for every n ≥ 1 and every symmetric monoidal ∞-category M, satisfying our
standard hypotheses, there is a natural equivalence between the ∞-category PM,n+1 − Alg and the ∞-category
Alg(PM,n − CAlg) of unital and associative algebras in the category PM,n − Alg 6(note that PM,n is a Hopf operad,
hence PM,n − Alg inherits a natural symmetric monoidal structure).

The additivity equivalence is functorial in M, with respect to symmetric monoidal ∞-functors, and commutes
with the forgetful functors to M (see [CPTVV, Remark 3.4.2] for more details). The main utility of the additivity
theorem is that it allows us to make sense of Pn+1-structures on morphisms between commutative algebras in M. More
precisely, if we write PM,(n+1,n) − Alg for the ∞-category of pairs (A, B) consisting of an object A ∈ Alg(PM,n − Alg)
and an A-module B in PM,n − AlgM , then by the additivity theorem PM,(n+1,n) − Alg comes equipped with two
forgetful ∞-functors (A, B) 7→ A, and (A, B) 7→ B to PM,n+1 − Alg, and PM,n − Alg, respectively. Furthermore,
the forgetful functor PM,n − Alg → AlgM induces a natural forgetful functor from PM,(n+1,n) − AlgM to the ∞-
category of pairs (A, B) where A ∈ Alg(CAlgM) and B is an A-module in CAlgM. The ∞-category of such pairs
is naturally equivalent to the ∞-category Mor(CAlgM) of morphisms in CAlgM. In particular, given a morphism
ϕ : A → B between commutative algebras in M, we can deﬁne the space of PM,(n+1,n)-structures on ϕ as the ﬁber of
the ∞-functor PM,(n+1,n) − Alg → Mor(AlgM) over ϕ. We will write

PM,(n+1,n)(ϕ) := PM,(n+1,n) − Alg ×Mor(CAlgM) {ϕ}

for this space. Note that by construction the space PM,(n+1,n)(ϕ) projects naturally both to the space PM,n+1(A) of
Pn+1-structures on the source A, and to the space PM,n(B) of Pn-structures on the target B.

Let f : X → Y is a morphism of derived stacks locally of ﬁnite presentation over k. We specialize the construction

above to the following case:

• M := MX,Ind is the ∞-category deﬁned in Section 2.4 (i.e.

if M′

X,Ind is the ∞-category of prestacks on

dAﬀ /XDR with values in Ind(ǫ − dggr

k ), then MX,Ind is the ∞-category of DXDR (∞)-modules in M′

X,Ind).

• ϕ is the induced map f ∗

P : f ∗

DR(PY (∞)) → PX (∞).

Note that the map f ∗
in CAlgM.

DR(DYDR(∞)) → DXDR (∞) is an equivalence and so f ∗

P may indeed be considered as a morphism

Now, if Y is endowed with an n-shifted Poisson structure π, then PY (∞) is canonically an object in PMY,Ind,n+1 −
DR(PY (∞)) is canonically an object in PM,n+1 − Alg. We denote this

Alg (Theorem 2.3.2), and thus its pull-back f ∗

6The same result holds for the operads En of little n-disks, and it is known as Dunn-Lurie additivity [Lu4, 5.1.2.2].

29

object by P π
P(n+1,n)(f ∗
the ﬁber of the projection map P(n+1,n)(f ∗

Y,f (in order to distinguish it from f ∗
P) for PM,(n+1,n)(f ∗

P ), and Pn+1(f ∗

DR(PY (∞)) as an object in CAlgM). To ease notation, we will write
DR(PY (∞))). So it makes sense to consider

DR(PY (∞))) for PM,n+1(f ∗

P ) → Pn+1(f ∗

DR(PY (∞))) over P π

Y,f .

Deﬁnition 2.5.1 Let f : X → Y be a morphism of derived stacks locally of ﬁnite presentation over k and assume
that Y is equipped with an n-shifted Poisson structure π. The space of coisotropic structures on f relative to π is the
ﬁber

Cois(f, π) := P(n+1,n)(f ∗

P ) ×Pn+1(f ∗

DR(PY (∞))) {P π

Y,f }.

A coisotropic structure on f relative to π is an element in π0 Cois(f, π).

In other words, a coisotropic structure on f : X → Y consists of the datum of a DXDR (∞)-linear Pn-algebra
Y,f (the source

P ), together with a suitably compatible structure of module over P π

structure on PX(∞) (the target of f ∗
of f ∗

P ), inside the ∞-category of DXDR (∞)-linear graded mixed Pn-algebras on XDR.

Remark 2.5.2 This notion of coisotropic structure has the expected geometric behavior:

(i) Using the other projection map P(n+1,n)(f ∗

P ), and
Theorem 2.3.2, we get that a choice of a coisotropic structure on f : X → Y relative to an n-shifted Poisson
structure π on Y , tautologically induces an (n − 1)-shifted Poisson structure on the source X.

P ) → Pn(PX (∞)) (i.e. the map keeping only the target of f ∗

(ii) If πω is a non-degenerate Poisson structure corresponding to an n-shifted symplectic structure ω on Y , then,
keeping the notations of Deﬁnition 2.5.1, one expects a natural equivalence of spaces Lag(f, ω) ∼= Cois(f, π)nd
between the space of lagrangian structures on f (see Deﬁnition 1.2.3) and the space of suitably non-degenerate
coisotropic structures on f . This is being investigated by Melani and Safronov (see [Me-Sa]).

(iii) The Lagrangian intersection theorem, Theorem 1.2.5 was recently extended to the Poisson context in [Me-Sa].
Suppose (Y, π) be an n-shifted Poisson Artin stack locally of ﬁnite presentation over k. Let fi : Xi → Y ,
i = 1, 2 be maps of derived Artin stacks each endowed with coisotropic structures relative to π. Then, Melani
and Safronov prove that the derived ﬁber product X1 ×Y X2 has a natural, induced (n − 1)-shifted Poisson
structure such that the natural map X1 ×Y X2 → X1 × X2 is a morphism of (n − 1)-shifted Poisson stacks,
where in the target X2 is endowed with the (n − 1)-shifted Poisson structure from point (i) above, and X1 with
the corresponding opposite (n − 1)-shifted Poisson structure (see [Me-Sa] for details). A classical, i.e. 0-shifted,
and purely cohomological precursor of this result was proved in [Gi-Ba]. Aside from its conceptual signiﬁcance,
the coisotropic intersection theorem of [Me-Sa] has many purely utilitarian corollaries. It allows us to extend
the list of examples at the end of Section 2.3, by providing many more examples of shifted Poisson structures on
moduli stacks, hence of moduli stacks admitting natural deformation quantizations (see Section 3). For instance,
recently Spaide [Spa] applied coisotropic inersections to construct and characterize shifted Poisson structures on
moduli spaces of framed sheaves in arbitrary dimension as well as on the moduli of monopoles.

3 Deformation quantization

Recall that for an ordinary smooth scheme X over k, a classical (unshifted) Poisson structure π can be viewed as the
inﬁnitesimal to the deformation of OX as a sheaf of associative algebras on X. According to the algebraic deformation
quantization results of Kontsevich [Ko1] and Yekutieli [Ye] every ordinary Poisson scheme (X, π) admits a quantization
as a stack of algebroids. That is we can always ﬁnd a stack of algebroids X deﬁned over k[[]] with (X mod ) = X
and with inﬁnitesimal π. Moreover [Ko1, Ye] all possible quantizations with a given inﬁnitesimal depend on a choice
of a formality quasi-isomorphism (Drinfeld associator) and are classiﬁed by deformation of (X, π) as a Poisson scheme
over k[[]]. In particular the trivial Poisson deformation corresponding to the k[[]]-linear Poisson bivector  · π gives
rise to a preferred quantization of (X, π). This preferred quantization is Kontsevich’s canonical quantization, or in the
case of a non-degenerate π is the algebraic Fedosov canonical quantization of Bezrukavnikov-Kaledin [Bez-Ka].

In this section we discuss the extension of the deformation quantization problem to shifted Poisson structures on
derived Artin stacks. We argue that the canonical n-shifted quantization always exists as long as n 6= 0 and again
depends on the choice of a Drinfeld associator. Ineterestingly enough the special case when n = 0 remains the hardest
case and the best existing quantization results are still those of [Ko1, Ye]. The natural question of extending the
[Ko1, Ye] quantization of smooth Poisson schemes to 0-shifted Poisson derived Artin stacks requires new ideas and
will not be treated here.

30

3.1 Weak and strong quantization

Informally, shifted Poisson structures arise when we study deformations of X in which we allow only partial non-
commutativity in the deformed product structure. More precisely, an n-shifted Poisson structure can be viewed as the
inﬁnitesimal for deforming the commutative (= E∞) algebra structure on PX (∞) to an En+1-algebra structure.

To spell this out, recall that for n ≥ 1 the operad En of chains little n-dimensional disks is a k-linear dg-operad
which is given by the chain complexes C•(F Mn, k) of the Fulton-MacPherson’s topological operad F Mn. By deﬁnition,
the space of operations of F Mn labeled by a ﬁnite set I is the Fulton-MacPherson compactiﬁed conﬁguration space
F Mn(I) of I-labeled conﬁgurations of points in Rn. For n ≥ 2 the Postnikov tower of the spaces F Mn(I) induces a
ﬁltration of En whose associated graded is the graded k-linear homology operad H•(F Mn, k) of F Mn which is known
to be the operad Pn controlling (n − 1)-shifted Poisson algebras. We can now apply the Rees construction to the
ﬁltration on En to obtain a dg-operad BDn (for Beilinson-Drinfeld) which is linear over k[h] and deforms the ﬁltered
operad En to its associated graded Pn. This deformation makes sense for n = 1 as well.
In this case, E1 is the
operad controlling associative algebra structures. For every ﬁnite I, the k-module of operations E1(I) labeled by I is
the non-commutative polynomial algebra khxi|i ∈ Ii which is naturally ﬁltered by monomial degree. The associated
graded to this ﬁltration is the commutative polynomial algebra k[xi|i ∈ I] equipped with the induced Lie bracket, i.e.
we have grE1(I) = P1(I). Again applying the Rees construction to the ﬁltration gives a k[h]-linear operad BD1 which
interpolates between E1 and P1. The diﬀerence between this case and the case n ≥ 2 is that P1 is not the homology
of E1. In fact E1 is already formal and isomorphic to H•(F M1, k).

Nevertheless, for any n ≥ 1 we constructed a k[]-linear dg-operad operad BDn such that BDn ⊗k[] k ∼= Pn
and BDn ⊗k[] k[, −1] ∼= En[, −1]. With this in place, we are now ready to formulate the quantization problem
in the shifted setting. Suppose X is a derived Artin stack, locally of ﬁnite presentation over k. We use again the
notations from Section 2.2.2: M′
k ), so
that DXDR (∞) ∈ CAlg(M′

Ind is the ∞-category of prestacks on dAﬀ k/XDR with values in Ind(ǫ − dggr
Ind), and we deﬁne MInd := DXDR (∞) − ModM′

Ind), PX (∞) ∈ DXDR (∞)/CAlg(M′

By Theorem 2.3.2 specifying an n-shifted Poisson structure π on X is equivalent to specifying a PMInd,n+1-algebra
structure on the Tate stack of principal parts PX (∞), compatible with its given commutative DXDR (∞)-algebra
structure. Suppose n ≥ 0, then we have two ﬂavors of the quantization problem:

.

Ind

(strong quantization) Construct a DXDR (∞)-linear BDn+1-algebra structure on PX (∞) ⊗ k[], such that after

tensoring with ⊗k[]k we get the Pn+1-structure given by π.

(weak quantization) Construct a BDn-monoidal structure on the ∞-category (Theorem 2.2.12, (1) and (4))

Perf (X) ⊗k k[] ∼= PX (∞) − Modperf

MInd

⊗k k[]

which after ⊗k[]k recovers the Pn-monoidal structure on PX (∞) − Modperf
blyum’s additivity theorem.

MInd

corresponding to π via Rozen-

Remark 3.1.1 It is natural to expect that a solution to the strong quantization problem yields a solution to the weak
quantization problem by passing to the category of perfect complexes over the BDn+1-algebra provided by the strong
quantization. For this to make sense we need a BD-version of the additivity theorem. In other words we need to
know that, for any k-linear presentable stable symmetric monoidal ∞-category N , there exists a natural equivalence
of ∞-categories:

(3.1)

BDn+1 − AlgN

∼= Alg (BDn − AlgN )

which specializes to Rozenblyum’s additivity at  = 0 and to Dunn-Lurie’s additivity from [Lu4, 5.1.2.2] at  = 1.
Rozenblyum recently proved that the additivity equivalence (3.1) exists and so to any the strong shifted quantization
we can indeed associate a weak shifted quantization.

Our main result in this setting is the following unobstructedness theorem

Theorem 3.1.2 ([CPTVV, Theorem 3.5.4]) Let X be a derived Artin stack locally of ﬁnite presentation over k,
equipped with an n-shifted Poisson structure π. If n > 0 then there is a canonical strong quantization.

The above theorem is analogous to the existence of canonical quantization for unshifted smooth schemes. In fact, at
this stage, the proof of the theorem is almost a tautology. Since the operad En+1 is formal and for n > 0 its homology

31

is Pn+1, we can choose a formality equivalence of k-dg-operads αn+1 : En+1 ≃ Pn+1. The map αn+1 induces an
equivalence BDn+1 ≃ Pn+1 ⊗k k[] which is the identity mod . Therefore one can consider PX (∞) ⊗k k[] as a stack
of DXDR (∞)-linear graded mixed BDn+1-algebras on XDR, and by construction this stack is a strong deformation
quantization of PX (∞).

By specializing the BDn+1-algebra structure at  = 1 we can then view PX(∞) as a En+1-algebra in MInd. By
[Lu4, 5.1.2.2 and 5.1.2.7], the ∞-category PX(∞) − ModMInd has an induced En-monoidal structure, and one checks
that its full sub-category PX(∞) − Modperf
inherits an En-monoidal structure that we will denote by (PX (∞) −
Modperf
)En, π. The subscript π indicates that the En+1-algebra structure on PX (∞), hence the induced En-monoidal
structure on PX (∞) − Modperf
, depends on π, while the subscript En records the En-monoidal structure. This is
exactly the deformation of Perf (X) ∼= PX (∞) − Modperf
that we were looking for. We record this fact in the
following

MInd

MInd

MInd

MInd

Deﬁnition 3.1.3 With the notation above, and n > 0, the weak quantization of X with inﬁnitesimal π is the En-
monoidal ∞-category

Perf (X, π) := (PX (∞) − Modperf
MInd

)En, π

Quantization for n < 0. The quantization problem for n-shifted Poisson structures with n < 0 can be understood by
looking at parameter spaces which are themselves dg schemes. Concretely, let n < 0 and let π be an n-shifted Poisson
structure on some derived stack X lfp over k. Let 2n a formal variable of cohomological degree 2n, and consider the
stack PX (∞)[2n] of Ind-objects in graded k(∞)[2n]-linear mixed cdgas over XDR. Because of the homological shift
it is equipped with a k(∞)[2n]-linear P1−n-structure, induced by 2n · π (Theorem 2.3.2). Since n < 0, this brings us
back to the situation of positively shifted Poisson structures.

Proceeding as before, we choose a formality equivalence of k-dg-operads α1−n : E1−n ≃ P1−n, and thus view
PX (∞)[2n] as a k(∞)[2n]-linear E1−n-algebra. Again by using Dunn-Lurie’s additivity [Lu4, 5.1.2.2 and 5.1.2.7], the
∞-category PX (∞) − Modperf
comes equipped with an induced E−n-monoidal structure. We will write (PX (∞) −
Modperf
)E−n, π for this E−n-monoidal category. Thus for n < 0 we can deﬁne the weak quantization of X with
inﬁnitesimal π as the E−n-monoidal ∞-category

MInd

MInd

Perf (X, π) := (PX (∞) − Modperf

MInd

)E−n, π.

As before, the underlying ∞-category of Perf (X, π) is Perf (X) ⊗k k[2n] =: Perf (X)[2n]. Hence for n < 0 our weak
quantization of X consists then of the datum of a E−n-monoidal structure on Perf (X)[2n], and by the strong version
of Rozenblyum’s additivity, such a quantization can be considered as a deformation of the standard symmetric (i.e.
E∞-) monoidal structure on Perf (X)[2n]. Note that this standard symmetric monoidal structure on Perf (X)[2n]
recovers the standard symmetric monoidal structure on Perf (X) after base change along the canonical map k[2n] → k.

Remark 3.1.4 This quantization answers a conjecture of Kapustin [Kap, 3.2] which concerns the n = −1 case. Note
that Kapustin considers Z/2-graded derived categories, and therefore the fact that we work over k[2n] is immaterial:
we really obtain a quantization of the Z/2 perfect derived category of X, since Perf (X)[2n] and Perf (X) coincide
after Z/2-periodization.

3.2 Examples and vistas

(a) Quantization of moduli. The equivalence of shifted symplectic and non-degenerate shifted Poisson structures
from Theorem 2.4.2 combined with the n > 0 (or n < 0) quantization scheme described in the previous section provides
a canonical En-monoidal (or E−n-monoidal) deformation of the ∞-category of perfect complexes on the various shifted
symplectic moduli stacks listed at the end of section 2.3. For example:

• For a derived Artin stack X locally of ﬁnite presentation we obtain a canonical quantization of the shifted
cotangent stack T ∗X[n] for n 6= 0. The shifted cotangent stack T ∗X[n] has a natural n-shifted symplectic form
[Cal2]. If we denote the corresponding non-degenerate n-shifted Poisson structure by πn, then the modules over
the En-monoidal (or E−n-monoidal) category Perf (T ∗X[n], πn) will be the modules over the n-shifted diﬀerential
operators on X.

32

• For a complex reductive group G we obtain canonical quantizations of:

– the derived stack RLocG(M ) of G-local systems on a compact oriented topological manifold M of dimension

6= 2;

– the derived stack RLocDR

G (X) of algebraic G-local systems on a smooth complex projective variety X of

dimension > 1;

– the derived stack RHiggsG(X) of algebraic G-Higgs bundles on a smooth complex projective variety X of

dimension > 1;

– the derived stack RBunG(X) of algebraic G-torsors on a smooth compact Calabi-Yau variety X of dimension

6= 2.

Similarly we get quantizations of the stack of perfect complexes on a compact oriented topological manifold M
of dimension 6= 2, of the derived stack of perfect complexes over XDR for a smooth complex projective variety
X of dimension > 1, of the derived stack of perfect complexes of Higgs bundles on a smooth complex projective
variety of dimension > 1, and on the derived stack of perfect complexes on a smooth compact Calabi-Yau variety
of dimension 6= 2.

• For a smooth compact Calabi-Yau dg category T of dimension 6= 2 we get a canonical weak quantization of the
derived moduli stack MT of compact objects in T . For instance we can take T to be the category of graded
matrix factorizations of a cubic polynomial f in 3n variables with n 6= 2. Applying the general quantization
procedure to this setting we get an (n−2)-shifted quantization of the moduli stack of graded matrix factorizations
of f .

(b) Quantization formally at a point. Let (X, π) be an n-shifted Poisson derived Artin stack locally of ﬁnite
presentation and let x : ∗ = Spec k → X be a closed point. It can be checked [CPTVV, Lemma 3.6.1] that any

n-shifted Poisson structure on X induces an n-shifted Poisson structure on the formal completion bXx at x.

As a (non-mixed) graded cdga over k, P bXx
Sym(L∗/ bXx

is equivalent to
[−1]) ∼= Sym(x∗L bXx

) ∼= Sym(x∗LX ) .

We therefore get a graded mixed Pn+1-algebra structure on Sym(x∗LX ), whose underlying graded mixed cdgas is P bXx
.
After a choice of formality αn+1, we get a graded mixed En+1-structure on Sym(x∗LX ) whenever n > 0. When π is
non-degenerate at x and the induced n-shifted Poisson structure on P bXx
is strict and constant, then the graded mixed
En+1-structure on Sym(x∗LX ) can be described explicitly in terms of Kontsevich’s graph complex [CPTVV, 3.6.1].
When the underlying dg-Lie algebra is formal, the explicit formula then identiﬁes the En+1-structure on Sym(x∗LX )
with the Weyl n-algebra recently introduced by Markarian [Mar].

(c) Quantization of BG. Suppose G is an aﬃne group scheme, and let X = BG be the classifying stack of G.
Note that XDR = B(GDR). Let x : ∗ → BG be the classifying map of the unit e : ∗ → G. We have a ﬁber sequence

of groups bGe −→ G −→ GDR, and hence dBGx ≃ B(bGe).

As we noted in (b) the pull-back of PX along xDR : ∗ → BGDR is P bXx
Perf (BG) ≃ PX − ModPerf

ǫ−dggr

. Thus the symmetric monoidal ∞-category

is equivalent to the symmetric monoidal ∞-category of GDR-equivariant objects in

Perf (BbGe) ≃ P bXx

− ModPerf

ǫ−dggr .

This algebra structure can be analyzed in concrete terms. Before we look more closely at the 1 and 2-shifted cases

In view of this the quantization of an n-shifted Poisson structure on BG will be determined completely by the GDR-
equivariant graded mixed En+1-algebra structure on P bXx
it is useful to observe that as a graded mixed cdga over k the algebra P bXx

≃ D(BbGe) admits an explicit description.
Indeed, in [CPTVV, 3.6.2] it is proven that D(BbGe) is actually equivalent to the Chevalley-Eilenberg graded mixed

obtained from the equivalence αn+1 : Pn+1 ≃ En+1.

cdga CE(g) of the Lie algebra g = Lie(G).

33

The case n = 1 for a reductive G. For a reductive group G the 1-shifted Poisson structures on BG are simply
elements in ∧3(g)G. If π is such an element, then the induced 1-shifted Poisson structure on the graded mixed cdga
CE(g) is given explicitly as a semi-strict P2-structure (see [Me]): all structure 2-shifted polyvectors are trivial except
for the 3-ary one which is constant and given by π.

The weak 1-shifted deformation quantization in particular gives rise to a deformation of the category Repf d(g) of
ﬁnite dimensional representation of g as a monoidal category. For speciﬁc choices of π we recover familiar monoidal
deformations:

Example 3.2.1 Given a non-degenerate invariant pairing h , i on g, we can choose π as the dual of the G-invariant
linear form

∧3

g −→ k,

(x, y, z) 7−→ hx, [y, z]i .

Alternatively, any invariant symmetric 2-tensor t ∈ Sym2(g)G leads to such an element π = [t1,2, t2,3] ∈ ∧3(g)G. In
these cases the deformation of Repf d(g) as a monoidal category can be obtained by means of a deformation of the
associativity constraint only (see [Dr1]), which then looks like

Φ = 1⊗3 + 2π + o(2) ∈ U (g)⊗3[[]] .

The case n = 2 for a reductive G. For a reductive group G the equivalences classes of 2-shifted Poisson structures
on BG are in bijection with elements t ∈ Sym2(g)G. The induced 2-shifted Poisson structure on the graded mixed
cdga CE(g) is strict and constant. The graded mixed E3-structure on CE(g) given by our deformation quantization
then takes the form of a Weyl 3-algebra, as described in [Mar].

Note that this graded mixed E3-structure is GDR-equivariant by construction, so it leads to an E2-monoidal

deformation of Perf(BG). This in particular leads to a braided monoidal deformation of Repf d(g).

Such deformation quantizations of BG have already been constructed:

• when g is reductive and t is non-degenerate, by means of purely algebraic methods: the quantum group U(g)

is an explicit deformation of the enveloping algebra U (g) as a quasi-triangular Hopf algebra.

• without any assumption, by Drinfeld [Dr2], using transcendental methods similar to the ones that are crucial in

the proof of the formality of E2.

It is known that Drinfeld’s quantization is equivalent to the quantum group one in the semi-simple case (see e.g. [Ka]
and references therein).

Remark 3.2.2 It is interesting to note that our quantization, in contrast to Drinfeld’s, relies on the formality of E3
rather than on the formality of E2.

(d) Relative and absolute quantization. An important question that is not addressed in this paper or in
[CPTVV] is the question of quantizing lagrangian structures on maps with shifted symplectic targets or quantizing
coisotropic structures on maps with shifted Poisson targets. The quantization problem in this relative stting can be
formulated in a manner similar to the absolute quantization from section 3.1.

Suppose (Y, π) is an n-shifted derived Artin stack locally of ﬁnite presentation, and f : X → Y is a morphism
of derived stacks furnished with a coisotropic structure κ relative to π. The ∞ categories Perf (X) and Perf (Y )
are symmetric monoidal categories and via the pullback functor f ∗ : Perf (Y ) → Perf (X) the category Perf (X)
becomes a module over Perf (Y ) so that its E∞-monoidal structure becomes linear over the E∞-monoidal structure
on Perf (Y ). In other words f ∗ makes Perf (X) is an E∞-algebra over Perf (Y ). Assume for simplicity n > 0. Then
the weak quantization of (Y, π) gives a deformation of Perf (Y ) to an En-monoidal category Perf (Y, π). The weak
quantization problem for f is to ﬁnd a concurrent deformation of Perf (X) as an algebra over Perf (Y ). In other
words, we need to deform Perf (X) to an En−1-monoidal category Perf (X, κ), so that the functor f ∗ deforms to
a functor qf ∗ : Perf (Y, π) → Perf (X, κ) exhibiting Perf (X, κ) as a module, inside En−1-monoidal ∞-categories,
over Perf (Y, π), viewed as an E1-algebra in En−1-monoidal categories. Here again we use Dunn-Lurie additivity
[Lu4, §5.1.2] asserting the equivalence between E1-algberas in En−1-algebras and En-algebras, in any base symmetric
monoidal ∞-category.

Note that the extension from the absolute to the relative case is not tautological as the swiss-cheese operad, which
governs the deformations of pairs of an En algebra and an En−1 module over it, is not formal. Nevertheless we expect
that such relative quantizations are again unobstructed for n > 0 and we are currently investigating the problem.

34

Another interesting problem in this regard is the question of compatibility of quantizations with our standard
constructions. A simple instance of this goes as follows. Suppose Y is an n-shifted symplectic derived stack (with
n > 1) and suppose f1 : X1 → Y and f2 : X2 → Y be two morphisms equipped with lagrangian structures. The
derived intersection Z = X1 ×h
Y X2 carries a natural (n − 1)-shifted symplectic form. We expect that the derived
intersection persists in quantizations, i.e. that absolute quantization of Z is the homotopy ﬁber product of the relative
quantizations of f1 and f2. More precisely, write π for the non-degenerate shifted Poisson structure corresponding
to the symplectic structure on Y and η for the induced (n − 1)-shifted non-degenerate Poisson structure on Z. Let
κ2 ∈ π0Cois(f2, π) be the non-degenerate coisotropic structure relative to π corresponding to the lagrangian structure
on f2, and let κ1 ∈ π0Cois(f1, −π) be the non-degenerate coisotropic structure relative to −π corresponding to
the lagrangian structure on f1. Then Perf (X2, κ2) is an En−1-algebra over the En-algebra Perf (Y, π). Similarly
Perf (X1, κ1) is an En−1-algebra over the En-algebra Perf (Y, −π) or equivalently Perf (X1, κ1) is an En−1-algebra
over the opposite of the En-algebra Perf (Y, π). Conjecturally the quantized En−1-monoidal category Perf (Z, η) is
reconstructed from the En−1-monoidal category Perf (X1, κ1) ⊗Perf (Y,π) Perf (X2, κ2).

(e) Vistas. We conclude our paper by short list of few other directions of investigation, just to stimulate the
reader’s interest.

First of all we would like to mention the proposal of [Cal, 4.2.2] for a category of lagrangian correspondences
Lagrn, based on Thm. 1.2.5. Roughly speaking its objects are n-shifted symplectic stacks, and morphisms from X
to Y are maps L → X × Y equipped with lagrangian structures (where X is considered with the opposite of the given
symplectic structure). Some truncated versions of this category were already considered in [Amo-BenB]. The details
of a complete construction of Lagrn as an ∞-category together with its natural symmetric monoidal structure remain
to be written down, but we have no doubts that such a construction exists. This will be an important step toward the
study of extended TQFT’s (as in [Lu6]) with values in lagrangian correspondences. Building on Remark 2.5.2, one can
imagine an analogous construction by replacing shifted symplectic stacks with shifted Poisson stacks, and lagrangian
correspondences with coisotropic correspondences. Such a construction is currently being considered by Melani and
Safronov, and it might shed some light on Weinstein’s original proposal [We].

Another promising research program related to the topics treated in this review is the one being pursued, since
a few years, by D. Joyce and various collaborators. As part of their project, they use shifted symplectic structures
to study Donaldson-Thomas moduli spaces of Calabi-Yau fourfolds, vanishing cycles, and various categoriﬁcations of
Donaldson-Thomas invariants (see e.g. [BBDJS, Jo-Sa]).

The geometry of coisotropic structures for shifted Poisson structures is in a very early stage of development, and
a lot of new phenomena need to be properly explored. Just to give one example, the identity map is always endowed
with a canonical coisotropic structure, and this produces a map from n-shifted Poisson structures to (n − 1)-shifted
Poisson structures, which is worth investigating. If not trivial, this could e.g. connect the n = 2 to the n = 1 examples
of quantizations of BG (c) above. More generally, having a deﬁnition of coisotropic structures that is equivalent to
Deﬁnition 2.5.1 but avoids reference to the additivity theorem, would be very useful, especially in applications. Some
important steps in this direction have been done by P. Safronov [Saf], and more recently by V. Melani and P. Safronov
[Me-Sa].

Finally, it would be interesting to have a version of Theorem 1.2.1 with target Perf and a stratiﬁed topological space
as a source. A possible way to include the stratiﬁcation in our theory is through the use of the MacPherson-Lurie exit
paths ∞-category [Lu4, A.6]. If this can be accomplished, then a corresponding relative version, as in Remark 1.2.7,
could be relevant for some ideas and conjectures about moduli spaces of constructible sheaves with singular support in
a legendrian knot (see [STZ]). A promising preliminary step in this direction is the theory of left and right Calabi-Yau
structures on functors developed recently by To¨en, and Brav-Dyckerhoﬀ ([To2, p. 228], [Br-Dyc]).

References

[AKSZ] M. Alexandrov, M. Kontsevich, A. Schwarz, O. Zaboronsky, The geometry of the master equation and topo-

logical quantum ﬁeld theory, Int. J. Mod. Phys. A, 12 (1997), 1405?1429.

[Amo-BenB] L. Amorim, O. Ben-Bassat, Perversely

categoriﬁed Lagrangian correspondences,

e-Print:

arXiv:1601.01536, 56 pages.

[Be-Fa] K. Behrend, B. Fantechi, Symmetric obstruction theories and Hilbert schemes of points on threefolds, Algebra

Number Theory 2 (2008), 313?345.

35

[Bez-Ka] R. Bezrukavnikov, D. Kaledin, Fedosov quantization in algebraic context. Mosc. Math. J. 4 (2004), no. 3,

559-592.

[BBJ] C. Brav, V. Bussi, D. Joyce, A Darboux theorem for derived schemes with shifted symplectic structure, e-Print:

arXiv:1305.6302 (submitted)

[BBDJS] C. Brav, V. Bussi, D. Dupont, D. Joyce, and B. Szendr¨oi, Symmetries and stabilization for sheaves of

vanishing cycles, Journal of Singularities 11 (2015), 85-151.

[Br-Dyc] C. Brav, T. Dyckerhoﬀ, Relative Calabi-Yau structures, in preparation.

[Cal] D. Calaque, Lagrangian structures on mapping stacks and semi-classical TFT’s, Stacks and Categories in Ge-

ometry, Topology, and Algebra, Contemporary Mathematics 643 (2015).

[Cal2] D. Calaque, Deformed shifted cotangent stacks in derived Poisson geometry, preprint, 2016, 9 pages.

[CPTVV] D. Calaque, T. Pantev, B. To¨en, M. Vaqui´e, G. Vezzosi, Shifted Poisson Structures and Deformation

Quantization, e-Print: arXiv:1506.03699v3 (submitted).

[Coh] F. Cohen in F. Cohen, T. J. Lada, and J. P. May, The homology of iterated loop spaces, Springer-Verlag, Berlin,

1976.

[Co-Gwi] K. Costello, O. Gwilliam, Factorization algebras in quantum ﬁeld theory Volume II, Book draft, December

2015, available at http://people.mpim-bonn.mpg.de/gwilliam/

[Dr1] V. Drinfeld, Quasi-Hopf algebras, Leningr. Math. J. 1 (1990), no. 6, 1419-1457.

[Dr2] V. Drinfeld, On quasi-triangular quasi-Hopf algebras and a group closely related with Gal(Q, Q), Leningr. Math.

J. 2 (1991), no. 4, 829-860.

[Gi-Ba] V. Ginzburg, V. Baranovsky, Gerstenhaber-Batalin-Vilkoviski structures on coisotropic intersections, to ap-

pear in Math. Res. Lett.

[Hen] B. Hennion, Tangent Lie algebra of derived Artin stacks ., e-Print: arXiv:1312.3167, to appear in Journal f¨ur

die reine und angewandte Mathematik (Crelles Journal).

[Hir] P. S. Hirschhorn, Model categories and their localizations, Mathematical Surveys and Monographs (99), AMS,

2003.

[HS] A. Hirschowitz, C. Simpson. Descente pour les n-champs, e-Print: arXiv math/9807049.

[Hov] M. Hovey, Model categories, Mathematical Surveys and Monographs (63), AMS, 2007.

[Hoy] M. Hoyois, The ﬁxed points of the circle action on Hochschild homology, e-Print: arXiv:1506.07123.

[Jo-Sa] D. Joyce and P. Safronov, Lagrangian neighborhood theorem for shifted symplectic derived schemes, e-Print:

arXiv:1509.08081

[JS] D. Joyce and Y. Song, A theory of generalized Donaldson-Thomas invariants, Mem. Amer. Math. Soc. 217 (2012),

no. 1020.

[Kap] A. Kapustin, Topological Field Theory, Higher Categories, and Their Applications, Proceedings of the Interna-

tional Congress of Mathematicians Hyderabad, India, 2010.

[Ka] C. Kassel, Quantum groups, Graduate Texts in Mathematics 155, 1995, Springer.

[Ko1] M. Kontsevich, Deformation quantization of Poisson manifolds, Lett. Math. Phys. 66 (2003), 157-216.

[KS] M. Kontsevich and Y. Soibelman, Stability structures, motivic Donaldson-Thomas invariants and cluster trans-

formations, e-Print: arXiv:0811.2435, 2008.

[Ill] L. Illusie, Complexe cotangent et d´eformations II, Lecture Notes in Mathematics 283, Springer Verlag, Berlin,

1972.

36

[Lu1] J. Lurie, Higher Topos Theory, Annals of Mathematics Studies, 170, Princeton University Press, Princeton, NJ,

2009. xviii+925 pp.

[Lu2] J. Lurie, Formal Moduli Problems, Vol. 2, Proceedings of the International Congress of Mathematicians 2010

(R. Bhatia, A. Pal, G. Rangarajan, V. Srinivas, M. Vanninathan editors), World Scientiﬁc.

[Lu3] J. Lurie, DAG series, V to XIV, available at http://www.math.harvard.edu/∼lurie/

[Lu4] J. Lurie, Higher Algebra, September 2014, available at http://www.math.harvard.edu/∼lurie/.

[Lu5] J. Lurie, Spectral algebraic Geometry, draft February 2016, available at http://www.math.harvard.edu/∼lurie/.

[Lu6] J. Lurie, On the Classiﬁcation of Topological Field Theories, Current Developments in Mathematics Volume

2008 (2009), 129-280.

[Mar] N. Markarian, Weyl n-algebras, e-Print: arXiv:1504.01931, 2015.

[Me] V. Melani, Poisson bivectors and Poisson brackets on aﬃne derived stacks, to appear in Advances in Mathematics.

[Me-Sa] V. Melani, P. Safronov, Shifted Poisson stuctures and coisotropic intersections, in preparation.

[Ni-Sa] Niklaus, S. Sagave, Presentably symmetric monoidal inﬁnity-categories are represented by symmetric monoidal

model categories, e-Print: arXiv:1506.01475.

[PTVV] T. Pantev, B. To¨en, M. Vaqui´e, G. Vezzosi, Shifted symplectic structures, Publ. Math. IHES, June 2013,

Volume 117, Issue 1, pp 271-328.

[Saf] P. Safronov, Poisson reduction as a coisotropic intersection, e-Print: arXiv:1509.08081.

[Sch] M. Schlessinger, Functors of Artin rings, Transactions of the American Mathematical Society 130: 208-222

(1968).

[STZ] V. Shende, D. Treumann, E. Zaslow, Legendrian knots and constructible sheaves, e-Print: arXiv:1402.0490.

[Spa] T. Spaide, Shifted symplectic structures on spaces of framed maps, thesis, University of Pennsylvania, 2015.

[To1] B. To¨en, Higher and derived stacks: a global overview. Algebraic geometry - Seattle 2005. Part 1, 435-487, Proc.

Sympos. Pure Math., 80, Part 1, Amer. Math. Soc., Providence, RI, 2009.

[To2] B. To¨en, Derived Algebraic Geometry, EMS Surv. Math. Sci. 1 (2014), no. 2, 153-245.

[To-Va] B. To¨en, M. Vaqui´e, Moduli of objects in dg-categories, Ann. Sci. de l’ENS Volume 40 (2007) Issue 3, Pages

387-444.

[HAG-II] B. To¨en, G. Vezzosi, Homotopical algebraic geometry II: Geometric stacks and applications, Mem. Amer.

Math. Soc. 193 (2008), no. 902, x+224 pp.

[To-Ve-1] B. To¨en, G. Vezzosi, Caract`eres de Chern, traces ´equivariantes et g´eom´etrie alg´ebrique d´eriv´ee, Selecta

Mathematica 21 (2015), no. 2, 449–554.

[To-Ve-2] B. To¨en, G. Vezzosi, Alg`ebres simpliciales S1-´equivariantes, th´eorie de de Rham et th´eor`emes HKR multi-

plicatifs, Compositio Math., 147 / Issue 06, n. 11, pp. 1979-2000 (2011).

[Ty] A. N. Tyurin, Fano versus Calabi-Yau, The Fano Conference, Univ. Torino, Turin, 2004, pp. 701-734.

[Vez1] G. Vezzosi, Derived critical loci I - Basics, e-Print: arXiv:1109.5213.

[Vez2] G. Vezzosi, Quadratic forms and Cliﬀord algebras on derived stacks, e-Print: arXiv:1309.1879 (submitted).

[Vez3] G. Vezzosi, A model structure on relative dg-Lie algebroids, Proceedings of CATS4: Stacks and Categories on

Geometry, Topology, and Algebra, Contemporary Mathematics 643, 111–118.

[We] A. Weinstein, Coisotropic calculus and Poisson groupoids, J. Math. Soc. Japan 40 (1988), 705-727.

[Ye] A. Yekutieli, Twisted deformation quantization of algebraic varieties. Adv. Math. 268 (2015), 241-305.

37

Tony Pantev, University of Pennsylvania, tpantev@math.upenn.edu
Gabriele Vezzosi, Universit`a di Firenze, gabriele.vezzosi@uniﬁ.it

38

