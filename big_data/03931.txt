6
1
0
2

 
r
a

 

M
2
1

 
 
]
T
G
h
t
a
m

.

[
 
 

1
v
1
3
9
3
0

.

3
0
6
1
:
v
i
X
r
a

Twisted cohomology of conﬁguration spaces and spaces

of maximal tori via point-counting

Weiyan Chen

March 15, 2016

Abstract

We consider two families of algebraic varieties Yn indexed by natural numbers
n: the conﬁguration space of unordered n-tuples of distinct points on C, and the
space of unordered n-tuples of linearly independent lines in Cn. Let Wn be any se-
quence of virtual Sn-representations given by a character polynomial, we compute
H i(Yn; Wn) for all i and all n in terms of double generating functions. One conse-
quence of the computation is a new recurrence phenomenon: the stable twisted Betti
numbers limn→∞ dim H i(Yn; Wn) are linearly recurrent in i. Our method is to com-
pute twisted point-counts on the Fq-points of certain algebraic varieties, and then pass
through the Grothendieck-Lefschetz ﬁxed point formula to prove results in topology.
We also generalize a result of Church-Ellenberg-Farb about the conﬁguration spaces of
the aﬃne line to those of a general smooth variety.

1

Introduction

We consider two families of spaces indexed by natural numbers n. The ﬁrst family is the
conﬁguration space of ordered n-tuples of distinct points in a manifold M :

PConfnM := {(x1, · · · , xn) ∈ M n : xi 6= xj, ∀i 6= j}.

The symmetric group Sn acts freely on PConfnM by permuting the ordered points. The
quotient Conf nM := PConfnM/Sn is the conﬁguration space of unordered n-tuples of
distinct points. The second family is the space of n linearly independent lines in Cn:

eTn(C) := {(L1, · · · , Ln) : Li a line in Cn, L1, · · · , Ln linearly independent}.

Sn acts freely on eTn(C) by permuting the ordered lines. The quotient Tn(C) := eTn(C)/Sn

can be identiﬁed with the space of maximal tori in GLn(C). See Section 3 for more details.
Every normal Sn-cover X → Y gives a natural bijection between representations of
Sn and local systems on Y that become trivial when restricted to X. Thus, every Sn-
representations give rise to a local system on ConfnM and on Tn(C).

Question 1 (Twisted Betti numbers). What are the twisted Betti numbers dim H i(ConfnM ; Wn)
and dim H i(Tn(C); Wn) for each i and n, and for each representation Wn of Sn?

These twisted Betti numbers have geometric, arithmetic, and combinatorial meaning
(see e.g. Sections 2 and 5 in [F]). The program of computing these numbers dates back to

1

the work of Arnol’d in the 1960s. For example, if Wn is the trivial, the sign, or the standard
representations of Sn, then dim H i(Conf n(C); Wn) have been known for all i and n, by the
work of Arnol’d [Ar], Cohen [Co], and Vassiliev [Va]. However, even in the special case when
M = C, there is no known formula of dim H i(Conf n(C); Wn), for every i and n and Wn. In
his 2014 ICM talk, Farb proposed a list of problems, one of which (Problem 2.1 in [F]) is
equivalent to Question 1. See Remark 1 below for more details.

This paper contains two collections of results: one topological and one arithmetic. We

will use the arithmetic results to obtain results in topology.

Topological results:

• Theorem 1 computes dim H i(Conf n(C); Wn) and dim H i(Tn(C); Wn) for all i and all

n, and for all representations Wn of Sn. This answers Question 1 for M = C.

• In Corollary 2, we discover a new recurrence phenomenon: the stable twisted Betti
numbers limn→∞ dim H i(Conf n(C); Wn) and limn→∞ dim H i(Tn(C); Wn) satisfy lin-
ear recurrence relations in i.

Arithmetic results:

• Theorem 3 computes weighted point-counts on the Fq-points of Conf nV where V is a

smooth variety.

• Corollary 4 states that when n → ∞, the weighted point-counts on the Fq-points
of ConfnV converges in some appropriate sense. This gives a new proof of a recent
theorem of Farb-Wolfson and generalizes a theorem of Church-Ellenberg-Farb.

1.1 Computing twisted Betti numbers.

We will consider Question 1 in a more general setting, where Wn is allowed to be a vir-
tual Sn-representation, i.e. a formal Q-linear combination of Sn-representations. Virtual
representations are in natural bijection with the set of class functions of Sn. In this case,
dim H i(Confn(C); Wn) and dim H i(Tn(C); Wn) are now well-deﬁned rational numbers since
the cohomology functor is additive in coeﬃcients.

For each positive integer k, deﬁne Xk : `∞

n=1 Sn → Z to be the class function with
Xk(σ) the number of k-cycles in the unique cycle decomposition of σ ∈ Sn. A character
polynomial is a polynomial P ∈ Q[X1, X2, · · · ]. It deﬁnes a class function on Sn for all n.
Deﬁne the degree of a character polynomial by letting each variable Xk to have degree k.
For a sequence of nonnegative integers λ = (λ1, · · · , λl), deﬁne a character polynomial by

k=1 kλk. For each ﬁxed n, every class function on Sn is a

(cid:18)X
λ(cid:19) :=(cid:18)X1
λ(cid:1) has degree |λ| := Pl

λ2(cid:19) · · ·(cid:18)Xl
λl(cid:19).
Then (cid:0)X
Q-linear combination of character polynomials of the form(cid:0)X
λ(cid:1). For example, the indicator
function on the conjugacy class of σ ∈ Sn is(cid:0)X
λ(cid:1) where λ = (X1(σ), · · · , Xn(σ)). Therefore,
to answer Question 1, it suﬃces to consider the case Wn :=(cid:0)X
λ(cid:1).
kPj|k µ( k

Theorem 1 (Generating function for twisted Betti numbers). Let µ be the classical
M¨obius function, and let Mk(z−1) := 1
j )z−j be the k-th necklace polynomial in

λ1(cid:19)(cid:18)X2

2

z−1. For any sequence of nonnegative integers λ = (λ1, λ2, · · · , λl), we have the following
two equations of formal power series in two variables z and t.

(I)

(II)

dim H i(Conf n(C);(cid:18)X
λ(cid:19))(−z)itn =
∞Xn=0
∞Xi=0
dim H 2i(Tn(C);(cid:0)X
λ(cid:1))
∞Xi=0
∞Xn=0

(1 − z)(1 − z2) · · · (1 − zn)

zitn =(cid:20) lYk=1

1 − zt2
1 − t

lYk=1(cid:18)Mk(z−1)
k(1 − zk)(cid:19)λk(cid:21) ·
λk!(cid:18)

1 + (tz)k(cid:19)λk
λk (cid:19)(cid:18) (tz)k
∞Yj=0

1 − tzj

tk

1

1

In (I), all negative power of z in Mk(z−1) will cancel with other positive powers of z so
that the right-hand-side of the equality is indeed a series in z and t. In (II), we only consider

H 2i(Tn(C);(cid:0)X

λ(cid:1)) because H 2i+1(Tn(C);(cid:0)X

λ(cid:1)) = 0 by the work of Borel [Bo].

Remark 1 (Representation stability). Farb proposed the following problem (Problem
2.1 in [F]): for a manifold M , compute the decomposition of H i(PConfnM ; Q) into a sum of
irreducible representations of Sn. Remarkably, such a decomposition does not depend on n
when n is suﬃciently large. This result of representation stability was ﬁrst proved by Church-
Farb [CF] for M = C, and later by Church [Chu] for M any connected orientable manifold
of ﬁnite type (see also [CEF1] for a diﬀerent proof). Farb proposed a second problem
(Problem 3.5 in [F]) of computing the stable decomposition of H i(PConf nM ; Q) when n is
large. Note that for any Sn-representation Wn, the transfer isomorphism associated to the
Sn-cover PConfnM → Conf nM gives:

dim H i(ConfnM ; Wn) = hH i(PConf nM ; Q), WniSn ,

(1.1)

where hU, V iSn stands for the usual inner product of two Sn-representations U and V .
Hence, computing the multiplicities of Wn in the decomposition of H i(PConfn(C); Q) are
equivalent to computing twisted Betti numbers of ConfnM in Wn.

The simplest nontrivial case for Farb’s two questions is when M = C. Theorem 1
(I) reduces Farb’s two questions in this case to computing Taylor expansions of rational
functions. See Section 2.8 for more discussion and examples.

Remark 2 (Twisted homological stability). Representation stability for PConfn(C)
implies twisted homological stability for Confn(C). Precisely, Church-Ellenberg-Farb (The-
orems 1.9 in [CEF1]) proved that for any character polynomial P and for each ﬁxed i, the
twisted Betti numbers dim H i(Conf n(C); P ) stabilize when n is suﬃciently large. Later,
Hersh-Reiner gave a diﬀerent proof of the stability of dim H i(Conf n(C); P ) with an im-
proved stable range in n (Theorem 4.3 in [HR]). We will give a third proof of this stability
result in Corollary 7 using Theorem 1. The implied stable range is a small improvement
of that obtained by Hersh-Reiner, and is optimal (see Remark 6 below). The three papers
([CEF1], [HR] and the present one) land at the same result from three totally diﬀerent
points of views respectively: topological, combinatorial, and arithmetic.

Linear recurrence of stable twisted Betti numbers in iii. Besides ﬁnding new proofs
of homological stability, we discover a new phenomenon: the stable cohomology of Confn(C)
and Tn(C) as n → ∞ with twisted coeﬃcients are linearly recurrent in i.

Corollary 2 (Linear recurrence of stable twisted Betti numbers). Fix an arbitrary
character polynomial P ∈ Q[X1, X2, · · · ]. Let N = deg P .

3

(I) For each i, denote αi := limn→∞ dim H i(Confn(C); P ). There exist integers c1, · · · , cN

such that for all i ≥ N + 2,

αi = c1αi−1 + c2αi−2 + · · · + cN αi−N .

(II) For each i, denote βi := limn→∞ dim H 2i(Tn(C); P ). There exist integers d1, · · · , dN

such that for all i ≥ N ,

βi = d1βi−1 + d2βi−2 + · · · + dN βi−N .

For example, if we let αi := limn→∞ dim H i(Conf n(C);V2Qn−1) where Qn−1 is the

standard representation of Sn, then αi satisﬁes the linear recurrence relation:

αi = 2αi−1 − 2αi−2 + 2αi−3 − αi−4.

See Section 2.8 for more details.

Remark 3 (Topological proof ?). We deduce Corollary 2 from Theorem 1 by explicitly
calculating the generating functions of αi and βi as rational functions. The proof of Theorem
1 uses point-counting, hence crucially depends on the fact that Confn(C) and Tn(C) are
algebraic varieties. Is there any proof of Corollary 2 using only topology? Are there other
examples of recurrent stable twisted Betti numbers in i?

Method: point-counting over ﬁnite ﬁelds. The method in this article combines ideas
from two beautiful papers: one by Church-Ellenberg-Farb [CEF2] and the other by Fulman
[Fu]. Church-Ellenberg-Farb observed that there is a remarkable bridge, provided by the
Grothendieck-Lefschetz ﬁxed point theorem in ´etale cohomology, between cohomology in
local coeﬃcients (topology) and weighted point-counts on varieties over ﬁnite ﬁelds (arith-
metic). Furthermore, they apply representation stability in topology to prove that certain
weighed point-counts converge. Later, Fulman used a diﬀerent method to improve the
arithmetic calculations stated in [CEF2] and obtained certain “ﬁnite n” formulas. In this
paper, we will systematically extend Fulman’s calculations of weighted point-counts, and
combine it with the approach of Church-Ellenberg-Farb but in the opposite direction: we
use point-counting to compute cohomology.

The idea of using point-counting to study the topology of conﬁguration spaces dates back
at least to the work of Lehrer-Kisin [LK], and is also used in Section 4.3 of [CEF2]. Our
results are continuations of the theme developed by Lehrer-Kisin and Church-Ellenberg-
Farb: structures in the cohomology (e.g. stability and recurrence) are often reﬂected in the
arithmetic of corresponding varieties, and vice versa.

1.2 Weighted point-counts on conﬁguration spaces of smooth vari-

eties.

Fulman’s method in [Fu] allows us to generalize a result of Church-Ellenberg-Farb as follows.
Let ConfnV be the conﬁguration space of unordered n-tuples of distinct points on a smooth
variety V deﬁned over Z. When V is the aﬃne line, Conf nA1 is just Conf n as discussed
above1. In general, every class function of Sn gives a function Conf nV (Fq) → Q, which can
be viewed as a weighting (see Section 2.1 for more details). The following theorem computes
weighted point-counts on ConfnV (Fq) in terms of the zeta function Z(V, t) of V over Fq.

1For brevity we will consistently use Conf n to abbreviate for Conf nA1 throughout the paper.

4

Conf nV
Theorem 3 (Weighted point-counts on Conf nV
ConfnV ). Let V be a smooth, connected variety
over Z of positive dimension, and let q be any odd prime power. Let µ be the M¨obius function,
and deﬁne Mk(V, q) := 1
m )|V (Fqm)| for each k. For any sequence of nonnegative
integers λ = (λ1, · · · , λl), we have the following equality of formal power series in t:

Z(V, t)
Z(V, t2)

·

lYk=1(cid:18)Mk(V, q)

λk (cid:19)  tk

1 + tk!λk

(1.2)

kPm|k µ( k
λ(cid:19)(σC )#tn =

∞Xn=0" XC∈Conf nV (Fq)(cid:18)X

Thanks to Weil conjectures (proved by Dwork, Grothendieck, Deligne et al.), Z(V, t) is
a rational function in t with a simple pole at t = q− dim V , which is of the smallest absolute
value among all other poles or zeros of Z(V, t). By examining the location of poles in
the generating sequence (1.2), we see that any point-count on ConfnV (Fq) weighted by a
character polynomial converges as n → ∞ in the following sense.

Corollary 4 (Convergence of weighted point-counts). With the same assumptions as
in Theorem 3 and letting d be the dimension of the variety V , we have:

(a) Deﬁne ˚Z(V, t) to be the rational function Z(V, t) · (1 − qdt) in t. Then

lim
n→∞

1

qnd XC∈ConfnV (Fq)(cid:18)X

λ(cid:19)(σC ) =

˚Z(V, q−d)
Z(V, q−2d)

lYk=1(cid:18)Mk(V, q)

λk (cid:19)  1

1 + qkd!λk

In particular, for any character polynomial P the following limit exists:

lim
n→∞

1

qnd XC∈ConfnV (Fq)

P (σC ).

(b) The expected value of (cid:0)X

λ(cid:1) as a random variable on ConfnV (Fq) converges:
λk (cid:19)  1

λ(cid:19)(σC ) =

lYk=1(cid:18)Mk(V, q)

|ConfnV (Fq)| XC∈Conf nV (Fq)(cid:18)X

1 + qkd!λk

lim
n→∞

1

(1.3)

(1.4)

Remark 4 (Related works). The convergence of (1.4) in the special case when V = A1
was ﬁrst proved by Church-Ellenberg-Farb (Theorem 1 in [CEF2]). Part (a) generalizes
their result to a general smooth variety. It concurs with the recent work of Farb-Wolfson,
where they extend the topological approach of [CEF2] and gives a diﬀerent formula for the
left-hand-side of (1.3) in terms of the ´etale cohomology of PConfnV (Theorem B in [FW]).
Our proof, inspired by the work of Fulman, is diﬀerent from the topological approach in
[CEF2] and [FW]. We obtain not only the asymptotic formula as n → ∞ (Corollary 4), but
also a generating function for all n (Theorem 3).

Remark 5 (Probabilistic interpretation and analogs in number theory). Part (b)
of Corollary 4 has the following probabilistic intepretation: the functions X1, X2, X3, · · · ,
viewed as random variables on Conf nV (Fq), tends to independent random variables with
binomial distribution as n → ∞. This is a geometric analog of the following fact in number
theory: the p-adic orders, for p any prime number, of a random integer chosen uniformly
from {1, 2, · · · , n} tend to be independent random variables with geometric distributions
as n → ∞. More results about weighted point-counts on Conf nV (Fq) (and other related
spaces) motivated by this probabilisitic point of view will be presented in the forthcoming
work of the author [Che].

5

Acknowledgment. The author thanks Sean Howe, Jenny Wilson, and Rita Jim´enez Rol-
land for helpful conversations on the subject. The author is deeply grateful to his advisor
Benson Farb, both for his continued support on the project and for his extensive comments
on an earlier draft.

2 Cohomology of conﬁguration spaces via point count-

ing

In this section, we will ﬁrst prove Theorem 3 and Corollary 4 about weighted point-counts on
ConfnV (Fq). The main ideas of the proofs were already contained in Fulman’s paper [Fu],
though he only proved the formulas in the special case when V = A1 and when λ = (0),
(1) and (0, 1). We systematically extend Fulman’s result to all V and all λ, using some
technical input from the Weil conjectures. We then apply the general formula in the case
when V = A1 to prove part (I) of Theorem 1 and of Corollary 2 about Conf n(C).

2.1 General set-up

Throughout this section, we will ﬁx V to be a smooth and connected variety over Z of
dimension d ≥ 1. Deﬁne the conﬁguration space of V to be the (scheme-theoretic) quotient

ConfnV := {(x1 · · · , xn) ∈ V n : xi 6= xj , ∀i 6= j}/Sn.

where Sn acts on V n by permuting the coordinates. ConfnV is also a variety over Z (by
[Mu], page 66). So we can study its Fq-points Conf nV (Fq). An element in ConfnV (Fq) is
a set of distinct points C = {x1, · · · , xn} ⊆ V (Fq) such that the Frobenius map Frobq :
V (Fq) → V (Fq) preserves the set. The action of Frobq on C gives a permutation σC ∈ Sn,
well-deﬁned and unique up to conjugacy. Therefore, any class function χ of Sn gives a
well-deﬁned function Conf nV (Fq) → Q by C 7→ χ(σC ).

Example: V = A1. When V is the aﬃne line A1, we use Conf n to abbreviate for Conf nA1.
Elements C ∈ Confn(Fq) are in bijection with monic, square-free, degree-n polynomials in
Fq[x] via the map

C = {x1, · · · , xn} 7→ fC(x) := (x − x1) · · · (x − xn).

Under this bijection, Xk(σC ), deﬁned as the number of k-cycles in σC , equals to the number
of degree-k factors in the irreducible factorization of fC(x) over Fq.

2.2 Proof of Theorem 3

First we recall some basic facts about the zeta function of a variety V over Fq:

Z(V, t) :=Yx

(1 − qdeg x)−1

where the product is taken over all closed points x on V over Fq. Weil conjectures give that
Z(V, t) is a rational function in t. Let Mk(V, q) denote the number of closed points on V of

6

degree k, which is equivalently the number of orbits of Frobq acting on V (Fq) of size k. We
have

Z(V, t) =

(1 − qk)−Mk(V,q).

(2.1)

Note that the ﬁxed points of Frobq on V (Fq) are precisely V (Fq). Similarly, for each k we
have

By M¨obius inversion,

∞Yk=1
|V (Fqk )| =Xm|k
kXm|k
∞Xn=0(cid:20) XC∈Conf nV (Fq)

µ(

1

Mk(V, t) =

mMm(V, q).

k
m

)|V (Fqm )|.

Proof of Theorem 3. Deﬁne a formal power series in x1, · · · , xl and t:

F (x1, · · · , xl, t) :=

xX1(σC )
1

xX2(σC )
2

· · · xXl(σC )

l

(cid:21)tn

(2.2)

Recall that an element C ∈ ConfnV (Fq) is just a subset of V (Fq) of size n that is preserved
by Frobq. Thus, every C ∈ ConfnV (Fq) can be decomposed uniquely into a disjoint union
of distinct orbits of Frobq acting on V (Fq). The number of Frobq-orbits in C of size k
is Xk(σc). The unique decomposition of C ∈ ConfnV (Fq) into disjoint union of distinct
Frobq-orbits gives the following product formula2.

(1 + xktk)Mk(V,q)

F (x1, · · · , xl, t) ="Yk>l
=" ∞Yk=1
=" ∞Yk=1(cid:18) 1 − t2k

(1 + tk)Mk(V,q)#Yk≤l
(1 + tk)Mk(V,q)#Yk≤l  1 + xktk
1 − tk (cid:19)Mk(V,q)#Yk≤l  1 + xktk

1 + tk !Mk(V,q)
1 + tk !Mk(V,q)

By the product formula (2.1), we obtain

F (x1, · · · , xl, t) =

Z(V, t)

Z(V, t2)Yk≤l  1 + xktk

1 + tk !Mk(V,q)

(2.3)

Next we apply the formal diﬀerential operator

(

∂
∂x

)λ := (

∂
∂x1

)λ1 (

∂
∂x2

)λ2 · · · (

∂
∂xl

)λl

2This is analogous to how unique factorization for integers gives the Euler product formula of Riemann

zeta function.

7

to the series F (x1, · · · , xl, t) and then evaluate at (x1, · · · , xl) = (1, · · · , 1), obtaining the
following equalities. The symbol λ! is an abbreviation for (λ1!)(λ2!) · · · (λl!). Diﬀerentiating
(2.2) gives

(

∂
∂x

)λF (1, · · · , 1, t) = λ! ·

Diﬀerentiating (2.3) gives

(

∂
∂x

)λF (1, · · · , 1, t) = λ! ·

Z(V, t)
Z(V, t2)

λ(cid:19)(σC )!tn

∞Xn=0  XC∈ConfnV (Fq)(cid:18)X
lYk=1(cid:18)Mk(V, q)

·

λk (cid:19)  tk

1 + tk!λk

Theorem 3 follows by equating these two expressions for ( ∂

∂x )λF (1, · · · , 1, t).

2.3 Proof of Corollary 4

First we recall the following basic fact from calculus.

Lemma 5. Given A(t) =P∞

n=0 antn where an are real numbers. Suppose A(t) = H(t)/(1 −
ct) where c is a constant, and the radius of convergence of H(t) is strictly greater than |c−1|.
Then limn→∞

an
cn exists and is equal to H(c−1).

Let

A(t) :=

Z(V, t)
Z(V, t2)

·

lYk=1(cid:18)Mk(V, q)

λk (cid:19)  tk

1 + tk!λk

The Riemann Hypothesis over ﬁnite ﬁelds (proved by Deligne [De]) says that Z(V, t) has a
simple pole at t = q−d where d = dim V . Moreover, each other zero or pole of Z(V, t) has
absolute value q−j for some j ≤ 2d − 1. Thus,

˚Z(V, t) := Z(V, t)(1 − qdt)

has no pole at |t| < q−d+ 1
2 ; while 1/Z(V ; t2) has no pole at |t| < q−2d < q−d (recall that
d = dim V > 0). Hence A(t) and c = q−d satisfy the hypothesis of Lemma 5, by which we
conclude

lim
n→∞

1

qnd XC∈Conf nV (Fq)(cid:18)X

λ(cid:19)(σC ) =(cid:20)A(t)(1 − qdt)(cid:21)t=q−d

This establishes (1.3).

Every character polynomial P is a Q-linear combination of (cid:0)X

the limit (1.4) converges for all P . Part (a) is proved.

In the case when λ = (0), part (a) gives

λ(cid:1) for diﬀerent λ. Thus,

lim
n→∞

|Conf nV (Fq)|

qnd

=

˚Z(V, q−d)
Z(V, q−2d)

.

(2.4)

Part (b) follows by taking the ratio of (1.3) and (2.4).

8

2.4 Connecting arithmetic and topology of Conf n

For the rest of this paper, we will focus on the case when V = A1. Recall that we use
Confn to abbreviate for Conf nA1. Let W be a representation of Sn, with character χW .
Church-Ellenberg-Farb proved the following equation connecting arithmetic of Conf n(Fq)
and topology of Conf n(C): (Proposition 4.1 in [CEF2])

XC∈Conf n(Fq)

χW (σC ) = qnXi

(−1)i dim H i(Confn(C); W ) q−i.

(2.5)

By additivity, same formula holds if we replace W by a virtual representation. See Section 4
in [CEF2] for how (2.5) is obtained from the Grothendieck-Lefschetz ﬁxed point theorem in
´etale cohomology. Results from the previous section (in the case when V = A1) give us access
to the left-hand-side of (2.5), from which we can prove results about H i(Conf n(C); W ).

2.5 Proof of Theorem 1, (I)

We abbreviate the twisted Betti number as

αi(n) := dim H i(Conf n(C);(cid:18)X
λ(cid:19))

(2.6)

for each i and n. Deﬁne the double generating function for αi(n) as the formal power series
in two variables z and t

Φλ(z, t) :=

αi(n)(−z)itn

(2.7)

∞Xn=0

∞Xi=0

We want to compute Φλ(z, t) as a rational function. We will need the following lemma.

Lemma 6. Suppose Φ(z, t) and Ψ(z, t) are two power series in two formal variables z and
t. If for every prime power q, we have Φ(q−1, t) = Ψ(q−1, t) as formal power series in t,
then Φ(z, t) = Ψ(z, t) as formal series in z and t.

n=0 ψn(z)tn, where
φn(z) and ψn(z) are formal series in z for each n. By hypothesis, for every prime power q,
we have φn(q−1) = ψn(q−1). Recall the following fact from calculus:

Proof of Lemma. Suppose Φλ(t, z) = P∞
• If an inﬁnite series h(z) =Pi=0 aizi converges at z = z0, then it converges absolutely

n=0 φn(z)tn and Ψ(t, z) = P∞

at all z with |z| < |z0|.

Hence, both φn(z) and ψn(z) are holomorphic functions on a disk with a positive radius
centered at 0. Since φn(z) = ψn(z) for all z ∈ {q−1 | q is a prime power} which accumulates
at 0, it must be φn(z) = ψn(z) as holomorphic functions. By the uniqueness of power series
expansion, φn(z) = ψn(z) as formal series in z. Thus Φ(z, t) = Ψ(z, t) as formal series in z
and t.

9

Now we evaluate the double generating function Φλ(z, t) at z = q−1.

Φλ(q−1, t) =

=

=

(−1)ibi(n)q−itn

∞Xi=0
∞Xn=0
∞Xn=0(cid:20) XC∈Conf n(Fq)(cid:18)X

Z(A1, tq−1)

Z(A1, (tq−1)2)

The k-th necklace polynomial in x is

1 + (tq−1)k!λk
(cid:19)  (tq−1)k

λ(cid:19)(σC )(cid:21)(q−1t)n
nYk=1(cid:18)Mk(A1, q)
kXm|k

Mk(x) =

k
m

λk

1

µ(

)xm.

By (2.5)

By Theorem 3

A standard calculation gives that Z(A1, t) = 1
simplify the above:

1−qt , and that Mk(A1, q) = Mk(q). Thus, we

Φλ(q−1, t) =

1 − t2q−1

1 − t

nYk=1(cid:18)Mk(q)

λk (cid:19)  (tq−1)k

1 + (tq−1)k!λk

(2.8)

Since (2.8) holds at z = q−1 for any prime power q. By Lemma 6, the same equation holds
when q−1 is replaced by a formal variable z.

2.6 Stability of Betti numbers

It was known by the general theory of representation stability developed by Church-Ellenberg-
Farb that for any character polynomial P , the twisted Betti numbers dim H i(Confn(C); P )
will be independent of n when n is suﬃciently large. We will give a diﬀerent proof of this
result with an improved stability range for n.

Corollary 7. For every character polynomial P and for every i, we have

dim H i(Conf n(C); P ) = dim H i(Conf n+1(C); P )

(2.9)

when n ≥ i + deg P + 1.

Remark 6. Church-Ellenberg-Farb ﬁrst proved (2.9) when n ≥ 2i + deg P (Theorem 1
[CEF2]). Later, Hersh-Reiner gave a diﬀerent proof of (2.9) with a better stable range:
n ≥ max{2 deg P, deg P + i + 1} (Theorem 4.3 in [HR]). The stable range in Corollary 7 is
a small improvement of the range obtained by Hersh-Reiner, and is sharp, as we will show
it in Section 2.8.

Proof. It suﬃces to consider when P = (cid:0)X
λ(cid:1) for some sequence λ = (λ1, · · · , λk). In this
case deg(cid:0)X
∞Xi=0
∞Xn=0

λ(cid:1) =Pk kλk. Let αi(n) be as in (2.6), and let Φλ(z, t) be as in (2.7).

[αi(n + 1) − αi(n)]zitn

(1 − t)Φλ(t, z) = 1 + t

10

It suﬃces to check that (1 − t)Φλ(t, z) is a sum of monomials of the form zitn where

n − i ≤Pl

k=0 kλk + 1.

We will say an inﬁnite series in z and t has slope ≤ m if it is a sum of monomials zitn

where n − i ≤ m. We want to show that the series given by Theorem 1

(1 − t)Φλ(t, z) = (1 − zt2)

(2.10)

lYk=1(cid:18)Mk(z−1)

λk (cid:19)  (tz)k

1 + (z)k!λk

• (1 − zt2) has slope ≤ 2 − 1 = 1.

k=0 kλk + 1. We analyze each factor.

has slope ≤Pl
• For each k, the factor Mk(z−1) has slope ≤ k. Thus,(cid:18)Mk(z−1)
• For each k,(cid:20) (tz)k
Therefore, the product in (2.10) has slope ≤ 1+Pl

1+(tz)k(cid:21)λk

has slope ≤ 0.

2.7 Proof of Corollary 2, (I).

λk (cid:19) has slope ≤ kλk.

k=0 kλk. This establishes the corollary.

Let αi be αi(n) when n ≥ i + |λ| + 1 in the stable range. Deﬁne the generating function

Φ∞

λ (z) :=

αi(−z)i

∞Xi=0

By Lemma 5, we can calculate Φ∞

λ (z) using Φλ(z, t):

Φ∞

λ (z) =(cid:20)(1 − t)Φλ(z, t)(cid:21)t=1
lYk=1(cid:18)Mk(z−1)

= (1 − z)

λk (cid:19)  zk

1 + zk!λk

by Theorem 1

(2.11)

λ (z) in (2.11) is a rational function in z. The denominator is a polynomial
k=1 kλk = |λ|. The numerator has degree at most 1 + |λ|. This implies that

αi satisﬁes a linear recurrence relation of length |λ| once i > |λ| + 1.

In particular, Φ∞

in z of degreePl

2.8 Examples

Recall that irreducible representations of Sn are in bijection with partitions of n. For a
3 the
ﬁxed partition µ ⊢ n where µ = (µ1 ≥ µ2 ≥ · · · ≥ µr), we will denote by V (µ)n
i=1 µi) + µ1 + · · · + µr for all
i=1 µi ≥ µ1. Going from V (µ)n to V (µ)n+1 corresponds to

representation of Sn corresponding to the partition n = (n −Pr
n suﬃciently large, i.e. for n −Pr

3Sometimes we will suppress n from the notation.

11

adding one block in the ﬁrst row of the corresponding Young diagram. Church-Ellenberg-
Farb proved that H i(PConfn(C); Q) is multiplicity stable (Theorem 1.9 in [CEF1]): for each
i, there is a ﬁnite set Qi of partitions such that

H i(PConf n(C); Q) ∼= Mµ∈Qi

V (µ)⊕di(µ)

n

for all n suﬃciently large. In particular, the sum over Qi is independent of n. Farb pro-
posed the problem of computing di(µ) for each i and each µ (Problem 3.5 in [F]). Macdonald
proved that for all partition µ, the character of V (µ)n is given by a unique character poly-
nomial Pµ for all n suﬃciently large (Example I.7.14 in [Ma]). Therefore, by transfer (1.1),
computing di(µ) is equivalent to computing the stable cohomology of H i(Confn(C); Pµ).
We will demonstrate the case of computing these using Theorem 1 (I) in three examples
where µ is the partition 1 = 1, or 2 = 1 + 1, or 2 = 2.

Wn = V (1)n
Wn = V (1)n. Assume n ≥ 2, the irreducible representation V (1)n corresponds
Example 1: Wn = V (1)n
to the Young diagram (n − 1, 1). It is also known as the standard representation:

V (1)n ∼= {(x1, · · · , xn)|X xi = 0} ∼= Qn−1

where Sn acts by permuting the coordinates.

The Sn-character of W is given by the character polynomial X1 − 1. If we abbreviate

the Betti number as

αi(n) = dim H i(Conf n(C); V (1)n),

then Theorem 1 gives that the double generating function of αi(n) is

∞Xn=0

∞Xi=0

(−1)iαi(n) zitn =

1 − t2z

1 − t (cid:20)

t

1 + tz

− 1(cid:21)

= (−z + z2)t3 + (−z + 2z2 − z3)t4 + (−z + 2z2 − 2z3 + z4)t5

+ (−z + 2z2 − 2z3 + 2z4 + z5)t6 + · · ·

Thus, we conclude that when n ≥ 3,

αi(n) =

0
1
2
1

i = 0
i = 1
0 < i < n − 1
i = n − 1

Remark 7. A computation of dim H i(Confn(C); V (1)n) from Lehrer-Solomon’s description
of H i(PConfn(C); Q) was presented in Proposition 4.5 of [CEF2]. It took about one and
half pages. The computation above using generating function is a faster procedure.

The stable Betti numbers are:

αi := lim
n→∞

dim H i(Conf n(C); V (1)) =

0
1
2

12

i = 0
i = 1
i > 1

When i ≥ 2, the stable Betti numbers αi are the same, which in particular satisfy a recur-
rence relation of length 1. From this example we see that the bounds in Corollary 2 (I) and
Corollary 7 are sharp.

Wn = V (1, 1)n.
Example 2: Wn = V (1, 1)n.
Wn = V (1, 1)n. Assume n ≥ 3, the irreducible representation V (1, 1)n cor-
responds to the Young diagram (n − 2, 1, 1). The dimension of V (1, 1) is (n2 − 3n + 2)/2.

In fact, we have V (1, 1) ∼=V2Qn−1 where Qn−1 is the standard representation V (1). The

character of V (1, 1) is given by the following character polynomial:

2 (cid:19) − X1 − X2 + 1
(cid:18)X1

If we abbreviate the Betti numbers αi(n) = dim H i(Conf n(C); V (1, 1)n), then Theorem 1
gives that

∞Xn=0

∞Xi=0

(−1)iαi(n) zitn = Φ(2)(z, t) − Φ(1)(z, t) − Φ(0,1)(z, t) + Φ(0)(z, t)

=

1 − t2z

1 − t (cid:20) (1 − z)t2

2(1 + tz)2 −

t

1 + tz

−

(1 − z)t2

2(1 + (tz)2)

+ 1(cid:21)

By expanding the generating function, we have the following table of the Betti numbers:

5
0
0
2
3
1

6
0
0
2
5
4
1

7
0
0
2
5
6
5
2

αi(n) = dim H i(Conf n(C); V (1, 1)n)
4
11
0
0
0
0
2
1
1
5
6
7
10
13
14
11
4

10
0
0
2
5
6
7
10
13
10
3

9
0
0
2
5
6
7
10
9
3

8
0
0
2
5
6
7
7
3

n = 3

0
0
0

(i, n)
i = 0
1
2
3
4
5
6
7
8
9
10
11
12
13

12
0
0
2
5
6
7
10
13
14
15
13
5

13
0
0
2
5
6
7
10
13
14
15
18
15
5

14
0
0
2
5
6
7
10
13
14
15
18
21
16
5

The bold entries lie on the line n = i + 3.

In each row, the Betti number stabilizes
as n ≥ i + 3. This agrees with the stability bound as predicted in Corollary 2.9: n >

2(cid:1) − X1 − X2 + 1) = i + 2. Moreover, we can see from the table that the bound

Furthermore, from (2.11), we have the following formula for the generating function of

i + deg((cid:0)X1

is sharp.

the stable Betti numbers αi := limn→∞ dim H i(Conf n(C); V (1, 1)n):

∞Xi=0

(−1)iαizi = Φ∞

(2)(z) − Φ∞

(1)(z) − Φ∞

(0,1)(z) + Φ∞

(0)(z) = (1 − z)(cid:20) 1 − z

2(1 + z)2 −

1

1 + z

−

1 − z

2(1 + z2)

+ 1(cid:21)

= 2z2 − 5z3 + 6z4 − 7z5 + 10z6 − 13z7 + 14z8 − 15z9 + 18z10 − 21z11 + · · ·

13

The stable Betti numbers satisfy the linear recurrence relation:

αi = 2αi−1 − 2αi−2 + 2αi−3 − αi−4.

By explicitly solving the recurrence relation, we have α0 = 0, α1 = 2, and when i ≥ 3,

2i − 2
2i − 3
2i − 2
2i − 1

i = 0 mod 4
i = 1 mod 4
i = 2 mod 4
i = 3 mod 4

αi =

Remark 8. In Section 4.4 of [CEF2], Church-Ellenberg-Farb used L-functions to compute

the stable cohomology of H i(Confn(C);V2Qn). Since V2Qn ∼=V2Qn−1 ⊕ Qn, we recover

their computation. Moreover, we also obtained unstable cohomology.

Example 3: Wn = V (2)n.
Example 3: Wn = V (2)n.
Example 3: Wn = V (2)n. Assume n ≥ 4, the irreducible representation V (2)n corresponds
to the Young diagram (n − 2, 2). The dimension of V (2) is (n2 − 3n)/2.
In fact, V (2)
is a direct summand in the symmetric square of the standard representation Qn−1. More
precisely, we have

Sym2(Qn−1) ∼= Qn ⊕ V (2)

The character of V (2) is given by the following character polynomial

2 (cid:19) + X2 − X1
(cid:18)X1

If we abbreviate the Betti numbers αi(n) := dim H i(Conf n(C); V (2)n), Theorem 1 gives

∞Xn=0

∞Xi=0

(−1)iαi(n) zitn = Φ(2)(z, t) + Φ(0,1)(z, t) − Φ(1)(z, t)

=

1 − t2z

1 − t (cid:20) (1 − z)t2

2(1 + tz)2 +

(1 − z)t2
2(1 + (tz)2)

−

t

1 + tz(cid:21)

By expanding the generating function, we have the following table of Betti numbers:

αi(n) = dim H i(Conf n(C); V (2)n)

(i, n)
i = 0
1
2
3
4
5
6
7
8
9
10
11
12
13

n = 4

0
1
1
0

5
0
1
2
2
1

6
0
1
2
3
4
2

7
0
1
2
3
6
6
2

8
0
1
2
3
6
9
7
2

9
0
1
2
3
6
9
10
8
3

10
0
1
2
3
6
9
10
11
10
4

11
0
1
2
3
6
9
10
11
14
12
4

12
0
1
2
3
6
9
10
11
14
17
13
4

13
0
1
2
3
6
9
10
11
14
17
18
14
5

14
0
1
2
3
6
9
10
11
14
17
18
19
16
6

14

The bold entries lie on the line n = i + 3.

In each row, the Betti number stabilizes
when n ≥ i + 3. This agrees with the stability bound as predicted in Corollary 2.9: n >

2(cid:1) + X2 − X1) = i + 2. We can see from the table that the bound is sharp.

Furthermore, from (2.11), we have the following formula for the generating function of

the stable Betti numbers:

i + deg((cid:0)X1
∞Xi=0

(−1)iαizi = Φ∞

(2)(z) − Φ∞

(1)(z) − Φ∞

(0,1)(z) + Φ∞

(0)(z) = (1 − z)(cid:20) 1 − z

2(1 + z)2 +

1 − z

2(1 + z2)

−

1

1 + z(cid:21)

= −z + 2z2 − 3z3 + 6z4 − 9z5 + 10z6 − 11z7 + 14z8 − 17z9 + 18z10 − 19z11 + · · ·

The stable Betti numbers satisﬁes the linear recurrence relation:

αi = 2αi−1 − 2αi−2 + 2αi−3 − αi−4.

We can explicitly solve the recurrence relation and obtain that α0 = 0, and when i ≥ 1,

αi := lim
n→∞

dim H i(Conf n(C); V (2)) =

2i − 2
2i − 1
2i − 2
2i − 3

i = 0 mod 4
i = 1 mod 4
i = 2 mod 4
i = 3 mod 4

3 Cohomology of Tn(C) via point counting

In this section we prove part (II) of Theorem 1 and Corollary 2. Our analysis of Tn closely
parallels that of Confn before.

3.1 General set-up

Tn = eTn/Sn is a scheme over Z (again, see page 66 in [Mu]). The Fq-points Tn(Fq) consists

of sets L = {L1, · · · , Ln} of n linearly independent lines in Pn−1(Fq) such that the Frobenius
map Frobq : Pn−1(Fq) → Pn−1(Fq) preserves the set T .

Let F abbreviate the Frobenius map. An F -stable torus in GLn(Fq) is an algebraic
subgroup which becomes diagonalizable over Fq. An F -stable torus is maximal if it is not
properly contained in any larger one. Given any F -stable maximal torus T , its n eigenvectors
n
n
in F
q . Thus LT is a element of Tn(Fq). The
q deﬁnes a set LT of n independent lines in F
map T 7→ LT gives a bijection between F -stable maximal tori in GLn(Fq) and Fq-points of
Tn. Therefore, Tn(Fq) is precisely the set of F -stable maximal tori in GLn(Fq). See Section
5.1 of [CEF2] for a proof.

n
For any T ∈ Tn(Fq), the action of Frobq on LT , a set of n lines in F
q , gives a permutation
σT ∈ Sn, unique up to conjugacy. Church-Ellenberg-Farb proved the following equation
using the Grothendieck-Lefschetz ﬁxed point formula. Given any Sn-representation W with
character χW ,

XT ∈Tn(Fq)

χW (σT ) = qn(n−1)

n(n−1)/2Xi=0

dim H 2i(Tn(C); W )q−i

(3.1)

This formula was stated in Theorem 5.3 in [CEF2]. By additivity, the same formula holds
when W is taken to be a virtual representation of Sn.

15

3.2 Arithmetic statistics for F -stable maximal tori in GLn(Fq)

In this subsection, we will compute the left-hand-side of (3.1) when W is given by a character

method in [Fu]. All the ideas in this subsection were already in Fulman’s paper.

λ(cid:1). Our approach will be a systematic extension of Fulman’s

Proposition 8. For each ﬁxed sequence of nonnegative integers λ = (λ1, · · · , λl), let zλ :=

k=1 λk!kλk . We have the following equation of formal power series in t.

polynomial of the form (cid:0)X
Ql

∞Xn=0" XT ∈Tn(Fq)(cid:18)X

λ(cid:19)(σT )#

tn

|GLn(Fq)|

=

1

zλ(cid:20) lYk=1(cid:18) q−ktk

1 − q−k(cid:19)λk(cid:21) ·(cid:20) ∞Yi=1

1

1 − q−kt(cid:21)

(3.2)

Proof. We will use the following result of Fulman (stated as Theorem 3.2 in [Fu]).

Theorem (Fulman). With the notation as above,

∞Xn=0(cid:20) XT ∈Tn(Fq)

nYi=1

xXi (σT )
i

(cid:21)

tn

|GLn(Fq)|

=

∞Yk=1

exp(cid:20)

xktk

(qk − 1)k(cid:21)

(3.3)

Let F (~x, t) denote both sides of (3.3) as a formal power series in inﬁnitely many variables

t and x1, x2, · · · . We apply the formal diﬀerential operator

(

∂
∂x

)λ := (

∂
∂x1

)λ1 (

∂
∂x2

)λ2 · · · (

∂
∂xl

)λl

to the series F (~x, t) and then evaluate at xi = 1 for all i. Let λ! be an abbreviation for
(λ1!)(λ2!) · · · (λl!). Then

λ!

∞Xn=0" XT ∈Tn(Fq)(cid:18)X

λ(cid:19)(σT )#

= (

tn

= (

exp

xktk

|GLn(Fq)|

∂
∂x

∂
∂x

)λ(cid:20)F (~x, t)(cid:21)xi=1,∀i
(qk − 1)k(cid:21)xi=1,∀i
)λ(cid:20) ∞Yk=1
=(cid:20) lYk=1(cid:18)
(qk − 1)k(cid:19)λk(cid:21) ·(cid:20) ∞Yk=1
(qk − 1)k(cid:19)λk(cid:21) ·(cid:20) ∞Yi=1
=(cid:20) lYk=1(cid:18)

exp

tk

tk

tk

(qk − 1)k(cid:21)

1

1 − q−it(cid:21)

where the last equality follows from

exp

tk

(qk − 1)k

∞Yk=1

=

∞Yi=1

1

1 − q−it

which can be proved by expanding both sides into power series.

16

3.3 Proof of Theorem 1, (II)

For each i and n, we abbreviate the twisted Betti number as

βi(n) := dim H 2i(Tn(C);(cid:18)X
λ(cid:19))

(3.4)

Deﬁne a formal power series in z and t

Ψλ(z, t) :=

∞Xn=0

∞Xi=0

βi(n)

(1 − z)(1 − z2) · · · (1 − zn)

zitn

(3.5)

We evaluate Ψλ(z, t) at z = q−1:

Ψλ(q−1, t) =

=

=

=

βi(n)q−itn

1

1

∞Xi=0

(1 − q−1)(1 − q−2) · · · (1 − q−n)

∞Xn=0
∞Xn=0
∞Xn=0
zλ(cid:20) lYk=1(cid:18) tk

(qn − qn−1)(qn − qn−2) · · · (qn − 1)(cid:20)qn(n−1)
λ(cid:19)(σT )(cid:21)(tq)n
1 − q1−kt(cid:21)

∞Xn=0(cid:20) XT ∈Tn(Fq)(cid:18)X
1 − q−k(cid:19)λk(cid:21) ·(cid:20) ∞Yi=1

|GLn(Fq)|)

1

1

1

βi(n)q−i(tq)n(cid:21)

∞Xi=0

by 3.1

by Proposition 8

Since the equality holds for all prime powers q, the equality also holds when q−1 is replaced
by a formal variable z by Lemma 6.

3.4 Proof of Corollary 2, (II).

As before, it suﬃces to consider when P = (cid:0)X

limn→∞ βi(n), then we have

λ(cid:1). Let βi(n) be as in (3.4) and let βi be

lim
n→∞

n(n−1)Xi=0

βi(n)

(1 − z)(1 − z2) · · · (1 − zn)

j=1(1 − zj)

zi

(3.6)

On the other hand, by Lemma 5, we have

lim
n→∞

n(n−1)Xi=0

βi(n)

(1 − z)(1 − z2) · · · (1 − zn)

Equating (3.6) and (3.7), we have

βizi =

1
zλ

∞Xi=0

βi

∞Xi=0

zi =

Q∞
zi =(cid:20)(1 − t)Ψλ(z, t)(cid:21)t=1
1 − zk(cid:19)λk

1
zλ

=

lYk=1(cid:18) 1
1 − zk(cid:19)λk

.

lYk=1(cid:18) 1

17

·

∞Yj=1

1

1 − zj

(3.7)

The generating function for βi is a rational function in z with denominator a polynomial of
degree |λ|. Thus βi satisﬁes a linear recurrence relation of length |λ|.

References

[Ar] V.I. Arnol’d, The cohomology ring of the colored braid group, Mathematical Notes 5,

no. 2 (1969), 138-140.

[Che] W. Chen, Analytic number theory for zero-cycles, in preparation.

[Chu] T. Church, Homological stability for conﬁguration spaces of manifolds, Invent. Math.

188 (2012) 2, 465-504.

[CF] T. Church and B. Farb, Representation theory and homological stability, Advances in

Math., Vol. 245 (2013), pp. 250-314.

[Bo] A. Borel, Sur la cohomologie des espaces ﬁbr´es principaux et des espaces homog`enes

de groupes de Lie compacts (French), Annals of Math. 57 (1953), 115207.

[CEF1] T. Church, J. Ellenberg and B. Farb, FI-modules: a new approach to stability for

Sn-representations, preprint, 2012, arXiv:1204.4533.

[CEF2] T. Church, J. Ellenberg, and B. Farb. Representation stability in cohomology and
asymptotics for families of varieties over ﬁnite ﬁelds, Contemporary Math., 620 (2014):
1-54.

[Co] F. Cohen. The homology of Cn+1-spaces, n ≥ 0, in The homology of iterated loop spaces,

Lecture Notes in Mathematics 533, Springer, Berlin (1976) 207351.

[De] P. Deligne, La conjecture de Weil:

II, Inst. Hautes ´Etudes Sci. Publ. Math., No.

52(1980), pp.137252.

[F] B. Farb, Representation stability, Proceedings of the 2014 Seoul ICM.

[FW] B. Farb and J. Wolfson, ´Etale homological stability and arithmetic statistics, preprint

arXiv:1512.00415.

[Fu] J. Fulman. A generating function approach to counting theorems for square-free poly-

nomials and maximal tori, preprint, arXiv:1410.3540.

[HR] P. Hersh and V. Reiner, Representation stability for cohomology of conﬁguration

spaces in Rd, preprint, arXiv:1505.04196.

[LK] G.I. Lehrer and L. Solomon, Equivariant Poincar´e polynomials and counting points

over ﬁnite ﬁelds, J. Algebra 247 (2002), 435-451.

[Ma] I.G. Macdonald, Symmetric functions and Hall polynomials, second ed., Oxford Math.

Mon., Clarendon Press, Oxford, 1995.

[Mu] D. Mumford, Abelian Varieties. Tata Inst. Fund. Research Studies in Math, 1970,

Oxford University Press.

18

[Va] V. Vassiliev. Braid group cohomologies and algorithm complexity, Functional Analysis

and its Applications, Vol. 22, Issue 3 (1988): 182-190.

Department of Mathematics,
University of Chicago,
5734 S. University Ave.
Chicago, IL 60637, U.S.A.

E-mail: chen@math.uchicago.edu

19

