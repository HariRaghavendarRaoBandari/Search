6
1
0
2

 
r
a

M
1

 

 
 
]

.

A
R
h
t
a
m

[
 
 

1
v
9
2
1
0
0

.

3
0
6
1
:
v
i
X
r
a

THE HOMOMORPHISM LATTICE

INDUCED BY A FINITE ALGEBRA

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

Abstract. Each ﬁnite algebra A induces a lattice LA via the quasi-order →
on the ﬁnite members of the variety generated by A, where B → C if there
exists a homomorphism from B to C. In this paper, we introduce the question:
‘Which lattices arise as the homomorphism lattice LA induced by a ﬁnite
algebra A?’ Our main result is that each ﬁnite distributive lattice arises as LQ,
for some quasi-primal algebra Q. We also obtain all ﬁnite partition lattices
and the pentagon lattice N5.

For any variety V of algebras, there is a natural quasi-order → on the class Vﬁn
of all ﬁnite members of V, given by A → B if there exists a homomorphism from
A to B. Deﬁne the equivalence relation ≡ on Vﬁn by

A ≡ B ⇐⇒ A → B and B → A.

Then → induces an order on Vﬁn/≡, called the homomorphism order.

The motivation for this deﬁnition comes from graph theory. The homomor-
phism order has been studied extensively for the category G of ﬁnite directed
graphs; see Hell and Neˇsetˇril [17]. The ordered set LG := hG/≡; →i, which forms
a bounded distributive lattice, is very complicated: every countable ordered set
embeds into LG [15, 30, 19]. More generally, the homomorphism order has been
studied for various categories of ﬁnite relational structures [24, 23, 10, 22].

In this paper, we introduce the study of the homomorphism order for the ﬁnite
members of a variety of algebras. In order to guarantee that the homomorphism
order forms a lattice, we shall restrict our attention to locally ﬁnite varieties and,
more particularly, to ﬁnitely generated varieties.

Given a ﬁnite algebra A, we can deﬁne the lattice

LA := hVar(A)ﬁn/≡; →i,

which we refer to as the homomorphism lattice induced by A. We shall see that
such a lattice LA may be just as complicated as the homomorphism lattice LG for
ﬁnite directed graphs. For example, there is a ﬁve-element unary algebra U such
that LG order-embeds into LU; see Example 1.3.

We are interested in the question:

Which lattices arise as LA, for some ﬁnite algebra A?

Our main result (proved over Sections 2–4) is that each ﬁnite distributive lattice
arises as the homomorphism lattice LQ, for some quasi-primal algebra Q. In the
proof, we use Behncke and Leptin’s construction [3] of the covering forest of a ﬁnite
ordered set, which is analogous to the universal covering tree from graph theory.

2010 Mathematics Subject Classiﬁcation. Primary: 08B25; Secondary: 06B15, 08A40.
Key words and phrases. homomorphism order, ﬁnitely generated variety, quasi-primal algebra,

distributive lattice, covering forest.

1

2

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

G ˙∪ H

G

H

G × H

Figure 1. Meet and join in LG.

In Section 5, we show that a homomorphism lattice is not necessarily distributive,
by obtaining both M3 and N5 in the form LA, for a ﬁnite algebra A. Indeed, by
obtaining every ﬁnite partition lattice in this form, we see that the only universal
ﬁrst-order sentences true in all homomorphism lattices are those true in all lattices.
There are many unanswered questions concerning the homomorphism lattices

induced by ﬁnite algebras. For example:

• Does every countable bounded lattice arise as the homomorphism lattice LA
induced by a ﬁnite algebra A? In particular, does every ﬁnite lattice arise
in this way?

• For which ﬁnite algebras A is the lattice LA ﬁnite? Is this decidable?

1. The homomorphism order

In this introductory section, we motivate and deﬁne the homomorphism lattice

induced by a ﬁnite algebra and give some examples.

The homomorphism order on ﬁnite directed graphs. The motivation for
this paper came from Hell and Neˇsetˇril’s text Graphs and Homomorphisms [17].

Let G be the category of ﬁnite directed graphs. Deﬁne the quasi-order → on G
by G → H if there exists a graph homomorphism from G to H, and let ≡ denote
the associated equivalence relation on G, given by

G ≡ H ⇐⇒ G → H and H → G.

Then the ordered set LG := hG/≡; →i forms a lattice:
for ﬁnite directed graphs
G and H, the product G × H represents the meet, and the disjoint union G ˙∪ H
represents the join; see Figure 1. Since product distributes over disjoint union, the
lattice LG is distributive. In fact, the lattice LG is relatively pseudocomplemented,
via the exponential construction HG (see [17, Section 2.4]).

Both the lattice LG and its sublattice LS have been studied extensively, where S
is the category of ﬁnite symmetric directed graphs (i.e., ﬁnite graphs). For example,
it is known that every countable ordered set embeds into LS [30, 19], and that LS
is dense above the complete graph K2 [32] (see [17, Section 3.7]).

The homomorphism order on other categories. Let C be a category of ﬁnite
structures. Deﬁne the quasi-order → on the objects of C by X → Y if there exists a
homomorphism from X to Y, and let ≡ denote the associated equivalence relation.
We can deﬁne the ordered set

which we refer to as the homomorphism order on C.

PC := hC/≡; →i,

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

3

A ⊔ B

A

B

A × B

Figure 2. Meet and join in PVfin , for V locally ﬁnite.

Restricting this deﬁnition to a category C of ﬁnite structures of a ﬁxed signature

is a natural way to ensure that C/≡ is a set, rather than a proper class.

Within many natural categories of ﬁnite algebras, all the algebras are homomor-
phically equivalent, and so the homomorphism order is trivial: groups, semigroups,
rings and lattices, for example. However, there are also many natural categories of
ﬁnite algebras for which the homomorphism order is extremely complicated.

Example 1.1. Consider the category L01 of ﬁnite bounded lattices. A simple
observation is that there is an inﬁnite ascending chain

M3 → M4 → M5 → · · ·

in the homomorphism order PL01 , where Mn is the bounded lattice of height 2
with n atoms. In fact, we can say much more.

A variety V of algebras is ﬁnite-to-ﬁnite universal if the category of directed
graphs has a ﬁniteness-preserving full embedding into V.
(This is equivalent to
requiring that every variety of algebras has a ﬁniteness-preserving full embedding
into V; see [29, 16, 30]). Since the variety of bounded lattices is ﬁnite-to-ﬁnite
universal (Adams and Sichler [2]), it follows that there is an order-embedding of
LG into PL01 , and therefore every countable ordered set embeds into PL01 .

The homomorphism lattice induced by a ﬁnite algebra. The coproduct of
two ﬁnite directed graphs is their disjoint union, which is ﬁnite. This guarantees
that the homomorphism order on G is a lattice. In general, the coproduct of two
ﬁnite algebras in a variety does not have to be ﬁnite. Consequently, it is not clear
whether the homomorphism order PL01 from Example 1.1 is a lattice.

We can avoid this problem if we restrict our attention to locally ﬁnite varieties.

Lemma 1.2. Let V be a locally ﬁnite variety. Then the homomorphism order
PVfin = hVﬁn/≡; →i is a countable bounded lattice.

Proof. Let A, B ∈ Vﬁn. To see that PVfin is a lattice, it suﬃces to observe that the
product A × B is ﬁnite and the coproduct A ⊔ B in V is ﬁnite (since V is locally
ﬁnite); see Figure 2. The top element of PVfin contains all the trivial algebras in V
(and consists of all the ﬁnite algebras in V with a trivial subalgebra). The bottom
element of PVfin contains all the ﬁnitely generated free algebras in V. Note that
PVfin is countable as every ﬁnite algebra in V is a homomorphic image of a ﬁnitely
generated free algebra.
(cid:3)

In this paper, we focus on ﬁnitely generated varieties. Given a ﬁnite algebra A,

we can deﬁne the lattice

which we refer to as the homomorphism lattice induced by A.

LA := hVar(A)ﬁn/≡; →i,

4

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

2

f0

f1

0

u

1

v

U = h{0, 1, 2, u, v}; f0, f1i

(a, a)

(a, b)

(b, c)

(c, b)

a

b

c

b

c

a

G

u

G∗

v

Figure 3. A ﬁnite unary algebra U with inﬁnite lattice LU.

If the variety Var(A) is ﬁnite-to-ﬁnite universal, then the lattice LA is just
as complicated as the homomorphism lattice LG for ﬁnite directed graphs, as LG
order-embeds into LA. Examples of ﬁnite algebras that generate a ﬁnite-to-ﬁnite
universal variety include:

• the bounded lattice M3 [13];
• the algebra A = hA; ∨, ∧, 0, 1, a1, a2i, where hA; ∨, ∧, 0, 1i is the bounded

distributive lattice 1 ⊕ 22 ⊕ 1 freely generated by {a1, a2} [1].

Even a small unary algebra can generate a ﬁnite-to-ﬁnite universal variety, as in
the following example.

Example 1.3. Let U = h{0, 1, 2, u, v}; f0, f1i be the ﬁve-element unary algebra
shown in Figure 3. Then LG order-embeds into LU, and therefore every countable
ordered set embeds into LU.

Proof. The values of the constant term functions of U are u and v. To simplify the
proof, we will add u and v to the signature of U as nullary operations; this has no
eﬀect on Var(U), up to term equivalence.

We will use a construction of Hedrl´ın and Pultr [16]. Given a directed graph

G = hG; ri, deﬁne the algebra G∗ = hG ∪ r ∪ {u, v}; f0, f1, u, vi, where
f0(v) = v,
f1(v) = u,

f0((g0, g1)) = g0,
f1((g0, g1)) = g1,

f0(g) = u,
f1(g) = v,

f0(u) = v,
f1(u) = u,

for all g ∈ G and (g0, g1) ∈ r. (We assume that u, v /∈ G ∪ r.) See Figure 3 for an
example of the algebra G∗ constructed from a directed graph G.

Each one-generated subalgebra of G∗ is a homomorphic image of a subalgebra
of U, and therefore belongs to Var(U). Thus G∗ satisﬁes all one-variable equations
that are true in U. Since each constant term function of U has value u or v, the
two-variable equations t1(x) ≈ t2(y) that are true in U follow from one-variable
equations of the form t(x) ≈ u and t(x) ≈ v. Hence G∗ ∈ Var(U).

Hedrl´ın and Pultr [16] showed that there is a bijection between hom(G, H) and
(cid:3)

hom(G∗, H∗). It follows immediately that LG order-embeds into LU.

To contrast with the previous example, we ﬁnish this section by describing the
lattice LA, for each ﬁnite monounary algebra A = hA; f i. We say that a non-empty
subset {a0, a1, . . . , an−1} of A is a cycle if f (ai) = ai+1 (mod n). For each k ∈ N, we
use k to denote the k-element chain.

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

5

Example 1.4. Let A = hA; f i be a ﬁnite monounary algebra and let n be the
least common multiple of the sizes of the cycles of A. If n = 1, then LA ∼= 1.
Otherwise, let pk1

ℓ be the prime decomposition of n. Then

1 · · · pkℓ

where the coproduct is taken in the variety D of distributive lattices.

LA ∼= (k1 ⊔ · · · ⊔ kℓ) ⊕ 1,

Proof. If n = 1, then every algebra in Var(A)ﬁn has a trivial subalgebra, and so
|LA| = 1. Now assume that n > 2. Let Dn be the set of positive divisors of n, and
let Dn = hDn; lcm, gcdi be the divisor lattice of n, where a 6 b in Dn if and only
if a divides b. Then we have Dn ∼= (k1 ⊕ 1) × · · · × (kℓ ⊕ 1).

Let Up+(Dn) denote the lattice of all non-empty up-sets of Dn, ordered by

inclusion. We start by showing that LA is isomorphic to Up+(Dn).

For each ﬁnite unary algebra B, deﬁne

Cyc(B) := { |C| : C is a cycle of B }.

For all B ∈ Var(A)ﬁn, we have Cyc(B) ⊆ Dn, as there exists m ∈ N such that
A satisﬁes the equation f m(x) ≈ f m+n(x). For all B1, B2 ∈ Var(A)ﬁn, we have
B1 → B2 if and only if Cyc(B1) ⊆ ↑ Cyc(B2) in Dn. It follows that we can deﬁne
an order-embedding ψ : LA → Up+(Dn) by

ψ(B/≡) := ↑ Cyc(B)

To see that the map ψ is surjective, let U ∈ Up+(Dn). Choose a ﬁnite unary algebra
B that is a disjoint union of cycles and satisﬁes Cyc(B) = U. Since each equation
true in A is of the form f j(x) ≈ f j+kn(x), for some j, k ∈ N ∪ {0}, it follows that
B ∈ Var(A)ﬁn. Clearly, we have ψ(B/≡) = U. Hence LA is isomorphic to the
lattice Up+(Dn).

The lattice Dn is self-dual, and therefore LA is also isomorphic to the lattice
O+(Dn) of all non-empty down-sets of Dn, ordered by inclusion. Using Priestley
duality for the variety D01 of bounded distributive lattices (see [5]), we ﬁrst describe
the lattice O(Dn) of all down-sets of Dn:

O(Dn) ∼= O((k1 ⊕ 1) × · · · × (kℓ ⊕ 1))

∼= O(k1 ⊕ 1) ⊔01 · · · ⊔01 O(kℓ ⊕ 1)
∼= (1 ⊕ k1 ⊕ 1) ⊔01 · · · ⊔01 (1 ⊕ kℓ ⊕ 1)
∼= 1 ⊕ (k1 ⊔ · · · ⊔ kℓ) ⊕ 1,

where ⊔01 denotes coproduct in D01 and ⊔ denotes coproduct in D. Hence

LA ∼= O+(Dn) ∼= (k1 ⊔ · · · ⊔ kℓ) ⊕ 1,

as claimed.

(cid:3)

Note that, if a ﬁnite unary algebra A has no constant term functions, then
coproduct in Var(A) is disjoint union; so product distributes over coproduct, and
therefore LA is distributive. (In fact, such a variety has a natural exponentiation,
and therefore LA is relatively pseudocomplemented; see [23].) However, we will
see in Example 5.2 that the homomorphism lattice LA induced by a ﬁnite unary
algebra A is not necessarily distributive.

6

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

Remark 1.5. While we will not be making use of cores in this paper, they serve
as natural representatives for the elements of the homomorphism lattice LA, for a
ﬁnite algebra A. So the lattice LA is ﬁnite if and only if there is a ﬁnite bound on
the sizes of the cores in Var(A)ﬁn.

A ﬁnite algebra C is a core if every endomorphism of C is an automorphism.
For each ﬁnite algebra B, there is a retraction ϕ : B → C such that C is a core
(unique up to isomorphism). If we let C consist of one copy (up to isomorphism)
of each core in Var(A)ﬁn, then C is a transversal of the equivalence classes of LA.
Moreover, the cores are precisely the algebras that are minimal-sized within their
equivalence classes.

2. The homomorphism lattice induced by a quasi-primal algebra

This section focuses on the homomorphism lattice LQ in the case that Q is a
quasi-primal algebra. We give a simple description of the lattice LQ that could be
converted into an algorithm for computing this lattice. The description will play a
pivotal role in Section 4, where we show that each ﬁnite distributive lattice can be
obtained as LQ, for some quasi-primal algebra Q.

A ﬁnite algebra Q is quasi-primal if the ternary discriminator operation τ is a

term function, where

τ (x, y, z) :=(x if x 6= y,

if x = y.

z

(This implies that every ﬁnitary operation on Q that preserves the partial auto-
morphisms of Q is a term function; see Pixley [26] and Werner [33]). We will use
the following two general results about quasi-primal algebras.

Theorem 2.1 (Pixley [25, Theorem 5.1]). A ﬁnite algebra Q is quasi-primal if and
only if every non-trivial subalgebra of Q is simple and the variety Var(Q) is both
congruence permutable and congruence distributive.

Theorem 2.2 (Pixley [25, Theorem 4.1]). Let Q be a quasi-primal algebra. Then
every ﬁnite algebra in Var(Q) is isomorphic to a product of subalgebras of Q.

We can now give our description of the lattice LQ. For an ordered set P, we
again use O(P) to denote the lattice of all down-sets of P, ordered by inclusion.
We use Sub(A) to denote the set of all subalgebras of an algebra A.

Theorem 2.3. Let Q be a quasi-primal algebra. Deﬁne the ordered set

P := hSub(Q)/≡; →i

and let P denote P without its top.

(i) If Q has no trivial subalgebras, then LQ ∼= O(P).
(ii) If Q has a trivial subalgebra, then LQ ∼= O(P).

Proof. To simplify the notation, let P be a transversal of Sub(Q)/≡ and deﬁne the
ordered set P := hP; →i. Without loss of generality, we can assume that Q ∈ P,
whence Q is the top element of P.

We prove the theorem via a sequence of four claims.

Claim 1. For each non-trivial ﬁnite algebra A ∈ Var(Q), there exists a non-empty

up-set U of P such that A ≡Q U .

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

7

Proof of Claim 1. Let A be a non-trivial ﬁnite algebra in Var(Q). By Theorem 2.2,

we know that A is isomorphic to a product Qi∈I Bi of subalgebras of Q, for some

non-empty set I. For each i ∈ I, there exists Qi ∈ P such that Qi ≡ Bi. Now
deﬁne the up-set U of P by

U := ↑{ Qi | i ∈ I }.

Claim 2. Let Up+(P) denote the set of all non-empty up-sets of P. Then there

✁

Proof of Claim 2. Note that σ is well deﬁned, as each up-set U of P is a ﬁnite set
of subalgebras of Q. To see that σ is order-preserving, let U1, U2 ∈ Up+(P) with

For each i ∈ I, we have Qi ∈ U with Qi → Bi. Thus Q U → Qi∈I Bi. For each
C ∈ U, there exists i ∈ I such that Qi → C and so Bi → C. ThusQi∈I Bi →Q U.
We have shown that A ∼=Qi∈I Bi ≡Q U, as required.
is an order-embedding σ : hUp+(P); ⊇i → LQ given by σ(U) =(cid:0)Q U(cid:1)/≡.
U1 ⊇ U2. Then Q U1 →Q U2, via a projection, which gives σ(U1) → σ(U2).
Then there is a homomorphism α : Q U1 →Q U2. We want to show that U1 ⊇ U2,
so let A ∈ U2. Then there is a projection π : Q U2 → A. Thus, we obtain a
homomorphism η : Q U1 → A, where η = π ◦ α. Deﬁne B := Im(η) 6 A. To prove

To prove that σ is an order-embedding, let U1, U2 ∈ Up+(P) with σ(U1) → σ(U2).

that A ∈ U1, we consider two cases.
Case (a): B is trivial. Then A has a trivial subalgebra, so Q → A, via a constant
map. Since A ∈ P and Q is the top element of P, we have A = Q ∈ U1, as required.
Case (b): B is non-trivial. Since the subalgebra B of Q is simple and Var(Q) is
congruence distributive (see Theorem 2.1), we can apply the ﬁnite-product version

of J´onsson’s Lemma to the surjection η : Q U1 → B. For some C ∈ U1, there is a
projection ρ : Q U1 → C and a homomorphism η♭ : C → B such that the following

diagram commutes.

B

A

η

η♭

Q U1

ρ

C

We have found C ∈ U1 such that C → A. Since A ∈ P and U1 is an up-set of P,
✁

we have shown that A ∈ U1, as required.

Claim 3. If Q has no trivial subalgebras, then LQ ∼= O(P).

Proof of Claim 3. Assume that Q has no trivial subalgebras. Let Up(P) denote
the set of all up-sets of P. We want to extend the order-embedding σ from Claim 2

that σ♯ is order-preserving. To see that σ♯ is an order-embedding, it remains to
show that σ♯(∅) 6→ σ♯(U), for all U ∈ Up+(P).

to an order-isomorphism σ♯ : hUp(P); ⊇i → LQ given by σ♯(U) =(cid:0)Q U(cid:1)/≡.
For all U ∈ Up(P), we have Q U →Q ∅, via the constant map. Thus it follows
Let U ∈ Up+(P) and suppose that σ♯(∅) → σ♯(U). Then Q ∅ → Q U. Since
the up-set U is non-empty, it contains the top element Q of P. So Q U → Q, via
a projection, and thus Q ∅ → Q. But this implies that Q has a trivial subalgebra,

which is a contradiction. Hence σ♯ is an order-embedding.

8

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

The map σ♯ is surjective, by Claim 1, since σ♯(∅) = 1/≡, for any trivial algebra
✁

1 ∈ Var(Q). Hence LQ ∼= hUp(P); ⊇i ∼= O(P).

Claim 4. If Q has a trivial subalgebra, then LQ ∼= O(P), where P denotes the
ordered set P without its top.

Proof of Claim 4. Let 1 be a trivial subalgebra of Q. Note that 1 ≡ Q. By Claim 2,

there is an order-embedding σ : hUp+(P); ⊇i → LQ given by σ(U) =(cid:0)Q U(cid:1)/≡. The
map σ is surjective, by Claim 1, since {Q} is an up-set of P with Q{Q} ∼= Q ≡ 1.

Hence we have LQ ∼= hUp+(P); ⊇i ∼= O(P).

✁

Claims 3 and 4 complete the proof of the theorem, as P = hP; →i is isomorphic
(cid:3)

to hSub(Q)/≡; →i.

It follows immediately from Theorem 2.3 that LQ is a ﬁnite distributive lattice,
for each quasi-primal algebra Q. Moreover, since the ordered set P always has a
top, it also follows from the theorem that, if Q has no trivial subalgebras, then the
lattice LQ has a join-irreducible top.

Remark 2.4. For a quasi-primal algebra Q with no trivial subalgebras, the variety
Var(Q) satisﬁes a stronger property that implies the lattice LQ is distributive. We
can see this using the full duality for Var(Q) described by Davey and Werner [7,
Section 2.7] (based on the duality given by Keimel and Werner [21]).

If Q has no trivial subalgebras, then there is a dual equivalence between Var(Q)
and a category X of topological partial unary algebras, where the product in X
is direct product and the pairwise coproduct in X is disjoint union. Therefore
product distributes over coproduct in X, and so coproduct distributes over product
in Var(Q), which implies that LQ is distributive.

Varieties of algebras in which coproduct distributes over product are, in a sense,

more common than those in which product distributes over coproduct; see [6].

3. The covering forest of a finite ordered set

In the next section, we will prove that every ﬁnite distributive lattice arises as a
homomorphism lattice LQ, for some quasi-primal algebra Q. We use a construction,
introduced by Behncke and Leptin [3], for converting a ﬁnite ordered set into a
forest. In this section, we establish some useful properties of this construction, and
show the relationship with the universal covering tree from graph theory.

A forest is an ordered set F such that, for all a ∈ F and all b, c ∈ ↑a, we have
b 6 c or c 6 b. A tree is a connected forest. Given a ﬁnite ordered set P, we shall
construct a ﬁnite forest F with a surjective order-preserving map ϕ : F → P.

Recall that, given an alphabet P , the set of all ﬁnite words in P is denoted
by P ∗. For elements a and b of an ordered set P, we write a ≺ b to indicate that
a is covered by b in P. We use Max(P) for the set of all maximal elements of P
and Min(P) for the set of all minimal elements of P.

Deﬁnition 3.1 (Behncke and Leptin [3]). Let P be a ﬁnite ordered set.

(1) Consider the set of all covering chains in P that reach a maximal element,

viewed as words in the alphabet P :

F := { a1a2 . . . an ∈ P ∗ | n ∈ N, a1 ≺ a2 ≺ · · · ≺ an and an ∈ Max(P) }.

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

9

ϕ

1

2

1

5

3

P

2

6

4

31

32

42

531

532

631

632

642

F

Figure 4. The covering forest F of an ordered set P.

We deﬁne the covering forest of P to be the ordered set F = hF ; 6i, where

w 6 v ⇐⇒ (∃u ∈ P ∗) w = uv.

(That is, we have w 6 v if and only if v is a ﬁnal segment of w.) It is easy to
check that the ordered set F is indeed a forest.

(2) We can deﬁne the order-preserving surjection ϕ : F → P by

for each a1a2 . . . an ∈ F .

ϕ(a1a2 . . . an) := a1,

(3) If the ordered set P has a top element, then its covering forest F = hF ; 6i is

a tree, and we refer to F as the covering tree of P.

In Figure 4, we see an example of the covering forest F of an ordered set P and the
map ϕ : F → P .

We now begin to consider the relationship between the covering forest F of a

ﬁnite ordered set P and the universal covering tree from graph theory.

Deﬁnition 3.2. First deﬁne the lower-neighbourhood of an element a of a ﬁnite
ordered set A to be the set

Na := { c ∈ A | c ≺ a }.

For ﬁnite ordered sets A and B, we will say that γ : A → B is a covering map if
γ restricts to a bijection on the maximals and on lower-neighbourhoods. That is:

(1) γ↾Max(A) : Max(A) → Max(B) is a bijection, and
(2) γ↾Na : Na → Nγ(a) is a bijection, for all a ∈ A.

Remark 3.3. This is analogous to the deﬁnitions of covering map for connected
graphs and for connected directed graphs; see [31, 9]. Our condition (1) replaces the
condition that γ is surjective. In our condition (2), we use ‘lower-neighbourhood’
instead of ‘neighbourhood’ in the case of graphs, and instead of ‘in-neighbourhood’
and ‘out-neighbourhood’ in the case of directed graphs.

Covering maps for ordered sets have been considered by Hoﬀman [18] in a setting
that is both more special than ours (ranked ordered sets) and more general (covers
in the ordered sets are assigned positive integer weights).

Before stating some useful properties of covering maps, we require a deﬁnition.

Deﬁnition 3.4. Let A and B be ordered sets. We shall say that an order-
preserving map α : A → B is a quotient map if, for all b1 6 b2 in B, there exists
a1 6 a2 in A such that α(a1) = b1 and α(a2) = b2. Note that, because 6 is
reﬂexive, a quotient map is necessarily surjective.

10

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

Lemma 3.5. Let γ : A → B be a covering map for ﬁnite ordered sets A and B.

(i) The map γ is cover-preserving (and is therefore order-preserving).
(ii) For each covering chain b1 ≺ b2 ≺ · · · ≺ bn in B with bn ∈ Max(B), there
exists a covering chain a1 ≺ a2 ≺ · · · ≺ an in A with an ∈ Max(A) such
that γ(ai) = bi, for all i ∈ {1, 2, . . . , n}.

(iii) The map γ is a quotient map (and is therefore surjective).

Proof. Part (i) is trivial, and part (ii) is an easy induction: condition (1) in the
deﬁnition of a covering map gets the induction started at n = 1, and condition (2)
yields the inductive step. Part (iii) follows directly from part (ii): let x 6 y in B
and apply (ii) to a covering chain in B that starts at x, passes through y and ends
at a maximal element of B.
(cid:3)

The next result follows almost immediately from the construction of the covering

forest, together with part (iii) of the previous lemma.

Lemma 3.6. Let F be the covering forest of a ﬁnite ordered set P. Then ϕ : F → P
is a covering map (and is therefore a quotient map).

Remark 3.7. It can be shown that the covering forest F from Deﬁnition 3.1 is the
unique forest (up to isomorphism) with a covering map to P. Moreover, the covering
map ϕ : F → P is the universal cover of P: for every covering map γ : A → P,
there is a (necessarily unique) order-preserving map α : F → A with ϕ = γ ◦ α.

We now establish some properties of the covering forest F that will be used in
the next section. In particular, we will be using the fact that, if two elements of F
are identiﬁed by the covering map ϕ, then the corresponding principal down-sets
of F are order-isomorphic.

Deﬁnition 3.8. Let F be the covering forest of a ﬁnite ordered set P. Then,
since ϕ : F → P is a covering map, for each x ∈ F , we can deﬁne the bijection
ψx : Nϕ(x) → Nx to be the inverse of the bijection ϕ↾Nx : Nx → Nϕ(x).

Lemma 3.9. Let F be the covering forest of a ﬁnite ordered set P, and let u, v ∈ F
with ϕ(u) = ϕ(v). Then there is an order-isomorphism µ : ↓u → ↓v such that

(i) ϕ ◦ µ = ϕ↾↓u, and
(ii) µ ◦ ψx = ψµ(x), for all x ∈ ↓u.

Proof. Recall that the elements of F are covering chains in P that reach a maximal,
and that each element of ↓u is of the form su, for some s ∈ P ∗. We want to deﬁne
the map µ : ↓u → ↓v by

µ(su) := sv

for all su ∈ ↓u. Since ϕ(u) = ϕ(v), the covering chains u and v start at the same
element of P , so it follows that sv ∈ F , as required.

To see that µ is order-preserving, let y 6 z in ↓u. Then z = su, for some
s ∈ P ∗, and y = tsu, for some t ∈ P ∗. Thus µ(y) = tsv 6 sv = µ(z), whence µ
is order-preserving. By symmetry, there is an order-preserving map ν : ↓v → ↓u
such that ν ◦ µ = id↓u and µ ◦ ν = id↓v. Therefore µ and ν are mutually inverse
order-isomorphisms.

For (i), let x ∈ ↓u. Then x = su and µ(x) = sv, for some s ∈ P ∗. If s is not
the empty word, then clearly ϕ(µ(x)) = ϕ(x). If s is the empty word, then we still
have ϕ(µ(x)) = ϕ(x), since ϕ(u) = ϕ(v).

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

11

For (ii), let x ∈ ↓u and deﬁne y := µ(x). Since µ is an order-isomorphism, we

have µ(Nx) = Ny. Using (i), we obtain ϕ↾Ny ◦ µ↾Nx = ϕ↾Nx. Therefore

ψx = (ϕ↾Nx)−1 = (ϕ↾Ny ◦ µ↾Nx)−1 = (µ↾Nx)−1 ◦ (ϕ↾Ny )−1 = (µ↾Nx)−1 ◦ ψy,

from which (ii) follows easily.

(cid:3)

4. Obtaining each finite distributive lattice

In Section 2 we saw that, for each quasi-primal algebra Q, the homomorphism
lattice LQ is a ﬁnite distributive lattice. In this section, we prove that all ﬁnite
distributive lattices arise in this way.

Theorem 4.1. For each ﬁnite distributive lattice L, there exists a quasi-primal
algebra Q such that LQ is isomorphic to L.

We start by proving a special case of a result of Birkhoﬀ and Frink [4], since it
serves as motivation for the approach used in the proof of Theorem 4.1. We see
that, given a ﬁnite join-semilattice S, we can construct an algebra A on the same
universe as S such that the subalgebras of A correspond to the principal ideals of S.
Recall that we use Sub(A) to denote the set of all subalgebras of A.

Lemma 4.2 (Birkhoﬀ and Frink [4]). For each ﬁnite join-semilattice S, there exists
a ﬁnite algebra A such that Sub(A) is order-isomorphic to S, where Sub(A) is
ordered by inclusion.

Proof. Let S = hS; ∨i be a ﬁnite semilattice. For each covering pair s ≺ t in S,
deﬁne the unary operation fts : S → S by

fts(x) :=(s

if x = t,

x otherwise.

Now deﬁne F := { fts | s ≺ t in S } and A := hS; ∨, F i.

Since S is ﬁnite, a subset B of A is closed under all fts ∈ F if and only if B is
a down-set. It follows that the subalgebras of A correspond precisely to the ideals
of S. For each x ∈ S, let Ax denote the subalgebra of A with universe ↓x. Then,
again since S is ﬁnite, we have Sub(A) = { Ax | x ∈ S }. We can now deﬁne the
order-isomorphism α : S → Sub(A) by α(x) := Ax.
(cid:3)

For our result, we are starting with a ﬁnite distributive lattice L. By Birkhoﬀ’s
Representation Theorem (see [5]), there is a ﬁnite ordered set P such that L is
isomorphic to the lattice O(P) of all down-sets of P. Let P⊤ denote the ordered
set obtained from P by adding a new top element ⊤.

We want to construct a quasi-primal algebra Q, with a trivial subalgebra, such

that hSub(Q)/≡; →i is isomorphic to P⊤. By Theorem 2.3(ii), we will then have

LQ ∼= O(P⊤) = O(P) ∼= L,

as required.

To mimic the construction from the proof of the previous lemma, the general idea
is to build the algebra Q on a semilattice S that will correspond to hSub(Q); ⊆i.
There is an order-preserving map from hSub(Q); ⊆i onto hSub(Q)/≡; →i. There-
fore, we need an order-preserving map from the semilattice S onto P⊤. We will
take S to be the covering tree of P⊤, as given in Deﬁnition 3.1.

Note that this general idea will need tweaking to avoid problems with trivial

subalgebras.

12

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

0 = ⊤

ϕ♯

3

1

5

5′

2

6

4

6′ P♯

0 = ⊤

10

20

310

320

420

5310

5320

6310

6320

6420

S♯

5′5310

5′5320

6′6310

6′6320

6′6420

Figure 5. The covering tree S♯ of the ordered set P♯.

Assumptions 4.3. Throughout the rest of this section, we ﬁx a non-trivial ﬁnite
distributive lattice L, with L ∼= O(P). Let P⊤ be the ordered set obtained from P
by adding a new top element ⊤, and let S be the covering tree of P⊤. By Lemma 3.6,
we have a quotient map ϕ : S → P⊤. Note that ⊤ is also the top element of S.

We will construct a quasi-primal algebra Q such that there is a quotient map
It will then follow that the two

η : S → hSub(Q)/≡; →i with ker(η) = ker(ϕ).
ordered sets P⊤ and hSub(Q)/≡; →i are isomorphic, as required.

To avoid problems with trivial subalgebras, we will not use the universe of S as

the universe of Q, but will make a slight modiﬁcation.

Deﬁnition 4.4. Let P♯ be the ordered set obtained from P⊤ by adding a new
minimal element m′ below each minimal element m of P⊤, so that m is the unique
upper cover of m′.

Now let S♯ be the covering tree of P♯. By Lemma 3.6, we have a covering map
ϕ♯ : S♯ → P♯. See Figure 5 for an example of this construction, where P is the
six-element ordered set from Figure 4.

We can easily see that S is a subordered set of S♯, with

S = S♯ \ Min(S♯)

and ϕ = ϕ♯↾S.

Since S♯ is a ﬁnite tree, each minimal element x of S♯ has a unique upper cover,
which we denote by x↑.

We will base our quasi-primal algebra Q on the semilattice S♯ and adapt the
approach used in the proof of Lemma 4.2. We want to ensure that the non-trivial
subalgebras of Q correspond to the non-trivial principal ideals of S♯. However, we
also need to ensure that two such subalgebras are homomorphically equivalent if
their maximum elements are identiﬁed by ϕ.

Deﬁnition 4.5. To deﬁne the quasi-primal algebra Q on the universe S♯, we ﬁrst
deﬁne some families of operations on S♯. Recall from Deﬁnition 3.8 that, since
ϕ♯ : S♯ → P♯ is a covering map, for each x ∈ S♯, we let ψx : Nϕ♯(x) → Nx denote
the inverse of the bijection ϕ♯↾Nx : Nx → Nϕ♯(x).

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

13

F : These operations will ensure that the subuniverses of Q not containing ⊤ are

down-sets. For all a ≺ b in P♯ with b 6= ⊤, deﬁne fba : S♯ → S♯ by

fba(x) :=(ψx(a)
Let F :=(cid:8) fba | a ≺ b in P ♯ \ {⊤}(cid:9).

x

if ϕ♯(x) = b,
otherwise.

G: These next operations will ensure that the minimal elements of S♯ do not form

trivial subalgebras of Q. For m ∈ Min(P), deﬁne gm : S♯ → S♯ by

gm(x) :=(x↑

x

if ϕ♯(x) = m′,
otherwise.

Let G :=(cid:8) gm | m ∈ Min(P)(cid:9).

h: Finally, this operation will ensure that the only non-trivial subuniverse of Q
containing ⊤ is Q itself. Fix a cyclic permutation λ : S♯ \ {⊤} → S♯ \ {⊤}.
Deﬁne the binary operation h : S♯ × S♯ → S♯ by

h(x, y) :=(λ(x)

x

if x 6= ⊤ and y = ⊤,
otherwise.

Let ∨ be the join-semilattice operation on the tree S♯, and let τ denote the ternary
discriminator operation on S♯. We can now deﬁne the quasi-primal algebra

Q := hS♯; ∨, F, G, h, τ i.

Note 4.6. We will use the fact that, for each covering pair s ≺ t in S♯ with t 6= ⊤,
we have fϕ♯(t)ϕ♯(s)(t) = s in Q. To see this, ﬁrst note that, since ϕ♯ is a covering
map, we must have ϕ♯(s) ≺ ϕ♯(t) in P♯ with ϕ♯(t) 6= ⊤. We now calculate

as required.

fϕ♯(t)ϕ♯(s)(t) = ψt(cid:0)ϕ♯(s)(cid:1) = ψt ◦ ϕ♯↾Nt(s) = s,

Throughout this section, we use ↓u to denote the down-set of u in the tree S♯.

Lemma 4.7. The non-empty subuniverses of Q are {⊤} and ↓u, for all u ∈ S.

Proof. Let A be a non-empty subuniverse of Q with A 6= {⊤}. We will show that
A = ↓u, for some u ∈ S. Since A is closed under ∨, there is a maximum element u
of A in S♯. Suppose that u ∈ Min(S♯). Then ϕ♯(u) = m′, for some m ∈ Min(P).
This gives u↑ = gm(u) ∈ A, which is a contradiction. Thus u ∈ S.

First assume that u = ⊤. Since A is closed under h, it follows that A is closed
under the cyclic permutation λ of S♯ \ {⊤}. As A \ {⊤} 6= ∅, we have A = Q = ↓u.
Now we can assume that u 6= ⊤, and so ⊤ /∈ A. We want to show that A is a
down-set of S♯. Consider a covering pair s ≺ t in S♯ with t 6= ⊤. By Note 4.6, we
have fϕ♯(t)ϕ♯(s)(t) = s. As A is closed under each fba ∈ F and S♯ is ﬁnite, it follows
that A is a down-set. Thus A = ↓u.

It remains to check that the sets {⊤} and ↓u, for u ∈ S, are indeed subuniverses
of Q. First consider {⊤}. This set is clearly closed under ∨, τ and h. Since
ϕ♯(⊤) = ⊤, the set {⊤} is also closed under each fba ∈ F and each gm ∈ G. Thus
{⊤} is a subuniverse of Q.

Now consider ↓u, for some u ∈ S \ {⊤}. The set ↓u is closed under each fba ∈ F ,
since fba(x) ∈ Nx ∪ {x}, for all x ∈ S♯. For each m ∈ Min(P), if ϕ♯(x) = m′, then

14

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

x ∈ Min(S♯) and so x↑ ∈ ↓u, as u /∈ Min(S♯). Thus ↓u is closed under each gm ∈ G.
As ⊤ /∈ ↓u, the set ↓u is closed under h. Since ↓u is also closed under ∨ and τ , it
is a subuniverse of Q.
(cid:3)

Deﬁnition 4.8. Using the previous lemma, for each u ∈ S, we can deﬁne Qu to
be the subalgebra of Q with universe ↓u.

Lemma 4.9. Each subalgebra of Q is homomorphically equivalent to Qu, for some
u ∈ S.

Proof. This follows immediately from Lemma 4.7, since the trivial subalgebra of Q
is homomorphically equivalent to Q = Q⊤.
(cid:3)

Lemma 4.10. Let u, v ∈ S. Then ϕ(u) = ϕ(v) if and only if Qu ∼= Qv.

Proof. First assume that there is an isomorphism α : Qu → Qv. We can assume
that u 6= ⊤, since otherwise u = v = ⊤. As α preserves ∨, we have an order-
isomorphism α : ↓u → ↓v and so α(u) = v. Since u /∈ Min(S♯), we can choose
s ∈ S♯ with s ≺ u. Using Note 4.6, we have fϕ♯(u)ϕ♯(s)(u) = s 6= u. Since α
is an isomorphism with α(u) = v, this implies that fϕ♯(u)ϕ♯(s)(v) 6= v. Hence
ϕ♯(v) = ϕ♯(u) and so ϕ(u) = ϕ(v), as u, v ∈ S.

Now assume that ϕ(u) = ϕ(v). We want to show that Qu ∼= Qv. Since we
have ϕ−1(⊤) = {⊤}, we can assume that u, v 6= ⊤. By applying Lemma 3.9 to the
covering map ϕ♯ : S♯ → P♯, we obtain an order-isomorphism µ : ↓u → ↓v such that

(i) ϕ♯ ◦ µ = ϕ♯↾↓u, and
(ii) µ ◦ ψx = ψµ(x), for all x ∈ ↓u.

As µ is an order-isomorphism, it must preserve ∨ and τ . To prove that µ : Qu → Qv
is an isomorphism, it remains to check that µ preserves the operations in F ∪ G
and the operation h.
F : Let a ≺ b in P ♯\{⊤}. We want to show that µ preserves fba. Let x ∈ ↓u. By (i),
we have ϕ♯(x) = ϕ♯(µ(x)). Since fba acts as the identity map on S♯ \ (ϕ♯)−1(b),
we can assume that ϕ♯(x) = ϕ♯(µ(x)) = b. Using (ii), we have

µ(fba(x)) = µ(ψx(a)) = ψµ(x)(a) = fba(µ(x)).

Thus µ preserves fba.

G: Let m ∈ Min(P). We want to show that µ preserves gm. Let x ∈ ↓u. By (i), we
have ϕ♯(x) = ϕ♯(µ(x)). Since gm acts as the identity map on S♯ \ (ϕ♯)−1(m′),
we can assume that ϕ♯(x) = ϕ♯(µ(x)) = m′. Since µ : ↓u → ↓v is an order-
isomorphism, we obtain

µ(gm(x)) = µ(x↑) = µ(x)↑ = gm(µ(x)).

Thus µ preserves gm.

h: We are assuming that u, v 6= ⊤. Thus the binary operation h acts as the ﬁrst

projection on both ↓u and ↓v. Hence µ : ↓u → ↓v preserves h.

We have shown that µ : Qu → Qv is an isomorphism.

(cid:3)

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

15

We can now construct the required quotient map from the covering tree S of P⊤

to the homomorphism order on Sub(Q).

Lemma 4.11. There exists a quotient map η : S → hSub(Q)/≡; →i such that
ker(η) = ker(ϕ).

Proof. We can deﬁne the map η : S → Sub(Q)/≡ by

η(x) = Qx/≡,

for each x ∈ S, using Deﬁnition 4.8.

To show that ker(ϕ) ⊆ ker(η), let u, v ∈ S with ϕ(u) = ϕ(v). Then Qu ∼= Qv,

by Lemma 4.10. Thus Qu ≡ Qv, giving η(u) = η(v).

To show that ker(η) ⊆ ker(ϕ), let u, v ∈ S with η(u) = η(v). Then Qu ≡ Qv, so
Qu → Qv and Qv → Qu. Since Q is quasi-primal, each of these homomorphisms is
either constant or an embedding (see Theorem 2.1). If both are embeddings, then
Qu ∼= Qv and therefore ϕ(u) = ϕ(v), by Lemma 4.10. Without loss of generality,
we can now consider the case that there is a constant homomorphism Qu → Qv,
whence Qv has a trivial subalgebra. Since Qv → Qu, it follows that Qu also has a
trivial subalgebra. By Lemma 4.7, the only trivial subuniverse of Q is {⊤}. So we
can conclude that u = v = ⊤. We have shown that ker(η) = ker(ϕ).

To see that η is order-preserving, let u 6 v in S. Then ↓u ⊆ ↓v in S♯ and

therefore Qu → Qv, via the inclusion. Hence η(u) → η(v).

To prove that η is a quotient map, let A, B ∈ Sub(Q) with A → B. We want
to ﬁnd x 6 y in S such that Qx ≡ A and Qy ≡ B. By Lemma 4.9, there exist
u, v ∈ S with Qu ≡ A and Qv ≡ B. Since u 6 ⊤ in S, we can assume that v 6= ⊤.
As A → B, we have a homomorphism Qu → Qv. Since v 6= ⊤, the algebra Qv has
no trivial subalgebras, so this homomorphism is an embedding. Therefore, using
Lemma 4.7, we must have

A ≡ Qu ∼= Qw 6 Qv ≡ B,

for some w ∈ S with w 6 v, as required. Hence η is a quotient map.

(cid:3)

We are now able to prove Theorem 4.1 by showing that LQ ∼= L. Recall that

L ∼= O(P), from Assumptions 4.3. Since we have quotient maps

ϕ : S → P⊤ and η : S → hSub(Q)/≡; →i

with ker(ϕ) = ker(η), it follows that P⊤ ∼= hSub(Q)/≡; →i. Since Q has a trivial
subuniverse {⊤}, we can use Theorem 2.3(ii) to obtain

LQ ∼= O(P⊤) = O(P) ∼= L,

which completes the proof of Theorem 4.1.

5. The class of homomorphism lattices

In this section, we consider the class Lhom consisting of all lattices L such that

L ∼= LA, for some ﬁnite algebra A. We pose the problem:

Does every ﬁnite lattice belong to Lhom?

By Theorem 4.1, we know that every ﬁnite distributive lattice belongs to Lhom.

16

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

Lemma 5.1. The class Lhom is closed under ﬁnite products.

Proof. Consider ﬁnite algebras A1 = hA1; F1i and A2 = hA2; F2i. Up to term
equivalence, we can assume that F1 and F2 are disjoint and do not contain nullary
operations. So we can deﬁne algebras B1 and B2 of signature F1 ∪ F2 ∪ {∗} such
that Bi is term equivalent to Ai, where ∗ is a binary operation that acts as the
ﬁrst projection on B1 and the second projection on B2.

Now the algebra C := B1 × B2 is the independent product of B1 and B2, and
(cid:3)

it follows that LC ∼= LB1 × LB2 ; see [14].

It is not clear whether Lhom is closed under forming homomorphic images or
taking sublattices. Indeed, if we could show that Lhom were closed under taking
sublattices, then it would follow from our next example that Lhom contained all
ﬁnite lattices.

Partition lattices. We now show that the class Lhom contains all ﬁnite partition
lattices. Since every ﬁnite lattice embeds into a ﬁnite partition lattice (Pudl´ak and
T˚uma [28]), it follows that the class Lhom is rather complex.

For each n ∈ N ∪ {0}, we use Equiv(n) to denote the lattice of equivalence

relations on the set {1, 2, . . . , n}.

Example 5.2. Let A be a ﬁnite algebra with only nullary operations in its signa-
ture, and let n be the number of named elements in A. Then LA ∼= Equiv(n).

Proof. If n ∈ {0, 1}, then every algebra in Var(A) has a trivial subalgebra, and
so |LA| = 1. Hence we may assume that n > 2. For each B ∈ Var(A), deﬁne
B0 := sgB(∅). Since A and A0 generate the same variety, we may assume that
every element of A is named as the value of a nullary operation. Thus, we have
|A| = n and so Con(A) ∼= Equiv(n).

We want to deﬁne an order-isomorphism

ψ : Con(A) → LA, ψ(θ) := (A/θ)/≡.

Note that the map ψ is clearly order-preserving, and that it follows that ψ is an
order-embedding as every element of A is named.

Finally, we prove that ψ is surjective. Let B ∈ Var(A)ﬁn. Since A is the zero-
generated free algebra in Var(A), there is a surjective homomorphism η : A → B0.
We can easily show that B ≡ B0, and therefore A/ ker(η) ∼= B0 ≡ B. Thus ψ is
surjective, whence LA ∼= Con(A) ∼= Equiv(n).
(cid:3)

Lemma 5.3. The only universal ﬁrst-order sentences true in the class Lhom are
those true in all lattices.

Proof. Consider a universal ﬁrst-order sentence σ = ∀x1 . . . ∀xn Φ(x1, . . . , xn) that
fails in a lattice L. We want to show that σ fails in a ﬁnite lattice. By Pudl´ak and
T˚uma [28], it will then follow that σ fails in a ﬁnite partition lattice, whence σ fails
in Lhom by Example 5.2.

The proof of Dean [8, Theorem 1] for equations can be extended to universal
sentences. Choose witnesses a1, . . . , an ∈ L of the failure of σ in L. Let A be the
subset of L consisting of the corresponding evaluations of all subterms of terms
appearing in Φ, and let A = hA; 6i inherit the order from L. Then A is a ﬁnite
ordered set, and the Dedekind–MacNeille completion DM(A) is a ﬁnite lattice that
preserves all existing joins and meets from A. Hence σ fails in DM(A).
(cid:3)

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

17

The lattice M3. By Example 5.2, the lattice M3 ∼= Equiv(3) belongs to Lhom.

The lattice N5. With the exception of the pentagon lattice N5, we now know
that all lattices of size up to 5 belong to Lhom. Our aim for the remainder of this
section is to give an example of a ﬁnite algebra A such that LA ∼= N5. Before doing
so, we shall develop a little general theory based on the proof of Example 5.2.

Lemma 5.4. Let A be a ﬁnite algebra such that each element is the value of a
constant term function. Then LA ∼= Con(A) if and only if

(i) each ﬁnite subdirectly irreducible algebra in Var(A) is homomorphically

equivalent to a quotient of A, and

(ii) for all θ1, θ2 ∈ Con(A), we have (A/θ1) × (A/θ2) → A/(θ1 ∧ θ2).

Proof. Since each element of A is named as the value of a constant term function,
there is an order-embedding

ψ : Con(A) → LA, ψ(θ) := (A/θ)/≡,

as in the proof of Example 5.2. Hence, since Con(A) is ﬁnite, we have LA ∼= Con(A)
if and only if the map ψ is surjective.

We now show that the map ψ is surjective if and only if conditions (i) and (ii)
hold. We will be using the following consequence of our assumption that each
element of A is named:

(♮) For each θ ∈ Con(A), if C ≡ A/θ and B 6 C, then B ≡ A/θ.

Assume that (i) and (ii) hold. To show that ψ is surjective, let B ∈ Var(A)ﬁn.

irreducible algebra in Var(A). By (i), for each i ∈ I, there exists θi ∈ Con(A) with

Then B embeds into a ﬁnite productQi∈I Ci, where each Ci is a ﬁnite subdirectly
Ci ≡ A/θi. Therefore Qi∈I Ci ≡Qi∈I A/θi.
Deﬁne θ =Vi∈I θi in Con(A). Since A/θ → Qi∈I A/θi always holds, it follows
by induction from (ii) that Qi∈I A/θi ≡ A/θ. We now have Qi∈I Ci ≡ A/θ, and

so B ≡ A/θ, using (♮). Thus ψ is surjective.

Now assume that ψ is surjective. Then (i) holds, as every ﬁnite algebra in
Var(A) is homomorphically equivalent to a quotient of A. To show that (ii) holds,
let θ1, θ2 ∈ Con(A). Then (A/θ1) × (A/θ2) ≡ A/θ, for some θ ∈ Con(A), as ψ is
surjective. Since A/(θ1 ∧ θ2) embeds into (A/θ1) × (A/θ2), it follows by (♮) that
A/(θ1 ∧ θ2) ≡ A/θ, whence (ii) holds.
(cid:3)

We now apply this lemma to help us ﬁnd a ﬁnite algebra A such that LA ∼= N5.
The algebra A will be a four-element distributive bisemilattice with all elements
named via nullary operations.

An algebra A = hA; ∧, ⊓i is said to be a distributive bisemilattice (alternatively,
a distributive quasilattice) if both ∧ and ⊓ are semilattice operations on A and
each distributes over the other; see [27, 20, 12]. Kalman [20] has proved that,
up to isomorphism, the only subdirectly irreducible distributive bisemilattices are
the algebra D and its subalgebras S and L, shown in Figure 6.
(Note that we
depict both ∧ and ⊓ as meet operations.) The algebra S is term equivalent to the
two-element semilattice, and the algebra L is the two-element lattice.

Example 5.5. Let A = h{0, a, b, 1}; ∧, ⊓, 0, a, b, 1i be the distributive bisemilattice
S × L, labelled as in Figure 7, with all four elements named via nullary operations.
Then LA ∼= N5.

18

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

z

y

x

y

z

x

D

y

x

S

y

x

z

y

L

y

z

∧

⊓

∧

⊓

∧

⊓

Figure 6. The subdirectly irreducible distributive bisemilattices.

1 = (y, z)

a = (y, y)

a = (y, y)

b = (x, z)

0 = (x, y)

1 = (y, z)

0 = (x, y)

∧

b = (x, z)

⊓

Figure 7. The distributive bisemilattice S × L.

1

0

a

α

b

a

1

0

b

a

1

0

b

β

γ

1A

β

α

γ

0A

Con(A)

Figure 8. The congruences on A (shown relative to ∧).

a1

0b

a1

0b

A/α

b1

0a

0a

b1

A/β

A/γ

1

a

0b

a

1

0b

∧

⊓

∧

⊓

∧

⊓

Figure 9. The subdirectly irreducible algebras in Var(A).

Proof. As every element of A is the value of a nullary operation, we may apply
Lemma 5.4. The congruences α, β and γ on A are shown in Figure 8. Note
that the underlying bisemilattices of A/α, A/β and A/γ are isomorphic to S, L
and D, respectively; see Figure 9. We shall see that these are the only subdirectly
irreducible algebras in Var(A).

THE HOMOMORPHISM LATTICE INDUCED BY A FINITE ALGEBRA

19

As nullary operations play no role in determining the congruences on an algebra,
the underlying bisemilattice of a subdirectly irreducible algebra in Var(A) must be
a subdirectly irreducible distributive bisemilattice and hence must be isomorphic
to S, L or D, by Kalman’s result [20]. But the values of the four nullary operations
on an algebra in Var(A) are determined by the two semilattice operations:

• 1 and 0 are the top and bottom for ∧, respectively;
• a and b are the top and bottom for ⊓, respectively.

Hence, the values of the nullary operations 0, a, b, 1 shown in Figure 9 are the
only possible labellings of the bisemilattices S, L and D that produce an algebra
in Var(A). So these are the only subdirectly irreducible algebras in Var(A), and
thus condition 5.4(i) holds.

Since γ 6 α and α ∧ β = 0A, we can establish condition 5.4(ii) by checking that
(A/α) × (A/β) → A. But α ∧ β = 0A and α · β = 1A imply A ∼= (A/α) × (A/β).
Hence, by Lemma 5.4, we have LA ∼= Con(A) ∼= N5.
(cid:3)

We have established that all lattices of size up to 5 arise as the homomorphism

lattice induced by a ﬁnite algebra.

References

[1] Adams, M. E., Koubek, V., Sichler, J.: Homomorphisms and endomorphisms of distributive

lattices. Houston J. Math. 11, 129–145 (1985)

[2] Adams, M. E., Sichler, J.: Cover set lattices. Canad. J. Math. 32, 1177–1205 (1980)
[3] Behncke, H., Leptin, H.: Classiﬁcation of C ∗-algebras with a ﬁnite dual. J. Functional Anal-

ysis 16, 241–257 (1974)

[4] Birkhoﬀ, G., Frink, O.: Representations of lattices by sets. Trans. Amer. Math. Soc. 64,

299–316 (1948)

[5] Davey, B. A., Priestley, H. A.: Introduction to Lattices and Order, 2nd edn. Cambridge Uni-

versity Press, New York (2002)

[6] Davey, B. A., Werner, H.: Distributivity of coproducts over products. Algebra Universalis 12,

387–394 (1981)

[7] Davey, B. A., Werner, H.: Dualities and equivalences for varieties of algebras. In: Contribu-
tions to Lattice Theory (Szeged, 1980). Colloq. Math. Soc. J´anos Bolyai, vol. 33, pp. 101–275.
North-Holland, Amsterdam (1983)

[8] Dean, R. A.: Component subsets of the free lattice on n generators. Proc. Amer. Math. Soc.

7, 220–226 (1956)

[9] D¨orﬂer, W., Harary, F., Malle, G.: Covers of digraphs. Math. Slovaca 30, 269–280 (1980)

[10] Foniok, J., Neˇsetˇril, J., Tardif, C.: Generalised dualities and maximal ﬁnite antichains in the

homomorphism order of relational structures. European J. Combin. 29, 881–899 (2008)

[11] Foster, A. L., Pixley, A. F.: Semi-categorical algebras. II. Math. Z. 85, 169–184 (1964)
[12] Gierz, G., Romanowska, A.: Duality for distributive bisemilattices. J. Austral. Math. Soc.

Ser. A 51, 247–275 (1991)

[13] Goralˇc´ık, P., Koubek, V., Sichler, J.: Universal varieties of (0, 1)-lattices. Canad. J. Math.

42, 470–490 (1990)

[14] Gr¨atzer, G., Lakser, H., P lonka, J.: Joins and direct products of equational classes. Canad.

Math. Bull. 12, 741–744 (1969)

[15] Hedrl´ın, Z.: On universal partly ordered sets and classes. J. Algebra 11, 503–509 (1969)
[16] Hedrl´ın, Z., Pultr, A.: On full embeddings of categories of algebras. Illinois J. Math. 10,

392–406 (1966)

[17] Hell, P., Neˇsetˇril, J.: Graphs and Homomorphisms. Oxford University Press, Oxford (2004)
[18] Hoﬀman, M. E.: An analogue of covering space theory for ranked posets. Electron. J. Combin.

8(1), R32 (2001)

[19] Hubiˇcka, J., Neˇsetˇril, J.: Universal partial order represented by means of oriented trees and

other simple graphs. European J. Combin. 26, 765–778 (2005)

20

BRIAN A. DAVEY, CHARLES T. GRAY, AND JANE G. PITKETHLY

[20] Kalman, J. A.: Subdirect decomposition of distributive quasilattices. Fund. Math. 71, 161–

163 (1971)

[21] Keimel, K., Werner, H.: Stone duality for varieties generated by quasi-primal algebras. In:
Recent Advances in the Representation Theory of Rings and C∗-algebras by Continuous
Sections (Sem., Tulane Univ., New Orleans, La., 1973). Mem. Amer. Math. Soc., no. 148, pp.
59–85. American Mathematical Society, Providence (1974)

[22] Kwuida, L., Lehtonen, E.: On the homomorphism order of labeled posets. Order 28, 251–265

(2011)

[23] Neˇsetˇril, J., Pultr, A., Tardif, C.: Gaps and dualities in Heyting categories. Comment. Math.

Univ. Carolin. 48, 9–23 (2007)

[24] Neˇsetˇril, J., Tardif, C.: Duality theorems for ﬁnite structures (characterising gaps and good

characterisations). J. Combin. Theory Ser. B 80, 80–97 (2000)

[25] Pixley, A. F.: Functionally complete algebras generating distributive and permutable classes.

Math. Z. 114, 361–372 (1970)

[26] Pixley, A. F.: The ternary discriminator function in universal algebra. Math. Ann. 191, 167–

180 (1971)

[27] P lonka, J.: On distributive quasi-lattices. Fund. Math. 60, 191–200 (1967)
[28] Pudl´ak, P., T˚uma, J.: Every ﬁnite lattice can be embedded in a ﬁnite partition lattice.

Algebra Universalis 10, 74–95 (1980)

[29] Pultr, A.: Concerning universal categories. Comment. Math. Univ. Carolinae 5, 227–239

(1964)

[30] Pultr, A., Trnkov´a, V.: Combinatorial, Algebraic and Topological Representations of Groups,

Semigroups and Categories. North-Holland, Amsterdam (1980)

[31] Stallings, J. R.: Topology of ﬁnite graphs. Invent. Math. 71, 551–565 (1983)
[32] Welzl, E.: Color-families are dense. Theoret. Comput. Sci. 17, 29–41 (1982)
[33] Werner, H.: Discriminator-algebras. Studien zur Algebra und ihre Anwendungen, vol. 6.

Akademie-Verlag, Berlin (1978)

(Brian A. Davey) Department of Mathematics and Statistics, La Trobe University,

Victoria 3086, Australia

E-mail address: B.Davey@latrobe.edu.au

(Charles T. Gray) Department of Mathematics and Statistics, La Trobe University,

Victoria 3086, Australia

E-mail address: C.Gray@latrobe.edu.au

(Jane G. Pitkethly) Department of Mathematics and Statistics, La Trobe University,

Victoria 3086, Australia

E-mail address: J.Pitkethly@latrobe.edu.au

