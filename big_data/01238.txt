6
1
0
2

 
r
a

M
3

 

 
 
]

.

G
A
h
t
a
m

[
 
 

1
v
8
3
2
1
0

.

3
0
6
1
:
v
i
X
r
a

MODULI SPACES OF NONSPECIAL POINTED CURVES OF

ARITHMETIC GENUS 1

ALEXANDER POLISHCHUK

Gn

Abstract. In this paper we study the moduli stack U ns
1,n of curves of arithmetic genus
1 with n marked points, forming a nonspecial divisor. In [14] this stack was realized as
1,n, aﬃne of ﬁnite type over Pn−1, by the action of
m . Our main result is an explicit description of the corresponding GIT semistable loci
1,n. This allows us to identify some of the GIT quotients with some of the modular

the quotient of an explicit scheme eU ns
in eU ns

compactiﬁcations of M1,n deﬁned in [16] and [17].

Introduction

Recently there was a lot of interest towards birational models of the moduli spaces of
pointed curves which themselves admit a modular interpretation (see [4], [5], [3] and ref-
erences therein). A large class of examples of such birational models was constructed by
Smyth in [16] (for arbitrary genus g) and [17, 18] (for g = 1) by introducing appropriate
stability conditions for singular pointed curves. On the other hand, by studying projective
geometry of curves, or more generally, by studying algebraic structures associated with
curves, one naturally obtains birational models of Mg,n as GIT quotients. Establishing
a connection between geometrically deﬁned stabilities and the GIT stabilities is usually
quite hard (examples of such connections are surveyed in [3]). The goal of the present
paper is to describe a family of GIT quotients (with respect to a torus action) giving mod-
ular compactiﬁcations of M1,n, where the stability conditions admit an explicit geometric
description.

Recall that in [14] we considered the moduli scheme eU ns

g,n, where n ≥ g, classifying
(C, p1, . . . , pn, v1, . . . , vn), where C is a reduced connected projective curve of arithmetic
genus g, (p•) are distinct smooth marked points such that H 1(C, O(p1 + . . .+ pn)) = 0 and
OC(p1 + . . . + pn) is ample, and vi is a nonzero tangent vector at pi for each i. There is
a natural action of Gn
g,n/Gn
(the quotient-stack). We also have a natural Gn

g,n, rescaling the tangent vectors, and we set U ns

m-morphism

m

m on eU ns

g,n = eU ns

(0.0.1)

g,n → G(n − g, n)

π : eU ns

to the Grassmannian of (n−g)-dimensional subspaces in n-dimensional space, associating
with (C, p•, v•) the kernel of the surjective map H 0(C, O(p1 + . . . + pn)/O) → H 1(C, O).
It is shown in [14] that the morphism π is aﬃne of ﬁnite type (working over Z[1/6]).

0,n is exactly the base of the miniversal
deformation of the coordinate cross in the n-space. The corresponding GIT quotients
were described in [12, Sec. 5]: they are the images of M 0,n under the maps to products

In the simplest case g = 0 the moduli space eU ns

Supported in part by the NSF grant DMS-1400390.

1

of projective spaces associated with the standard divisor classes ψi. In particular, in the
main stability chamber one gets the space of so called Boggi-stable curves (see [2], [3, Sec.
4.2.1]), which gives an algebraic realization of the Kontsevich’s compactiﬁcation KM 0,n
deﬁned in [7].

In this paper we study the case g = 1. In this case the map (0.0.1) becomes

1,n → Pn−1.

π : eU ns

The curves corresponding to the open subscheme Vn = π−1(x1 . . . xn 6= 0) are well un-
derstood, since Vn is the moduli space of strongly non-special curves studied in [9] (with
choices of tangent vectors at each marked point). Here “strongly non-special” means that
H 1(C, O(pi)) = 0 for each i. The curve C underlying a point in Vn can be either smooth,
or nodal with no disconnecting nodes (i.e., the standard m-gon with 1 ≤ m ≤ n), or the
elliptic m-fold curve, with 1 ≤ m ≤ n. Here the elliptic 1-fold curve is just the cuspidal
plane cubic; the elliptic 2-fold curve is the degenerate cubic obtained as the union of a
line and a conic, tangent at one point; while for n > 2 the elliptic n-fold curve is the
union of n generic projective lines through a point in Pn−1.

1,n is the union of the boundary divisors,
consisting of curves glued transversally from a pair of curves C1 and C0 of arithmetic
genus 1 and 0, respectively (see Proposition 2.2.3). The diﬀerence from the standard
boundary divisors in Mg,n is that we allow to glue along singular points (but not along

We prove that the complement to Vn in eU ns
the marked points). This allows us to decompose any curve C underlying a point in eU ns

as follows:

1,n

C = E ∪ R1 ∪ . . . ∪ Rk,

(0.0.2)

scheme over an aﬃne scheme.

where E is the minimal elliptic subcurve, i.e., a curve of one of the types that appear over
Vn, and Ri are (possibly singular) rational tails, i.e., connected curves of arithmetic genus
0. Here all the gluings are transversal (but possibly at singular points), and diﬀerent Ri’s
1,n consists of all (C, p•, v•), such
that C admits a decomposition as above, and there is at least one marked point on each
irreducible component of C (see Corollary 2.2.5).

are attached to E at diﬀerent points. Furthermore, eU ns
The ﬁrst result of our paper is a presentation of the moduli space eU ns
6 ]-algebra A and a closed embedding ι : eU ns
tions on eU ns

Theorem A (=Thm. 2.4.1). Let us work over Z[ 1
Z[ 1
1,n ֒→ PN

Combining this with the fact that there are no nonconstant global Gn

the line bundle π∗O(1) are projective over Z[1/6] (see Proposition 3.2.1).

1,n we deduce that the GIT quotients of eU ns
m-action on eU ns

tions for the Gn
the twist of the standard Gn
π∗O(N) ⊗ χN for suﬃciently divisible N > 0).

Our second main result is the following explicit description of the GIT stability condi-
m we denote by π∗O(1)⊗χ
1,n. For a rational character χ of Gn
m-equivariant structure on π∗O(1) by χ (so we really consider

6 ]. There exists a ﬁnitely generated
A such that ι∗O(1) ≃ π∗O(1).

m-invariant func-
1,n associated with linearizations of

1,n as a projective

2

Theorem B (=Thm. 3.2.8(i)). We still work over Z[ 1
character of Gn
and let us deﬁne three subsets of [1, n] as follows:

m. For a curve (C, p•, v•) ∈ eU ns

6 ]. Let χ =Pi aiei be a rational

1,n let E ⊂ C be the minimal elliptic subcurve,

• J is the set of j such that pj 6∈ E and there are ≥ 3 special points on the irreducible

component containing pj;

• I is the set of i such that pi ∈ E;
• I0 = ∅ if E is at most nodal; otherwise, I0 is the set of i ∈ I such that there are

≤ 2 special points on the irreducible component containing pi.

Then the point (C, p•, v•) is π∗O(1) ⊗ χ-semistable if and only if all ai ≥ 0; ai = 0 for
i 6∈ I ∪ J; and

Xi∈I0

ai ≤ 1, Xi∈I

ai ≥ 1.

In particular, we see that the stability changes only when χ passes through one of the
= 1, where I ⊂ [1, n]. Looking at some of the resulting stability
conditions we recover two diﬀerent types of modular compactiﬁcations of M1,n, deﬁned

walls ai = 0 orPi∈Iai
by Smyth. First, if we take χ = Pi aiei with each ai > 1 then we recover the moduli

stack M1,n(Z u) of Z u-stable curves, for the extremal assignment Z u of all unmarked
components (see [16, Ex. 1.12] and Proposition 3.2.11). In particular, we derive that the
corresponding coarse moduli space is projective (when working over Spec Z[1/6]).

Next, recall that Smyth deﬁned in [17] the moduli stack M1,n(m) of n-pointed m-stable
curves of arithmetic genus 1, where 1 ≤ m < n. In terms of the decomposition (0.0.2) we
can characterize these curves as follows: (C, p1, . . . , pn) (where C is of arithmetic genus
1 and (pi) are distinct smooth marked points) is m-stable if and only if

• E is either smooth, or nodal, or the elliptic m′-fold curve with m′ ≤ m; Ri are at

most nodal, attached to E so that the points of intersection are nodes on C;

• |E ∩ C \ E| + |E ∩ {p1, . . . , pn}| > m;
• (C, p1, . . . , pn) has no inﬁnitesimal symmetries.

Smyth showed that M1,n(m) is a proper irreducible Deligne-Mumford stack, with projec-
tive coarse moduli space (see [17, 18]).

We showed in [14] that for m ≥ ⌊ n

2 ⌋ there exists a regular morphism
M1,n(m) → U ns
1,n

mapping (C, p•) to (C, p•), where C is obtained by contracting the unmarked components
on C. We prove that this morphism factors through the semistable locus with respect
to π∗O(1) ⊗ χ for some rational character χ precisely for m = n − 1, n − 2 and n − 3
(see Proposition 3.3.2 and Remark 3.3.3.1). Furthermore, for m = n − 1 and n − 2, for
appropriate χ, this morphism identiﬁes M 1,n with the normalization of the corresponding
GIT quotient (see Proposition 3.3.2).

The paper is organized as follows. In Section 1 we discuss the genus 0 moduli spaces
0,n, complementing the results of [12, Sec. 5]. In particular, we recall the explicit deﬁning
0,n. In Section 2
1,n. After recalling the explicit aﬃne

eU ns
equations for these aﬃne schemes and describe the boundary divisors in eU ns
we study the geometry of the genus 1 moduli spaces eU ns

3

curves) and the fundamental decomposition (0.0.2).

embeddings of the open aﬃne charts eU1,n(i) ⊂ eU ns
boundary divisors in eU ns
functions and global sections of π∗O(1) on eU ns

1,n in Sec. 2.1, we discuss in Sec. 2.2 the
1,n (whose complement is the open subset of strongly nonspecial
In Sec. 2.3 we deﬁne some global
1,n and prove some relations between them
which allow us to deduce Theorem A in Sec. 2.4. Finally, in Sec. 3 we study GIT stability
conditions for the Gn
1,n. After some preparations we prove Theorem B in
Sec. 3.2. We discuss the connection to Smyth’s Z u-stabiliity in Proposition 3.2.11 and to
Smyth’s m-stability in Sec. 3.3.

m-action on eU ns

Conventions. Starting from Section 2 we work over Z[1/6]. All curves (over algebraically
closed ﬁelds) are assumed to be reduced, connected and projective. By a special or a
distinguished point on a component of a curve C we mean either a marked point or a
singular point of C. By the rational n-fold singularity we mean the singularity at the
origin of the union of n coordinate lines (the coordinate cross) in the n-space. By the
standard n-gon we mean the nodal curve of genus 1 which is the union of n projective
lines, glued to form a cycle.

1. Curves of genus 0

g,n

0,n, for n ≥ 2, is a scheme of ﬁnite type over Spec(Z), given by

0,n

p1, . . . , pn.

is given by the equations

0,n and the universal aﬃne curve over it. Let us denote by

eCns
g,n → eU ns
g,n. Note that eCns

the universal aﬃne curve, i.e., the complement to the universal sections p1, . . . , pn in the
g,n is the stack parametrizing the data (C, p•, v•; q),
g,n and q is a (possibly singular) point of C, diﬀerent from

1.1. The stack eU ns
universal curve over eU ns
where (C, p•, v•) is in eU ns
Recall that the stack eU ns
explicit equations (see [12, Sec. 5], [14, Thm. 1.2.2]). Namely, for n ≥ 3 the scheme eU ns
between the variables (eαij)1≤i,j≤n,i6=j deﬁned up to translations eαij 7→ eαij + ci, and the
universal curve eCns
where cij = eαikeαjk −eαijeαjk −eαjieαik for any k 6= i, j (see [12, Thm. 5.1.4], where the
variables are normalized by requiring eαi,i+1 = 0). Thus, the scheme eU ns
In the case n = 2 the similar presentation allows to makeeα12 =eα21 = 0, so c = c12 will
be the variable on eU ns

0,n is exactly the
miniversal deformation space of the rational n-fold singularity, i.e., of the coordinate cross
in the n-space (see [15, Ex. 1], [19, Sec. 3]).

(eαik −eαij)(eαjk −eαji) = (eαil −eαij)(eαjl −eαji)

0,n is given by the equations

xixj =eαijxj +eαjixi + cij,

0,n → eU ns

0,2 ≃ A1, so that we have

0,2 ≃ A2

4

eCns

A2 → A1 : (x, y) 7→ xy.

0,2 → eU ns

0,2 can be identiﬁed with the map

0,1
parametrizes (C, p1, v1; q), where C ≃ P1, p1 6= q and v1 is a nonzero tangent vector at p1.

and the projection eCns
0,n is still a scheme. Indeed, the stack eCns
Note that for n = 1 the universal curve eCns
It is easy to see that eCns
Sometimes it is convenient to use the following slightly diﬀerent presentation of eCns
Lemma 1.1.1. For n ≥ 1 the stack eCns

0,n is isomorphic to the aﬃne scheme given by the

0,1 is isomorphic to Spec(Z).

equations

0,n.

αikαjk − αijαjk − αjiαik = 0

(1.1.1)

for distinct indices i, j, k, between the variables (αij), 1 ≤ i, j ≤ n, i 6= j, and the doubled
universal aﬃne curve

is given by the equations

0,n × eU ns

eCns

0,n eCns
0,n → eCns

0,n

ϕiϕj = αijϕj + αjiϕi

in the relative An over eCns

0,n.

Proof. The proof is similar to that of [12, Thm. 5.1.4]. The only diﬀerence is that in our
situation we can choose uniquely ϕi ∈ H 0(O(pi)), which vanish at the additional point
q and have given polar parts (corresponding to the chosen tangent vectors). Then the
equations of H 0(C \ {p1, . . . , pn}) become

and we get the equations (1.1.1) using [12, Lem. 5.1.3].

ϕiϕj = αijϕj + αjiϕi,

(1.1.2)

(cid:3)

0,4 is the
aﬃne cone over the Segre embedding of P1 × P3. If k is either a ﬁeld or Z then the scheme

0,3 ≃ A3 with the coordinates (eα21,eα32,eα13), while eU ns

Lemma 1.1.2. We have eU ns
eU ns
0,4 × Spec(k) is normal, while the scheme eU ns

Proof. The assertion for n = 3 is immediate. The cases of n = 4 and n = 5 follow from the
results of [19] about the base of the miniversal deformation of the coordinate cross. (cid:3)

0,5 × Spec(k) is integral.

1.2. Irreducibility and boundary divisors.

and reduced in codimension ≤ 8.

0,n × Spec(k)
0,n × Spec(k) are irreducible (of dimension 2n − 3 and 2n − 2 when k is a ﬁeld).
0,n × Spec(k) is smooth in codimension ≤ 4, normal in codimension ≤ 6,

Proposition 1.2.1. Let k be either a ﬁeld or Z. For n ≥ 2 the schemes eU ns
and eCns
The scheme eU ns
The irreducibility of eU ns

0,n (over a ﬁeld k or over Z) follows from the fact that every

Proof. The case n = 2 was considered above, so we assume that n ≥ 3.

reduced curve of arithmetic genus 0 is smoothable (see [6, Ex. 29.10.2]).

5

0,n

to M0,n+1.

0,n is irreducible we use the fact that the natural projection

To deduce that eCns
p : eCns
0,n → eU ns
is ﬂat, and that the preimage of the open subset eU sm
2.1]), the non-smooth (resp., non-normal, resp., non-reduced) points of eU ns

The last assertion follows from Lemma 1.1.2. Indeed, since the deformation functor of
a pointed curve is smooth over the deformations of its singular points (see e.g., [18, Lem.
0,n can occur
only for curves with a rational m-fold singularity, where m ≥ 4 (resp., m ≥ 5, resp.,
m ≥ 6). It remains to use the fact that curves with a rational m-fold singularity occur in
codimension ≥ 2m − 3.
(cid:3)

0,n is irreducible being isomorphic

0,n ⊂ eU ns

Recall that for every 1 ≤ k ≤ n − 1 and every partition of [1, n] into the disjoint union
of two subsets [1, n] = I ⊔ J with |I| = k, we have constructed in [14, Sec. 1.3] a gluing
morphism

(1.2.1)
sending a pair of curves C, C ′ with marked points and tangent vectors at them and
with extra points q, q′ (not necessarily smooth) to the curve obtained by gluing C and
C ′ transversally, identifying q and q′, equipped with the induced markings and tangent
vectors. Furthermore, ρI,J is a closed embedding admitting a retraction (see [14, Ex.
1.3.3]). We denote by DI,J the image of ρI,J.

0,n−k → eU ns

ρI,J : eCns

0,k ×eCns

0,n,

union of all the divisors (DI,J).

0,n. Furthermore, the
0,n, corresponding to smooth curves, is precisely the

Corollary 1.2.2. The subscheme DI,J is an irreducible divisor in eU ns
complement to the open locus in eU ns
Remark 1.2.3. It was shown in [12, Prop. 5.3.1] that for a character χ = P aiei of
m, such that all ai > 0, the GIT quotient eU ns

Gn
m can be identiﬁed with the moduli
scheme M 0,n[ψ] of ψ-stable (or Boggi stable) curves, i.e., n-pointed curves of arithmetic
genus 0 without inﬁnitesimal automorphisms, for which there is at least one marked point
on every irreducible component. The latter scheme was ﬁrst constructed by Boggi in
[2], who claimed that M 0,n[ψ] is normal. However, his proof is incorrect, and in fact,
his arguments do not even show that M 0,n[ψ] is reduced. So currently it is not known

0,n //χ Gn

1,n. From now on we work over Z[ 1

6 ]. Recall (see [14]) that

0,n) is reduced.

2. Curves of genus 1

whether M 0,n[ψ] (or equivalently, eU ns
2.1. The moduli spaces eU ns

we have a natural aﬃne morphism

1,n → Pn−1
sending a k-point (C, p•, v•) to the natural functional

π : eU ns

kn ≃ H 0(C, O(p1 + . . . + pn)/O) → H 1(C, O),

(2.1.1)

where the ﬁrst isomorphism is given by the tangent vectors (v•).

6

We denote by eU1,n(i), i = 1, . . . , n, the preimages under π of the standard aﬃne open
subsets Ui ⊂ Pn−1, so that eU1,n(i) is the open subset of eU ns

1,n consisting of (C, p1, . . . , pn)
such that the map H 0(C, O(pi)/O) → H 1(C, O) is an isomorphism, or equivalently,
H 1(C, O(pi)) = 0.

Consider the open subscheme

Vn := ∩n

1,n.

i=1eU1,n(i) ⊂ eU ns

We will refer to curves in Vn as strongly non-special, since to be in Vn means that each
point pi deﬁnes a non-special divisor. The scheme Vn is closely related to the moduli
1,n classiﬁes (C, p•, ω), where C is of arithmetic
genus 1, pi are smooth marked points such that H 1(C, O(pi)) = 0, OC(p1 + . . . + pn) is
1,n is
equipped with a natural Gm-action, rescaling ω. There is a canonical closed embedding

scheme eU sns
ample, and ω is a nonzero global section of the dualizing sheaf on C. The scheme eU sns

1,n studied in [9]. Recall that eU sns

(2.1.2)

(2.1.3)

1,n → Vn,

eU sns

equivariant with respect to the diagonal embedding Gm → Gn
tangent vectors vi to be compatible with ω. Furthermore, one has

m, deﬁned by choosing all

(see [13, Prop. 3.3.1]).

1,n ×Gm Gn

m

Vn ≃ eU sns

It follows from the results of [9] that a curve C is the underlying curve of a strongly
non-special curve (C, p•) if and only if C is either smooth, or isomorphic to the standard
m-gon or to the elliptic m-fold curve with m ≤ n (see the proof of [9, Thm. 1.5.7]).
Furthermore, to extend such C to a strongly non-special curve, the (distinct smooth)
marked points p1, . . . , pn can be chosen arbitrarily in such a way that there is at least one
on each irreducible component. This immediately leads to following assertion (which can
also be checked directly).

Lemma 2.1.1. Let C be the curve of arithmetic genus 1, which is either smooth, or the
standard n-gon, or the elliptic n-fold curve. Then for every smooth point p of C one has
H 1(C, O(p)) = 0.

(with some simpliﬁcations due to the fact that we work over Z[1/6]). We consider the

Let us recall the construction of aﬃne embeddings of eU1,n(i) from [14, Thm. 1.2.2].
following rational functions on the universal aﬃne curve over eU1,n(i): fi ∈ H 0(C, O(2pi)),

hi ∈ H 0(C, O(3pi)) and hij ∈ H 0(C, O(pi + pj)) for j 6= i. Furthermore, using the case
n = 2 (see [13, Sec. 3.1], [14, Sec. 1.4]), we can normalize these functions uniquely by the
form of their Laurent expansions

fi ≡

1
t2
i

+ . . . , hi ≡

1
t3
i

+ . . . , hij ≡

7

1
tj

+ . . . ,

where (tj) are formal parameters at the marked points compatible with the given tangent
vectors, and by the condition that the following relations hold:

i + πifi + si,

h2
i = f 3
fihij = bijhij + aijhi + aijeij,
hihij = eijhij + aijf 2

i + aijbijfi + aij(πi + b2

ij),

where

si = e2

ij − bij(πi + b2

ij).

(2.1.4)

(2.1.5)

Note that hij ≡ aij
ti
have relations of the form

+ . . . at pi, while bij = fi(pj), eij = hi(pj). In addition, we should

hijhij ′ = cj ′j(i)hij + cjj ′(i)hij ′ + aijaij ′fi + djj ′(i),

(2.1.6)

for j 6= j′, where

cjj ′(i) = hij(pj ′).

Using the description of eU1,n(i) in the case n = 3 (see [13, Prop. 3.2.1]) we deduce the

equations

djj ′(i) = aijaij ′(bij + bij ′).

(2.1.7)

for j 6= j′.

We deﬁne the Gn

1,n by the following rescaling of tangent vectors:

(C, p1, . . . , pn, v1, . . . , vn) 7→ (C, p1, . . . , pn, λ−1

1 v1, . . . , λ−1

n vn).

The induced action of Gn
of Gn
Gn

m with the lattice Zn with the standard basis ei. Thus, we say that a function f has

m on O(eU1,n(i)) is deﬁned by f 7→ (λ−1)∗f . We identify characters

m-action on eU ns

m-weightP miei if

f (λ−1x) = λm1
1

. . . λmn

n

· f (x).

The proof of [14, Thm. 1.2.2] together with formulas (2.1.4)–(2.1.7) implies the following

generation result.

Proposition 2.1.2. Let us work over Z[ 1
by the functions aij, bij, eij, πi and cjj ′(i). Their Gn

6 ]. The ring of functions O(eU1,n(i)) is generated

m-weights are given by

wt(aij) = ej − ei, wt(bij) = 2ei, wt(eij) = 3ei, wt(πi) = 4ei, wt(cjj ′(i)) = ej.

Let (xi) be the standard basis of global sections of O(1) on Pn−1. It is easy to see that
we have a natural identiﬁcation of π∗O(1) with the line bundle Λ∗ (dual of the Hodge
bundle), with the ﬁber H 1(C, O) over (C, p•, v•), so that the map (2.1.1) is identiﬁed with
the pull back of the canonical map On → O(1). We denote still by xi the pull-back of xi
under π. Thus, the value of xi at (C, p•, v•) is given by the image of 1/ti ∈ H 0(C, O(pi)/O)

(2.1.8)

under the map (2.1.1). Note that over eU1,n(i) we have the function hij ∈ H 0(C, O(pi +pj))

which projects to

) + (

) ∈ H 0(C, O(pi + pj)/O) ⊂ H 0(C, O(p1 + . . . + pn)/O).

(

aij
ti

1
tj

8

Hence, this element lies in the kernel of the map (2.1.1), and we get the equation

xj = −aijxi

(2.1.9)

of sections of O(1), valid over eU1,n(i).
Lemma 2.1.3. One has the following relations over eU1,n(i), where diﬀerent indices are

assumed to be distinct:

aijckj(i) = −aikcjk(i);

(2.1.10)

(bik − bij)cjk(i) = aij(eij + eik);

(eik − eij)cjk(i) = aij(πi + b2

ij + bijbik + b2

ik);

cjk(i)cj ′k(i) − cj ′j(i)cjk(i) − cjj ′(i)cj ′k(i) = aijaij ′(bik + bij + bij ′).

(2.1.11)

(2.1.12)

(2.1.13)

Proof. The ﬁrst three relations follow from the case n = 3 considered in [13, Prop. 3.2.1].
The last relation is obtained by evaluating (2.1.6) at pk and using (2.1.7).
(cid:3)

Remark 2.1.4. By [13, Prop. 3.2.1], in the case n = 3 the relations of Lemma 2.1.3

together with (2.1.5) generate the ideal of relations between our generators of O(eU1,n(i))⊗

Z[1/6]. We conjecture that this continues to hold for n > 3.

2.2. Boundary divisors and irreducibility. Similarly to the genus 0 case, we consider
for every 1 ≤ k ≤ n − 1 and every partition of [1, n] into the disjoint union of two subsets
[1, n] = I ⊔ J with |I| = k, we consider the gluing morphism

ρ1,0

I,J : eCns

1,k ×eCns

0,n−k → eU ns

1,n,

(2.2.1)

of ρ1,0
0,n−k.

which is a closed embedding (see [14, Sec. 1.3]). Let us denote by DI,J ⊂ eU ns
I,J . We say that a curve in DI,J is glued from the corresponding curves in eU ns
eU ns

Lemma 2.2.1. Assume that a curve C is glued from C1 and C0, where Ci has arithmetic
genus i. Then for a smooth point p ∈ C, such that pi ∈ C1, one has H 1(C, O(pi)) = 0 if
and only if H 1(C1, O(pi)) = 0.

1,n the image
1,k and

Proof. Consider the exact sequence of sheaves on C,

0 → OC(pi) → OC1(pi) ⊕ OC0 → Oq → 0

where q = C1 ∩ C2. Since H 1(OC0) = 0, the corresponding long exact sequence gives an
isomorphism H 1(OC(pi)) ≃ H 1(OC1(pi)).
(cid:3)

Lemma 2.2.2. One has DI,J ⊂ ∪i∈IeU ns

given by the equations

1,n(i). For i0 ∈ I the intersection DI,J ∩eU1,n(i0) is

ai0j = 0, bi0j = bi0j ′, ei0j = ei0j ′, cij(i0) = cij ′(i0), cji(i0) = 0,

(2.2.2)

where i ∈ I \ {i0}, j, j′ ∈ J.

9

Proof. The ﬁrst assertion follows immediately from Lemma 2.2.1.

Suppose we have a curve (CI, p•, v•) in eU ns
as well as a curve (CJ , pk+1, . . . , pn, vk+1, . . . , vn) in eU ns
from pj’s). Let i0 ∈ I be such that (CI, p•, v•) ∈ eU ns

can assume that i0 = 1, I = {1, . . . , k}, J = {k + 1, . . . , n}.

1,k with an extra point q (distinct from pi’s),
0,n−k with an extra point q′ (distinct
1,k(i0). Without loss of generality we

We have the standard functions (f1, h1, h1i), where i = 2, . . . , k, on CI, as well as ϕj,
for j = k + 1, . . . , n, on CJ satisfying the relations (2.1.4) and (1.1.2), where (ϕj) are
normalized by ϕj(q′) = 0 (see Lemma 1.1.1). These functions extend to the glued curve
(by constants on the diﬀerent component). This immediately shows that the coordinates

of the glued curve in eU ns

1,n(1) satisfy

b1j = f1(q), e1j = h1(q), cij(1) = h1i(q)

for i ∈ I \ {1}, j ∈ J. Next, for the glued curve we have h1j = ϕj for j ∈ J, so that
a1j = 0 and cji(1) = 0, whereas cjj ′(1) = αjj ′.

Recall (see the proof of [14, Prop. 1.3.2]) that we can recover (CI, p•, v•; q), (CJ, p•, v•; q′)
from the glued curve (C, p1, . . . , pn, v1, . . . , vn) using the Proj of the appropriate Rees
algebras, so that

O(CI \ {p1, . . . , pk}) = O(C \ {p1, . . . , pk}),

O(CJ \ {pk+1, . . . , pn}) = O(C \ {pk+1, . . . , pn}),

(2.2.3)

(2.2.4)

with q obtained as the image of pn under the contraction C → CI, and q′ obtained as the
image of p1 under the contraction C → CJ. These constructions give a well deﬁned map

where ZI,J denotes the closed subscheme given by xk+1 = . . . = xn = 0 (in fact, r is
exactly the retraction constructed in [14, Prop. 1.3.2]). Restricting to the open subset

r : ZI,J → eCns

1,k × eCns

0,n−k,

eU1,n(1), we can compute this map on the locus a1j = 0, j = k + 1, . . . , n. Namely, the

standard functions (f1, h1, h1i) on CI correspond to the same named functions on C, via
the identiﬁcation (2.2.3), while the function ϕj, for j ∈ J, gets identiﬁed with h1j (which
is regular away from pj since a1j = 0) via (2.2.4), so that αjj ′ = cjj ′(1). Now the equation

ρ1,0
I,J r(z) = z

on z ∈ ZI,J deﬁning the image of ρ1,0
from (2.2.2).

I,J can be easily identiﬁed with the remaining equations
(cid:3)

1,n denotes the open subscheme x1 . . . xn 6= 0, corre-

sponding to strongly non-special curves.

Recall (see (2.1.2)) that Vn ⊂ eU ns
Proposition 2.2.3. The complement to Vn in eU ns

0,n is the union of the closed subsets DI,J.

Proof. We have to check that any point with xn = 0 belongs to some DI,J with n ∈ J.
Applying the action of Sn we can assume that x1 6= 0, cni(1) = 0 for 2 ≤ i ≤ m, and
cnj(1) 6= 0 for m < j < n (for some m satisfying 1 ≤ m ≤ n − 1). We claim that our
point then belongs to DI,J, where I = [1, m], J = [m + 1, n]. Indeed, let us check the

10

equations of Lemma 2.2.2. We already know that cni(1) = 0 for i ∈ I, i 6= 1. Next, we
have a1n = −xn/x1 = 0. Then by (2.1.10),

so a1j = 0 for j ∈ J. Similarly, (2.1.11) and (2.1.12) give

a1jcnj(1) = −a1ncjn(1) = 0,

(b1j − b1n)cnj(1) = a1n(e1n + e1j) = 0,
1j + b1jb1n + b2

(e1j − e1n)cnj(1) = a1n(π1 + b2

1n) = 0,

so b1j = b1n and e1j = e1n for j ∈ J. Next, applying (2.1.13) with (i, j, j′, k) = (1, j, n, i),
where i ∈ I \ {1}, j ∈ J, we get

so cji(1) = 0. Similarly, applying (2.1.13) with (i, j, j′, k) = (1, n, i, j) we get

cnj(1)cji(1) = 0,

cnj(1)(cij(1) − cin(1)) = 0,

so cij(1) = cin(1). Thus, all the equations of Lemma 2.2.2 hold, so our point is in DI,J . (cid:3)

In view of possible generalizations to higher genus, we will also give a purely geometric

proof of Proposition 2.2.3.

Lemma 2.2.4. Let C be a connected reduced projective curve over an algebraically closed
ﬁeld k. Let R ⊂ C be an irreducible component of C and let C ′ ⊂ C be the union of
the remaining irreducible components. Further, assume that for some line bundle L on C
one has h1(C, L) = 0 and L|R ≃ OR. Let C ′
r be the connected components of C ′.
Then R ≃ P1, and

1, . . . , C ′

h1(C, O) =

(h1(C ′

i, O) + ℓ(ξi) − 1),

(2.2.5)

rXi=1

where ξi is the scheme-theoretic intersection C ′

i ∩ R.

Proof. We have an exact sequence of coherent sheaves on C

0 → OC → OC ′ ⊕ OR

δ

✲ Oξ → 0

(2.2.6)

where ξ = C ′ ∩ R. Tensoring it with L and looking at the induced long exact sequence
of cohomology we deduce the surjection 0 = H 1(L) → H 1(L|C ′) ⊕ H 1(OR). Hence,
H 1(O, R) = 0, so R ≃ P1 (since it is irreducible). The second assertion is obtained by
considering the long exact sequence associated with (2.2.6), and by splitting the contri-
butions of OC ′ and Oξ into the direct sum over intersections with C ′
i.
(cid:3)

(C, p•, v•) be in the complement eU ns

Another proof of Proposition 2.2.3. We can work over an algebraically closed ﬁeld. Let
0,n \ Vn. Without loss of generality we can assume
that H 1(C, O(pn)) 6= 0. This implies that the map H 0(C, O(pn)) → H 0(C, O(pn)/O)
is surjective (since it is followed in the long exact sequence by the map H 1(C, O) →
H 1(C, O(pn)) which has to be an isomorphism). Using the vanishing H 1(C, O(p1 + . . . +
pn)) = 0 we derive that the connecting homomorphism

H 0(C, O(p1 + . . . + pn−1)/O) → H 1(C, O)

11

is surjective, i.e., H 1(C, O(p1 + . . . + pn−1)) = 0. If OC(p1 + . . . + pn−1) is ample then
0,n−1. If it were in Vn−1, then by Lemma 2.1.1,
we would get H 1(C, O(pn)) = 0. Hence, (C, p1, . . . , pn−1, v1, . . . , vn−1) is in the comple-
ment of Vn−1, and we can use the induction.

(C, p1, . . . , pn−1, v1, . . . , vn−1) belongs to eU ns

It remains to consider the case when there exists an irreducible component R of C, not
containing any of the points (p1, . . . , pn−1). Since there exists a marked point on every
component of C, we see that such R is unique and pn ∈ R. Let C ′ ⊂ C be the union of all
other irreducible components of C, and let C ′
r, ξ1, . . . , ξr be as in Lemma 2.2.4.
Note that the summands in the equation (2.2.5) are non-negative, and the ith summand
is zero if and only if C ′
i has arithmetic genus 0 and ℓ(ξ) = 1. If there exists at least one
such i then C is glued from C ′
j with R. Assuming that
there are no such summands, since h1(C, O) = 1, we deduce that C ′ is connected and
either h1(C ′, O) = 1 and ℓ(ξ) = 1, or h1(C ′, O) = 0 and ℓ(ξ) = 2. In the former case C is
glued from C ′ and R, so assume we are in the latter case.

i and the union of the remaining C ′

1, . . . , C ′

If the support of ξ consists of two distinct points q1, q2 then C is isomorphic to the
chain of projective lines with some tails of arithmetic genus 0 glued to it transversally, so
our claim follows in this case. Otherwise, ξ ≃ Spec(k[t]/(t2)) which is embedded in the
standard way into R ≃ P1, and also is embedded in some way into C ′. Let q ∈ C ′ be the
corresponding point. Then q is a rational m-fold point on C ′ (with m ≥ 1, where m = 1
corresponds to the smooth point). The embedding of ξ corresponds to a nonzero tangent
vector at q. Thus, if t1, . . . , tm are formal parameters on the branches of C ′ at q, then
the formal completion of the local ring of C at q is of the form

{(f1, . . . , fm, f ) ∈ k[[t1]] ⊕ . . . ⊕ k[[tm]] ⊕ k[[t]] | f (t) = f1(t1) = . . . = fm(tm),
1(t1) + . . . + cmf ′

f ′(t) = c1f ′

m(tm)}.

Rescaling the parameters ti we can assume that each coeﬃcient ci is either 0, or 1. Hence,
C is the transversal union of the elliptic m′-fold curve (with m′ ≤ m + 1) with some tails
of arithmetic genus zero. Since C is not in Vn, we deduce that it is glued.
(cid:3)

Corollary 2.2.5. (i) Every curve (C, p•) in U ns

1,n has a fundamental decomposition

C = E ∪ R1 ∪ . . . ∪ Rr,

where E is a connected subcurve of arithmetic genus 1, either smooth, or the standard
m-gon, or the elliptic m-fold curve, and Ri’s are rational tails attached to E transversally
at distinct points (so Ri’s are of arithmetic genus 0, possibly singular). We call E the
minimal elliptic subcurve of C and Rj the rational tails. Note that the intersection points
E ∩ Ri in the fundamental decomposition are allowed to be singular both on E and on Ri.
(ii) Conversely, given a curve C with a decomposition as in (i), equipped with distinct
smooth marked points p1, . . . , pn, so that there is at least one marked point on every
irreducible component, then H 1(C, O(p1 + . . . + pn)) = 0, so (C, p•) is in U ns
1,n.

Proof. (i) This follows immediately from Proposition 2.2.3.
(ii) Let us pick a marked point pi ∈ E. Then by Lemma 2.1.1, we have H 1(E, O(pi)) =
0. Applying Lemma 2.2.1 for the gluing of C from E and R1, . . . , Rr we deduce that
H 1(C, O(pi)) = 0. Hence, H 1(C, O(p1 + . . . + pn)) = 0.
(cid:3)

12

Corollary 2.2.6. For (C, p•, v•) ∈ eU ns

if and only if H 1(C, O(pi)) = 0 (equivalently, xi 6= 0 at (C, p•, v•)).
Proof. If pi ∈ E then H 1(C, O(pi)) = 0 as we have seen in the proof of Corollary 2.2.5(ii).
On the other hand, if pi ∈ Rj then the same argument similar to that of Lemma 2.2.1
will give

1,n with the elliptic subcurve E ⊂ C, one has pi ∈ E

H 1(C, O(pi)) ≃ H 1(E, O) 6= 0.

(cid:3)

Corollary 2.2.7. The curves parametrized by eU ns

gularities:

• rational m-fold points with m ≤ n + 1;
• elliptic m-fold points with m ≤ n;
• transversal union of an elliptic m-fold point and a rational m′-fold point, where

1,n have only the following types of sin-

m + m′ ≤ n (where m′ ≥ 1).

Recall that we denote by

p : eCns
1,n → eU ns

1,n

1,n.

(2.2.7)

is regular in codimension ≤ 3 and normal in codimension ≤ 4.

1,n×Spec(k)
1,n × Spec(k) are irreducible (of dimension 2n and 2n + 1 when k is a ﬁeld). The
1,n × Spec(k)

the universal aﬃne curve over eU ns
Proposition 2.2.8. Let k be either a ﬁeld or Z[1/6]. For n ≥ 1 the schemes eU ns
and eCns
1,n × Spec(k) are irreducible divisors. The scheme eU ns
loci DI,J × Spec(k) ⊂ eU ns
Proof. The irreducibility of eU ns
fact that all curves appearing in eU ns
deduce that eCns

Since the map (2.2.7) is ﬂat, and the preimage of the smooth locus is irreducible, we
1,n × Spec(k) is irreducible. Together with Proposition 1.2.1 this implies

1,n × Spec(k) (where k is a ﬁeld or Z[1/6]) follows from the
1,n have smoothable singularities, either by Corollary

that DI,J × Spec(k) is irreducible.

2.2.7 or by the results of [20].

Next, we observe that

1,n.

1,k + dimeCns

0,n−k = (2k + 1) + 2(n − k) − 2 = 2n − 1,

dim DI,J = dimeCns
so each DI,J is a divisor in eU ns
Cor. 2.17], one can see that curves with an elliptic m-fold singular point occur in eU ns

As in Proposition 1.2.1, the last assertion follows from Corollary 2.2.7 together with
some information about deformations of the relevant singularities. Namely, using [18,
1,n in
codimension ≥ m + 1. This implies that the transversal unions of the elliptic m-fold and
the rational m′-fold points occur in codimension ≥ m + 2m′ + 1 (for m′ ≥ 1). Also, it
is easy to see that as in the case g = 0 the rational m-fold points occur in codimension
≥ 2m − 3.

Now we use the fact (see Lemma 1.1.2) that the rational m-fold point has smooth
(resp., normal) base of the miniversal deformation for m ≤ 3 (resp., for m ≤ 4). Also,

13

by [9, Prop. 1.5.12, 1.5.13], the elliptic m-fold point has smooth (resp., normal) base of
the miniversal deformation for m ≤ 5 (resp., any m). Finally, we need to know that the
miniversal deformation space is normal for the transversal union of the line and the cusp
(which occurs in codimension 4)—this follows from [13, Prop. 3.2.1].
(cid:3)

Recall that in [9, Prop. 1.1.5] we constructed a natural Gm-equivariant isomorphism of
1,n+1, so that the unique Gm-invariant point
1,n , where E is the elliptic n-fold curve, with

one marked point on every component, and q ∈ E is the singular point.
The natural inclusion (2.1.3) extends to the Gm-equivariant inclusion

the aﬃne universal curve eCsns
1,n with eU sns
1,n over eU sns
1,n+1 corresponds to (E, p1, . . . , pn, q) ∈ eCsns
of eU sns
eCsns
1,n → p−1(Vn) ⊂ eCns

with respect to the diagonal embedding Gm → Gn

1,n,

1,n+1 contains the unique Gm-invariant point. Hence, the closure every Gn

in p−1(Vn) contains the Gn
q ∈ E is its singular point. This gives the following fact about generic Gn

eCsns
1,n ≃ eU sns
divisors DI,J with |J| = 2 (which is useful for understanding some GIT quotients of eU ns

m. Now the closure of every Gm-orbit on
m-orbit
m-orbit of (E, p•, v•, q), where E is the elliptic n-fold curve,
m-orbits in
1,n).

Lemma 2.2.9. Let (C, p•, v•) ∈ DI,J, where |J| = 2, be such that its fundamental decom-
position has exactly one rational tail with two marked points in J. Then the closure of
the Gn
m-orbit of (C, p•, v•) contains the curve E ∪ R, where E is the elliptic (n − 2)-curve,
with one marked point from I on each component, R ≃ P1 with two marked points in J,
and E ∩ R is the singular point of E.

2.3. Some global functions and global sections of π∗O(1). Note that by the case

n = 2 (see [14, Lem. 1.3.1]) on eU1,n(i) ∩ eU1,n(j) we have

hji = ajihij;

fj = h2

ij − a2

ijfi − a2

ijbij;

hj = h3

ij − a3

ijhi − 3a2

ijbijhij − 2a3

ijeij;

bji = a2

ijbij, eji = a3

ijeij, πj = a4

ijπi, sj = a6

ijsi.

Lemma 2.3.1. For i 6= j, over eU1,n(i) ∩ eU1,n(j) one has

aik = −aijajk;

cik(j) = ajicjk(i);

cki(j) = aikcik(j) = −ajkcjk(i);

hjk = hik + ajkhij − ckj(i),

where k 6= i, j;

ckm(j) = ckm(i) + ajkcjm(i) − ckj(i),

where i, j, k, m are distinct.

14

(2.3.1)

(2.3.2)

(2.3.3)

(2.3.4)

(2.3.5)

(2.3.6)

(2.3.7)

(2.3.8)

(2.3.9)

Proof. The identities (2.3.5) and (2.3.6) are easy consequences of (2.3.1) ((2.3.5) also
follows from (2.1.9)). The identity (2.3.7) follows from (2.1.10) and (2.3.6):

cki(j) = −

ajk
aji

cik(j) = −ajkcjk(i).

For (2.3.8) we observe that the diﬀerence hjk − hik is regular at pk and has the expansion
ajk
+ . . . at pj. Hence, mijk := hjk − hik − ajkhij is a global section of O(pi), hence a
tj
constant. Thus, we have

Multyplying both sides with hji = ajihij we get

hjk = hik + ajkhij + mijk.

hjihjk = ajihijhik + ajiajkh2

ij + ajimijkhij.

Using (2.1.6) in the right-hand side, we can rewrite this as

hjihjk = ajiajkh2

ij + aji[ckj(i) + mijk]hij + ajicjk(i)hik + aikfi + ajidjk(i),

(2.3.10)

On the other hand, using (2.1.6) together with (2.3.1), (2.3.2) and (2.3.8) we can expand
the left-hand side as

hjihjk = cki(j)hji + cik(j)hjk + ajiajkfj + dik(j) =
ajicki(j)hij + cik(j)[hik + ajkhij + mijk] + ajiajk[h2

ijfi − a2
Comparing with (2.3.10) and looking at the coeﬃcient of hij, we get

ij − a2

ijbij] + dik(j).

Now (2.3.6) gives

cki(j) +

ajk
aji

cik(j) = ckj(i) + mijk.

ajk
aji

cik(j) = −cki(j).

Hence, from the previous equation we get

mijk = −ckj(i).

Finally (2.3.9) is obtained by evaluating (2.3.8) on pm.

(cid:3)

Proposition 2.3.2. (i) There are Gm-invariant global sections Π ∈ π∗O(−4) and S ∈

1,n, such that

π∗O(−6) on eU ns

Π| eU1,n(i) =

πi
x4
i

, S| eU1,n(i) =

si
x6
i

.

In particular, for each i we have global functions

Πi := x4

i Π, Si := x6

i S.

(ii) For i 6= j let us set

Bij =

bij
a2
jibji
cij(k)2 − a2

kibkj − a2

kibki

15

on eU1,n(i);
on eU1,n(j);
on eU1,n(k), k 6= i, j;

Cjj ′(i) =

cjj ′(i) · xi
−cij ′(j) · xj
−aj ′jcij(j′) · xj ′
−amicjj ′(m) · xm + amjcij ′(m) · xm + amicji(m) · xm

on eU1,n(i);
on eU1,n(j);
on eU1,n(j′);
on eU1,n(m), m 6= i, j, k.

eij
a3
jieji
cij(k)3 − a3

Eij =
on eU1,n(i);
on eU1,n(j);
on eU1,n(k), k 6= i, j.
m-action are 2ei and 3ei, respectively. One has the following identity on eU ns

Then Bij and Eij are well deﬁned regular functions on eU ns

ij − Bij(Πi + B2

kibkicij(k) − 2a3

kiekj − 3a2

Si = E2

the Gn

kieki

ij).

1,n. Their weights with respect to

1,n:
(2.3.11)

(iii) For distinct i, j, j′ let us set

1,n of weight ei + ej.

Proof. (i) We only need to check the compatibility of the formulas giving Π and S on

(ii) We have to check the compatibility of our formulas for Bij on the intersections of the

Then Cjj ′(i) is a well deﬁned regular section of π∗O(1) on eU ns
eU1,n(i) on the intersections eU1,n(i) ∩ eU1,n(j). But this follows from (2.3.4).
aﬃne open charts. The compatibility on eU1,n(i) ∩eU1,n(j) follows from (2.3.4). Next, over
the intersection eU1,n(i) ∩ eU1,n(k), where k 6= i, j, we have

kifk − a2

ki − a2

fi = h2

kibki

(see (2.3.2)), which gives upon evaluating at pj
bij = cij(k)2 − a2

kibkj − a2

kibki,

as required. The remaining two compatibilities amount to the identity

cij(k)2 − a2

kibkj − a2

kibki = cij(k′)2 − a2

k′ibk′j − a2

k′ibk′i,

(2.3.12)

(2.3.13)

that should hold over eU1,n(k) ∩ eU1,n(k′), and the identity
that should hold over eU1,n(j)∩eU1,n(k). The latter identity follows from (2.3.12) with i and

j swapped, together with (2.3.7). To check (2.3.13) we apply (2.3.9) to express cij(k′) in
terms of cij(k), ck′j(k) and cik′(k) and (2.3.12) to express bk′j and bk′i in terms of ck′j(k),
ck′i(k)2, bkj, bki and bkk′. The resulting identity to check becomes

jibji = cij(k)2 − a2
a2

kibkj − a2

kibki

ak′icij(k)ck′j(k) − cij(k)cik′(k) − ak′ick′j(k)cik′(k) = −a2

ki(bkj + bki + bkk′),

(2.3.14)
which is obtained by multiplying (2.1.13), with (i, j, j′, k) replaced by (k, i, k′, j), by ak′i.
Now let us check the compatibility of our formulas for Eij. The compatibility on

eU1,n(i)∩eU1,n(j) follows from (2.3.4), while the compatibility on eU1,n(i)∩eU1,n(k) corresponds

to the identity

eij = cij(k)3 − a3

kiekj − 3a2

kibkicij(k) − 2a3

kieki,

(2.3.15)

16

which is obtained by evaluating the identity

hi = h3

ki − a3

kihk − 3a2

kibkihki − 2a3

kieki

jih3

a3
jihj = a3

on pi. Taking into account (2.3.7), the needed identity then follows from (2.1.11). Finally,

(see (2.3.3)) on pj. To check the compatibility on eU1,n(j)∩eU1,n(k) we evaluate the identity
to check the compatibility on eU1,n(k) ∩ eU1,n(k′) we use (2.3.9), (2.3.12) and (2.3.15) to

express cij(k′), bk′i, ek′i and ek′j in terms of c∗∗(k), bk∗ and ek∗. The resulting identity
is equivalent to the one obtained by multiplying (2.3.14) with 3(cij(k) + ak′ick′j(k)), and
applying (2.1.11) three times.

kibkjhkj + 2a3

kihk − 3ajia2

kj + a3

kiekj

To prove (2.3.11) let us consider its restrictions to the open charts. The restriction

to eU1,n(i) is simply (2.1.5). The restriction to eU1,n(j) follows from (2.1.5) using (2.3.4).
Finally, the restriction to eU1,n(k), for k 6= i, j gives

a6
kisk = [cij(k)3 − a3
[cij(k)2 − a2

kiekj − 3a2
ki(bkj + bki)]3 − a4

kibkicij(k) − 2a3
kiπk(cij(k)2 − a2

kieki]2 −
ki(bkj + bki)).

This can be checked by ﬁrst eliminating sk and akiπk using (2.1.5) and (2.1.12), and then
using (2.1.11) several times.
(iii) Again we have to check that the right-hand sides are compatible on the intersections.

have

For the intersection eU1,n(i) ∩ eU1,n(j) this follows from (2.3.6). Over eU1,n(i) ∩ eU1,n(j′) we
where we used (2.1.10) and (2.3.6). Next, over eU1,n(i) ∩eU1,n(m), where m is diﬀerent from

cjj ′(i) · xi = −amicjj ′(m) · xm + amjcij ′(m) · xm + amicji(m) · xm.

cj ′j(i) · xi = −aj ′jcij(j′) · xj ′,

i, j and j′, we have by (2.3.9),

cjj ′(i) · xi = −

aij
aij ′

The remaining compatibilities amount to the following identities:

aj ′jcij(j′) · xj ′ = cij ′(j) · xj on eU1,n(j) ∩ eU1,n(j′);

− amicjj ′(m) · xm + amjcij ′(m) · xm + amicji(m) · xm =

All of these identities follow easily from (2.3.6), (2.3.7) and (2.3.9).

−cij ′(j) · xj = −amicjj ′(m) · xm + amjcij ′(m) · xm + amicji(m) · xm on eU1,n(j) ∩ eU1,n(m);
−aj ′jcij(j′)· xj ′ = −amicjj ′(m)· xm + amjcij ′(m)· xm + amicji(m)· xm on eU1,n(j′)∩eU1,n(m);
− am′icjj ′(m′) · xm′ + am′jcij ′(m′) · xm′ + am′icji(m′) · xm′ on eU1,n(m) ∩ eU1,n(m′).
Let A ⊂ O(eU ns
Corollary 2.3.3. (i) The image of the restriction homomorphism A → O(eU1,n(i)) is the

deﬁned in Proposition 2.3.2. Note that Si ∈ A due to the identity (2.3.11).

1,n) be the subring generated by all the global functions

subring generated by the following functions

(Bij, Eij, Πi),

(2.3.16)

(cid:3)

17

• bij, eij, πi (of Gn
• a2
• cjj ′(i)2 − a2

ijeij, a4

ijbij, a3

m-weights 2ei, 3ei and 4ei);

ijπi (of Gn

m-weights 2ej, 3ej and 4ej);

ijbij ′, cjj ′(i)3 − a3

ijeij ′ − 3a2

ijbijcjj ′(i) (of Gn

m-weights 2ej and 3ej).

Here diﬀerent indices are assumed to be distinct.

(ii) For a nonempty subset I ⊂ [1, n] let XI ⊂ ∩i∈IeU1,n(i) be the closed subscheme deﬁned

by the equations xj = 0 for j 6∈ I. Then the image of the restriction homomorphism
A → O(XI) is the subring generated by the images of

• bij, eij, πi with i ∈ I;
• cjj ′(i)2, cjj ′(i)3 with i ∈ I, j, j′ 6∈ I,

under the restriction homomorphisms O(eU1,n(i)) → O(XI) (where i ∈ I).

Proof. (i) The direct use of the formulas of Proposition 2.3.2 gives a similar assertion with
the third collection of functions replaced by

cjj ′(i)2 − a2

ijbij − a2

ijbij ′, cjj ′(i)3 − a3

ijeij ′ − 3a2

ijbijcjj ′(i) − 2a3

ijeij.

This is equivalent to our assertion since a2
Eji, respectively.
(ii) Recall that for i ∈ I, j 6∈ I one has aij = 0, and so

ijbij and a3

ijeij are the restrictions of Bji and

Πj|XI = Bji|XI = Eji|XI = 0.

Similarly, for j, j′

6∈ I we can compute Bjj ′|XI and Ejj ′|XI by ﬁrst restricting them to

eU1,n(i) for some i ∈ I. Thus, we get

Bjj ′|XI = cjj ′(i)2|XI , Ejj ′|XI = cjj ′(i)3|XI .

(cid:3)

(2.4.1)

2.4. Projective (over aﬃne) embedding. Having deﬁned the subring A ⊂ O(eU ns
we can now view eU ns

Theorem 2.4.1. The natural morphism

1,n as a scheme over Spec(A).

1,n),

given by the sections (x1, . . . , xn) of π∗O(1), is ﬁnite. There exists a closed embedding

(2.4.2)
such that the pull-back of OPN (1) is π∗O(1), the pull-backs of the homogeneous coordinates
on PN are the sections (xi) and (Cjj ′(i)) of π∗O(1) (over all possible i, j, j′).

1,n ֒→ PN
A ,

1,n → Pn−1
A ,

eU ns
ι : eU ns

Proof. Note that both morphisms (2.4.1) and (2.4.2) are well deﬁned since the sections
1,n. The fact that (2.4.1) is ﬁnite can be checked over

(xi) have no common zeros on eU ns

each open subset (xi 6= 0) in Pn−1
aﬃne space An−1
over A by the functions (aij) and (cjj ′(i)), since bij, eij and πi are in the image of A (see
Proposition 2.1.2 and Corollary 2.3.3(i)). Now the fact that cjj ′(i)2 −a2
ijbij ′ is in the image
of A (see Corollary 2.3.3(i)) gives the needed integral dependence for cjj ′(i).

A . Namely, we have to check that eU1,n(i) is ﬁnite over the
over A with coordinates (aij)j6=i. But the ring O(eU1,n(i)) is generated

A

18

Spec(A), since it is ﬁnite over Pn−1
embedding.

A , induced by ι, is a closed embedding.
1,n is proper over
A . Hence, the image of ι is closed, and so, ι is a closed
(cid:3)

The fact that O(eU1,n(i)) is generated over A by (aij) and (cjj ′(i)) also shows that the
map from eU1,n(i) to the aﬃne chart (xi 6= 0) in PN
It follows that ι is a locally closed embedding. Now we observe that eU ns
Remark 2.4.2. One can check (by computing restrictions to each aﬃne chart eU1,n(i))
that the identities in the ring O(eU1,n(i)) from Sections 2.1 and 2.3 extend to the following
identities over eU ns

i + (Bij + Bij ′)x2
j ,

Cjj ′(i)2 = Bjj ′x2

(2.4.3)

1,n:

Bijx2

j = Bjix2

i , Eijx3

j = Ejix3

i , Πix4

j = Πjx4
i ,

Cjj ′(i) = −Cij ′(j), Cjj ′(i)xj ′ = Cij(j′)xj,

Cjj ′(i)xm = Cjj ′(m)xi − Cij ′(m)xj − Cji(m)xi,

Cjj ′(i)3 = Ejj ′x3

i − Eij ′x3

j + 3Cjj ′(i)Bijx2

j − 2Eijx3
j ,

(Bik − Bij)Cjk(i) = (Eij + Eik)xj,

(Eik − Eij)Cjk(i) = (Πi + B2

ij + BijBik + B2

ik)xj,

Cjk(i)Cj ′k(i) − Cj ′j(i)Cjk(i) − Cjj ′(i)Cj ′k(i) = (Bik + Bij + Bij ′)xjxj ′.

Note that the ﬁrst equation (2.4.3) gives an integral dependence for each Cjj ′(i) over
A[x1, . . . , xn], which will be useful in the analysis of GIT stabilities in Section 3.

Using Serre’s theorems about projective schemes we immediately deduce the following

Corollary from Theorem 2.4.1.

the union of the distinguished open aﬃne subsets ∪i(D(Πi) ∪ D(Si)) ⊂ Spec(A).

1,n → Spec(A) is surjective, projective and ﬁnite over

1,n, π∗O(m)) is ﬁnitely generated Let
1,n, π∗O(m)) be the graded A-subalgebra generated by (xi) and (Cjj ′(i)).

1,n, π∗O(m)) = Am for m ≫ 0.

Corollary 2.4.3. The Z[1/6]-algebra Lm≥0 H 0(eU ns
A ⊂Lm≥0 H 0(eU ns
Then one has H 0(eU ns
Corollary 2.4.4. The morphism eU ns
Proof. By Theorem 2.4.1, the map eU ns
eU ns

(since it is dominant). Next, since Πi = x4

1,n → Spec(A) is projective. Hence, it is surjective
i Π, we deduce that the preimage of D(Πi) in
1,n is the open subset given by the nonvanishing of xi and of Π. Hence, the preimage of
D(Πi) is aﬃne. Similarly, the preimage of D(Si) is aﬃne. Thus, over the union of these
open sets our morphism is both projective and aﬃne, hence it is ﬁnite.
(cid:3)

19

3. Stability conditions for genus 1 curves

3.1. Explicit form of the canonical generators. In this section we continue to work
over Z[ 1
generators (fi, hi, hij) in the algebra O(C \ {p1, . . . , pn}). The following computation of
some of these generators will play a crucial role in the analysis of stability conditions on

6]. Recall (see Sec. 2.1) that for each curve in (C, p•, v•) in eU1,n(i) we have canonical

i=1Ei the decomposition into irreducible components.

∪m
(i) Assume that E is the elliptic m-fold curve with the singular point q, and assume that

1,n let E ⊂ C be the minimal elliptic subcurve, E =

1,n(i) (see Cor. 2.2.6). Then we have

1,n.

eU ns
Lemma 3.1.1. For (C, p•, v•) ∈ eU ns
pi ∈ E1 ⊂ E, so that (C, p•, v•) ∈ eU ns

fi|Ek =(u2
hi|Ek =(u3

i , k = 1,
k 6= 1,
0,

i , k = 1,
k 6= 1,
0,

for a coordinate ui on the normalization of E1 such that ui = 0 at q, ui = ∞ at pi, and
1/ui is compatible with vi. If pj ∈ E1 corresponds to ui = λ then

hij|Ek =(aij
hij|El =
fi|Ek =(u2
hi|Ek =(ui(u2

0,

u2
i −λui+λ2

ui−λ

−λaij,

, k = 1,
k 6= 1.

aijui,
uj,
0,

l = 1,
l = k,
l 6= 1, k,

i − 2
1
3,

3, k = 1,
k 6= 1,

i − 1), k = 1,
k 6= 1,

In the case when pj ∈ Ek, where k 6= 1, then

where uj is a coordinate on Ek, such that uj = 0 at q, uj = ∞ at pj, and 1/uj is compatible
with vj. Note that in both cases aij 6= 0.
(ii) Assume that E is the standard m-gon, with the components Ei ordered cyclically, and
assume that pi ∈ E1. Then

where ui is a coordinate on the normalization of E1 such that ui = ∞ at pi, 1/ui is
compatible with vi, and ui = ±1 at the intersections of E1 with E2 and En (or at the
preimages of the node, if m = 1). If pj ∈ E1 corresponds to ui = λ then we have

hij|Ek =(aij

−aijλ,

20

u2
i −λui+λ2−1

ui−λ

, k = 1,
k 6= 1.

In the case when pj ∈ Ek, where k 6= 1, then

hij|El =

aijui,
uj,
±aij,

l = 1,
l = k,
l 6= 1, k,

where uj is a coordinate on Ej such that uj = ∞ at pj and 1/uj is compatible with vj.
Here again aij 6= 0 in both cases.
(iii) Assume that pi ∈ E and pj 6∈ E. Let C ′ ≃ P1 be the irreducible component of C
containing pj, and let q ∈ C ′ be the point connecting C ′ to E or to the next component
in the rational chain linking C ′ with E. Then hij(q) = 0 and hij does not vanish on
C ′ \ {q, pj}.

Proof. (i) Since the parameter ti = 1/ui is compatible with vi, we should have

fi|E1 = u2

i + a, hi|E1 = u3

i + bu2

i + c

(the absence of the terms with ui is dictated by the condition that fi and hi are constant
on other components of E, together with the fact that E has an elliptic m-fold singularity
at q). Now it is easy to see that the equation of the form

h2
i = f 3

i + πifi + si,

holds only if a = b = c = 0. Alternatively, one can observe that fi and hi are the pull-
backs of similar functions on the cuspidal curve under the natural map contracting all
components except E1.

Recall that we normalize hij ∈ H 0(C, O(pi + pj) by the requirement that hij ≡ aij
ti

+ . . .

near pi (where ti = 1/ui) and that the equation

fihij = bijhij + aijhi + aijeij

(3.1.1)

holds (i.e., there is no term with fi in the right-hand side).

Assume ﬁrst that pj ∈ Ek, where k 6= 1. Then bij = fi(pj) = 0 and eij = hi(pj) = 0.

Hence, restricting (3.1.1) to E1 we get

hij|E1u2

i = aiju3
i ,

which gives hij|E1 = aijui. In particular, hij(q) = 0, so hij vanishes on E \ (E1 ∪ Ek). Now
the formula for hij|Ek is dictated by the fact that it is a section of OEk(pj) that vanishes
at q and has an expansion 1
tj

+ . . . near pj, where tj = 1/uj.

In the case when the point pj is in E1 and corresponds to ui = λ we get from (3.1.1)

the equation

i.e.,

hij|E1 · u2

i = λ2hij|E1 + aiju3

i + aijλ3,

hij|E1 = aij

u3
i + λ3
i − λ2 = aij
u2

u2
i − λui + λ2

ui − λ

.

In particular, hij(q) = −λaij, which implies that the restriction of hij to other components
is given by the same constant.

21

(ii) Contracting all the components on E except for E1 gives the nodal cubic curve y2 =
x3 +x2, with x = u2
i −1), for some coordinate ui on E1 (or the normalization
of E1, if n = 1) such that ui = ∞ at pi. To get rid of the quadratic term in x we set

i −1, y = ui(u2

fi|E1 = x +

1
3

= u2

i −

2
3

,

so that fi and hi|E1 = y satisfy the equation of the required form

h2
i = f 3

i −

1
3

fi +

2
27

.

We then extend fi and hi to the entire C (by constants on other components). Note that
the nodes of E connecting E1 to other components (or to itself if n = 1) correspond to
x = y = 0, i.e., ui = ±1. Thus, we have fi = 1/3 and hi = 0 at these points.

Now let us consider the functions hij|E. In the case when pj ∈ Ek with k 6= 1, we have
hij|E1 = aui + b for some constants a 6= 0 and b. Note that in this case bij = fi(pj) = 1/3,
so fi − fi(pj) = x = u2
i − 1. The normalization that fihij has no coeﬃcient with fi is
satisﬁed for b = 0:

(fi − fi(pj))hij|E1 = (u2

i − 1)aui = ahi.

Thus, we have hij|E1 = aijui. In particular, the value of hij to the nodes connecting E1 to
E2 and En is ±aij. These are also the values of the restrictions of hij to the components
Ei diﬀerent from E1 and Ek. The restriction hij|Ek can be taken as a coordinate on Ek.
i + bui + c)/(ui −

In the case when pj ∈ E1 and ui = λ at pj, we should have hij|E1 = (au2

λ), with a 6= 0. In this case fi(pj) = λ2 − 2/3, so

(fi − fi(pj))hij|E1 = (u2

i − λ2)hij|E1 = (ui + λ)(au2

i + bui + c).

The required normalization is that this is a linear multiple of hi = ui(u2
constant, so we derive that

i − 1) plus a

hij|E1 = a

i − λui + λ2 − 1
u2

ui − λ

,

and the expansion hij ≡ aijti + . . . near pi (where ti = 1/ui) implies that a = aij.
Substituting ui = ±1 we get the value −aijλ at the nodes, and hence at the remaining
components of E.
(iii) Note that aij = 0 since pj 6∈ E (see Corollary 2.2.6). Note also that hij|E is a section
of H 0(E, O(pi)), hence a constant (see Lemma 2.1.1). Therefore, hij|E = hij(q). Now
restricting the equation

fihij = bijhij + aijhi + aijeij = bijhij

to E we get that hij(q)fi|E is constant, which implies that hij(q) = 0. Since hij|C ′ is a
section of O(1) with the pole at pj and the zero at q, it does not vanish on C ′ \ {q, pj}. (cid:3)

22

3.2. Analysis of stability. We refer the reader to [1, Sec. 11] for the general theory of
GIT stability and GIT quotients over an arbitrary base scheme (recall that in our case
the base is Spec(Z[1/6])).

We are going to study the GIT stabilities on eU ns

m-equivariant
ample line bundles. The notion of GIT stability does not change if we replace a Gn
m-
equivariant line bundle by its positive power, so it is convenient to work with rational
characters of Gn
is deﬁned to be that of O(N) ⊗ (Nχ)-(semi-)stability, where N > 0 is such that Nχ ∈ Zn.

m, χ =P aiei ∈ Qn. For such χ the notion of π∗O(1) ⊗ χ-(semi-)stability

1,n with respect to certain Gn

m the GIT quotient corresponding to π∗O(1) ⊗ χ-semistability.

1,n //χ Gn

m on the global sections of equivariant line bundles is given
m-invariant sections of O(N) ⊗ (Nχ) are identiﬁed with

We denote by eU ns

Note that the action of Gn

by s 7→ (λ−1)∗s. In particular, Gn
sections of O(N) of Gn

m-weight Nχ.

Before analyzing in detail the stability conditions, we make the following general ob-

servation.

1,n //χ Gn

m are projective over Z[1/6].

1,n is projective over Spec(A) (by Theorem 2.4.1), the GIT quotient

1,n //χ Gn

m can be identiﬁed with

Proposition 3.2.1. All the GIT quotients eU ns
Proof. Indeed, since eU ns
eU ns
H 0(eU ns
which is projective over Spec(cid:16)H 0(eU ns, O)Gn
H 0(eU ns(i), O)Gn

Proj Mm≥0

(see [13, Lem. 2.2.3(ii)]).

we have

1,n, π∗O(m))χm! ,
m(cid:17). It remains to use the fact that for each i

m = Z[1/6]

(cid:3)

For each set of vectors Ω ⊂ Rn we denote by C(Ω) and by Conv(Ω) the closed cone

generated by Ω and the convex hull of Ω, respectively.

Deﬁnition 3.2.2. For each (C, p•, v•) in eU ns

1,n we denote by Conv(C, p•) the convex hull
in Rn of the vectors wt(s)/N, where s is a global section of π∗O(N), where N > 0, of
Gn

m-weight wt(s), that is nonzero at (C, p•, v•).
Let χ = a1e1 + . . . + anen be a rational character of Gn

m. Since the morphism π is aﬃne,
it follows easily from the deﬁnition that a point (C, p1, . . . , pn) is π∗O(1) ⊗ χ-semistable
1,n, given by the
nonvanishing of a section of π∗O(N), is aﬃne). Thus, to analyze the stability conditions
we have to compute Conv(C, p•).

if and only if χ ∈ Conv(C, p•) (we use the fact that an open subset in eU ns
Deﬁnition 3.2.3. For (C, p•, v•) in eU ns

1,n let Ω0(C, p•) denote the set of weights of the
generators (2.3.16) of A, that are not zero at (C, p•). Similarly, let Ω1(C, p•) denote the
set of ei such that xi 6= 0 at (C, p•).
Lemma 3.2.4. One has

Conv(C, p•) = C(Ω0(C, p•)) + Conv(Ω1(C, p•)).

(3.2.1)

23

Proof. By Corollary 2.4.3, Conv(C, p•) is the convex hull in Rn of the vectors wt(s)/N,
associated with elements s ∈ AN , where N > 0, of Gn
m-weight wt(s), such that s is
nonzero at (C, p•, v•). Furthermore, it is enough to consider s which are monomials in
(xi) and (Cjj ′(i)) with coeﬃcients in A. The identity (2.4.3) shows that we get the same
set by considering only s of the form a · M, where M is a monomial of positive degree in
(xi) and a is a monomial in generators of A. We have

wt(a · M)
deg(M)

=

wt(a)
deg(M)

+

wt(M)
deg(M)

,

which this shows that the left-hand side of (3.2.1) is contained in the right-hand side.
Now assume that a ∈ A and xi do not vanish at (C, p•). Then ei ∈ Conv(C, p•), and

wt(am · xi) = m · wt(a) + ei ∈ Conv(C, p•)

for any m ≥ 0. Passing to the convex hull, we derive that the right-hand side of (3.2.1)
is contained in the left-hand side.
(cid:3)

Let C = E ∪ R1 ∪ . . . ∪ Rk be the fundamental decomposition of a curve (C, p•) in U ns
1,n

(see Corollary 2.2.5).

Deﬁnition 3.2.5. Given an irreducible component E′ of E, let us say that a marked
point pj is attached to E′ if either pj ∈ E′, or there exists a rational tail Rj such that
pj ∈ Rj and Rj is attached to E′ in such a way that Rj ∩ E′ is a smooth point of E.

Lemma 3.2.6. Let (C, p•, v•) be in eU ns

(i) E has at most nodal singularities if and only if either Π 6= 0 or S 6= 0 at (C, p•, v•).
(ii) One has Ω1(C, p•) = {ei | pi ∈ E}.
(iii) Let Ω′
points on the irreducible component of C containing pj.

0(C, p•) be the set of ej such that pj 6∈ E, and there are at least 3 distinguished

1,n, and let E ⊂ C be the minimal elliptic subcurve.

If E is at most nodal then the cone C(Ω0(C, p•)) is spanned by Ω′

0(C, p•) and by all ei

such that pi ∈ E.

If E is the elliptic m-fold curve then C(Ω0(C, p•)) is spanned by Ω′

0(C, p•) and by ei,
such that pi ∈ E′ ⊂ E, where E′ is an irreducible component of E′, and there exists
another marked point attached to E′.

Proof. (i) This immediately follows from Lemma 3.1.1.
(ii) Recall that the condition pi ∈ E is equivalent to the condition h1(C, O(pi)) = 0, or
xi 6= 0 (see Corollary 2.2.6). Hence, pi ∈ E precisely when (C, p•) belongs to the open
subset xi 6= 0.
(iii) Let I be the set of i such that xi 6= 0 at (C, p•). It follows from Corollary 2.3.3(ii)
that the cone C(Ω0(C, p•)) is spanned by

• ei, such that i ∈ I, and one of the functions bij, eij, πi is not zero at (C, p•);
• ej, such that j 6∈ I, and one of the functions cjk(i) (with i ∈ I, k 6∈ I) is not zero

at (C, p•).

If E is smooth or nodal, and i ∈ I then pi ∈ E, so we have either πi 6= 0 or si 6= 0,

which implies that ei is in C(Ω0(C, p•)).

Now assume that E is the elliptic m-fold curve and i ∈ I, and let E′ ⊂ E be the
irreducible component containing pi. Then πi = 0, and by Lemma 3.1.1, the functions

24

fi and hi vanish on irreducible components of E other than E′, and are nonzero on all
smooth points of E that belong to E′. This implies that bij = eij = 0 unless pj is attached
to E′.

In either case, if pi ∈ E and pj 6∈ E then we claim that cjk(i) = hij(pk) 6= 0 for some
other marked point pk 6∈ E if and only if there are at least 3 distinguished points on C ′,
the irreducible component containing pj. Indeed, let q ∈ C ′ be the point connecting C ′
to E or to the next component in the chain linking C ′ with E. By Lemma 3.1.1(iii),
we have hij(q) = 0. This shows that cjk(i) vanishes in the case when pj and q are the
only distinguished points of Cj. On the other hand, since hij is nonzero on C ′ \ {pj, q}
(see Lemma 3.1.1(iii)), if q′ ∈ C ′ \ {pj, q} is another distinguished point then hij(q′) 6= 0.
Hence, in this case we can ﬁnd a marked point pk 6∈ E with hij(pk) = hij(q′) 6= 0: if q′ is
a marked point then we take pk = q′, otherwise, we take pk to be any marked point on
the component attached to q′.
(cid:3)

Lemma 3.2.7. Let (C, p•, v•) be in eU ns

1,n(k), where k is an algebraically closed ﬁeld of
characteristic 6= 2, 3, and let E ⊂ C be the minimal elliptic subcurve. Then the following
conditions are equivalent:
(a) the stabilizer subgroup scheme in Gn
(b) the pointed curve (C, p•) has no inﬁnitesimal automorphisms;
(c) every component of C not contained in E has ≥ 3 distinguished points, and if E is
non-nodal then there exists at least one irreducible component of E with ≥ 3 distinguished
points.

m of the point (C, p•, v•) ∈ eU ns

1,n is ﬁnite reduced;

Proof. It is easy to see that the group scheme Aut(C, p•) is isomorphic to the stabilizer
subgroup of (C, p•, v•) in Gn
m. This implies the equivalence of (a) and (b). The equiva-
lence with (c) follows from the fact that an elliptic m-fold curve E, equipped with one
marked point on each component has the group Gm as automorphisms, but there are no
inﬁnitesimal automorphisms preserving in addition one more smooth point of E (see [9,
Prop. 1.5.4]; note that this uses the assumption on the characteristic of k).
(cid:3)

1,n the open

1,n(χ) ⊂ eU ns

subset of π∗O(1) ⊗ χ-semistable points.

1,n, and let E ⊂ C be the minimal elliptic
subcurve. Let I ⊂ {1, . . . , n} be the set of all i such that pi ∈ E, J ⊂ {1, . . . , n} the set
of all j such that pj 6∈ E and there are at least 3 distinguished points on the irreducible
component of C containing pj. Finally deﬁne I0 ⊂ I by

For each rational character χ =P aiei of Gm let us denote by eU ns
Theorem 3.2.8. (i) Let (C, p•, v•) be in eU ns
I0 =(∅,
Then for a rational character χ =P aiei of Gm the point (C, p•, v•) is in eU ns

E is either smooth or nodal ,
otherwise.

{i ∈ I | pi ∈ E′ ⊂ E, E′ has only 2 special points},

1,n(χ) if and

only if

• Pi∈I ai ≥ 1;
• Pi∈I0 ai ≤ 1.

• ai ≥ 0 for all i, and ai = 0 for i 6∈ I ∪ J;

25

i=1 ai ≥ 1.

(ii) With the notation of (i), (C, p•, v•) has a ﬁnite (reduced) stabilizer subgroup in Gn

1,n(χ) is empty unless all ai ≥ 0 andPn

In particular, eU ns
and only if I ∪ J = {1, . . . , n} and I0 6= I. If this is the case, and in addition χ =P aiei
satisﬁes ai > 0,Pi∈I ai > 1 andPi∈I0 ai < 1, then (C, p•, v•) is π∗O(1) ⊗ χ-stable.
(iii) Let us consider the following set of hyperplanes (walls) in Rn: ai = 0 andPi∈I ai = 1,
these walls. Then for χ =P aiei in a ﬁxed connected component (chamber) Σ of Rn \ W

for all i = 1, . . . , n and all nonempty subsets I ⊂ [1, n]. Let W ⊂ Rn be the union of

the stability coincides with semistability and depends only on Σ.

m if

Proof. (i) By Lemma 3.2.6(ii,iii), we have

Ω1(C, p•) = {ei | i ∈ I}, C(Ω0(C, p•)) = C(ei | i ∈ J ∪ I \ I0).

It is easy to see that for subsets of indices T ⊂ S one has

Conv(ei |i ∈ S) + C(ei | i ∈ S \ T ) = {Xi∈S

Thus, by Lemma 3.2.4, we have

Conv(C, p•) = {Xi∈I∪J

xiei | xi ≥ 0,Xi∈I

xiei | xi ≥ 0,Xi∈S
xi ≥ 1,Xi∈I0

xi ≥ 1,Xi∈T

xi ≤ 1}.

xi ≤ 1}.

Hence, we can rewrite the condition χ ∈ Conv(C, p•) in the stated form.
(ii) The ﬁrst assertion follows immediately from Lemma 3.2.7. For the second we observe
that if χ satisﬁes these strict inequaties then there exist positive rational numbers (ti)i∈I

•, v′
0, J ′) are deﬁned for (C ′, p′

•) of the open set (f 6= 0) we have I ′ ⊃ I and J ′ ∪ I ′ \ I ′

is an invariant section of O(N) ⊗ χN that does not vanish at (C, p•, v•). Then for any
point (C ′, p′
0 ⊃ J ∪ I \ I0
(where (I ′, I ′
•) in the same way as (I, I0, J) for (C, p•)). Hence,
we get that every point of (f 6= 0) has a ﬁnite stabilizer subgroup in Gn
m, and hence
π∗O(1) ⊗ χ-stable.
(iii) The fact that the stability condition depends only on a chamber is immediate from
(i). By (ii), it remains to show that for χ 6∈ W all π∗O(1) ⊗ χ-semistable points have
I ∪ J = {1, . . . , n} and I0 6= I. But this follows again from (i): if i 6∈ I ∪ J then ai = 0,
(cid:3)

and if I0 = I thenPi∈I ai = 1.

In particular, we can describe for which characters we get modular compactiﬁcations of
M1,n (over Z[1/6]), i.e., (nonempty) open substacks in the stack U1,n of all pointed curves
of arithmetic genus 1, which are proper over Z[1/6].

26

and (si)i∈J∪I\I0, withPi ti = 1, such that
χ =Xi∈I
f =Yi∈I

tiei + Xi∈J∪I\I0
· Yi∈J∪I\I0

xN ti
i

siei.

f N si
i

Then for suﬃciently divisible N > 0 there exist functions fi ∈ A, for i ∈ J ∪ I \ I0, such
that

Corollary 3.2.9. For every χ = P aiei with ai > 0, Pn

quotient-stack

i=1 ai > 1 and χ 6∈ W, the

contains M1,n as an open substack and is a proper Deligne-Mumford stack over Z[1/6],
1,n(χ) is a modular compact-

m. Hence, U ns

1,n //χ Gn

with the projective coarse moduli space eU ns

iﬁcation of M1,n over Z[1/6].

1,n(χ)/Gn

m

U ns

1,n(χ) := eU ns

Proof. Theorem 3.2.8(ii) immediately implies that every (C, p•, v•) with smooth C is
π∗O(1) ⊗ χ-stable. Hence, U ns
1,n(χ) contains M1,n as an open substack. Note also that by

1,n //χ Gn

1,n //χ Gn

This implies that U ns

1,n with the Smyth’s m-stable curves.

follows that U1,n(χ) is proper (see the proof of [12, Cor. 2.4.4]).

The following particular case of Theorem 3.2.8(i) will be useful in comparing the

m is its coarse
m is projective (by Proposition 3.2.1), it
(cid:3)

1,n(χ) is a Deligne-Mumford stack and that eU ns

Theorem 3.2.8(ii,iii), all points in eU1,n(χ) are stable and have ﬁnite reduced stabilizers.
moduli space (by [1, Prop. 7.7]). Since eU ns
semistable loci in eU ns
Corollary 3.2.10. Let (C, p•, v•) ∈ eU ns
Pi∈I0 ai ≤ 1.

i=1 ai ≥ 1.
Assume that C = E. Then the point (C, p•, v•) is π∗O(1) ⊗ χ-semistable if and only if

1,n, and let χ =P aiei with ai ≥ 0 andPn

Recall that Smyth deﬁnes in [16] a modular compactiﬁcation Mg,n(Z) of Mg,n for each
extremal assignment Z. Roughly speaking, this is a combinatorial rule that assigns to each
stable curve some of its irreducible components, in a way compatible with specialization.
The moduli stack Mg,n(Z) then classiﬁes Z-stable curves deﬁned as contractions of the Z-
assigned components in usual stable curves (with some natural conditions on the obtained
singular points, see [16, Def. 1.8]).

We are interested in one particular extremal assignment Z u which assigns to each
stable curve all of its unmarked components, see [16, Ex. 1.12]. It turns out that in the
chamber containing χ with large positive ai our GIT stability condition gives precisely
the Z u-stability.

Proposition 3.2.11. Let χ = P aiei be any rational character with ai > 1 for all i.
Then for (C, p•, v•) ∈ eU ns

(1) (C, p•, v•) is π∗O(1) ⊗ χ-semistable;
(2) (C, p•, v•) is π∗O(1) ⊗ χ-stable;
(3) there are ≥ 3 special points on the normalization of every rational irreducible

1,n the following conditions are equivalent:

component of C;

(4) (C, p•) is Z u-stable.

Proof. As before we denote by E the minimal elliptic subcurve of C. By Theorem 3.2.8, in
our situation the semistability is equivalent to stability and corresponds to the conditions
I ∪ J = [1, n] and I0 = ∅. By deﬁnition, this means that every rational irreducible
component of C has at least 3 special points, and in addition, if E is the elliptic m-fold
curve then every irreducible component of E also has at least 3 special points, which
shows equivalence of (1) and (2) with (3). Finally, to prove the equivalence with (4), we

27

the components without marked points. Then every rational component R of C is the

1,n). Now assume that E is the elliptic m-fold curve. Then E = ∪m

satisﬁes condition (3). If C is at most nodal then (C, p•) is stable, so it is also Z u-stable
(since there is at least one marked point on each irreducible component by the deﬁnition
i=1Ei is obtained
i=0Ei with m + 1 components, where E0 is
an elliptic curve with no marked points, E1, . . . , Em are attached to E0 transversally at
m distinct points. Now C is the union of E and some rational tails (with l-fold rational

observe that if (C, p•) is Z u-stable then C is obtained from a stable curve eC by contracting
image of a rational component eR of eC such that the map eR → R is a bijection. Thus, the
images of ≥ 3 special points on eR give ≥ 3 special points on R. Conversely, assume C
of eU ns
as the contraction of the nodal curve eE = ∪m
singularities), and we can deﬁne eC to be the union of eE and these rational tails. More
in Ei, then we attach R to Ei ⊂ eE in the same way. On the other hand, if R is attached
the other special points on E0. Then eC with the induced marked points will be a stable

to the singular point of E then we attach R to E0 transversally at a point distinct from all

precisely, if R is a rational tail attached transversally to a smooth point of E, which lies

curve, proving that (C, p•) is Z u-stable.

(cid:3)

Corollary 3.2.12. The coarse moduli space M 1,n(Z u) is projective over Spec Z[1/6].

Remarks 3.2.13. 1. Note that all the modular compactiﬁcations of M1,n considered in
Corollary 3.2.9 are semistable in the sense of [16, Def. 1.2], i.e., the normalization of every
rational component contains at least two distinguished points (in our case every rational
component contains a marked point and at least one singular point of C). The only
case when U ns
1,n(χ) is a stable modular compactiﬁcation (i.e., the normalization of every
rational component contains at least three distinguished points) is the one considered in
Proposition 3.2.11.
2. Let us work over C. Recall that Kontsevich’s compactiﬁcation of Mg,n is the topological
space KM g,n obtained as a certain quotient of M g,n (see [7], [10]). Namely, two stable
pointed curves C1 and C2 are identiﬁed if the corresponding curves C 1 and C 2, obtained
by contracting all unmarked components, are isomorphic, and this isomorphism preserves
the extra data about the arithmetic genus of each contracted connected subcurve in the
original curves. In the case g = 0 the spaces KM 0,n have been realized algebraically by
m for appropriate
characters χ (see [12, Sec. 5]). The moduli spaces M 1,n(Z u), realized in Proposition 3.2.11
as GIT quotients, are closely related to KM 1,n, at least for small n. Indeed, we have a
natural birational map

Boggi [2], and these spaces coincide with the GIT quotients eU0,n //χ Gn

M 1,n → M 1,n(Z u).

(3.2.2)

It is easy to see that in the cases n = 2 and n = 3 this map is regular and the ﬁbers are
precisely the equivalence classes deﬁning KM 1,n, so in these cases M 1,n(Z u) is an algebraic
realization of KM 1,n (more precisely, (3.2.2) blows down the divisor of curves with the
unmarked component of genus 1 to the locus in M 1,n(Z u) corresponding to curves with
a cusp). In the case n = 4 the rational morphism (3.2.2) is not deﬁned at the elliptic
bridge C = E ∪ R1 ∪ R2, where E is the unmarked elliptic curve, the rational components

28

R1 and R2 are attached to E and both are equipped with two marked points p1, p2 ∈ R1,
p3, p4 ∈ R2. However, using [18, Lem. 4.2], we can ﬁx this by identifying the following
three points of M 1,4(Z u): 1) the curve E ∪ R, where E is cuspidal, R is attached to the
singular point of E, p1, p2 ∈ E, p3, p4 ∈ R; 2) same curve but with p1, p2 ∈ R, p3, p4 ∈ E;
3) the tacnode E with p1, p2 on one component and p3, p4 on another component.
If
we similarly identify points in two other triples of points in M 1,4(Z u), corresponding to
diﬀerent partitioning of the marked points into two pairs, the map (3.2.2) will induce a
regular morphism to the resulting quotient, which will be homeomorphic to KM 1,4 (and
thus, will give an algebraic model of it, since identifying of a ﬁnite number of points can be
done algebraically, using an aﬃne open containing the ﬁnite set of points to be identiﬁed).

3.3. Connection with Smyth’s m-stable curves. Recall that for each m, (n − 1)/2 ≤
m ≤ n − 1, there is a natural morphism

ρ : M1,n(m) → U ns
1,n,

where M1,n(m) is the moduli stack of Smyth m-stable curves, associating with (C, p•)
the curve (C, p•), where C is obtained from C by contracting the components without
the marked points (see [14, Prop. 1.5.1]). Recall also that (over Z[1/6]) the moduli
stack M1,n(m) is a proper Deligne-Mumford stack, with a projective coarse moduli stack
M 1,n(m) (see [17]).

Actually, in the case m = n − 1 every (n − 1)-stable curve is already in U ns

1,n, so in
this case the morphism ρ is the inclusion of an open substack (see [13, Prop. 3.3.1] and
[9, Thm. 1.5.7]). However, for all m < n − 1 there exist m-stable curves with unmarked
components. We are going to show in Proposition 3.3.2 below that for m = n − 1, n − 2
and n − 3, the image of ρ is contained in some π∗O(1) ⊗ χ-semistable loci.

Lemma 3.3.1. Assume that (C ′, p′

•, v′

1,n is in the closure of the Gn

m-orbit of

•) ∈ eU ns

1,n.

(C, p•, v•) ∈ eU ns

(i) Assume that for some i 6= j the points p′
rational tail of C ′. Then pi and pj belong to the same component of C.
(ii) Assume now that p′
with its minimal elliptic subcurve. Then pi and pj belong to the same component of C.

j belong to the same rational tail of C ′, and that C coincides

j belong to the same component of a

i and p′

i and p′

•, v′

•) we have xm 6= 0 (by Corollary 2.2.6) and cij(m) = hmi(p′

m belongs to the minimal elliptic subcurve in C ′. Then for
Proof. (i) Pick m such that p′
(C ′, p′
j) 6= 0, cji(m) 6= 0 (see
Lemma 3.1.1(iii)). Hence, the same inequalities should hold for (C, p•, v•). In particular
pm belongs to the minimal elliptic subcurve E ⊂ C. Assume that pi and pj lie on diﬀerent
components of C. If one of them lies on a rational component, then from Lemma 3.1.1(iii)
we get that either cij(m) = 0 or cji(m) = 0. Hence, both pi and pj lie on E. Then by
Lemma 3.1.1(i), the nonvanishing of cij(m) implies that one of the points (pi, pj), say
pi, lies on the same component as pm. Now let us consider the Gn
m-invariant rational
function a2
•), so
it has to take the same values. But it vanishes at (C ′, p′
•) (since ami vanishes), and one
can check using Lemma 3.1.1(i) that it does not vanish on (C, p•, v•). This contradiction
shows that pi and pj belong to the same component of C.

mibmi/cij(m)2 on eU1,n(m). It is well deﬁned on (C, p•, v•) and on (C ′, p′

•, v′

•, v′

29

•, v′

(ii) Pick m as in (i). Then for (C ′, p′
•) we have xm 6= 0 and either cij(m) 6= 0 or
cji(m) 6= 0. We can assume that cij(m) 6= 0. Then we also have the same inequality
for (C, p•, v•). Assume that pi and pj lie on diﬀerent components of C = E. By Lemma
3.1.1(i), this implies that either pi belongs to the same component as pm, or pj belongs to
mibmi/cij(m)2
the same component as pm. In the former case the Gn
does not vanish at (C, p•, v•), so we can ﬁnish the proof as in (i).
If pj and pm lie
on the same component then the same argument works with the Gn
m-invariant function
a2
mibmj/cij(m)2.
(cid:3)

m-invariant function a2

Proposition 3.3.2. Consider a rational character χ = aPn
eU ns

all i, and let U ns
1,n(χ) by Gn
m.
(i) For n ≥ 2 assume that

1,n(χ) ⊂ U ns

m, where ai ≥ 0 for
1,n denote the quotient-stack of the π∗O(1) ⊗ χ-semistable locus

i=1 ei of Gn

ai ≤ 1 ∀S ⊂ [1, n], |S| = n − 2.

(3.3.1)

nXi=1

ai ≥ 1, Xi∈S

Then we have an inclusion of an open substack

M1,n(n − 1) ≃ ρ(M1,n(n − 1)) ⊂ U ns

1,n(χ).

Moreover, if ai > 0 for all i and all the inequalities in (3.3.1) are replaced by the strict ones
1,n(χ) are π∗O(1) ⊗ χ-

stable. In this case ρ induces an isomorphism

then the above inclusion becomes an equality, and all points of eU ns
(i’) Assume that χ satisﬁes (3.3.1) and in addition, Pn

Then ρ induces an isomorphism

1,n //χ Gn

m
i=1 ai > 1 and ai > 0 for all i.

M 1,n(n − 1) ≃ eU ns
M 1,n(n − 1) ≃ (eU ns

1,n //χ Gn

m is a bijection.

1,n //χ Gn

m)ν,

where for an irreducible scheme X we denote by X ν the normalization of Xred, and the

morphism M 1,n(n − 1) → eU ns

(ii) For n ≥ 3 assume that

Xi∈I

ai ≥ 1 ∀I, |I| = n − 2, Xi∈S

Then we have an inclusion

ai ≤ 1 ∀S ⊂ [1, n], |S| = n − 3.

(3.3.2)

ρ(M1,n(n − 2)) ⊂ U ns

1,n(χ).

Moreover, if ai > 0 for all i and all the inequalities in (3.3.1) are replaced by the strict ones
1,n(χ) are π∗O(1) ⊗ χ-
then the above inclusion becomes an equality, and all points of U ns
stable.

all I with |I| = n − 2. Then ρ induces an isomorphism
1,n //χ Gn

(ii’) Assume that χ satisﬁes (3.3.2) and in addition, ai > 0 for all i andPi∈I ai > 1 for
and the morphism M 1,n(n − 2) → eU ns

M 1,n(n − 2) ≃ (eU ns

m is a bijection.

1,n //χ Gn

m)ν,

30

(iii) For n > 4 assume that ai = 1

n−4 for all i. Then we have an inclusion

ρ(M1,n(n − 3)) ⊂ U ns

1,n(χ).

Proof. (i) Let (C, p•) be an (n − 1)-stable curve, i.e., we have C = E, (C, p•) has no
inﬁnitesimal symmetries, and E is either at most nodal, or the elliptic m-fold curve with
m ≤ n − 1.

We claim that |I0| ≤ n − 2. Indeed, this is clear if C is at most nodal. On the other
hand, if C = E is the elliptic m-fold curve with m ≤ n−1 then C has at most m−1 ≤ n−2
components with a unique marked point, i.e., |I0| ≤ n − 2, as claimed. Thus, by Corollary

3.2.10, the π∗O(1) ⊗ χ-semistability of (C, p•) follows fromPi∈I0 ai ≤ 1.

Next, assume that ai > 0 and the strict inequalities in (3.3.1) hold, and let (C, p•, v•)
be π∗O(1) ⊗ χ-semistable. Then from the criterion of Theorem 3.2.8(i) we obtain that
|I| > n − 2. Also, by Theorem 3.2.8(ii), the point (C, p•, v•) is actually π∗O(1) ⊗ χ-
stable and (C, p•) has no nontrivial inﬁnitesimal symmetries. Hence, any rational tail of
C should contain ≥ 2 marked points, and we get |I| = n, i.e., C = E. Note also that if C
is the elliptic m-fold curve then we necessarily have m ≤ n − 1: if m = n then C would
have one marked point on every component, so (C, p•) would have Gm as the group of
automorphisms.

Thus, in this case we have M1,n(n − 1) ≃ U ns

corresponding GIT quotient is the coarse moduli space of the stack U ns
isomorphic to M 1,n(n − 1).
(i’) First, we observe that by part (i), we have an inclusion

1,n(χ). Furthermore, by Corollary 3.2.9, the
1,n(χ). Hence, it is

M1,n(n − 1) ⊂ U ns

1,n(χ).

in eU ns
R ≃ P1, and R contains two marked points. In the former case the conditionPn

Next, using (3.3.1), the positivity of ai’s and Theorem 3.2.8(i), we see that any (C, p•, v•)
1,n(χ) has I ∪ J = [1, n] and |I| ≥ n − 2. Hence, either C = E or C = E ∪ R, where
i=1 ai > 1
gives that |I0| < n, so E cannot be the elliptic n-fold curve. Thus, by Theorem 3.2.8(ii),
the only case when (C, p•, v•) has an inﬁnite stabilizer is when |I0| = |I| = n−2, so n ≥ 3,
C = E ∪ R, where E is the elliptic (n − 2)-fold curve with one marked point on each
component, and R is attached to the singular point of E. Note that we have such pointed
curves Cij ∈ U ns
1,n(χ), for each pair of indices i < j, corresponding to the marked points
on R. Note also that the corresponding Gn

1,n(χ) are (n − 1)-dimensional.

stable, so they correspond to closed orbits in eU ns

By Theorem 3.2.8(ii), all the points in M1,n(n − 1) with |I0| < n − 2 are π∗O(1) ⊗ χ-
1,n(χ). Assume that (C, p•) ∈ M1,n(n − 1)
has |I0| ≥ n − 2. Then |I0| = n − 2 and C = E is the elliptic (n − 1)-fold curve, with two
marked points on one component and one marked point on each of the remaining (n − 2)
components. Furthermore, if Cij is in the closure of the Gn
m-orbit corresponding to such
a curve (C, p•) ∈ M1,n(n − 1) then by Lemma 3.3.1(i), we see that pi and pj lie on one
component of C.

m-orbits in eU ns

Thus, there is at most one curve (C, p•) ∈ M1,n(n − 1) that has Cij in the closure of

the corresponding orbit. It follows that the natural birational morphism

M 1,n(n − 1) → eU ns

31

1,n //χ Gn

m

is injective on geometric points. Since M 1,n(n − 1) is normal and projective over Z[1/6]
(see [9, Cor. 1.5.15]), this implies that it is a bijection and coincides with the normalization

1,n //χ Gn
m.

of eU ns

If (C, p•) is an (n − 2)-stable curve then either
(ii) Assume that χ satisﬁes (3.3.2).
C = E, or C = E ∪ R for one rational component R, containing 2 marked points. Let
C → C be the contraction of the unmarked components. Note that if C = E then every
component of C has at least one marked point (this follows from the condition that C has
no inﬁnitesimal symmetries), so we have C = C. In the case when C = E ∪R the minimal
elliptic subcurve E can contain one unmarked component, to which R is attached, so in
this case C = E ∪ R, where E is the image of E. Thus, in any case for the curve (C, p•)
we have |I| ≥ n − 2. In the case when E is at most nodal, E is also at most nodal, so we
deduce that it is π∗O(1) ⊗ χ-semistable. If E is the elliptic m-fold curve with m ≤ n − 2
then either E = E or E is the elliptic (m − 1)-fold curve, so we have |I0| ≤ n − 3. Thus,
in the case C = E the π∗O(1) ⊗ χ-semistability follows from Corollary 3.2.10. In the case
C = E ∪ R, we have to observe in addition that I ∪ J = {1, . . . , n}, since R has three
special points.

Now assume that ai > 0 and the strict inequalities in (3.3.2) hold, and let (C, p•, v•)
be a π∗O(1) ⊗ χ-semistable point. Then by Theorem 3.2.8(ii), this point is stable and
(C, p•) has no inﬁnitesimal symmetries. From the criterion of Theorem 3.2.8(i) we derive
that |I| > n − 3. Hence, either |I| = n, or |I| = n − 2 and C = E ∪ R, where R is a
smooth rational component with two marked points on it.

In the case when either C = E or R is attached to a smooth point on E we claim that
(C, p•) is itself (n − 2)-stable. For this we have to show that the singularities of C are
either nodes or elliptic m-fold points with m ≤ n − 2. Thus, in the case C = E we have
to rule out the case when E is the elliptic m-fold curve with m ≥ n − 1. But in this case
the condition that E has no inﬁnitesimal symmetries implies that m = n − 1 and exactly
one component of E contains two marked points, and the remaining components contain
one marked point each. Hence, we would have |I0| = m − 1 = n − 2, and the condition

Pi∈I0 ai ≤ 1 would contradict the strict version of (3.3.2). Now assume C = E ∪R, where

E is the elliptic m-fold curve, R ≃ P1 contains two marked points (so E contains n − 2
marked points), and the intersection of E and R is nodal. Since C has no inﬁnitesimal
symmetries we derive that m ≤ n − 2, which implies that (C, p•) is (n − 2)-stable.

It remains to consider the case when C = E ∪ R, where R ≃ P1 contains two marked
points, and R is attached to a singular point q ∈ E. Assume ﬁrst that E is the standard

is the elliptic m-fold curve. Then the condition that C has no inﬁnitesimal symmetries

the extra component instead of q in E, and R is attached to a smooth point on this extra

l-gon. Then let eC = eE ∪ R, where eE is the standard (l + 1)-gon obtained by gluing in
component. Then (C, p•) = ρ(eC, p•), and (eC, p•) is (n − 2)-stable. Now assume that E
implies that m ≤ n−3. Thus, we have (C, p•) = ρ(eC, p•), where eC = eE ∪R, with eE being
Since m + 1 ≤ n − 2, the curve (eC, p•) is (n − 2)-stable.

the elliptic (m + 1)-fold curve, with one unmarked component to which R is attached.

(ii’) Our work in (ii) shows that the morphism

M1,n(n − 2) → U ns

1,n(χ),

32

induced by ρ, is an injection on geometric points. Let us consider the induced birational
morphism

M 1,n(n − 2) → eU ns

1,n //χ Gn
m.

(3.3.3)

Since M 1,n(n − 2) is normal and projective, as in (i’), it is enough to check that this
morphism is injective on geometric points.

eU ns

Using Theorem 3.2.8(i) we see that our assumptions on χ imply that every (C, p•, p•) ∈
1,n(χ) has I ∪ J = [1, n], |I| ≥ n − 3 and |I0| ≤ n − 3. Hence, either C = E, or
C = E ∪ R, where R is a rational tail with ≤ 3 marked points.
In the former case
the condition |I0| ≤ n − 3 imples that E is either at most nodal, or the elliptic m-fold
curve with m ≤ n − 2. The only case when (C, p•, v•) has an inﬁnite stabilizer is when
|I0| = |I| = n − 3 (in particular, n ≥ 4), so C = E ∪ R, where E is the elliptic (n − 3)-fold
curve with one marked point on each component, and R is attached to the singular point
q of E. There are two types of such pointed curves: Cijk(t), for i < j < k, corresponds to
the case when R = P1 and pi, pj, pk ∈ R, so that the points (q, pi, pj, pk) have the cross-
ratio t; and Ci;jk, where R is the union of two components, pi, pj, pk ∈ R, and pi belongs
to the component attached to E. In any case the corresponding Gn
1,n(χ) is
(n − 1)-dimensional.

Now we have to determine which Gn

1,n(χ) contain the above pointed curves
in their closure. Recall that we can assume that n ≥ 4 (otherwise, all orbits are closed).
Note that by Theorem 3.2.8(ii), the curves in ρ(M1,n(n − 2)) with |I0| < n − 3 are
stable (since they have |I| ≥ n − 2), so the corresponding Gn
1,n(χ).
Otherwise, we have |I0| = n − 3, so |I| is either n − 2 or n. There are two types of such
curves in ρ(M1,n(n − 2)):

m-orbits are closed in eU ns

m-orbits in eU ns

m-orbit in eU ns

(1) C = E ∪ R, where E is the elliptic (n − 2)-fold curve, with one marked point on
each component, and R = P1 (with two marked points) is attached to a smooth
point of E;

(2) C = E, the elliptic (n − 2)-fold curve, with 3 marked points on one component

and one on each of the remaining components.

Assume that we have (C, p•) ∈ ρ(M1,n(n − 2)) that contains Cijk(t) in its closure.
Then (C, p•) should be as in cases (1) or (2) above. In particular, E ⊂ C is the elliptic
(n − 2)-fold curve. Furthermore, by Lemma 3.3.1(i), pi, pj and pk all lie on the same
component of C, hence, (C, p•) is as in case (2). We claim that t is equal to the cross-
Indeed, let E1 ⊂ E = C be the component
ratio of (q, pi, pj, pk) on this component.
containing pi, pj, pk, and let pm be a marked point on a diﬀerent component of C (recall
that n ≥ 4). By Lemma 3.1.1(i), the function hkm is a coordinate on E1, equal to 0 at q
and to ∞ at pk. Hence, the cross-ratio of (q, pi, pj, pk) is given by

hkm(pj)

=

cmj(k)

.

hkm(pj) − hkm(pi)
Now we observe that the latter ratio is Gn
m-invariant, so it is preserved under passing to
the closure of the Gn
m-orbit. But for the limit curve Cijk(t) the restriction of hkm to R is
still a coordinate on R, equal to 0 at q and to ∞ at pk, so the limiting points on R have
the same cross-ratio.

cmj(k) − cmi(k)

33

Now assume that we have (C, p•) ∈ ρ(M1,n(n − 2)) that contains Ci;jk in its closure.
Then by Lemma 3.3.1(i), we get that pj and pk lie on the same component of C. If we are
in case (2) then applying Lemma 3.3.1(ii), we get that pi belongs to the same component.
But then the ratio cij(m)/cik(m) is preserved under passing to the closure, so we get a
contradiction, since it is equal to 1 on Ci;jk, and it is not equal to 1 on C. Hence, C is
as in case (1), with pj, pk ∈ R. Furthermore, the condition cij(m) 6= 0 implies that pi
belongs to the component to which R is attached.

Thus, we showed that the morphism (3.3.3) is injective on geometric points as claimed.
(iii) Let (C, p•) be an (n − 3)-stable curve. Then either C = E, or C = E ∪ R1, where R1
contains 2 or 3 marked points (so R1 can have ≤ 2 components), or C = E ∪R1∪R2, where
each Ri contains 2 marked points. Let us show that ρ(C, p•) = (C, p•) is π∗O(1) ⊗ χ-

Note also that (n − 3)-stable curves have no inﬁnitesimal automorphisms, so we have

semistable. Note that in all cases the curve (C, p•) has |I| ≥ n − 4, so Pi∈I ai ≥ 1.
I ∪ J = {1, . . . , n}. Thus, we only have to check that PI0 ai ≤ 1, or equivalently,

|I0| ≤ n − 4. Note the minimal elliptic subcurve E ⊂ C is the image of E ⊂ C. If E is at
most nodal then so is E, hence I0 = ∅. Now assume that E is the elliptic m-fold curve.
By deﬁnition, (n − 3)-stability of (C, p•) implies then that m ≤ n − 3. Since C has no
inﬁnitesimal automorphisms, at most m − 1 components of E contain a unique special
point in addition to the singular point of E. Hence, we deduce that |I0| ≤ m − 1 ≤ n − 4,
as required.
(cid:3)

Remarks 3.3.3. 1. It is not hard to see by the same methods as in Proposition 3.3.2
that for m < n − 3 there is no χ for which all Smyth m-stable curves map to π∗O(1) ⊗ χ-

semistable points under ρ. Let us illustrate this for χ = aPi ei. Let m = n − k. Consider

ﬁrst a (smooth) elliptic curve E, and let C = E ∪ R1 ∪ . . . ∪ Rk−1, where each Ri is a
smooth rational component containing exactly two marked points, while the remaining
n − 2k + 2 marked points are on E. Then this curve is both m-stable and belongs to U ns
1,n,
so it maps to itself by ρ. It also has |I| = n − 2k + 2, so we should have a ≥ 1/(n − 2k + 2)
in order for it to be π∗O(1) ⊗ χ-semistable. On the other hand, let C = E be the elliptic
m-fold curve, and assume that m − 1 components of C each contain one marked point,
while the last component contains the remaining k + 1 marked points. Then this curve
is also m-stable and belongs to U ns
1,n, and also has |I0| = m − 1 = n − k − 1, so we should
have a ≤ 1/(n − k − 1) in order for it to be π∗O(1) ⊗ χ-semistable. But this contradicts
the previous inequality if k > 3.
2. Using Proposition 3.3.2 we can explain the existence of a regular morphism

M 1,n(n − 2) → M 1,n(n − 1)

(3.3.4)

(see [18, Cor. 4.5]). Namely, let us take χ = 1
induces a regular morphism

M1,n(n − 2) → U ns

n−2 ·P ei. Then by Proposition 3.3.2(ii), ρ
1,n(χ) → eU ns

1,n //χ Gn
m,

which induces a morphism

M 1,n(n − 2) → eU ns

34

1,n //χ Gn
m.

Furthermore, since M 1,n(n − 2) is normal (see [9, Cor. 1.5.15]), it factors through a
morphism

M 1,n(n − 2) → (eU ns

1,n //χ Gn

m)ν ≃ M 1,n(n − 1),

where we used Proposition 3.3.2(i’).
3. Using our work in the proof of Proposition 3.3.2, we can also easily see that the
morphism (3.3.4) contracts each divisor ∆0,J with |J| = 2 to a point. Here ∆0,J consists
of curves E ∪ R, where R ≃ P1 contains two marked points in J. By Lemma 2.2.9, the
closure of the corresponding Gn
1,n contains the curve Cij, where J = {i, j},
from the proof of Proposition 3.3.2(i’). Hence, ∆0,J gets contracted to the image of this

m)ν ≃ M 1,n(n − 1), where we take χ = 1

corresponding points in M 1,n(n − 1) are exactly those with C being the elliptic (n − 1)-
fold curve. Since each ∆0,J is a Cartier divisor in M 1,n(n − 1), it seems likely that the

n−2 ·P ei. Note that the
point in (eU ns
morphism (3.3.4) identiﬁes M 1,n(n − 2) with the blow-up of M 1,n(n − 1) at the above(cid:0)n
2(cid:1)

points (to prove this one has to compute the scheme-theoretic preimage of each of these
points under (3.3.4)).
4. For χ = 1

i=1 ei (i.e., in the situation of Proposition 3.3.2(iii)), the map

m-orbit in eU ns

1,n //χ Gn

n−4Pn

M 1,n(n − 3) → eU ns

1,n //χ Gn
m,

induced by ρ, is still birational but it is not ﬁnite. Namely, we have (n − 3)-stable curves
of the form C = E ∪ R1 ∪ R2, where E is a standard m-gon with m ≥ 2 and the tails R1
and R2 are attached to points r1 6= r2 of the same unmarked component E0 ⊂ E. Then
the component E0 ≃ P1 also contains two nodes of C, q1 and q2, so that the position
of the points of attachment on E0 is described by the cross-ratio (r1, r2; q1, q2). But the
image of (C, p•) under ρ has the underlying curve E ∪ R1 ∪ R2 obtained by contracting
E0, so it does not carry the information about the relative position of r1, r2, q1, q2.

References

[1] J. Alper, Good moduli spaces for Artin stacks, Ann. Inst. Fourier 63 (2013), 2349–2402.
[2] M. Boggi, Compactiﬁcations of conﬁgurations of points on P1 and quadratic transformations of

projective space, Indag. Math. (N.S.) 10 (1999), 191–202.

[3] M. Fedorchuk, D. I. Smyth, Alternate Compactiﬁcations of Moduli Spaces of Curves, in Handbook of

Moduli: Vol. I, 331–414, Int. Press, Somerville, MA, 2013.

[4] B. Hassett, D. Hyeon. Log canonical models for the moduli space of curves:

the ﬁrst divisorial

contraction, Trans. Amer. Math. Soc. 361 (2009), 4471–4489,

[5] B. Hassett, D. Hyeon. Log minimal model program for the moduli space of stable curves: the ﬁrst

ﬂip, Ann. of Math. 177 (2013), 911–968.

[6] R. Hartshorne, Deformation theory, Springer, New York, 2010.
[7] M. Kontsevich, Intersection theory on the moduli space of curves and the matrix Airy function,

Comm. Math. Phys. 147 (1992), 1–23.

[8] Y. Lekili, T. Perutz, Arithmetic mirror symmetry for the 2-torus, arXiv:1211.4632.
[9] Y. Lekili, A. Polishchuk, A modular compactiﬁcation of M1,n from A∞-structures, arXiv:1408.0611.
[10] E. Looijenga, Cellular decompositions of compactiﬁed moduli spaces of pointed curves, in The moduli

space of curves (Texel Island, 1994), 369–400, Birkh¨auser, Boston, 1995.

[11] D. Mumford, J. Fogarty, Geometric Invariant Theory, Springer-Verlag, Berlin, 1982.
[12] A. Polishchuk, Moduli of curves as moduli of A∞-structures, Moduli of curves as moduli of A-inﬁnity

structures, arXiv:1312.4636.

35

[13] A. Polishchuk, Moduli of curves, Gr¨obner bases, and the Krichever map, arXiv:1509.07241.
[14] A. Polishchuk, Moduli of curves with nonspecial divisors and relative moduli of A∞-structures,

arXiv:1511.03797.

[15] M. Schaps, Versal determinantal deformations, Paciﬁc J. Math 107 (1983), 213–221.
[16] D. I. Smyth, Towards a classiﬁcation of modular compactiﬁcations of Mg,n, Invent. Math. 192 (2013),

459–503.

[17] D. I. Smyth, Modular compactiﬁcations of the space of pointed elliptic curves I, Compos. Math. 147

(2011), no. 3, 877–913.

[18] D. I. Smyth, Modular compactiﬁcations of the space of pointed elliptic curves II, Compos. Math. 147

(2011), no. 6, 1843–1884.

[19] J. Stevens, The versal deformation of universal curve singularities, Abh. Math. Sem. Univ. Hamburg

63 (1993), 197–213.

[20] J. Stevens, On the classiﬁcation of reducible curve singularities, in Algebraic Geometry and Singu-

larities, Birkhauser (1996), 383–407.

36

