Proposal of a micromagnetic standard problem for ferromagnetic

resonance simulations

Alexander Baker,1 Marijan Beg,2 Gregory Ashton,2 Maximilian Albert,2 Dmitri

Chernyshenko,2 Weiwei Wang,3 Shilei Zhang,1 Marc-Antonio Bisotti,2 Matteo

Franchin,2 Chun Lian Hu,4 Robert Stamps,4 Thorsten Hesjedal,1 and Hans Fangohr2, ∗

1Department of Physics, Clarendon Laboratory,

University of Oxford, Oxford OX1 3PU, United Kingdom

2Faculty of Engineering and the Environment,

University of Southampton, SO17 1BJ, Southampton, United Kingdom

3Department of Physics, Ningbo University, Ningbo 315211, China

4SUPA School of Physics and Astronomy,

University of Glasgow, Glasgow G12 8QQ, United Kingdom

Abstract

Nowadays, micromagnetic simulations are a common tool for studying a wide range of diﬀerent

magnetic phenomena, including the ferromagnetic resonance. A technique for evaluating reliability

and validity of diﬀerent micromagnetic simulation tools is the simulation of proposed standard

problems. We propose a new standard problem by providing a detailed speciﬁcation and analysis

of a suﬃciently simple problem. By analyzing the magnetization dynamics in a thin permalloy

square sample, triggered by a well deﬁned excitation, we obtain the ferromagnetic resonance spec-

trum and identify the resonance modes via Fourier transform. Simulations are performed using

both ﬁnite diﬀerence and ﬁnite element numerical methods, with OOMMF and Nmag simulators,

respectively. We report the eﬀects of initial conditions and simulation parameters on the character

of the observed resonance modes for this standard problem. We provide detailed instructions and

code to assist in using the results for evaluation of new simulator tools, and to help with numerical

calculation of ferromagnetic resonance spectra and modes in general.

PACS numbers: 75.40.Mg; 76.50.+g; 75.70.-i

6
1
0
2

 
r
a

 

M
7
1

 
 
]
l
l
a
h
-
s
e
m

.
t
a
m
-
d
n
o
c
[
 
 

1
v
9
1
4
5
0

.

3
0
6
1
:
v
i
X
r
a

1

I.

INTRODUCTION

Computational micromagnetics is a well developed ﬁeld that sees widespread use in both

modern physics and magnetic device engineering communities.1–3 With the advancement of

micromagnetic models, simulation techniques, and processing power, the list of phenomena

that can be studied has grown substantially and includes such diverse ﬁelds as the spin

transfer torque4 and spin wave dispersion in magnonic crystals.5 An essential equation in

most of the micromagnetic system models6 is the Landau-Lifshitz-Gilbert (LLG) equation

– a diﬀerential equation governing the magnetization dynamics. However, this equation

can be analytically solved only for a very limited number of systems and, because of that,

the complexity of common problems requires the use of micromagnetic simulation packages

such as OOMMF7, LLG Micromagnetics,8 Micromagnum,9 and Mumax10, which use the Finite

Diﬀerence (FD) approach, and Nmag11 and Magpar,12 employing the Finite Element (FE)

approach to spatial discretization. To compare this range of numerical solvers, as well as

to evaluate their validity and reliability, NIST’s Micromagnetic Modelling Activity Group

(µMag) publishes standard problems.13–15 Recent additions have included the spin transfer

torque4 and the spin wave dispersion16 standard problems. In the light of this, it is natural

to extend the coverage of standard problems in order to include the FerroMagnetic Reso-

nance (FMR), a technique closely associated with many practical uses ranging from material

characterization to the study of spin dynamics.17

FMR probes the magnetization dynamics in samples using microwave ﬁelds. The ab-

sorption of the applied microwave ﬁeld is at its maximum when the microwave’s frequency

matches the frequency of the studied system’s resonant modes. By analyzing the resonance

modes as a function of an applied magnetic ﬁeld, some material parameters, such as the

Gilbert damping and magnetic anisotropy constants, can be determined.17 This makes FMR

a powerful technique in the characterization of ferromagnetic nanostructures; including mea-

surements of spin pumping18 and exchange coupling.19 In a typical experiment, microwaves

are directed across the sample using a coplanar waveguide, and their transmission is mea-

sured as a function of both external bias ﬁeld and excitation frequency.20

In terms of computational micromagnetics, there are at least three methods that can be

used to simulate the FMR:

1. Application of a time-dependent periodic sinusoidal magnetic microwave ﬁeld of ﬁxed

2

frequency f to determine the magnetization precession amplitude in response to the

system. If the precession amplitude is small, the power absorption of the microwave

ﬁeld would be small as the excitation frequency does not couple well to the set of

natural frequencies of the system. This method is conceptually simple but compu-

tationally very demanding as, for every frequency f , the micromagnetic simulation

needs to compute the time evolution of the system’s magnetization after the transient

dynamics has been damped and steady magnetization precession is reached. This will

only provide one point on the frequency-absorption curve and only a micromagnetic

simulation software that supports a time dependent external magnetic ﬁeld can be

used.

2. Ringdown method:21 the system is perturbed from its equilibrium state by applying

a short-lived and suﬃciently weak excitation, followed by simulation and recording

of the magnetization dynamics. Resonance frequencies and corresponding modes are

extracted by performing the Fourier transform on the recorded data. This is an eﬃcient

way to determine the eigenmodes of the system.

3. Eigenvalue method:22 instead of simulating the time evolution of the system’s magne-

tization as in the methods above, the problem is represented as an eigenvalue problem,

whose solutions provide the frequencies (eigenvalues) and mode shapes (eigenvectors)

of the system. This method requires specialist software that is not widely available.

Our goal is to establish a standard problem to serve as a benchmark against which future

simulation tools and computational studies of the FMR can be compared and validated. In

this standard problem proposal, we will follow the second (ringdown) method, which is sup-

ported by most micromagnetic packages and compare its output with the third (eigenvalue)

method. We provide a detailed standard problem description and speciﬁcation as well as

the complete set of computational steps and code repository23 in order to make it easily

reproducible and accessible to a wide community. Parts of the code repository can also be

used as an example to compute FMR data and modes from micromagnetic simulations. It

is hoped that this work will aid the development of micromagnetic simulations of systems

undergoing FMR and support and drive experimental eﬀorts.

Sec. II introduces and motivates the choice of the FMR standard problem, and introduces

the frequency spectrum computed in diﬀerent ways. Sec. III provides a more detailed dis-

3

cussion including computation of the normal mode shape, the eigenvalue problem approach

as an alternative way of computing the frequency spectrum and normal modes, and a sys-

tematic study of the dependence of the results on variations in the simulation parameters

such as damping, relaxation of the initial state, nature of the perturbation and mesh dis-

cretization. We close with a summary in Sec. IV. The Appendix provides more details on

parameters used in the Nmag simulations, the eigenvalue approach and simulation results

obtained in the absence of demagnetization eﬀects.

II. SELECTION AND DEFINITION OF STANDARD PROBLEM

A. Problem deﬁnition

We choose a cuboidal thin ﬁlm permalloy sample measuring 120 × 120 × 10 nm3, as
shown in Fig. 1. The choice of a cuboid is important as it ensures that the ﬁnite diﬀerence

method employed by OOMMF does not introduce errors due to irregular boundaries that

cannot be discretized well.24 We choose the thin ﬁlm geometry to be thin enough so that

the variation of magnetization dynamics along the out-of-ﬁlm direction can be neglected.

Material parameters based on permalloy are shown in Table I. An external magnetic bias

ﬁeld Hext with magnitude Hext = 80 kA/m is applied along the direction e = (1, 0.715, 0)
(at 35.56◦ to the x-axis), i.e. Hext = Hext · e/|e| ≈ (65.1, 46.5, 0) kA/m as shown in Fig. 1.
We choose the external magnetic ﬁeld direction slightly oﬀ the sample diagonal in order to

break the system’s symmetry and thus avoid degenerate eigenmodes.

First, we initialize the system with a uniform out-of-plane magnetization m0 = (0, 0, 1).

The system is allowed to relax for 5 ns, which was found to be suﬃcient time to obtain a

well-converged equilibrium magnetization conﬁguration. We refer to this stage of simulation

as the relaxation stage, and its ﬁnal relaxed magnetization conﬁguration is saved to serve as

the initial conﬁguration for the next dynamic stage. Conceptually, what is required to ﬁnd

the relaxed state is to minimize the system’s energy in the presence of an external magnetic

bias ﬁeld, taking into account exchange and demagnetization energy contributions. We note

that there are other ways of obtaining this conﬁguration, including energy minimization (as

for example supported by OOMMF), or solution of the LLG without the precession term

(as supported by Nmag). Because we want to use a well deﬁned method that is supported

4

by all simulation tools, we minimize the system’s energy by integrating the LLG equation

with a large, quasistatic Gilbert damping α = 1 for 5 ns. The use of any of these methods

is expected to lead to the same relaxed equilibrium magnetization conﬁguration.

In the next step (dynamic stage), a simulation is started using the equilibrium mag-

netization conﬁguration from the relaxation stage as the initial conﬁguration. Now, the
direction of an external magnetic ﬁeld is altered to e = (1, 0.7, 0), i.e. Hext = Hext(e/|e|) ≈
(65.5, 45.9, 0) kA/m. This corresponds to a rotation of the bias ﬁeld to 35◦ with respect to
the x-axis. Due to the change in x and y components of the external magnetic ﬁeld, the ini-

tial magnetization conﬁguration is now out of equilibrium. Consequently, the system tends

to relax towards the lowest energy conﬁguration in the presence of a new external magnetic

ﬁeld. This simulation stage runs for T = 20 ns while the (average and spatially resolved)

magnetization M (t) is recorded every ∆t = 5 ps. The Gilbert damping in this dynamic

simulation stage is α = 0.008. Using the recorded data, a Fourier transform is performed

to produce the FMR spectrum and obtain eigenfrequencies (and the eigenmodes). Spa-

tially resolved transformations allow examination of the shapes of the modes (see Sec. II C).

Simulation parameters for both stages of the simulation are given in Tab. I.

B. Problem Selection

In this section, we address the selection criteria for the standard problem, and give an

explanation of how each is met within the proposed framework:

1. Initial magnetization conﬁguration. This standard problem is deﬁned in two stages:

(i) relaxation stage and (ii) dynamic stage. The purpose of the relaxation stage is

to bring the system into a well deﬁned state. Starting from an initial uniform out-of-

plane magnetization m0 = (0, 0, 1) combined with the in-place bias ﬁeld H0, the system

transitions into a “relaxed” state in an attempt to reach a (local) energy minimum.

The relaxed state is used as the initial conﬁguration for the dynamic stage.

2. Excitation of system. Apart from being reproducible, the perturbation or excitation

ﬁeld must be suﬃciently large to excite magnetization dynamics, yet be small enough

so that the system remains in the linear regime. This is achieved by altering the

direction of the bias ﬁeld, as a simple practical approach that does not require time-

5

dependent applied ﬁelds. The power spectrum obtained is speciﬁc for the chosen

excitation, and thus the excitation is a key part of the problem deﬁnition. All sim-

ulations tools, even the ones that do not support time-dependent external magnetic

ﬁelds, are expected to be able to excite the system in this manner.

3. Computation time. Standard problems, apart from being simple and reproducible,

require as short as possible computation time.

In micromagnetic simulations, the

computational time depends mostly on the number of degrees of freedom in the dis-

cretized problem. Accordingly, the spatial discretization of 5 nm is chosen as a balance

between computational time and accuracy. Although the second simulation stage is

performed with realistic Gilbert damping value α = 0.008 over a limited simulation

time, in the ﬁrst (relaxation) stage, we set α = 1 to ensure the magnetization reaches

a well converged state within the allotted time.

4. Veriﬁcation of results.

Ideally, results should be veriﬁed against other methods of

obtaining them. In this work, we use diﬀerent simulation packages (including ﬁnite

diﬀerence and ﬁnite element discretization schemes) that have been developed by dif-

ferent groups. Furthermore, we use a completely diﬀerent computational (eigenvalue

based) method to obtain the power density spectrum and excited normal modes sep-

arately.

C. Data Analysis

We outline two diﬀerent ways to compute the power spectrum of the simulated system.

Method 1: Global power spectrum and Sy(f )

In this case, the observable we use is the spatially averaged magnetization (cid:104)M(cid:105)r(t), as
it is easily accessible in all known simulation tools. Using a discrete Fourier transform,25

we can obtain the power spectrum of the average magnetization in the frequency domain.

As the dynamic simulation progresses, at uniform time steps tk, we record the spatially
averaged magnetization (cid:104)M(cid:105)r(tk), where tk = k∆t with ∆t = 5 ps, and k = 1, 2, . . . , N , with
N = 4000 being the number of time steps. However, we only consider the y-component of

6

spatially averaged magnetization (cid:104)My(cid:105)r(tk) to compute the power spectrum Sy(f ) using

Sy(f ) = |Fy(f )|2 with
Fy(f ) =

N(cid:88)

(cid:104)My(cid:105)r(tk)e−i2πf tk.

(1)

(2)

k=1

According to the chosen parameter values, the sampling frequency is fs = 1/∆t = 50 MHz,

which implies that the maximum frequency that can be sampled (Nyquist frequency25) is

fN = 2fs = 100 GHz. We term this approach “method 1”.

It requires that the discrete

Fourier transform is performed once (on the time series of the average magnetization) in

order to compute the power spectrum Sy(f ).

Method 2: Local power spectrum and ˜Sy(f )

Equation (2) uses the spatially averaged magnetization to compute its frequency spec-

trum. Following McMichael and Stiles’ approach21 to compute a collection of local power

spectra over the extent of the sample we introduce a second method which allows to gain

more detailed information about the spectrum. In contrast to the ﬁrst method, this requires

computation of discrete Fourier transforms at all spatial sampling points.

We analyze n = nxny scalar time-dependent signals:

for every recording time tk we

sample the magnetization on a two-dimensional grid of positions rm,p where nx and ny are

the number of sampling points in x and y directions, respectively. More precisely, rm,p =
((m− 1
In the remainder of this work, we have used nx = 24 and ny = 24. For simplicity and

, 2.5 nm) with m = 1, 2, . . . , nx, p = 1, 2, . . . , ny, and Lx = Ly = 120 nm.

, (p− 1

2) Lx
nx

2) Ly

ny

generality, we label the sampling points rm,p as rj, with j = 1, 2, . . . , nxny.

We term this approach “method 2”, and compute the local power spectrum

Sy(rj, f ) = |Fy(rj, f )|2

for each of the recorded signals (i.e. for each position rj), with

Fy(rj, f ) =

My(rj, tk)e−i2πf tk.

By averaging the local power spectra Sy(rj, f ), we obtain

N(cid:88)

k=1

˜Sy(f ) =

1

nxny

7

nxny(cid:88)

j=1

Sy(rj, f ).

(3)

(4)

(5)

Both entities Sy(f ) and ˜Sy(f ) are shown in Fig. 3 in a logarithmic scale, and strong resonance
peaks are observed at f1 = 8.1 GHz and f2 = 11.1 GHz.

This method allows us to obtain spatially resolved information Sy(r, f ) about the normal

modes of the system. See further discussion in Sec. III A and Figs. 4 and Fig. 5.

1. Phase information

In order to understand the precession of a resonance mode q at a particular frequency fq

across the extent of a thin ﬁlm, we need to extract the phase information from the spatially
resolved Fourier transform. We start with the complex Fourier coeﬃcient Fy(rj, fq) which
represents the contribution of the frequency fq to the time series of the magnetization y-

component My(rj, t) of the magnetization dynamics at position rj. In our discrete Fourier
transform, we have a set of N complex Fourier coeﬃcients Fy(rj, f ) at discrete frequencies
fk. The modulus (= absolute value) of the Fourier coeﬃcient contains the information

about the amplitude, whereas its argument (in the polar representation) contains the phase

information. Consequently, the information about the resonance mode q phase can be

extracted as the complex Fourier coeﬃcient argument as a function of position rj, which

allows us to identify the relative phases between diﬀerent spatial domains in a normal mode.

III. RESULTS AND DISCUSSION

A. Standard Problem Simulation Results

Figures 2 and 3 show the main results from the standard problem, as outlined in Sec. II A,

obtained using the OOMMF simulation tool. Time evolution of the average magnetization

y-component for the ﬁrst 2.5 ns of dynamic stage is shown in Fig. 2(a), and the associ-
ated ferromagnetic resonance spectrum (Fourier transform of (cid:104)My(cid:105)r(t) over the entire 20 ns
dynamic simulation) is shown in Fig. 2(b). Performing the Fourier transform of spatially

averaged magnetization (method 1) produces a slightly diﬀerent result in comparison to the

spatially resolved (method 2) approach, which is shown in Fig. 3.

Using the spatially resolved approach, one can plot the power spectrum coeﬃcients

Sy(rj, fq) as a function of position rj for the normal mode frequency fq to represent both

8

the power amplitude and phase of the normal mode q, as described in Sec. II C 1. Figure 4

shows the spatial resolution of the resonance mode at f1 = 8.1 GHz with both the amplitude
|S|(rj, f1) and phase information arg(S)(rj, f1) for x, y and z magnetization components
that were calculated from the OOMMF simulation using Eq. (5). The magnetization pre-

cession is present in all three directions, with the highest amplitude in the y-direction as

expected since the largest external bias ﬁeld perturbation is performed along the y-direction.

Figure 3 shows that the frequency spectrum is dominated by two modes. The low frequency

mode extends across the middle of the sample; this corresponds to the mode of uniform

precession observed in macroscopic samples.

The largest precession amplitude of the normal mode at 11 GHz (spatially resolved plot

shown in Fig. 5) is located at the corners of the sample and is dominated by the demagneti-

zation energy associated with magnetization canting at the sample boundaries. In terms of

the normal mode phase representation, an abrupt phase shift occurs as one moves away from

the sample corner to the sample center. This normal mode is associated with the particular

shape and size of the sample. Note that the precession amplitude in Fig. 4 (top row) and

5 (top row) is generally small where the phase changes: these oscillation nodes separate

domains that show out-of-phase precession relative to each other. Similar eﬀects have been

observed, for example, in permalloy nanodisks: Guo et al.26 used ferromagnetic resonance

force microscopy to spatially resolve the resonance modes. They observed the same mode

shapes simulated here, and demonstrated a strong relationship between the size of the disk

and the relative strength of the modes. Appendix C details the results of simulations per-

formed without the demagnetization energy contribution (only one resonance is observed,

corresponding to a macrospin model of uniform coherent precession).

A resonance mode also exists in the z-direction, Fz(rj, f ). The precession of the moments
describes an ellipse around the bias ﬁeld, which has greatest amplitude in the x − y plane,
with the component in z being smaller due to the demagnetization ﬁeld.

B. Eigenvalue method results

An alternative approach to calculating the normal modes is to linearize the LLG equation

for the studied system around its equilibrium state; the normal modes of the resulting linear

system of equations can then be determined by solving an eigenvalue problem. This approach

9

does not require running and post-processing of a dynamic micromagnetic simulation, and

is thus a good way to check the veracity of the results. A detailed description of this method

providing resonance frequencies and normal mode shapes can be found in Ref. 22.

We have extended the method to be able to also compute the FMR spectrum of the

simulated system, and report the new methodology in Appendix B not to distract from the

results obtained with the method.

Table II shows the ﬁrst ﬁfteen resonance frequencies, calculated with the eigenvalue ap-
proach using a ﬁnite diﬀerence discretization with cell size 5 × 5 × 5 nm, matching the
simulation parameters used by OOMMF. The spatial distribution of these modes are plotted

in Fig. 6. The power density spectrum, and thus the amplitude of each mode excited during

the simulation, is dependent upon the perturbation of the system. Using the method de-

scribed in Appendix B 4, we compute the coupling of the used excitation to each mode and

reconstruct the spectrum shown in Fig. 7, demonstrating an excellent agreement between

the ringdown method and the eigenvalue method.

Finally, we show the comparison of the spatial proﬁles generated by the ringdown and

eigenvalue methods. Figure 8 shows a comparison of the three lowest frequency modes,

demonstrating excellent agreement for the two modes visible in Fig. 3. This agreement gets

worse as the frequency of the normal modes increases and their amplitude in the ringdown

method decreases, increasing the signal-to-noise ratio; above 14 GHz the data quality is not

suﬃcient to make a meaningful comparison. Nevertheless, the close agreement of results

demonstrates the equivalence of these two approaches.

C. Falsiﬁcation Properties

In deﬁning a standard problem, it is useful to investigate how changing the parameters

of the simulation will distort the results. This is intended to allow users to isolate incon-

sistencies within their own simulations when attempting to reproduce the output of this

problem.

10

1. Damping Parameter

The magnitude of the Gilbert damping parameter during ringdown method determines

the time taken for the system to reach its stable conﬁguration. However, this did not aﬀect

the resonance frequencies produced by the Fourier transform, except in the strongly damped
case where α ≥ 0.1. Figure 9 shows the power spectrum produced by the simulation for α
= 10−1, 10−2, 10−3 and 10−4. As the damping parameter is decreased, the peaks become
narrower and taller as expected. For the highest damping the spectrum is heavily suppressed,

showing only two broad features, with the 11.25 GHz mode barely visible above the tails

of the 8.25 GHz mode. In this case the system is approaching overdamping; if we choose

a large damping of α = 1 then no precession occurs and the Fourier transform shows no
peaks. As damping decreases extra peaks begin to form, for example at f ≈ 12 GHz and
13.5 GHz. At lower dampings the intensity of these features increases, but never surpasses

that observed for the two dominant modes.

2. Relaxation Time

This standard problem deﬁnition (see Sec. II A) asks that the computation of the relaxed

conﬁguration should be carried out by integrating the damped equation of motion for 5ns.

In this subsection, we explore how the obtained frequency spectrum changes if a shorter

period is used.

Figure 10 shows that starting the dynamic simulation stage from an improperly converged

conﬁguration from the relaxation stage causes signiﬁcant instability within the system. Al-

though there are still peaks at the resonance frequencies for relaxation times shorter than

5ns, there are also many other peaks corresponding to domains aligned in other directions

relaxing back to align with the bias ﬁeld. The frequency of the normal modes does not

change, but the strength of the contributions from spurious modes is too large to allow a

meaningful analysis. The importance of allowing the relaxation stage suﬃcient time to reach

a converged state is clear; the diﬀerence occurs because the the system dynamics contains

the components that exist as a consequence of the system tending to reach the equilibrium

state during the dynamic stage of simulation. We can see that the curves for 500 ps and

5000 ps produce very similar results.

11

3. Relaxation Stage Perturbation Angle

The problem deﬁnition (Sec. II A) suggests a change of 0.56◦ between the bias ﬁeld in
the relaxation and dynamic stage. Figure 11 shows the eﬀect of changing the perturbation
angle between bias ﬁeld in the relaxation and dynamic stages from 0.1◦ to 55◦.

Changing the perturbation angle of the bias ﬁeld changes the amount of energy supplied

to the system in the initial excitation, which manifests as a greater area under the power
spectrum curve (not shown). If the perturbation angle is too small (< 0.1◦), no peaks are
observed above the noise level of the power spectrum. Conversely, if the perturbation angle

is too large the system deviates signiﬁcantly from the equilibrium state, and additional

modes form, leading to a distorted power spectrum. While the resonance frequency does

not signiﬁcantly change, the spectrum is eventually dominated by these other features and

modes. At such high perturbations both Nmag and OOMMF show a slight drop in resonant

frequency.

4. Spatial Discretization

In micromagnetics, it is generally recommended to keep the cell size smaller than the

exchange length, and for this standard problem, we use a cell with an edge length of 5 nm.

The eﬀects of changing the cell size from 2.5 nm to 120 nm are shown in Fig. 12. Decreas-

ing the resolution of the mesh (increasing the size of the tetrahedra in FE or cuboids in FD)

causes the divergence between FD and FE codes. This is to be expected, as the diﬀering

approach to calculation of demagnetization ﬁeld is one of the key diﬀerences between the

two approaches. In OOMMF the frequency of the low frequency mode decreases, while the

frequency of the main edge mode increases. This comes about due to changes in relative

importance of demagnetization eﬀects from the edge of the sample, with fewer nodes near

the boundaries the sample becomes more like an idealized inﬁnite thin ﬁlm.

In both codes, high frequency features are suppressed with increasing element size. These

correspond to higher order modes that cannot form if there are too few elements to support

their spatial variation. It is well known that choice of an appropriate mesh discretization

is crucial in computational micromagnetics, an aphorism that is well supported by these

results. The deviation of resonant frequency with mesh resolution therefore suggests that a

12

resolution comparable to the exchange length in permalloy (∼ 5 nm) is appropriate. We can
also see that OOMMF’s ﬁnite diﬀerence approach is more robust than Nmag’s ﬁnite element

based result here.

D. Comparison of Simulation Methodologies

For the standard problem deﬁned above with a cell size of 5 × 5 × 5 nm3, the deviations
between ﬁnite diﬀerence and ﬁnite element methods for both the resonance frequencies are

noticeable, as shown in Fig. 13, reaching 0.2 GHz for the low frequency mode, and 0.4 GHz

at the higher frequency. Note that in the case of the tetrahedra used in the ﬁnite element

method this means that space is divided into 6 tetrahedra that together form a cube of
dimensions 5 × 5 × 5 nm3. A smaller cell size 2 × 2 × 1 nm3 for the ﬁnite element code will
reduce the deviations signiﬁcantly, bringing the two codes to within 0.05 GHz of agreement.

The corresponding comparison for the average magnetization (y-component) evolution

is shown in Fig. 14.
It is obvious that the two micromagnetic package produce diﬀerent
simulation results when the cell size is 4 × 5 × 5 nm3, but good agreement is found for the
smaller cell size of 2 × 2 × 1 nm3.

In FD the computation takes place at the center of a series of cuboids used to build the

sample, while in FEM it takes place at the nodes of the mesh tetrahedra. While tetrahedra

give signiﬁcantly better approximations to irregular shapes than the cuboids, computing

values on vertices is problematic when the values of the demagnetization tensor vary sharply.

If the mesh is not ﬁne enough to accurately resolve the change, the eﬀective ﬁelds will be

calculated less accurately, and spurious results will be produced.

In this simulation, the

error arises from contributions from the top and bottom surfaces of the ﬁlm, and a fourfold

increase in resolution in the z-direction brings the FDM simulations into agreement with

the FEM, at the cost of signiﬁcantly increasing the runtime. This problem could also be

alleviated through the use of a spatially varying mesh density, placing more mesh nodes in

the regions near the surfaces to accurately sample the demagnetization tensor.

13

IV. SUMMARY AND CONCLUSIONS

A standard problem for micromagnetic simulations of ferromagnetic resonance in a thin

ﬁlm has been introduced. FMR is a technique that is widely used for material characteriza-

tion and the study of spin transfer phenomena. While micromagnetic simulations are able

to provide insightful analysis and prediction of FMR experiments, it is not trivial to con-

duct those simulations. With this paper, we provide step by step instructions and speciﬁc

parameters and results that can be used to validate simulation tools before they are applied

to new problems.

We provide performance data from two popular micromagnetics packages (OOMMF and

Nmag), thus providing data for the deviations that can be expected between diﬀerent dis-

cretization and computation strategies. This standard problem may serve as an introduction

to the procedures involved and allow benchmarking and testing of new simulation packages.

Example scripts to run the simulations and analyse the data, as well as raw data for all

the ﬁgures, are available in the associated electronic supplementary material.23

ACKNOWLEDGEMENTS

A.A.B. acknowledges support from Diamond Light Source, and the EPSRC through a

Doctoral Training Grant. This work has been supported through the EPSRC Centre for

Doctoral Training grant EP/G03690X/1.

Appendix A: Nmag tolerances

By analyzing the time evolution of the average magnetization z-component, obtained

by running the Nmag simulation with default time integration tolerances, we observe that

numerical noise is present after approximatelly 0.8 ns. By simply performing the Fourier

transform on this data, this numerical noise can be interpreted as a particular eigenmode

of certain frequency. Although this does not aﬀect any results presented in this work, we

provide the following improved demagnetization ﬁeld computation settings that suppress

this:

ksp_tols = {"DBC.rtol":1e-7,

14

"DBC.atol":1e-7,

"DBC.maxits":1000000,

"NBC.rtol":1e-7,

"NBC.atol":1e-7,

"NBC.maxits":1000000,

"PC.rtol":1e-3,

"PC.atol":1e-6,

"PC.maxits":1000000}

and time integration tolerances:

sim.set_params(stopping_dm_dt=0.0, ts_abs_tol=1e-7, ts_rel_tol=1e-7)

in the dynamic simulation stage. The improved tolerances remove the numerical noise from

the average magnetization time evolution, but increases the running time. The full scripts

to run the simulations are available.23

Appendix B: Eigenvalue approach

In this Appendix, we provide a brief summary of the eigenvalue method described in

Ref. 22, with modiﬁcations required to compute the Gilbert damping and excitation depen-

dent FMR spectrum of the system along with the resonance frequencies and corresponding

normal modes.

The dynamics of the micromagnetic system is governed by the Landau-Lifshitz-Gilbert

(LLG) equation:

˙m = − γ

1 + α2 [m × Heﬀ + αm × m × Heﬀ] = L(m),

(B1)

where m is the normalized magnetization: m = M/Ms, with |M| = Ms being the satura-
tion magnetization. If the system is in its equilibrium state m0, then L(m0) = 0. Small
perturbations from the equilibrium (for example, those generated by the removal of the ex-

ternal magnetic ﬁeld perturbation when moving from the relaxation to the dynamic stage of
simulation) can be described as m = m0 + εv, with v ⊥ m0 since the |m| = 1 condition is
imposed. For a small ε, terms of the O(ε2) order and higher can be neglected, which results

15

in the linearized equation (for the general case):

(cid:12)(cid:12)(cid:12)(cid:12)m=m0

∂L
∂m

˙v =

(cid:12)(cid:12)m=m0

v.

(B2)

If the ﬁxed linear operator ˆL = ∂L
is deﬁned, the linearized equation can be written
as ˙v = ˆLv. This is an ordinary diﬀerential equation, which can be solved by an ansatz of

∂m

the form v = Re(˜vei2πf t). The normal modes (eigenvectors) ˜v and oscillation frequencies

(eigenvalues) f can be found from the following eigenvalue problem

i2πf ˜v = ˆL˜v.

(B3)

1. Linearized equation without damping

First, we consider the case when the damping term in the LLG equation is neglected (α =

0). Without damping, the magnetic moments precess indeﬁnitely, and the LLG equation
preserves energy. In this simplest case the calculation of the linearized operator ˆL is fairly

straightforward and results in the following linearized equation of motion22

˙v = γ m0 × ˆAv,

ˆA = |Heﬀ(m0)| Id−∂Heﬀ
∂v

,

(B4)

where ˆA is a positive deﬁnite Hermitian operator. The normal modes ˜v and frequencies f

of the linearized equation can be found from the eigenvalue problem

− i2πf m0 × ˜v = γ ˆA˜v.

(B5)

The left-hand side of this eigenvalue problem also contains a Hermitian operator describing
the uniform precession ˆBv = −i m0 × ˜v, however it is not positive deﬁnite (its eigenvalues
are ±1).

Because of the energy conservation, the oscillation frequencies fk that satisfy this eigen-

value problem will be real and the normal modes ˜vk corresponding to diﬀerent frequencies

will be orthogonal. These properties enable the eﬃcient numerical solution of Eq. (B5); the

eigenvalues f are the resonant frequencies and the complex magnitudes of the eigenvectors ˜v

are the normal mode amplitude plots (the complex phase of ˜v corresponds to the phase of

the oscillations at the corresponding sites).

However, in order to compute the FMR spectrum via the eigenvalue approach, we have

to consider the more complicated case of non-zero damping.

16

2. Linearized equation with damping — perturbative analysis

For the case of suﬃciently small non-zero damping α, a perturbative analysis can be

performed to determine the corrections to the eigenvalues. In this case, eigenvalues have the
form λ = i2πf − 1/τ , where τ is the characteristic time for the mode to decay to 1/e of its
starting amplitude value. It turns out that to the ﬁrst order, the resonance frequencies are

unchanged, and the damping times can be found using a relatively simple analytic calculation

without solving the perturbed eigenvalue equation numerically.22 Additionally, the coupling

between the perturbed normal modes is small if their frequencies are suﬃciently separated

— this property will be useful for the calculation of the FMR spectrum. We have found

that for our test system, which has a low damping constant, the damping times computed

using both the perturbative method and the numerical method (from the next section) are

very close; up to the 4 digits shown in Table 6 the results are identical for both methods.

3. Linearized equation with damping — numerical solution

To compute the actual FMR spectrum, we have to derive the linearized equation in the

presence of damping, and solve the corresponding eigenvalue problem. The derivation of

the linearized equation with damping is straightforward but slightly tedious. We skip this

derivation and instead compute the linearized equation using a numerical diﬀerentiation

trick.

For the linearized equation, we have to compute the directional derivative

(cid:18) ∂L

∂m

(cid:19)

(cid:12)(cid:12)(cid:12)(cid:12)m=m0

ˆLv =

[v] =

d
d

L(m0 + v)|=0.

(B6)

For the test problem, the components of the eﬀective ﬁeld (demagnetization, exchange, bias)
are all either constant, or linear functions of m; therefore as a function of , L(m0 + v) is a
degree 3 polynomial (the highest degree coming from the damping term m× m× Heﬀ). This
means that a numerical diﬀerentiation rule of order 3 or higher will compute the derivative

d

dL(m0 + v)|=0 exactly.

17

4. Linearized equation with damping — spectrum computation

The previous sections outlined the method used to compute the frequencies and normal

mode shapes for the linearized equation, with or without damping.

In this section we

describe the subsequent computation of the FMR spectrum, which also depends on the

initial state of the system. To determine the contributions of each normal mode to the total

spectrum, we have to compute the coupling between the initial state and the normal modes

in the presence of damping. More precisely, let n be the total number of the degrees of

freedom (for a mesh with N nodes, n = 3N ). Let ˜vi, i = 1, 2, . . . , n be the set of eigenvalues
(normal modes) without damping, ˜v(p)

, i = 1, 2, . . . , n the set of perturbed eigenvalues in

i

the presence of damping, and fi and τi the corresponding mode frequencies and damping
times. Let vinitial = minitial − m0 be the initial state of the system. Due to the orthogonality
property described in Sec. B 1, we can assume that with the respect to the Hermitian inner
product deﬁned by the operator ˆA via (x, y) := x · ˆA · y∗ the non-perturbed eigenvectors
form an orthonormal basis, i.e. (vi, vj) = δij.

To solve the linearized equation of motion Eq. (B2), we need to expand the initial state

vinitial in the perturbed ˜v(p)

i basis:

n(cid:88)

i=1

Ci˜v(p)

i

.

vinitial =

(B7)

Once the coeﬃcients Ci are known, the full solution of the linearized equation (B2) is

n(cid:88)

k(cid:88)

m(t) = m0 +

Cie(2πiωi−1/τi)t.

(B8)

Given this full analytic solution, we can then calculate the spectrum using either of the

i=1

methods described in Sec. II C. Unfortunately, this expansion requires the knowledge of
the complete set of eigenvectors ˜v(p)

, which is numerically unfeasible to compute. Instead,

i

we will attempt to reconstruct the spectrum based on the ﬁrst k perturbed modes with

the lowest frequencies (we used k = 40). We would like to do this by ﬁnding the “best”

approximation

vinitial =

ci˜v(p)

i + R.

(B9)

We will look for this approximation in the subspace spanned by the ﬁrst k(cid:48) non-perturbed
normal modes ˜vi, with k(cid:48) > k (we used k(cid:48) = 60). Due to the frequency separation property

i=1

18

mentioned earlier, we can expect that this restriction will not aﬀect the residue (the high-

frequency modes will not measurably contribute to the low-frequency spectrum). When
restricted to this subspace, we arrive at a system of k(cid:48) equations with k unknowns ci

k(cid:88)

(vinitial, vj) =

ci(˜v(p)

i

, vj),

i = 1 . . . k(cid:48).

(B10)

i=1

This linear system is overspeciﬁed but any residue will only contain the high-frequency modes
with frequencies above f(cid:48)
k, which don’t contribute to the spectrum for frequencies below fk
that we are trying to compute. We solve this linear system with a standard linear least-

squares (linear regression) method, allowing the determination of the coupling coeﬃcients ci

and thus the full solution Eq. (B8).

Appendix C: Simulations without Demagnetization

In this section, we show the results of this standard problem in a setup where only the

exchange and the applied Zeeman eﬀective ﬁelds are considered. In particular, the demag-

netization energy has been ignored. Figure 15 shows the power spectrum of a simulation

carried out with demagnetization eﬀects disabled in OOMMF and Nmag. The data has been

obtained using the ringdown method. It can be seen that the two packages are in excellent

agreement, producing only one mode at 2.8 GHz. In the absence of the demagnetization en-

ergy, we obtain this single mode corresponding to coherent precession of the magnetization

as shown in Fig. 15. This matches the result from the Kittel equation for a material when

demagnetization energy contribution is neglected, for which:27

f =

γ
2π

× µ0 × Happlied,

(C1)

yields f = 2.81 GHz.

As the simulation starts from a uniform, well-converged state only the lowest order,

uniform, mode is observed. Modes located at the edge of the sample are suppressed due to

the absence of demagnetization.

As discussed in Sec. III D diﬀerences can arise between simulations performed using the

ﬁnite diﬀerence and ﬁnite element approaches due to their handling of demagnetization

eﬀects at the ﬁlm boundaries. The data above shows that both approaches produce very

similar spectra in the absence of demagnetization eﬀects. We stress that this information

19

is presented for comparative purposes only - it does not have physical meaning. Running

simulations without demagnetization is, however, a useful tool in the debugging process or

to analyze speciﬁc eﬀects without the additional complications of magnetostatic energy.

Appendix D: Software packages used

• OOMMF version: 1.2 alpha 6
• Nmag version: 0.2.1
• Python version: 2.7.8 or 3.5.1
• Numpy version: 1.10.4
• Scipy version: 0.17.0
• Matplotlib version: 1.5.1

∗ fangohr@soton.ac.uk
1 D. V. Berkov, C. T. Boone, and I. N. Krivorotov, Phys. Rev. B 83, 054420 (2011).

2 S. Erokhin, D. Berkov, N. Gorn, and A. Michels, Phys. Rev. B 85, 024410 (2012).

3 G. Finocchio, I. N. Krivorotov, X. Cheng, L. Torres, and B. Azzerboni, Phys. Rev. B 83,

134402 (2011).

4 M. Najaﬁ, B. Kr¨uger, S. Bohlens, M. Franchin, H. Fangohr, A. Vanhaverbeke, R. Allenspach,

M. Bolte, U. Merkt, D. Pfannkuche, D. P. F. M¨oller, and G. Meier, J. Appl. Phys. 105, 113914

(2009).

5 F. S. Ma, H. S. Lim, Z. K. Wang, S. N. Piramanayagam, S. C. Ng, and M. H. Kuok, Appl.

Phys. Lett. 98, 153107 (2011).

6 W. F. Brown Jr., Micromagnetics (New York: Wiley, 1963).

7 M. J. Donahue and D. G. Porter, Interagency Report NISTIR 6376 (National Institute of Stan-

dards and Technology, Gaithersburg, MD).

8 M. R. Scheinfein, LLG Micromagnetics Simulator.

9 MicroMagnum Team, MicroMagnum Micromagnetics Simulator.

20

10 A. Vansteenkiste, J. Leliaert, M. Dvornik, M. Helsen, F. Garcia-Sanchez, and B. Van Waeyen-

berge, AIP Adv. 4, 107133 (2014).

11 T. Fischbacher, M. Franchin, G. Bordignon, and H. Fangohr, IEEE Trans. Magn. 43, 2896

(2007).

12 W. Scholz, J. Fidler, T. Schreﬂ, D. Suess, R. Dittrich, H. Forster, and V. Tsiantos, Comp.

Mater. Sci. 28, 366 (2003).

13 M. J. Donahue, D. G. Porter, R. D. McMichael, and J. Eicke, J. Appl. Phys. 87, 5520 (2000).

14 R. Hertel and H. Kronm¨uller, J. Magn. Magn. Mater. 238, 185 (2002).

15 V. D. Tsiantos, D. Suess, T. Schreﬂ, and J. Fidler, J. Appl. Phys. 89, 7600 (2001).

16 G. Venkat, D. Kumar, M. Franchin, O. Dmytriiev, M. Mruczkiewicz, H. Fangohr, A. Barman,

M. Krawczyk, and A. Prabhakar, IEEE Trans. Magn. 49, 524 (2013).

17 M. Farle, Rep. Prog. Phys. 61, 755 (1998).

18 B. Heinrich, Y. Tserkovnyak, G. Woltersdorf, A. Brataas, R. Urban, and G. E. W. Bauer,

Phys. Rev. Lett. 90, 187601 (2003).

19 B. Heinrich, Z. Celinski, J. F. Cochran, W. B. Muir, J. Rudd, Q. M. Zhong, A. S. Arrott,

K. Myrtle, and J. Kirschner, Phys. Rev. Lett. 64, 673 (1990).

20 H. T. Nembach, T. J. Silva, J. M. Shaw, M. L. Schneider, M. J. Carey, S. Maat, and J. R.

Childress, Phys. Rev. B 84, 054424 (2011).

21 R. D. McMichael and M. D. Stiles, J. Appl. Phys. 97, 10J901 (2005).

22 M. d’Aquino, C. Serpico, G. Miano, and C. Forestiere, J. Comput. Phys. 228, 6130 (2009).

23 A. Baker, M. Beg, G. Ashton, W. Wang, M. Albert, D. Chernyshenko, S. Zhang, M.-

A. Bisotti, M. Franchin, C. L. Hu, R. Stamps, T. Hesjedal,

and H. Fangohr, “Supple-

mentary information for proposal of a micromagnetic standard problem for ferromagnetic

resonance simulations,” Github (2015), https://github.com/fangohr/micromagnetic-standard-

problem-ferromagnetic-resonance.

24 M. J. Donahue and R. D. McMichael, IEEE Trans. Magn. 43, 2878 (2007).

25 W. H. Press,

S. A. Teukolsky, W. T. Vetterling,

and B. P. Flannery,

Numerical Recipes 3rd Edition: The Art of Scientiﬁc Computing

(Cambridge

University

Press, 2007).

26 F. Guo, L. M. Belova, and R. D. McMichael, Phys. Rev. Lett. 110, 017601 (2013).

27 C. Kittel, Introduction to solid state physics (Wiley, 2005).

21

FIGURES

FIG. 1. Geometry of the thin ﬁlm sample, showing the static bias ﬁeld Hext. The ﬁeld is slightly

oﬀ-diagonal to break the symmetry of the system and thus avoid degenerate eigenmodes.

FIG. 2.

(a) Spatially averaged (method 1) y-component (cid:104)My(cid:105)r(t) of the magnetization My(t),
as determined by the ringdown method in by OOMMF. (b) Power spectrum Sy(f ) obtained from
Fourier transform of the spatially averaged y-component of the magnetization (cid:104)My(cid:105)r(t) data, cal-
culated using Eq. 2.

22

0.00.51.01.52.02.5Time (ns)0.5800.5820.5840.5860.5880.5900.5920.594Magnetisation in y-direction(a)5101520Frequency (GHz)10-510-410-310-210-1100Spectral density(b)FIG. 3. Power spectrum Sy(f ) from Eq. (2) (method 1, solid red line) and ˜Sy(f ) from Eq. (5)

(method 2, dashed blue line) from ringdown method in OOMMF.

23

5101520Frequency (GHz)10-510-410-310-210-1100Spectral densityMethod 1Method 2FIG. 4.

Spatially resolved resonance modes in all three Cartesian directions plotted over the

extent of the sample at f1 = 8.25 GHz obtained from ringdown method in OOMMF. Top row:

base 10 logarithmic scale of power spectra for x-, y- and z-component, respectively. Bottom row:

corresponding phase distributions for three components.

24

xyz0.0000.5811.1621.7432.324Amplitudexyz3.140.003.14Phase8.25 GHzFIG. 5.

Spatially resolved resonance modes in all three Cartesian directions plotted over the

extent of the sample at f2 = 11.25 GHz obtained from ringdown method in OOMMF. Top row:

base 10 logarithmic scale of power spectra for x-, y- and z-component, respectively. Bottom row:

corresponding phase distributions for three components.

25

xyz0.00000.21070.42140.63220.8429Amplitudexyz3.140.003.14Phase11.25 GHzFIG. 6. The spatial power spectrum of y-component of magnetization for the 15 lowest frequency

modes. The squares measure 120 nm of each side.

26

8.271 GHz9.403 GHz10.840 GHz11.234 GHz11.993 GHz13.046 GHz13.817 GHz14.277 GHz15.317 GHz15.908 GHz16.719 GHz17.235 GHz17.458 GHz18.410 GHz19.808 GHzFIG. 7.

Comparison of the resonance spectra calculated using method 1 [|Fy(f )|, from Eq.
(2)] obtained by simulation using OOMMF (dashed blue line) and from the eigenvalue problem

formulation (solid red line). Excellent agreement is observed over the whole frequency range,

although the peak heights are slightly diﬀerent. Arrows denote the positions of the modes plotted

in Fig. 8.

27

048121620Frequency (GHz)10-510-410-310-210-1|Fy(f)|(arb.unit)(a)(b)(c)EigenvaluesSimulationFIG. 8. Comparison of the spatially resolved power spectrum given by the ringdown method 2

from OOMMF (middle column) and the eigenvalue problem (left column) for the y-component of

the 3 lowest frequency modes (top row: 8.25 GHz, middle row: 11.25 GHz, bottom row: 13.9 GHz).

Excellent agreement is observed for 8.25 GHz and 11.25 GHz. The agreement gets worse as the

amplitude of the mode generated by the ringdown method decreases, leading to a larger signal-to-

noise ratio and a less well deﬁned spatial plot.

28

8.25 GHz - Eigenmodes0123458.25 GHz - Ringdown0123458.25 GHz - Difference0.0080.0060.0040.0020.0000.0020.0040.0060.00811.25 GHz - Eigenmodes01234511.25 GHz - Ringdown01234511.25 GHz - Difference0.180.120.060.000.060.120.180.240.3013.9 GHz - Eigenmodes01234513.9 GHz - Ringdown01234513.9 GHz - Difference1.61.20.80.40.00.40.81.21.6(a)(b)(c)FIG. 9. Normalized FMR spectrum for systems in the dynamic stage with a range of damping
constants. At α ≥ 0.5 the system is over-damped, not producing resonance modes. As the damping

decreases the peaks become taller and sharper.

29

5101520Frequency (GHz)10-1110-910-710-510-310-1101103|Fy(f)|(arb.unit)α=0.1α=0.01α=0.001α=0.0001FIG. 10. Normalized FMR spectrum as calculated for systems entering the dynamic stage after

varying the time in the relaxation stage. Allowing more time to relax leads to a lower amplitude,

less noise and more well-deﬁned peaks.

30

5101520Frequency (GHz)10-1110-1010-910-810-710-610-510-410-310-210-1100101|Fy(f)|(arb.unit)200 ps400 ps500 ps5000 ps10-1100101102Perturbation angle (Degrees)56789101112Resonance frequency (GHz)OOMMF LF ModeNmag LF ModeOOMMF HF ModeNmag HF ModeFIG. 11. Changes to the resonance frequency of the main modes in the FMR spectrum as the

magnitude of the initial perturbation is altered. The FD method used by OOMMF is relatively

unaﬀected by this change for small angles, at high angles the spectrum becomes noisy and resonance
frequency drops. LF stands for Low Frequency peak at ≈ 8 GHz and HF for High Frequency at
≈ 11 GHz

FIG. 12. Location of the main resonance modes in the FMR spectrum as a function of resolution

of the mesh. The FE method shows greater deviation from standard results with changes to the

parameters, due to its more sensitive handling of demagnetization eﬀects.

FIG. 13. Comparison of the resonance spectra |Fy(f )| obtained using OOMMF and Nmag with
diﬀerent resolutions of the mesh. A cell size of 5 × 5 × 5 nm3 is used for OOMMF. Data from

OOMMF and Nmag agree well when the cell size for Nmag is reduced.

31

100101102103Cell size (nm)3456789101112Resonance frequency (GHz)OOMMF LF ModeNmag LF ModeOOMMF HF ModeNmag HF Mode05101520Frequency (GHz)0.00.10.20.30.40.50.60.70.80.9|Fy(f)|(arb.units)OOMMF, 5×5×5 nm3nmag, 5×5×5 nm3nmag, 2×2×1 nm3FIG. 14. Comparison of average magnetization (y-component) evolution between OOMMF and

Nmag with diﬀerent resolutions of the mesh. Note the phase shift that develops between diﬀerent

spatial resolutions in Nmag, corresponding to a diﬀerent mode frequency in Fig. 14. Data from

OOMMF and Nmag agree well when the cell size for Nmag is reduced.

32

0.00.51.01.52.02.5Time (ns)0.5780.5820.5860.5900.594My/MsOOMMF, 5×5×5 nm3nmag, 5×5×5 nm3nmag, 2×2×1 nm3246810Frequency (GHz)10-810-710-610-510-410-310-210-1100101102103|Fy(f)|(arb.unit)OOMMFNmagFIG. 15. Power spectrum for the proposed standard problem with the demagnetization ﬁeld

disabled. This removes all but one peak, wherein the entire sample is in resonance together.

Finite element and ﬁnite diﬀerent codes produce the same result under these conditions.

TABLES

Parameter

saturation magnetization (Ms)

exchange constant (A)

anisotropy constant (K)
gyromagnetic ratio (γ∗)

Value Unit

800 kA/m
1.3 × 10−11 J/m
0 J/m3

2.210173 × 105 m/(As)

Gilbert damping (α), relaxation

Gilbert damping (α), dynamic
DC bias ﬁeld magnitude (|H0|)
DC bias ﬁeld (e), relaxation

1.0

0.008

80 kA/m

[1, 0.715, 0]

DC bias ﬁeld (e), dynamic

[1, 0.7, 0]

TABLE I. External magnetic ﬁelds and material (permalloy) parameters used. Where these

change between the initial relaxation stage of the simulation, and the subsequent dynamic stage,

both values are shown.

Mode Frequency (GHz) Damping Time (ns)

8.270

9.402

10.839

11.233

11.992

13.045

13.816

14.276

1.549

1.639

1.437

1.452

1.401

1.345

1.292

1.253

33

15.316

15.907

16.718

17.234

17.457

18.409

19.806

1.191

1.156

1.126

1.094

1.094

1.030

0.963

TABLE II. Frequency and damping time of the 15 lowest frequency modes, calculated using an

eigenvalue problem approach.

34

