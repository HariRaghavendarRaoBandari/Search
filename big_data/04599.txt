6
1
0
2

 
r
a

 

M
5
1

 
 
]
T
R
h
t
a
m

.

[
 
 

1
v
9
9
5
4
0

.

3
0
6
1
:
v
i
X
r
a

Inﬁnitely generated Hecke algebras with inﬁnite presentation

Corina Ciobotaru∗

March 16, 2016

Abstract

For a locally compact group G and a compact subgroup K, the corresponding
Hecke algebra consists of all continuous compactly supported complex functions on
G that are K–bi-invariant. There are many examples of totally disconnected locally
compact groups whose Hecke algebras with respect to the maximal compact sub-
groups are not commutative. One of those is the universal group U (F )+, when F
is primitive but not 2–transitive. For this class of groups we prove that the Hecke
algebra with respect to the maximal compact subgroup K is inﬁnitely generated
and inﬁnitely presented. This may be relevant for constructing irreducible unitary
representations of U (F )+ whose subspace of K–ﬁxed vectors has dimension at least
two, or answering the question whether U (F )+ is a type I group or not. On the con-
trary, when F is 2–transitive that Hecke algebra of U (F )+ is commutative, ﬁnitely
generated admitting only one generator.

1

Introduction

The Hecke algebras are very useful tools to study the representation theory of locally
compact groups. For example, in the particular case of a semi-simple algebraic group
G over a non-Archimedean local ﬁeld there are two important Hecke algebras that can
be associated with: the Hecke algebra of G with respect to the good maximal compact
subgroup, called the spherical Hecke algebra of G, and the Hecke algebra of G with re-
spect to the Iwahori subgroup, which is a smaller compact subgroup. The latter algebra
is called the Iwahori–Hecke algebra of G and plays a very important role in the repre-
sentation theory of algebraic groups, especially in the Kazhdan–Lusztig theory, being an
intense and rich ﬁeld of research. The former one is used to study the spherical unitary
dual of semi-simple and analogous groups. That Hecke algebra is moreover commuta-
tive and ﬁnitely generated with respect to the convolution product. The representation
theory of both algebras are intimately related to the representation theory of G.

In this article we restrict our attention to Hecke algebras associated with speciﬁc to-
tally disconnected locally compact groups and their maximal compact subgroups. First,
let us recall the general deﬁnition of a Hecke algebra and some more speciﬁc motivation.

∗corina.ciobotaru@unifr.ch

1

Deﬁnition 1.1. Let G be a locally compact group and K ≤ G be a compact subgroup.
We denote by Cc(G, K) the space of continuous, compactly supported complex-valued
functions φ : G → C that are K-bi-invariant, i.e., functions that satisfy the equality
φ(kgk′) = φ(g) for every g ∈ G and all k, k′ ∈ K. We view the C-vector space Cc(G, K)
as an algebra whose multiplication is given by the convolution product

φ ∗ ψ : x 7→ZG

φ(xg)ψ(g−1)dµ(g)

where µ is the left Haar measure on G. Moreover, Cc(G, K) is called the Hecke algebra
corresponding to K ≤ G and (G, K) forms a Gelfand pair if the convolution algebra
Cc(G, K) is commutative.

For a locally compact group G it is well known that there is a natural one-to-one
correspondence between (irreducible) unitary representations of G and (irreducible) non-
degenerate ∗–representations of L1(G) (see for example Dixmier [Dix77, Chapter 13]).
When restricted to a Hecke algebra of G we have the following situation. To any (ir-
reducible) unitary representation (π, H) of G admitting a non-zero K–invariant vector
there is associated a canonical (irreducible) non-degenerate ∗–representation of the Hecke
algebra Cc(G, K) to End(HK), where HK is the space of K–invariant vectors with respect
to (π, H). In general the converse is not true, namely: the category of non-degenerate
∗–representation of the Hecke algebra Cc(G, K) is not necessarily equivalent to the cate-
gory of unitary representations of G generated by K–ﬁxed vectors (see for example the
PhD thesis of Hall [Hal99]).

The importance of Gelfand pairs in the theory of unitary representations of locally
compact groups is given by the following well known two results. For the corresponding
deﬁnitions one can consult van Dijk [vD09].

Proposition 1.2 (See Proposition 6.3.1 in [vD09]). Let G be a locally compact group
and K a compact subgroup of it. The pair (G, K) is Gelfand if and only if for every
irreducible unitary representation π of G on a Hilbert space H the dimension of the
subspace of K–ﬁxed vectors is at most one.

Corollary 1.3 (See Corollary 6.3.3 in [vD09]). Let (G, K) be a Gelfand pair. The
positive-deﬁnite spherical functions on G correspond one-to-one to the equivalence classes
of irreducible unitary representations of G having a one-dimensional K-ﬁxed vector
space.

All known examples of connected and totally disconnected non-compact locally com-

pact groups that admit Gelfand pairs are:

1. all semi-simple non-compact real Lie groups, with ﬁnite center, together with their

maximal compact subgroups

2. locally compact groups G that act continuously, properly, by type-preserving au-
tomorphisms and strongly transitively on a locally ﬁnite thick Euclidean building
∆ together with the stabilizer in G of a special vertex of ∆.

2

In the latter case, by the main theorem of Caprace–Ciobotaru [CC15] those are all
Gelfand pairs that can appear. Recall that the second family of groups includes all
semi-simple algebraic groups over non-Archimedean local ﬁelds and closed subgroups of
Aut(T ), that act 2–transitively on the boundary of T , where T is a bi-regular tree with
valence at least 3 at every vertex. Using the polar decomposition of those groups (see for
example [Cio15, Remark 4.6, Lemma 4.7]) and the Lemma of Bernstein [Ber74], we have
that the commutative Hecke algebra Cc(G, K), where K is the stabilizer in G of a special
vertex of its corresponding Bruhat–Tits building, is ﬁnitely generated. Moreover, the
main result of Bernstein [Ber74] states that all reductive p-adic Lie groups are groups of
type I (see Deﬁnition 5.4.2 in [Dix77]). For the case of closed non-compact subgroups of
Aut(Td) that act 2–transitively on the boundary of Td, the type I property is still open
in this generality (see [Dem04], [Cio]).

Apart from the case of Gelfand pairs, the structure of Hecke algebras with respect
to maximal compact subgroups is in general much less studied, even if those algebras
can provide very useful information about the unitary representations of that locally
compact groups. In this article we propose to study the structure of non-commutative
Hecke algebras that are associated with a particular family of totally disconnected locally
compact groups and their maximal compact subgroups. This family of groups is given
by the universal groups U (F ) introduced by Burger–Mozes in [BM00, Section 3]. In his
PhD thesis [Ama03], Amann studies these groups from the point of view of their unitary
representations.

First, let us recall the basic deﬁnitions.

Deﬁnition 1.4. Denote by T the d-regular tree, with d ≥ 3, and by Aut(T ) its
full group of automorphisms, endowed with the compact-open topology. Let ι : E(T ) →
{1, ..., d} be a function from the set E(T ) of unoriented edges of the tree T such that
its restriction to the star E(x) of every vertex x ∈ T is in bijection with {1, ..., d}. A
function ι with those properties is called a legal coloring of the tree T .

Deﬁnition 1.5. Let F be a subgroup of permutations of the set {1, ..., d} and let ι be
a legal coloring of T . We deﬁne the universal group, with respect to F and ι, to be

U (F ) := {g ∈ Aut(T ) | ι ◦ g ◦ (ι|E(x))−1 ∈ F, for every x ∈ T }.

By U (F )+ we denote the subgroup generated by the edge-stabilizing elements of
U (F ). Moreover, Proposition 52 of [Ama03] tells us that the groups U (F ), U (F )+ are
independent of the legal coloring ι of T .

From the deﬁnition we deduce that U (F ) and U (F )+ are closed subgroups of Aut(T ).
When F is the full permutation group Sym({1, ..., d}) we have that U (F ) = Aut(T ). If
F = id then U (F ) is the group of all automorphisms preserving the coloring ι of T .

Another key property which is used in the sequel is the following.

Deﬁnition 1.6 (See [Tit70]). Let T be a locally ﬁnite tree and let G ≤ Aut(T ) be a
closed subgroup. We say that G has Tits’ independence property if for every edge

3

e of T we have the equality Ge = GT1GT2 , where Ti are the two inﬁnite half sub-trees of
T emanating from the edge e and GTi is the pointwise stabilizer of the half-tree Ti.

Following [BM00, Ama03] we know that U (F ) and U (F )+ have Tits’ independence

property.

To avoid heavy notation, for the rest of the article we refer to the following convention.

Convention 1.7. Fix d ≥ 3. We denote by distT the usual distance on T . Let F be a
primitive subgroup of Sym{1, · · · , d}. Consider ﬁxed a coloring ι of T , a vertex x of T
and an edge e in the star of x. For simplicity set G := U (F )+ and K := U (F )+
x , which
is the stabilizer in G of the vertex x. Moreover, for a ﬁnite subset A ⊂ T we denote by
GA the pointwise stabilizer in G of the set A. For ξ ∈ ∂ T , Gξ denotes the stabilizer in
G of the ideal point ξ. Let S(x, r) := {y ∈ T | distT (x, y) = r}, where r ∈ N∗. Let T x,e
be the half-tree of T that emanates from the vertex x and that contains the edge e. Set
Vx,r := S(x, r) ∩ T x,e, for every r ∈ N∗. We have that |Vx,r| = (d − 1)r−1. For every two
points y, z ∈ T ∪∂ T , we denote by [y, z] the unique geodesic between y and z in T ∪∂ T .
For a hyperbolic element γ in G let |γ| := minx∈T {distT (x, γ(x))}, which is called the
translation length of γ. Set Min(γ) := {x ∈ T | distT (x, γ(x)) = |γ|}.

By [BM00, Ama03] the group G act 2–transitively on the boundary ∂ T if and only
if F is 2–transitive. From this fact together with the main theorem in [CC15], applied
to our case of d-regular trees, we obtain that (G, K) is a Gelfand pair if and only if F
is 2–transitive. Therefore, when F is primitive but not 2–transitive the Hecke algebra
Cc(G, K) is not commutative. In particular, by Proposition 1.2 the group G admits an
irreducible unitary representation whose subspace of K–ﬁxed vectors has dimension at
least two. Moreover, the theory of unitary representations of G is not at all developed
when F is primitive but not 2–transitive. It is therefore natural to study the structure of
the Hecke algebra Cc(G, K) when F is primitive but not 2–transitive and its irreducible
non-degenerate ∗–representations. Regarding the structure of this algebra we obtain the
following theorem, which is the main result of this article.

Theorem 1.8. Let F be primitive. If F is 2-transitive then the Hecke algebra Cc(G, K)
is ﬁnitely generated admitting only one generator.
If F is not 2–transitive, then the
Hecke algebra Cc(G, K) is inﬁnitely generated with an inﬁnite presentation.

Understanding irreducible non-degenerate ∗–representations of Cc(G, K) when F is
primitive but not 2–transitive is left for a further study. It would be also interesting to
see if Theorem 1.8 could be used to answer the open question whether G is not a type I
group when F is primitive but not 2–transitive and to construct an explicit irreducible
unitary representation of G whose subspace of K–ﬁxed vectors has dimension at least
two.

The article is structured as follows. In Section 2 we prove combinatorial formulas
that are essential for the proof of our main theorem. In Section 3 we study the structure
of the Hecke algebra Cc(G, K) when F is primitive. This is used in Section 4 to prove
Theorem 1.8.

4

Acknowledgement

We would like to thank Anders Karlsson for his encouragement to continue working on
this article and his useful comments and Laurent Bartholdi, Oﬁr David, Iain Gordon,
Alex Lubotzky and Agata Smoktunowicz for further discussions regarding ﬁnitely and
inﬁnitely generated algebras. This article was written when the author was a post-doc
at the University of Geneva and University of M¨unster. We would like to thank those
institutions for their hospitality and good conditions of working.

2 Some combinatorial formulas

This section is meant to prove combinatorial formulas relating multinomial and binomial
coeﬃcients, as shown by Proposition 2.4 below. These formulas are proved using New-
ton’s General Binomial Theorem. As a consequence we obtain Lemma 2.5 below, which
is one of the key ingredients involved in the main results of this article.

Deﬁnition 2.1. Let f, f ′ : N∗ × N∗ → N∗ be deﬁned by

f (r, k) := kr(k − 1)r−1 and f ′(r, k) := (k − 1)r−1,

for every (r, k) ∈ N∗ × N∗, where N∗ := N \ {0} and with the convention that 00 = 1.

n−1

Pi=1

For n ∈ N, set Sum(n) := {(k1, · · · , kn−1) | ki ∈ N and n =

ki · i}.

For l ≥ 2 and (k1, · · · , kl) ∈ Nl the corresponding multinomial coeﬃcient is

deﬁned to be

(cid:18) k1 + · · · + kl

k1, · · · , kl (cid:19) :=

(k1 + · · · + kl)!

k1!k2! · · · kl!

,

with the convention that 0! = 1. The multinomial coeﬃcient counts the total number
of diﬀerent words of length k1 + · · · + kl formed with l distinct letters, where ki is the
multiplicity of the ith letter. For l = 2 we obtain the binomial coeﬃcient.

For every r ∈ N with r ≥ 2 let

P1,r(X) := X r−2 + · · · + X + 1

where X is the variable of the polynomial. Notice that P1,r(1) = r − 1. Moreover

P1,r(X) − (r − 1) =

r−2

Xj=1

(X j − 1) = (X − 1)


r−2

Xj=1

(X j−1 + · · · + X + 1)
 .

For every r ∈ N with r ≥ 3 deﬁne

P2,r(X) :=

P1,r(X) − (r − 1)

X − 1

=

r−2

(X j−1 + · · · + X + 1).

Xj=1

5

More generally, for every i ∈ N with i ≥ 2 and every r ∈ N with r ≥ i + 1 deﬁne

Pi,r(X) :=

Pi−1,r(X) − Pi−1,r(1)

X − 1

.

Lemma 2.2. For every r ∈ N with r ≥ 3 and every i ∈ {2, · · · , r − 1} we have that

Pi,r(X) =

Pi−1,j(X).

r−1

Xj=i

(1)

Proof. Given r ≥ 3, we prove the lemma by induction on i. First we verify it for i = 2.
Indeed, we have

P2,r(X) =

P1,r(X) − P1,r(1)

X − 1

=

X r−2 + X r−3 + · · · + X + 1 − (r − 1)

X − 1

r−1

=

(X j−2 + · · · + 1) =

Xj=2

P1,j(X).

r−1

Xj=2

=

r−2

Xj=1

X j − 1
X − 1

Suppose that the formula (1) is true for i and we want to prove it for i + 1. We have

Pi+1,r(X) =

Pi,r(X) − Pi,r(1)

X − 1

=

r−1

Xj=i

Pi−1,j(X) − Pi−1,j(1)

X − 1

=

r−1

Xj=i+1

Pi,j(X),

as for j = i we have that Pi−1,i(X) = Pi−1,i(1) because the degree of the polynomial
Pi−1,i(X) is zero.

We also need the following easy lemma.

Lemma 2.3. For every j ∈ N with j ≥ 2 and every i ∈ {1, · · · , j − 1} we have that

(j − 1)!

.

(2)

Given j ≥ 2, one can easily verify formula (2) by induction on i and by using formula

Proof. First notice that P1,j(1) = j − 1 = (j−1)!

Pi,j(1) =(cid:18) j − 1

i!(j − i − 1)!

i (cid:19) =
1!(j−2)! =(cid:18) j − 1
1 (cid:19).

(1) for X = 1 and the known equality

l(l + 1) · · · (l + k) =

n(n + 1) · · · (n + k + 1)

k + 2

.

n

Xl=1

6

Proposition 2.4. For every r ∈ N with r ≥ 2 and every i ∈ {1, · · · , r − 1} we have that

Pi,r(1) =(cid:18) r − 1

i (cid:19) =

X(k1,··· ,kr−1)∈Sum(r)

k1+···+kr−1=r−i

(cid:18)

r − i

k1, · · · , kr−1 (cid:19) .

(3)

Proof. The key ingredient in order to prove the proposition is the following equality,
known as Newton’s General Binomial Theorem. Let n ∈ N∗. Formally we have

X k!n
(1 + X + X 2 + · · · )n =  ∞
Xk=0
(−1)k(cid:18) −n
Xk=0

1 − X(cid:19)n
=(cid:18) 1
k (cid:19) X k =

=

∞

where by deﬁnition(cid:18) −n
(cid:18) r − i + i − 1

k (cid:19) := (−n)(−n−1)···(−n−k+1)
(cid:19) =(cid:18) r − 1
i (cid:19).

k!

i

= (1 − X)−n

∞

k

Xk=0(cid:18) n + k − 1
, thus (−1)k(cid:18) −n

(4)

(cid:19) X k,

k (cid:19) = n(n+1)···(n+k−1)

k!

.

Take n := r − i. Then for k = i the coeﬃcient of X i provided by formula (4) is

Now compute the coeﬃcient of X i with respect to the product (1 + X + X 2 + · · · )r−i.

By the deﬁnition of the multinomial coeﬃcient this equals

Notice the following equality of sets:

k1+k2···+ki+1=r−i (cid:18)

k2+2·k3+···+i·ki+1=i

P

r − i

k1, · · · , ki+1 (cid:19).

{(k1, k2, · · · , ki+1) | k2 + 2 · k3 + · · · + i · ki+1 = i and k1 + k2 · · · + ki+1 = r − i}
=
{(k1, k2, · · · , ki+1) | (k1, k2 · · · , ki+1, 0, · · · , 0) ∈ Sum(r) and k1 + k2 · · · + ki+1 = r − i}
=
{(k1, k2, · · · , kr−1) | (k1, k2 · · · , kr−1) ∈ Sum(r) and k1 + k2 · · · + kr−1 = r − i},

as in the last set, ki+2 = · · · = kr−1 are always zero. Therefore

Xk2+2k3+···iki+1=i

k1+k2···+ki+1=r−i

(cid:18)

r − i

k1, · · · , ki+1 (cid:19) =

X(k1,··· ,kr−1)∈Sum(r)

k1+···+kr−1=r−i

(cid:18)

r − i

k1, · · · , kr−1 (cid:19) .

We conclude that indeed

(k1,··· ,kr−1)∈Sum(r)

k1+···+kr−1=r−i

P

(cid:18)

r − i

k1, · · · , kr−1 (cid:19) =(cid:18) r − 1
i (cid:19).

7

Lemma 2.5. Let r, k ∈ N with r, k ≥ 1. We have that

k2r−1−

X(k1,··· ,kr−1)∈Sum(r)(cid:18) k1 + · · · + kr−1

k1, · · · , kr−1 (cid:19) f (1, k)k1f (2, k)k2 · · · f (r−1, k)kr−1 = f (r, k)

Proof. By Proposition 2.4, we obtain that

M := k2r−1 −

= k2r−1 −

k1, · · · , kr−1 (cid:19) f (1, k)k1 f (2, k)k2 · · · f (r − 1, k)kr−1
k1, · · · , kr−1 (cid:19) kr(k − 1)k2+2k3+···+(r−2)kr−1
k1, · · · , kr−1 (cid:19) (k − 1)k2+2k3+···+(r−2)kr−1


X(k1,··· ,kr−1)∈Sum (r)(cid:18) k1 + · · · + kr−1
X(k1,··· ,kr−1)∈Sum(r)(cid:18) k1 + · · · + kr−1
X(k1,··· ,kr−1)∈Sum (r)(cid:18) k1 + · · · + kr−1
Xi=2

k1, · · · , kr−1 (cid:19) (k − 1)r−i


r−1

i

r−1

(cid:18)
X(k1,··· ,kr−1)∈Sum (r)
Pr−i,r(1)(k − 1)r−i!

k1+···+kr−1=i

= kr
kr−1 −
= kr


kr−1 − 1 −

r−1

Xi=2

= kr kr−1 − 1 −
Pr−i,r(1)(k − 1)r−i!
= kr (k − 1)(kr−2 + · · · + k + 1) −
Xi=2
Pr−i,r(1)(k − 1)r−i−1!
= kr(k − 1) P1,r(k) − P1,r(1) −
Xi=2
Pr−i,r(1)(k − 1)r−i−2!
= kr(k − 1)2 P2,r(k) − P2,r(1) −
Xi=2

r−3

r−2

= · · ·

= kr(k − 1)r−3
= kr(k − 1)r−3 (k − 1)Pr−2,r(k) −

Pr−3,r(k) − Pr−3,r(1) −
Xi=2

2

r−1−(r−3)

Xi=2

Pr−i,r(1)(k − 1)r−i−(r−3)


Pr−i,r(1)(k − 1)r−i−(r−3)!

= kr(k − 1)r−3 ((k − 1)Pr−2,r(k) − Pr−2,r(1)(k − 1))

r − 1 (cid:19)
= kr(k − 1)r−2(k − 1)Pr−1,r(k) = kr(k − 1)r−1Pr−1,r(1) = kr(k − 1)r−1(cid:18) r − 1

= kr(k − 1)r−1 = f (r, k).

8

3 Computation of the Hecke algebra

Every function of the Hecke algebra Cc(G, K) is a ﬁnite linear combination of functions
of the form 1KgK with g ∈ G. To better understand the Hecke algebra Cc(G, K) one
should be able to evaluate the convolution product of a ﬁnite number of functions 1KgK
with g ∈ G. The structure of the group G allows us to characterize its K–double cosets
and to perform computations of the desired convolution products.

3.1 K–double cosets of G

The goal of this subsection is to describe and count K–double cosets of G. Along the
way we also give a description of some special hyperbolic elements of G that play an
important role in that study.

When F is primitive but not 2–transitive, the group G still has some of the properties
of closed non-compact subgroups of Aut(T ) that act 2–transitively on the boundary ∂ T .

Remark 3.1. As F is primitive, given an edge e′ of T at odd distance from e, one
can construct (using the deﬁnition of G) a hyperbolic element in G translating e to e′.
Moreover, every hyperbolic element in G has even translation length.

Lemma 3.2. (KA+K decomposition) Let F be primitive. Then G admits a KA+K
decomposition, where

A+ := {γ ∈ G | γ is hyperbolic, e ⊂ Min(γ), γ translates the edge e inside T x,e} ∪ {id}.

If g(x) = x, then g ∈ K. Suppose that g(x) 6= x. Consider the
Proof. Let g ∈ G.
geodesic segment [x, g(x)] in T and denote by e1 the edge of the star of x that belongs
to [x, g(x)]. Notice that [x, g(x)] has even length and that there exists k ∈ K such that
k(e1) = e; therefore, kg(x) ∈ T x,e. By Remark 3.1 there is a hyperbolic element γ ∈ G
of translation length equal to the length of [x, g(x)] that translates the edge e inside T x,e
and such that γ(x) = kg(x); thus γ−1kg ∈ K. Notice that the KA+K decomposition of
an element g ∈ G is not unique.

Remark 3.3. By Lemma 3.2 one notices that every K–double coset of G is of the form
KγK for some γ ∈ A+. When F is 2–transitive we have that A+ =< a >+, where a
is a hyperbolic element of G, with |a| = 2 and x ∈ Min(a). In this case we obtain the
well-known polar decomposition of G and the K–double cosets of G are just {KanK}n≥0.

In order to describe the hyperbolic elements in A+ we need the following easy but

important remarks.

Remark 3.4. Let γ, γ′ ∈ A+ be two hyperbolic elements. We claim that γγ′ is again
a hyperbolic element of A+ and that |γ| + |γ′| = |γγ′|.
Indeed, the edge e endowed
with the orientation pointing towards the boundary ∂ T x,e is sent by any η ∈ A+ to an
edge of T x,e with induced orientation that points towards the boundary ∂ T x,e. This
observation proves the claim.

9

Remark 3.5. For i ∈ {1, · · · , d} let Fi be the stabilizer in F of i. As F is transitive
on the set {1, · · · , d} the number of orbits of Fi acting on the set {1, · · · , d} \ {i} is
independent of the choice of the color i. Therefore, we denote by k the total number of
all such orbits. In addition, independently of the choice of a color i ∈ {1, · · · , d} we are
allowed to denote by nj, where j ∈ {1, · · · , k}, the number of elements of each Fi–orbit
in {1, · · · , d} \ {i}. Notice that n1 + · · · + nk = d − 1. If F is 2–transitive k = 1. If F is
not 2–transitive we have that k ≥ 2.

Let us now describe the elements in A+ of translation length 2. By Remarks 3.1
and 3.5 it is easy to see that there are exactly k distinct K–double cosets KγK, with
γ ∈ A+ and |γ| = 2. Let KγK be such a K–double coset and let γ1, γ2 ∈ A+ ∩ KγK.
Then |γi| = 2, for every i ∈ {1, 2}. We notice that there are two cases: either there is
k ∈ Ge such that kγ1(e) = γ2(e), or kγ1(e) 6= γ2(e) for every k ∈ K. Moreover, the
latter mentioned case occurs if and only if F is not 2–transitive.

Deﬁnition 3.6. Let F be primitive and let γ1, γ2 ∈ A+ be such that |γ1| = |γ2| = 2. We
say that (γ1, γ2) is a K–primitive pair if there exists k ∈ K such that kγ1(e) = γ2(e).
If this is the case, notice that k ∈ Ge and Kγ1K = Kγ2K.
In particular, for every
k′ ∈ G

[x,γ1(e)] we have that k′γ1(e) = γ2(e).

[x,γ2(e)] k G

Lemma 3.7. Let F be primitive. Then every K–double coset KγK, with γ ∈ A+ of
translation length 2, admits exactly k K–primitive pairs up to K–left-right multiplica-
In particular there are exactly k2 K–primitive pairs of A+, up to K–left-right
tion.
multiplication.

Proof. The proof follows from Remark 3.5.

For a further use and following Lemma 3.7 let us make the following notation.

Notation 3.8. For every γ ∈ A+, with |γ| = 2, we denote by {γj}j∈{1,··· ,k} ⊂ A+ the
set of diﬀerent elements of translation length 2 such that for every η ∈ KγK ∩ A+ there
exists a unique j ∈ {1, · · · , k} with the property that (η, γj ) is a K–primitive pair.

Lemma 3.9. Let F be primitive. Let γ, γ′ ∈ A+ be such that there exists k ∈ K with
2 ∈ A+ with
kγ(e) = γ′(e) and let (γ1, γ′
2K. Then there exists k′ ∈ K with the property
|γ2| = |γ′
that k′γγ1(e) = γ′γ′

1) be a K–primitive pair. Respectively, let γ2, γ′

2| and such that Kγ2K = Kγ′

1(e), respectively, k′γγ2(x) = γ′γ′

2(x).

Proof. We have to ﬁnd k′ ∈ K such that k′ sends the geodesic segment [x, γγ1(e)]
into the geodesic segment [x, γ′γ′
1(e)]. Notice that by hypothesis, it already exists k ∈
K that sends the geodesic segment [x, γ(e)] ⊂ [x, γγ1(e)] into the geodesic segment
[x,γ ′(e)] that sends [γ′(e), kγγ1(e)]
[x, γ′(e)] ⊂ [x, γ′γ′
1(e)]. Suppose the contrary that there is no such k′ ∈ G[x,γ ′(e)]. Using the
into [γ′(e), γ′γ′
deﬁnition of G (or the fact that G has Tits’ independence property, see [Ama03]), we
have that by ﬁxing the edge γ′(e), the segment [γ′(e), γ′γ′
1(e)] is not contained in the
Gγ ′(e)–orbit of the segment [γ′(e), kγγ1(e)]. Apply now (γ′)−1. The latter assumption

1(e)]. We just need to ﬁnd k′ ∈ G

10

becomes that by ﬁxing the edge e, the segment [e, γ′
of the segment [e, (γ′)−1kγγ1(e)]. But (γ′)−1kγ ∈ Ge < K and recall that (γ1, γ′
K–primitive pair. We obtained thus a contradiction and the conclusion follows.

1(e)] is not contained in the Ge–orbit
1) is a

If we just consider that Kγ2K = Kγ′

2K, one proceeds in the same way as above by

replacing the edge e with the vertex x where is needed.

The importance of K–primitive pairs is expressed by the next proposition where two
K–double cosets of G are compared. Its proof relies on the fact that every element in
A+ can be written as a product of elements of A+ that are of translation length 2; the
aim of describing the elements of A+ being thus achieved.

Proposition 3.10. Let F be primitive and let γ ∈ A+. Then γ = γ1γ2 · · · γt, where γi ∈
A+ is such that |γi| = 2, for every i ∈ {1, · · · , t}. Moreover, for any γ1, · · · , γt, γ′
1, · · · , γ′
t ∈
A+, with |γi| = |γ′
i| = 2 for every i ∈ {1, · · · , t}, the following equivalence is true:
Kγ1γ2 · · · γtK = Kγ′
i) are K–primitive for every i ∈
{1, · · · , t − 1} and KγtK = Kγ′

tK if and only if (γi, γ′

2 · · · γ′

1γ′

tK.

Proof. Let us prove the ﬁrst part of the proposition. Notice that if |γ| = 2 the conclusion
follows. Assume that |γ| > 2 and denote the vertices of the geodesic [x, γ(x)] ⊂ T x,e by
x = x0, x1, x2, · · · , x2t. Then by Remark 3.1 there exists γ1 ∈ A+ with |γ1| = 2 such that
γ1(e) = [x2, x3]. Notice that γ−1
1 γ| = |γ|−2. Indeed,
this is because the orientation of the edge γ−1
1 γ(e) induced from the orientation of e that
points towards the boundary of the half-tree T x,e is preserved. Apply now the above
procedure to γ−1
1 γ is
in A+ with |γ−1
1 γ| = |γ| − 4. By induction we obtain the elements γ1, γ2, · · · , γt with
the property that γ = γ1γ2 · · · γt. The conclusion follows.

1 γ. There exists thus γ2 ∈ A+ with |γ2| = 2 and such that γ−1
2 γ−1

1 γ is still an element of A+, with |γ−1

2 γ−1

2 · · · γ′

Let us prove the second part of the proposition.
Assume that Kγ1γ2 · · · γtK = Kγ′
2 · · · γ′

tK. This means that there exist k, k′ ∈ K
1γ′
such that kγ1γ2 · · · γtk′ = γ′
t; this is equivalent to saying that there is k ∈ K
such that the geodesic segment [x, γ1γ2 · · · γt(x)] is sent by k into the geodesic segment
2 · · · γ′
[x, γ′
t(x)].
Therefore, (γ′
t. We apply again
the above procedure and by induction we obtain that (γi, γ′
i) are K–primitive for every
i ∈ {1, · · · , t − 1} and KγtK = Kγ′

t(x)]. From here we deduce that in fact kγ1(e) = γ′
1)−1kγ1 =: k1 ∈ Ge < K and k1γ2 · · · γtk′ = γ′

1(e) ⊂ [x, γ′
2 · · · γ′

tK. The implication follows.

2 · · · γ′

1γ′

1γ′

1γ′

Assume now that (γi, γ′
tK. We need to ﬁnd k ∈ K such that k([x, γ1γ2 · · · γt(x)]) = [x, γ′

i) are K–primitive for every i ∈ {1, · · · , t − 1} and KγtK =
Kγ′
t(x)]. We
prove this by induction on i ∈ {1, · · · , t} by applying Lemma 3.9. Notice that for i = 1
we just use that (γ1, γ′
1) is a K–primitive pair. Suppose that the induction step is true
for i and we want to prove it for i + 1. This means that there is ki ∈ K that sends
the geodesic segment [x, γ1γ2 · · · γi(e)] into the geodesic segment [x, γ′
i(e)] and
we want to ﬁnd ki+1 ∈ K that sends the geodesic segment [x, γ1γ2 · · · γiγi+1(e)] into the
geodesic segment [x, γ′
iγi+1(e)]. This follows by applying Lemma 3.9, even for
the last induction step when i + 1 = t. The conclusion is thus proved.

2 · · · γ′

2 · · · γ′

2 · · · γ′

1γ′

1γ′

1γ′

11

The following lemma counts the K–double cosets of G. Together with Proposi-

tion 3.10 the goal of this subsection is achieved.

Lemma 3.11. Let F be primitive. Using Convention 1.7, for every r ≥ 1 the total
number of orbits of the group Ge acting on Vx,2r is exactly k2r−1.

For any two distinct Ge–orbits [x1], [x2] of the 2r–level Vx,2r, there exist hyperbolic
elements γ1, γ2 ∈ A+ such that γi(x) = xi, for i ∈ {1, 2}. In addition, for any such
choice of γ1, γ2 having the above properties we have that Kγ1K 6= Kγ2K.

Therefore, for every r ≥ 1 there are exactly k2r−1 disjoint K–double cosets KγK,

where γ ∈ A+ and |γ| = 2r.

Proof. We prove the ﬁrst assertion by induction on r. For r = 1, this is Remark 3.5.

Suppose now that the induction hypothesis is true for r ≥ 1 and we want to prove it
for r + 1. Fix any vertex y of the 2r–level Vx,2r and denote by [z, y] the corresponding
last edge of the geodesic segment [x, y]. We claim that there are exactly k2 orbits of
[z,y] acting on Vz,3. Indeed, this follows from the fact that (d − 1)2 = (n1 + · · · + nk)2 =
G
i,j=1 ninj, where we have k2 terms as the pairs (i, j) and (j, i) give disjoint orbits of
the group G[z,y] acting on Vz,3. Applying then Tits’ independence property of G for the
subgroup G[z,y], we obtain that in fact there are k2 orbits of G[x,y] acting on Vz,3. From
the above claim the induction step follows easily.

Pk

The ﬁrst part of the second assertion of the lemma is Remark 3.1. Notice that for a
given Ge–orbit [x1], the hyperbolic element γ1 does not depend, up to Ge–conjugation,
on the chosen representative x1.

It remains to prove that for any two such hyperbolic elements γ1, γ2 we have that
Kγ1K 6= Kγ2K. Indeed, consider two disjoint Ge–orbits [x1], [x2] of the 2r–level Vx,2r
and two hyperbolic elements γ1, γ2 ∈ G such that γi(x) = xi, for i ∈ {1, 2}. By contra-
position, suppose that (Kγ1K) ∩ (Kγ2K) 6= ∅. Then γ1 = k1γ2k2, for some k1, k2 ∈ K.
As γi(x) = xi and x1, x2 ∈ Vx,2r, we have that x1 = k1(x2) and k1 ∈ Ge. This is a
contradiction with [x1] 6= [x2] as Ge–orbits. The conclusion follows.

3.2 Convolution products of K–double cosets

Recall that our main goal is to prove that the Hecke algebra Cc(G, K) is inﬁnitely
generated when F is primitive but not 2–transitive. Therefore, we need to understand
the elements f ∈ Cc(G, K) and convolution products of those. As the support of any
function f ∈ Cc(G, K) is compact and K–bi-invariant, using Lemma 3.2 the support
of f is covered with a ﬁnite number of compact-open subsets of the form KηK, with
η ∈ A+. We obtain that

ai1KηiK,

(5)

where I is a ﬁnite set, ai ∈ C and ηi ∈ A+ for every i ∈ I. This implies that the set
of all functions 1KγK, with γ ∈ A+, forms an inﬁnite (countable) base for the C–vector
space Cc(G, K) endowed with the addition of functions.

f =Xi∈I

12

To study convolution products of elements in Cc(G, K) it is enough to compute
convolution products of the form 1Kγ1K ∗ 1Kγ2K ∗ · · · ∗ 1KγnK, where γi ∈ A+ for
every i ∈ {1, · · · , n}. Firstly, given two elements γ1, γ2 ∈ A+ not necessarily of the
same translation length, we want to evaluate the K–double cosets appearing in the
decomposition (5) of the convolution product 1Kγ1K ∗ 1Kγ2K .

Recall that by deﬁnition

1Kγ1K ∗ 1Kγ2K(x) :=ZG

1Kγ1K (xg)1Kγ2K(g−1)dµ(g).

In order to determine the support of 1Kγ1K ∗ 1Kγ2K, we need to have that xg ∈ Kγ1K
and g−1 ∈ Kγ2K. This gives that x ∈ Kγ1Kγ2K, implying that the support of the
function 1Kγ1K ∗ 1Kγ2K is contained in Kγ1Kγ2K. It is easy to check that in fact the
support of 1Kγ1K ∗ 1Kγ2K equals Kγ1Kγ2K.

Deﬁnition 3.12. Let X be a compact K–bi-invariant subset of G. Notice that X is
covered with a ﬁnite number of (open) K–double cosets KηK, where η ∈ A+. We say
that KηK is a maximal K–double coset of X, where η ∈ A+, if the translation length
|η| is maximal among all K–double cosets that appear in the above decomposition of X.
ai1KηiK as in equality (5). We say that ai

Let γ1, γ2 ∈ A+. Let 1Kγ1K ∗ 1Kγ2K = Pi∈I

is a maximal coeﬃcient of 1Kγ1K ∗ 1Kγ2K if the corresponding K–double coset KηiK
of the support of 1Kγ1K ∗ 1Kγ2K is maximal.

Proposition 3.13. Let F be primitive and let γ1, γ2 ∈ A+. By Proposition 3.10, let
i, γ′′
γ1 = γ′
j | = 2,
for every i ∈ {1, · · · , t1} and every j ∈ {1, · · · , t2}.

j ∈ A+ are such that |γ′

t1 and γ2 = γ′′

t2, where γ′

i| = |γ′′

1 γ′′

2 · · · γ′′

2 · · · γ′

1γ′

Then the maximal K–double cosets that appear in Kγ1Kγ2K are of the form

Kγ′

1γ′

2 · · · γ′

t1−1 γ γ′′

1 γ′′

2 · · · γ′′

t2 K

where γ can be any element of A+ ∩ Kγ′
maximal K–double cosets.

t1K. In particular, we obtain exactly k such

Proof. Let (ξi−, ξi+) be the translation axis of γi, for i ∈ {1, 2}. As Kγ1γ2K is evidently
a maximal K–double coset of Kγ1Kγ2K, it remains to ﬁnd all other K–double cosets
KηK such that η ∈ A+ and |η| = |γ1| + |γ2|.

To compute the maximal K–double cosets that appear in the decomposition of
Kγ1Kγ2K, it is enough to study elements of the form γ1kγ2 for k ∈ K with the property
that k[x, ξ2+] ∩ [ξ1−, ξ1+] ⊂ [x, ξ1+]. Indeed, if k[x, ξ2+] ∩ [ξ1−, ξ1+] was not just equal to
x and not a subset of (x, ξ1+], one would see that Kγ1kγ2K is not a maximal K–double
coset of Kγ1Kγ2K.

Consider ﬁrst the case when k ∈ Ge. For such k we claim that Kγ1kγ2K = Kγ1γ2K.
Indeed, we apply Lemma 3.9, as we need to ﬁnd k1 ∈ Ge such that k1γ1kγ2(x) = γ1γ2(x).
The claim follows. In addition, notice that such k1 ﬁxes point-wise the geodesic segment
[x, γ1(e)].

13

Consider now the case when k ∈ K such that k(e) /∈ (γ1−, γ1+). Notice that for
every edge in the star of x, which is not on the bi-inﬁnite geodesic (γ1−, γ1+), there
exists some k ∈ K sending e to it. For such k ∈ K we need to decompose the element
γ1kγ2, which is in A+, using elements γ ∈ A+ with |γ| = 2. By the hypothesis on k
we have that |γ1kγ2| = |γ1| + |γ2| = t1 + t2. There exist thus γ′, γ′′ ∈ A+ such that
γ1kγ2 = γ′γ′′, with |γ′| = |γ1| and |γ′′| = |γ2|. Because of the choice of k, we have that
γ1(x) = γ′(x); thus (γ′)−1γ1 ∈ K and γ′(e) belongs to the star of γ1(x), being diﬀerent
from γ1(e) and the edge belonging to the geodesic segment [x, γ1(x)]. Therefore, the ﬁrst
t1 − 1 terms of the decomposition of γ1kγ2 are γ′
t1−1 and the t1–term appearing
in the decomposition of γ1kγ2 is an element γ ∈ A+ ∩ Kγ′
t1K. Notice that this t1–term
depends strictly on the element k and up to K-left-right multiplication, every element
of A+ ∩ Kγ′
t1K appears as a t1–term of γ1kγ2. From the equality γ1kγ2 = γ′γ′′ and the
above properties we obtain that Kγ2K = Kγ′′K. Following Lemma 3.9, we conclude
that there exists k′ ∈ K such that k′γ′γ′′(x) = γ′γ2(x).

2 · · · γ′

1γ′

Combining the two cases studied above and using Proposition 3.10, we obtain that
tK. Moreover, up to
tK and the last part of the

Kγ1kγ2K = Kγ′
K–primitivity, there are k such γ elements in A+ ∩ Kγ′
proposition follows.

t2K, where γ ∈ A+ ∩ Kγ′

t1−1γγ′′

2 · · · γ′′

2 · · · γ′

1 γ′′

1γ′

The next proposition computes the maximal coeﬃcients appearing in 1Kγ1K ∗ 1Kγ2K.

Proposition 3.14. Let F be primitive and let γ1, γ2 ∈ A+. By Proposition 3.10, let
i, γ′′
γ1 = γ′
j | = 2,
for every i ∈ {1, · · · , t1} and every j ∈ {1, · · · , t2}.

j ∈ A+ are such that |γ′

t1 and γ2 = γ′′

t2, where γ′

i| = |γ′′

2 · · · γ′′

2 · · · γ′

1 γ′′

1γ′

Then every maximal coeﬃcient appearing in 1Kγ1K ∗ 1Kγ2K equals µ(K), where µ is
the left Haar measure on G. In particular, by normalizing µ(K) = 1, we have that all
maximal coeﬃcients equal one.

Proof. As in equality (5) we have that 1Kγ1K ∗ 1Kγ2K = Pi∈I

set, ai ∈ C and ηi ∈ A+ for every i ∈ I. Let KηiK be a maximal K–double coset and
let h ∈ KηiK. By Proposition 3.13

ai1KηiK, where I is a ﬁnite

ηi = γ′

1γ′

2 · · · γ′

t1−1 γ γ′′

1 γ′′

2 · · · γ′′

t2 = γ1(γ′

t1 )−1γγ2

where γ is an element of A+ ∩ Kγ′
suppose, without loss of generality, that γ(x) = γ′

t1(x).

t1K. In particular, using Proposition 3.10, we can

We want to compute 1Kγ1K ∗ 1Kγ2K(h) which equals ai. As all functions involved

are K–bi-invariant, we can suppose that h = ηi. It remains to evaluate

1Kγ1K(ηig)1Kγ2K(g−1)dµ(g).

ZG

This reduces to ﬁnd all g ∈ Kγ−1

2 K such that ηig ∈ Kγ1K; this is equivalent to evaluate

14

the intersection η−1

i Kγ1K ∩ Kγ−1

2 K. We would have that

1Kγ1K ∗ 1Kγ2K (ηi) = ai = µ(η−1
2 (γ1(γ′
1γ′

= µ(γ−1
= µ(γ−1(γ′

i Kγ1K ∩ Kγ−1

2 K)

t1 )−1γ)−1Kγ1K ∩ Kγ−1
2 · · · γ′

2 K)
t1−1)−1Kγ1K ∩ γ2Kγ−1

2 K).

Notice the following. For every g ∈ γ2Kγ−1

2 K, we have

distT (g(x), γ2(x)) = distT (γ2k1γ−1

2 k2(x), γ2(x)) = |γ2|.

For g ∈ γ−1(γ′

1γ′

2 · · · γ′

t1−1)−1Kγ1K we have

distT (g(x), γ−1(γ′

1γ′

2 · · · γ′

t1−1)−1(x)) = distT (k3γ1(x), x) = |γ1|.

As γ2(x) ∈ T x,e and γ−1(γ′

1γ′

2 · · · γ′

t1−1)−1(x) ∈ T \ T x,e, and because |γ−1(γ′

1γ′

2 · · · γ′

t1−1)−1| =

|γ−1

1 | we obtain that

B(γ−1(γ′

1γ′

2 · · · γ′

t1−1)−1(x), |γ1|) ∩ B(γ2(x), |γ2|) = {x}

where B(y, r) ⊂ T denotes the closed ball centered at the vertex y and of radius r. This
implies that for every g ∈ γ−1(γ′
2 K we necessarily have
1γ′
that g(x) = x; therefore, γ−1(γ′
2 K ⊂ K. In fact, we claim
that

t1−1)−1Kγ1K ∩ γ2Kγ−1

t1−1)−1Kγ1K ∩ γ2Kγ−1

1γ′
2 · · · γ′

2 · · · γ′

γ−1(γ′

1γ′

2 · · · γ′

t1−1)−1Kγ1K ∩ γ2Kγ−1

2 K = K.

Indeed, it is immediate that K ⊂ γ2Kγ−1
As we have supposed that γ(x) = γ′
K. This proves the claim and we obtain that

2 K. It remains to show that K ⊂ γ−1γ′

t1 (x), we have that γ−1γ′

t1 ∈ K, so γ−1γ′

1 Kγ1K.

t1 γ−1
1 γ1K =

t1γ−1

ai = µ(γ−1(γ′

1γ′

2 · · · γ′

t1−1)−1Kγ1K ∩ γ2Kγ−1

2 K) = µ(K).

The conclusion follows.

4 The Hecke algebra is inﬁnitely generated

The goal of this section is to prove that the Hecke algebra Cc(G, K) endowed with the
convolution product is inﬁnitely generated.

By contraposition suppose that Cc(G, K) would be a ﬁnitely generated algebra with
respect to the convolution product. Let S = {f1, · · · , fm} be a ﬁnite set of generators
for Cc(G, K). Then every f ∈ Cc(G, K) would be written as a ﬁnite linear combination
of {f1, · · · , fm} and ﬁnite convolution products of those. By equation (5) we decompose
j=1 aij 1Kγij K, where γij ∈ A+ and aij ∈ C. One remarks that
the set S′ := {1Kγij K}ij ⊂ Cc(G, K) also ﬁnitely generates Cc(G, K). In addition, by
letting N := maxγij (|γij|) < ∞ the set S′′ := {1KγK | γ ∈ A+ with |γ| ≤ N } ﬁnitely

every fi ∈ S as fi = Pni

15

generates Cc(G, K) too. Therefore, if Cc(G, K) was ﬁnitely generated, we could assume,
without loss of generality, that there exists a set S′′ = {1KγK | γ ∈ A+ with |γ| ≤ N }
that ﬁnitely generates Cc(G, K).

It remains to investigate the subsets {γ1, · · · , γn} ⊂ A+ such that {1Kγ1K, · · · , 1KγnK}
would ﬁnitely generate Cc(G, K) with respect to the convolution product. For this we
need to solve in Cc(G, K) systems of equations of convolution products and to introduce
a notion of linear independence for such systems of equations.

4.1 Sub-bases and weakly linearly independent equations of degree n

In Section 3.2 we have computed the convolution product of two functions 1Kγ1K, 1Kγ2K ∈
Cc(G, K), where γ1, γ2 ∈ A+. We have obtained the equation

1Kγ1K ∗ 1Kγ2K = X|ηi|<|γ1|+|γ2|, i∈I

ai1KηiK + X|ηj|=|γ1|+|γ2|, j∈J

µ(K)1Kηj K ,

(6)

where I is a ﬁnite set, ai ∈ C, |J| = k, ηi, ηj ∈ A+ and ηj, with j ∈ J, |J| = k, are

as in Proposition 3.13.

From now on we consider that the left Haar measure µ of G is normalized with

µ(K) = 1.

More generally, by considering γ1, γ2, · · · , γm ∈ A+ we obtain a more general equation

1Kγ1K ∗ 1Kγ2K ∗ · · · ∗ 1KγmK =

ai1KηiK +

1Kηj K,

|ηi|<|γ1|+···+|γm|, i∈I

|ηj|=|γ1|+···+|γm|, j∈J

(7)
where I is a ﬁnite set, ai ∈ C, |J| = km−1, ηi, ηj ∈ A+ and ηj are accordingly as in
Proposition 3.13.

X

X

Deﬁnition 4.1. Let f ∈ Cc(G, K). Recall that by equality (5)

ai1KηiK,

f =Xi∈I

where I is a ﬁnite set, ai ∈ C and ηi ∈ A+ for every i ∈ I. We say that (the equation)
f is of degree n if for every i ∈ I, |ηi| ≤ n and there exists i ∈ I such that |ηi| = n. In
particular, equation (7) is of degree n if |γ1| + · · · + |γm| = n.

Deﬁnition 4.2. Let I be ﬁnite. We say that {Ei}i∈I is a system of equations of
degree n if:

1. for every i ∈ I, Ei := 1Kγi1 K ∗ 1Kγi2 K ∗ · · · ∗ 1Kγimi

mi is ﬁnite and j ∈ {1, · · · , mi}

K for some γij ∈ A+, where

2. Ei is of degree n for every i ∈ I.

16

Notation 4.3. To simplify the notation, from now on we reserve the letter E to represent
a convolution product of the form 1Kγ1K ∗ 1Kγ2K ∗ · · · ∗ 1KγmK, where γi ∈ A+ for every
i ∈ {1, · · · , m}.

Deﬁnition 4.4. A system of equations {E1, · · · , Er} of degree n is weakly linearly
dependent if there exist b1, · · · , br ∈ C not all zero such that b1E1 + · · · + brEr is of
degree strictly less than n. We say that a system of equations {E1, · · · , Er} of degree n
is weakly linearly independent if it is not weakly linearly dependent.

Deﬁnition 4.5. We say that the set {1KγiK }i∈I , where I is ﬁnite and {γi}i∈I ⊂ A+,
forms a sub-base of Cc(G, K) of degree ≤ n if the following conditions are satisﬁed:

1. |γi| ≤ n, for every i ∈ I

2. every function 1KηK , with η ∈ A+ and 0 < |η| ≤ n, can be written as a sum
of a ﬁnite linear combination of {1KγiK}i∈I and a ﬁnite linear combination of
convolution products of {1KγiK }i∈I having degree ≤ n

3. |I| is minimal with the above properties.

Remark 4.6. Let F be primitive. It is immediate that a sub-base of Cc(G, K) of degree
2 exists and it is unique. Its cardinality is k.

Before considering the general case, let us warm up proving the following lemma.

Lemma 4.7. Let F be primitive. Then Cc(G, K) admits a sub-base of degree ≤ 4. Its
cardinality is k + k2(k − 1). A sub-base of Cc(G, K) of degree ≤ 4 is not unique.

Proof. For the proof recall Deﬁnition 2.1 and Notation 3.8. Let also {1Kγj K}j∈{1,··· ,k}
be the sub-base of Cc(G, K) degree 2.

Let η1, η2 ∈ {γj1

1 , · · · , γjk

k }j1,··· ,jk∈{1,··· ,k}. The unique way to obtain functions of the
, with i1 ∈ {1, · · · , k}, as maximal K–double coset using the sub-base of

from 1Kη
degree 2 is by convoluting 1Kη1K and 1Kη2K :

i1
1 η2K

1Kη1K ∗ 1Kη2K = X|ηi|<|γ1|+|γ2|, i∈I

ai1KηiK +

k

Xi=1

1Kηi

1η2K.

(8)

Following Proposition 3.10, in equation (8) appears all functions 1Kη
{1, · · · , k}. It is the only one where they can appear.

i1
1 η2K

, with i1 ∈

In order to ﬁnd a sub-base of Cc(G, K) of degree ≤ 4 we have to choose from
equation (8) f ′(2, k) = k − 1 diﬀerent elements of A+ of translation length 4. This
number is independent of the choices made for the elements {γji
j,i=1. By doing this,
one of the terms of degree 4 appearing in equation (8) will be written in terms of
the chosen elements. Without loss of generality, we can suppose that we have chosen
1η2K}i∈{2,··· ,k} to form a sub-base of degree ≤ 4. Moreover, by the same reasoning
{1Kηi
and making a choice, we choose the following set {1Kγj
i γlk | i, l ∈ {1, · · · , k} and j ∈

i }k

17

{2, · · · , k}} ∪ {1Kγj K}j∈{1,··· ,k}.
It is immediate to see that this set is a sub-base of
Cc(G, K) of degree ≤ 4. Indeed, for example the function 1Kη1
1 η2K can be written using
equation (8) in the chosen sub-base of degree ≤ 4. No fewer elements than above can be
chosen to form such a sub-base. The cardinality of the chosen sub-base of degree ≤ 4 is
f (2, k) + f (1, k) = k2(k − 1) + k; this number is independent of the choices made. Notice
i γlk | i, l ∈ {1, · · · , k} and j ∈ {2, · · · , k}} ∪ {1Kγj K}j∈{1,··· ,k} is
that the sub-base {1Kγj
not unique.

Proposition 4.8. Let F be primitive and let {1Kγj K}j∈{1,··· ,k} be the sub-base of Cc(G, K)
degree 2. For every r ≥ 3 there exists a sub-base of Cc(G, K) of degree ≤ 2r. Its cardi-
nality is f (1, k) + f (2, k) + · · · + f (r, k) and it is uniquely determined given the sub-base
of degree ≤ 2(r − 1). In particular, if k = 1 then f (1, k) + f (2, k) + · · · + f (r, k) = 1, for
every r ≥ 1.

Proof. We prove the proposition by induction on r. First recall Deﬁnition 2.1 and
i γlk | i, l ∈ {1, · · · , k} and j ∈ {2, · · · , k}} ∪
Notation 3.8. By Lemma 4.7 we take {1Kγj
{1Kγj K }j∈{1,··· ,k} as a sub-base of Cc(G, K) of degree ≤ 4.
k }j1,··· ,jk∈{1,··· ,k}.

Fix a sequence {ηi}i≥1 ⊂ {γj1
Let r = 3. Using the chosen sub-base of Cc(G, K) of degree ≤ 4, we form all equations
, with i1, i2 ∈ {1, · · · , k},
E of degree 2r = 6 where functions of the form 1Kη
can appear (the total number of these functions is k2). By a combinatorial argument,
Lemmas 2.5, 4.7 and equality (7) the total number of these equations is exactly

1 , · · · , γjk

i2
2 η3K

i1
1 η

X(k1,··· ,kr−1)∈Sum (r)(cid:18) k1 + · · · + kr−1

k1, · · · , kr−1 (cid:19) f ′(1, k)k1 f ′(2, k)k2 · · · f ′(r−1, k)kr−1 = k2−f ′(3, k).

We claim that all the above k2 − f ′(3, k) equations form a system of weakly linearly
, with
independent equations of degree 6. Indeed, notice that all functions 1Kη
i1, i2 ∈ {1, · · · , k}, appear at least once in the above system of equations. In particular,
these functions appear from the convolution product 1Kη1K ∗ 1Kη2K ∗ 1Kη3K. Moreover,
2 η3K appears only once, hence, only from the convolution product
the function 1Kη1
1Kη1K ∗ 1Kη2K ∗ 1Kη3K . This is because the sub-base of degree ≤ 4 is chosen to be
{1Kγj
i γlK | i, l ∈ {1, · · · , k} and j ∈ {2, · · · , k}}∪{1Kγj K}j∈{1,··· ,k}. Moreover, functions
2η3K, for every i ∈ {2, · · · , k} appear twice: once from the
of the form 1Kηi
convolution product 1Kη1K ∗ 1Kη2K ∗ 1Kη3K and once, respectively, from the convolution
2η3K , where j ∈ {2, · · · , k}. These remarks imply
product 1Kηj
that the system of equations we are interested in are indeed weakly linearly independent.
This proves our claim.

1η2K ∗ 1Kη3K, 1Kη1K ∗ 1Kηj

2 η3K, 1Kη1

i2
2 η3K

i1
1 η

1η1

1η1

1 ηi

By the theory of linear algebra, in order to form a sub-base of degree ≤ 6, given the
sub-base of degree ≤ 4, we have to choose (from the above system of equations of degree
6) f ′(3, k) characteristic functions corresponding to K–double cosets of degree 6. This
argument is independent and valid for every of the k3 systems of equations.

18

By the proof of the above claim and above facts, to obtain a sub-base of degree ≤ 6
}, where i1, i2 ∈ {2, · · · , k} and j1, j2, j3 ∈

one uniquely can add the set {1Kγ
{1, · · · , k}. This set together with the sub-base of Cc(G, K) of degree ≤ 4 is minimal
and its cardinality is indeed f (1, k) + f (2, k) + f (3, k). In particular, all the functions of
γj3 K, with i1, i2, j1, j2, j3 ∈ {1, · · · , k}, are written using
the form 1Kγ1
the chosen sub-base of degree ≤ 6; they do not appear as elements of that sub-base.

γj3 K, 1Kγ

γj3 K

γ1
j2

i2
j2

i2
j2

i1
j1

i1
j1

γ

γ

j1

Let us now suppose that the conclusion of the proposition is true for all ≤ r and that

the sub-base of Cc(G, K) of degree ≤ 2r does not contain any function of the form

1

Kγ

i1
j1

γ

i2
j2

···γ

il−1
jl−1

γjl

K

where l ≤ r and at least one of {i1, · · · , il−1} is 1. We have to prove this is also true
for r + 1. Indeed, using only the sub-base of degree ≤ 2r, constructed in the previous
induction steps, we form all equations E of degree 2(r + 1) where functions of the form
, with i1, i2, · · · , ir ∈ {1, · · · , k}, can appear (the total number of these
1Kη
functions is kr). By a combinatorial argument, Lemmas 2.5, 4.7 and equality (7) the
total number of these equations is exactly

i2
2 ···ηir

r ηr+1K

i1
1 η

X(k1,··· ,kr)∈Sum (r+1)(cid:18) k1 + · · · + kr

k1, · · · , kr (cid:19) f ′(1, k)k1 f ′(2, k)k2 · · · f ′(r, k)kr = kr − f ′(r + 1, k).

1η1

2 ···η1

We claim that all the above kr −f ′(r+1, k) equations form a system of weakly linearly
independent equations of degree 2(r + 1). Indeed, every function 1Kη
r ηr+1K with
i1, · · · , ir ∈ {1, · · · , k} appears at least once in the above system of equations, speciﬁcally,
from the convolution product 1Kη1K ∗ 1Kη2K ∗ · · · ∗ 1Kηr+1K. In addition, the function
r ηr+1K appears exactly once in that system of equations. Moreover, every equa-
1Kη1
r ηr+1K where
tion of the above system determines in a unique way a function 1Kη
the number of appearances of 1 among the coeﬃcients i1, · · · , ir is maximal. This func-
tion uniquely depends on the convolution product involved in that equation. In addition,
there exists at least one diﬀerent equation of that system of equations such that the lat-
ter mention function appears, but it is not anymore ‘maximal’. The only exception is
the function 1Kη1

i2
2 ···ηir

i2
2 ···ηir

i1
1 η

i1
1 η

If the above system of equations (E1, · · · , En), where n = kr − f ′(r + 1, k), was not
weakly linearly independent there would exist coeﬃcients c1, · · · , cn ∈ C, not all zero,
such that c1E1 + · · · + cnEn is of degree strictly less then 2(r + 1). By the remarks made
where at
above this would imply that we have reduced all functions 1Kη
least one of {i1, · · · , il} is 1. This cannot be possible as every equation determines in
a unique way a ‘maximal’ such function. Therefore, the weakly linearly independence
follows. This argument is independent and valid for every of the other kr+1 systems of
equations.

i2
2 ···ηir

r ηr+1K

i1
1 η

1η1

2 ···η1

r ηr+1K.

It remains to prove that there is only one choice in order to complete the sub-base
of degree ≤ 2r to a sub-base of degree ≤ 2(r + 1) and that the chosen sub-base of degree

19

i1
1 η

i2
2 ···ηir

r ηr+1K

, for i1, · · · , ir ∈ {2, · · · , k}. This follows from the fact
2(r+1) is indeed 1Kη
, where i1, · · · , ir ∈ {2, · · · , k} appears
that every function of the form 1Kη
r ηr+1K
more than every other function 1Kη
r ηr+1K, where at least one of the coeﬃcients
i1, · · · , ir is 1. This concludes the induction step and also the proof of the proposition.

i2
2 ···ηir
i2
2 ···ηir

i1
1 η
i1
1 η

4.2 The proof of the main theorem

Theorem 4.9. Let F be primitive. If k = 1 then the Hecke algebra Cc(G, K) is ﬁnitely
generated admitting only one generator. If k > 1 then the Hecke algebra Cc(G, K) is
inﬁnitely generated with an inﬁnite presentation.

Proof. Let k = 1. Then F is 2–transitive. By Remark 3.3 we have that A+ =< a >+
where a is a hyperbolic element of G, with |a| = 2 and x ∈ Min(a). The K–double cosets
of G are just {KanK}n≥0. It is then easy to see that the function 1KaK alone generates
the Hecke algebra Cc(G, K) (one can also apply the general result of Proposition 4.8).
Consider now the case k > 1 and suppose that Cc(G, K) is a ﬁnitely generated
algebra with respect to the convolution product. Arguing as in the introduction to
Section 4 we can assume, without loss of generality, that Cc(G, K) is ﬁnitely generated
by the set S′′ = {1KγK | γ ∈ A+ with |γ| ≤ N }, for some N ∈ N∗. By Proposition 4.8,
there exists a sub-base of Cc(G, K) of degree ≤ N and by our assumption this sub-base
of Cc(G, K) of degree ≤ N ﬁnitely generates Cc(G, K). This is in contradiction with
Proposition 4.8 as the sub-base of Cc(G, K) of degree ≤ N + 1 strictly contains the one
of degree ≤ N . Therefore, Cc(G, K) is inﬁnitely generated. Its inﬁnitely presentation is
the one coming from the convolution products of the generators.

References

[Ama03] Olivier Amann, Group of tree-automorphisms and their unitary representations, ETH Z¨urich,

2003. PhD thesis. ↑3, 4, 10

[Ber74] I.N. Bernstein, All reductive p-adic groups are of type I, Functional Anal. Appl. 8 (1974), 91–93.

English translation. ↑3

[BM00] Marc Burger and Shahar Mozes, Groups acting on trees: from local to global structure, Inst.

Hautes ´Etudes Sci. Publ. Math. 92 (2000), 113–150 (2001). ↑3, 4

[CC15] P-E. Caprace and C. Ciobotaru, Gelfand pairs and strong transitivity for Euclidean buildings,

Ergodic Theory and Dynamical Systems 35 (2015), 1056–1078. arXiv:1304.6210. ↑3, 4

[Cio15] C. Ciobotaru, A uniﬁed proof of the Howe–Moore property, Journal of Lie Theory 25 (2015),

no. 1, 065–089. arXiv:1403.0223. ↑3

[Cio]

, A note on type I groups acting on d–regular trees. arXiv:1506.02950. ↑3

[Dem04] Sel¸cuk Demir, Some ﬁniteness results in the representation theory of isometry groups of regular

trees, Geom. Dedicata 105 (2004), 189–207. ↑3

[Dix77] Jacques Dixmier, C ∗-algebras, North-Holland Publishing Co., Amsterdam-New York-Oxford,
1977. Translated from the French by Francis Jellett; North-Holland Mathematical Library, Vol.
15. MR0458185 ↑2, 3

20

[FTN91] Alessandro Fig`a-Talamanca and Claudio Nebbia, Harmonic analysis and representation theory
for groups acting on homogeneous trees, London Mathematical Society Lecture Note Series,
vol. 162, Cambridge University Press, Cambridge, 1991. ↑

[Hal99] Rachel Hall, Hecke C ∗-algebras, Ph.D thesis, Penn. State University, 1999. ↑2

[Tit70] Jacques Tits, Sur le groupe des automorphismes d’un arbre, Essays on topology and related
topics (M´emoires d´edi´es `a Georges de Rham), Springer, New York, 1970, pp. 188–211 (French).
↑3

[vD09] G. van Dijk, Introduction to Harmonic Analysis and Generalized Gelfand Pairs, Walter de

Gruyter Studies in Mathematics 36, 2009. ↑2

21

