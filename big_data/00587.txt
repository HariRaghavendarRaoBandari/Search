6
1
0
2

 
r
a

M
2

 

 
 
]
T
I
.
s
c
[
 
 

1
v
7
8
5
0
0

.

3
0
6
1
:
v
i
X
r
a

A Theorem on Multi-Objective Optimization

Approach for Bit Allocation of Scalable Coding

1

Wen-Liang Hwang

Institute of Information Science, Academia Sinica, Taiwan

Abstract

In the current work, we have formulated the optimal bit-allocation problem for a scalable codec of

images or videos as a constrained vector-valued optimization problem and demonstrated that there can

be many optimal solutions, called Pareto optimal points. In practice, the Pareto points are derived via

the weighted sum scalarization approach. An important question which arises is whether all the Pareto

optimal points can be derived using the scalarization approach? The present paper provides a sufﬁcient

condition on the rate-distortion function of each resolution of a scalable codec to address the above

question. The result indicated that if the rate-distortion function of each resolution is strictly decreasing

and convex and the Pareto points form a continuous curve, then all the optimal Pareto points can be

derived by using the scalarization method.

I. INTRODUCTION

Scalable coding (SC) involves producing from an image or a video (also called coding object)
a single bit-stream that meets user requirements of resolutions of the image or the video [1], [2].
In SC, the bit-stream is usually organized into subset bit-streams with various resolutions of the
coding object. The subset bit-streams are generally correlated by prediction methods to enhance
coding efﬁciency [3], [4]. The coding efﬁciency can also be improved if the bit-allocation, which
distributes an available amount of bits to resolution, can be optimized [5], [6], [7].

In scalable coding studies, the usual assumption is that the solution of the bit-allocation
optimization problem is either better or at least no worse than any other alternative. However,
this assumption is only correct if all the users demand the same resolution and the coding object
is compressed for that resolution. For such a case, the optimization problem can be solved for
that particular resolution, and all the users can receive the best service simultaneously from the
coding system. However, for SC, where a single bit-stream is designed to serve many users with
various demands of resolution, the performance criteria for different resolutions clearly conﬂict.

DRAFT

2

As a result, the assumption that an optimum bit-stream can be achieved which would produce
the best performance simultaneously for all the resolutions is generally incorrect. Speciﬁcally,
it is very unlikely that a bit-allocation which will optimize one resolution will also optimize the
other resolutions. The top subgraph of Figure 1 shows how two different bit-allocations have
been assigned to support three spatial resolutions, where the left-most node supports quarter
common intermediate format (QCIF), the left-most and the middle nodes support CIF, and the
three nodes all together support high deﬁnition (HD). A same bit number has been assigned
to the node of QCIF, therefore, the distortion comparison for the two bit-allocations is on CIF
and HD. The bottom subgraph of Figure 1 shows two distortions for CIF and HD with respect
to the two bit-allocations. On comparing the distortions of the two bit-allocations for both CIF
and HD, it can be inferred that one bit-allocation is better for CIF, but worse for HD, whereas
the other is better for HD but not for CIF. Figure 1 thus demonstrates that it is not always
possible for a bit-allocation procedure to generate a bit-stream that can simultaneously achieve
the best performance for all the resolutions. Furthermore, since we may not determine that one
resolution is more important than another, the performance of any two bit-allocations is, in
general, incomparable.

Since a scalable codec serves multiple resolutions simultaneously, the performance of a bit-
allocation cannot be measured with a single objective function. Instead, it is a multi-objective
(multi-criteria) function, with a vector-valued objective, where each component of the objective
represents the performance of one resolution. The deﬁnition of an optimal solution in a multi-
objective problem is referred to as Pareto optimality [8], [9], [10]. Intuitively, an optimal solution
(called a Pareto point) reaches equilibrium in the objective vector space in the sense that any
improvement of a participant can only be obtained if there is deterioration of at least one other
participant. Therefore, no movement can raise the consensus by all the participating parties in the
equilibrium. Since the Pareto points cannot be ordered and compared, it cannot be determined
which point is better or worse than the others.

In SC, the participating parties are the resolutions, and the objective space is the space
of the performance of the resolutions. The multi-criteria perspective is also supported by the
weighted sum scalarization method where the optimal bit-allocation can be obtained by solving
the weighted sum of the distortions of resolutions:

where b ∈ Ω is a feasible bit-allocation vector (or bit-allocation proﬁle), and wi and gi are

min
b∈Ω

N −1

X

i=0

wigi(b),

(1)

DRAFT

3

non-negative weight and distortion for the resolution i, respectively. By varying the values of
the weights wi, solving (1) yields different Pareto optimal points. In general, the solutions of
(1) form a subset of the Pareto optimal points. Thus, the solutions of (1) cannot cover all the
performance that a scalable coding method can achieve. Meanwhile, the Pareto optimal solution
to the problem of scalable coders is generally large, and if computational cost is a concern, the
performance comparison of bit-allocation methods is usually set at a few Pareto points [11], [?],
[13], [14], [15], [16], [17], [18]. The weight vector associated with (1) is either given or derived
based on users’ preference choice [19], [20]. In the literature of SV, solving the bit-allocation
problem was mainly based on modelling the rate-distortion (R-D) function gi(b) [21], [22], [23],
[24], [25], [26], [27]. The performance comparison, therefore, mainly comprised accuracy and
efﬁciency of the rate-distortion models at some particular Pareto points.

Since the Pareto points derived by using the weighted sum scalarization approach is widely
used in SC to conduct performance comparison of bit-allocation methods and rate-distortion
models, we were motivated to derive the conditions under which the scalarization approach can
cover all the Pareto points. The main result is shown in Theorem 2, which states that if the
R-D function of each resolution is a strictly decreasing convex function and the Pareto points
form a continuous curve, then all the Pareto points can be derived by using the scalarization
approach. This result was derived based on formulating the SC’s bit-allocation problem as a
multi-objective optimization problem deﬁned on a directed acyclic graph (DAG), representing
the coding dependency of a codec. A discrete version of the theorem is also presented.

The main contributions of the current study are: 1) the bit-allocation problem for SC has been
formulated as a multi-objective optimization problem. The optimal bit-allocation is a set of Pareto
points; 2) the rate-distortion (R-D) curve of each resolution of a SC has been characterized so
that all the (weakly) Pareto optimal points can be derived by using the weighted sum scalarization
approach.

The rest of the paper is organized as follows. In Section II, we presented the prediction structure
of SC using a DAG. In Section III, we formulated the optimal bit-allocation problem of SC in a
DAG and used the Pareto optimal points to characterize the solutions of the problem. Section IV
contains the man results which characterize all the Pareto points from the R-D function of each
resolution of a scalable coding method by using the scalarization approach. Section V presents
the concluding remarks.

Notations.

DRAFT

4

+ (the cone of nonnegative orthant in RN) if xi ≥ 0 for all i.

We have used underline to indicate a vector; for example, x is a scalar and x is a vector. Let
x = [xi]T and y = [yi]T be two vectors. The following operations are deﬁned based on the vector
notation.
1. x ∈ RN
2. x < y if xi ≤ yi for all i, and there is a j such that xj < yj.
3. x ≤ y if for all i such that xi ≤ yi.
4. x ≪ y if xi < yi for all i.
5. xT is the transpose of the vector x.

II. DIRECTED GRAPH MODEL FOR DATA DEPENDENCY

In SC, a coding object is usually divided into multiple coding segments. The layers are the
basic coding segments in SC that support spatial and quality scalability in an image and spatial,
temporal, and quality scalability in a video. To remove the abundant redundancy existing between
the layers, various kinds of data prediction methods have been adopted. In video, the success of
a coding method relies crucially on whether a prediction method can truly reﬂect the correlation
that exists between the layers. The predictive coding structure can be represented by a directed
graph where a coding segment is represented as a node and an arc indicates the prediction from
one coding segment to another coding segment. For bit allocation, we required the graph to have
the following two properties: the graph should be acyclic and the graph should be connected
from the source node (i.e., any node is reachable from the source node). The ﬁrst property states
that the graph has no cycle. Because a cycle can create an inﬁnite ways to represent a coding
segment for a bit-allocation, we decided to avoid such scenario. For example, a cycle of nodes
A to B indicates that the coding result of A can be used to predict that of B and the result of B
can then be used to predict and modify the coding result of A. This prediction from A to B and
B to A can repeat inﬁnite times for a bit-allocation. The second property implies that the coding
object at a node can be reconstructed based on the information on the path from the source to
that node.

First, a DAG was formed based on a scalable coder where the basic coding segment is a layer,
and the prediction was applied on layers. Let the number of layers of the scalable coder be N,
denoted from 0 to N − 1. We used G = (V, A) to represent the DAG with node set V and
arc set A where the nodes correspond the layers and the arcs as the dependency between the
layers. G has a single source node (node 0) that denotes the base layer of SC. Arc (i → j) ∈ A
indicates node j depending on node i. If we associate the (layer) node i with the resolution i,

DRAFT

5

then the number of nodes in G is the number of resolutions. To reproduce the coding object at
resolution i, we used the required layers for the resolution and their dependency, corresponding
to the smallest connected sub-graph, denoted as πg
i , of G containing all the paths from the node
0 to the node i. Let p(i) denote the parent nodes of node i in πg
i . The reconstructed object at the
resolution i depends on the reconstructed object at the resolutions of p(i). Figure 2 illustrates a
DAG representation of a scalable codec that supports ﬁve resolutions, where the base resolution
is at node 0.

Let us take H.264/SVC1 as an example [?]. In H.264/SVC, there are temporal prediction,
spatial prediction, and quality prediction that can remove redundancy between the adjacent tem-
poral layers, spatial layers, and quality layers, respectively. The temporal prediction can exist with
spatial or quality prediction, but the spatial and quality predictions cannot be applied to predict
one layer at a time. Therefore, a temporal node can be directed from another temporal node,
and simultaneously from either a quality or a spatial node. Depending upon the application’s
environment, the coding structure, which speciﬁes dependency between the layers, was described
in the conﬁguration ﬁle. Figures 3 and 4 show the DAG models corresponding to two coding
structures of H.264/SVC.

III. MULTI-OBJECTIVE BIT-ALLOCATION PROBLEM

The bit-stream of SC was generated to support scalability in various dimensions. This suggests
that the bit-allocation procedure can be regarded as a multi-valued function that maps a bit-
allocation vector into a vector-valued function.

Let G be the DAG constructed from the coding dependency of an SC with N layers (coding
segments), represented by 0 to N − 1, and N resolutions, also represented by 0 to N − 1. Let
b be the bit budget and bi be the number of bits assigned to layer i. Then, the bit-allocation
vector b = [bi]N −1
i denote the sub-graph of
G for resolution i. If there is more than one prediction path from resolution 0 to resolution i,
then πg
i represents the union of the paths. If g denotes the distortion of the reconstructed coding
object against the original object f and let E(f, G, b) denote the procedure of allocating b bits
for object f with graph G, we have

i=0 bi ≤ b and bi ≥ 0. Let πg

i=0 ∈ RN

+ satisﬁes PN −1

E(f, G, b) : b → [g0(π0(b)), · · · , gN −1(πN −1(b))]T ,

1Currently, the scalable scheme of H.265 is inherited from H.264/SVC. [15]

DRAFT

where πi(b) denotes the bit-allocation proﬁle of the bit-allocation b assigned to the nodes of sub-
i , and gi(πi(b)) measures the distortion2 of the reconstructed coding object at resolution
graph πg
i. Then, the bit-allocation problem can be formulated as the following constrained vector-valued
optimization problem:

6

minb [g0(π0(b)), · · · , gN −1(πN −1(b))]T

i = 0, · · · , N − 1;

(2)

bi ≥ 0,
PN −1

i=0 bi ≤ b,




where the bits allocated to the sub-graph πg
bj, which is the total bits allocated to the
layers that support the resolution. We use Ω to denote the set of feasible bit-allocation vectors
of (2). Since Ω is the intersection of half-spaces and hyperplanes, Ω is a convex set.

i are Pj∈πg

i

To lighten the notation, let us deﬁne the vector-valued distortion g

Ω(b) as a feasible distortion

(the distortion generated by a feasible coding path in SV):

g

Ω(b) = [g0(π0(b)), · · · , gN −1(πN −1(b))]T when b ∈ Ω.

(3)

We also denote the feasible distortion region, the distortions derived by all the feasible coding
paths, as

g(Ω) = {g

Ω(b)}.

(4)

Ω(b∗) ≤ g

The optimum bit-allocation b∗ can be deﬁned as the bit-allocation that yields the smallest
distortion in each resolution, i.e. g
Ω(b) for all b ∈ Ω. In other words, the optimum
bit-allocation is the minimum of the problem in (2). Unfortunately, as shown in Figure 5, the
existence of the optimum bit-allocation vector is uncommon. In general, we cannot compare
the distortion vectors of any two feasible bit-allocations. Two feasible distortions can only be
compared when they are partially ordered with respect to RN
Ω(b2) if and
only if g
Ω(b1) ≥ 0N . By virtue of partial ordering, there are actually many optimal
(minimal) bit-allocation solutions with respect to RN
+ and due to this reason the optimum bit
allocation problem for SC does not follow the conventional assumption of the existence of the
optimum bit-allocation. Nevertheless, the optimal solutions can be derived from the study of the
multi-objection optimization problem.

Ω(b1) ≤ g

Ω(b2) − g

+ , i.e. g

2A main goal of SC is to maximize the peak-signal-to-noise-ratio (PSNR) at each resolution. PSNR is 10 log10

M SE dB,
where M SE is the reconstruction error. Thus, maximizing PSNR of a resolution can be regarded as minimizing log M SE at
the resolution.

255

2

DRAFT

7

The concept of optimal solutions of a multi-objective optimization problem with respect to
nonnegative orthant cone RN
+ was ﬁrst proposed by Pareto in 1896 [8]. Pareto deﬁned an optimal
solution as a point in a feasible space that is impossible to ﬁnd a way of moving from, even
slightly, and still reach the consensus of all individual participants. In other words, an optimal
solution is an equilibrium position in the sense that any small displacement in departing from the
position necessarily has the effect of increasing the values of some individual functions while
decreasing those of the other functions. In honor of Pareto, these equilibrium positions are today
called Pareto optimal points.

A. Pareto Optimal Bit-Allocations

The Pareto optimal solution deals with the case in which a set of feasible objective vector-
values does not have an optimum element. The Pareto optimal solution and the weakly Pareto
optimal solution for the bit-allocation problem are deﬁned as follows.

The Pareto optimal bit-allocation b∗ is deﬁned as no b ∈ Ω so that g

Ω(b) < g

Ω(b∗). This

deﬁnition signiﬁes

(g

Ω(b∗) − RN

+ ) ∩ g(Ω) = {g

Ω(b∗)},

(5)

Ω(b∗) − RN

+ is the Minkowski sum3of g

where g
− . The set of Pareto bit-allocations is
denoted as B(Ω) = {b∗|b∗ satisﬁes (5)}. In addition, the set of Pareto optimal points is denoted
as

Ω(b∗) and RN

P areto(g(Ω)) = {g

Ω(b)| b ∈ B(Ω)}.

(6)

The bit-allocation b∗ ∈ Ω is called a weakly Pareto bit-allocation if there is no b ∈ Ω so that
Ω(b) ≪ g

Ω(b∗). In other words,

g

(g

Ω(b∗) − int(RN

+ )) ∩ g(Ω) = ∅,

(7)

+ ) is the interior of RN

where int(RN
+ and ∅ is the empty set. The set of weakly Pareto bit-
allocations is denoted as Bw(Ω) and the set of weakly Pareto optimal points is the image of
Bw(Ω):

P aretow(g(Ω)) = {g

Ω(b)| b ∈ Bw(Ω)}.

(8)

A Pareto optimal bit-allocation is a weakly Pareto bit-allocation because for a bit-allocation b∗,
if there is no b such that g
Ω(b∗).
Figure 6 illustrates the Pareto optimal and weakly Perato optimal points for a bi-criteria example.

Ω(b∗), then, obviously, there is no b such that g

Ω(b) ≪ g

Ω(b) < g

3 Minkowski sum: S + T = {s + t|s ∈ S and t ∈ T }.

DRAFT

8

B. The Scalarization Approach

The weighted sum scalarization approach, which transforms a vector-valued optimization
problem into a scalar-valued optimization one, is widely used to ﬁnd the (weakly) Pareto
optimal points of a multi-objective optimization problem [9], [10]. By virtue of the approach,
the optimization problem in (2) is transformed to solve

wT g

min

b

Ω(b) = min

b∈Ω

N −1

X

i=0

wi gi(πi(b)),

(9)

i=0 )T is the weight vector with wi ≥ 0 for each i and PN −1

where w = ([wi]N −1
Ω(b)
is a feasible distortion, and gi(πi(b)), deﬁned in (3), is a feasible distortion at resolution i. As
shown in Figure 7, the optimum bit-allocation occurs when the hyperplane tangential to g(Ω)
has the smallest intercept among all the parallel hyperplanes hat intercept g(Ω).

i=0 wi = 1, g

Let b∗ be the optimum bit-allocation of (9) with the weight vector w. We denote that y(b∗) =

([yi(b∗)]N −1

i=0 )T satisﬁes the equation

N −1

X

i=0

wiyi(b∗) = min
b∈Ω

N −1

X

i=0

wi gi(πi(b))

(10)

and deﬁne the set of solutions of (10) for all normalized weight vectors as

S0 = {y(b∗)| there is w ≥ 0 with X

i

wi = 1 so that y(b∗) satisﬁes (10)}.

(11)

In general, S0 is a subset of the Pareto points. As shown in Figure 7, the Pareto point a is
not in S0. The main result for the weighted sum scalarization approach for solving the multi-
objective optimization problem is the equivalence of S0 and the weakly Parent optimal points
when g(Ω) + RN
+ is a convex set. Figure 8 illustrates an example where g(Ω) is not convex, but
g(Ω) + RN
Theorem 1 [9]. If g(Ω) + RN
The theorem indicates that if g(Ω) + RN
determine nothing but all weakly Pareto points and weakly Pareto bit-allocations of g(Ω).

+ is a convex set. The result is stated through the following theorem.

+ is a convex set, then S0 = P aretow(g(Ω)).

+ is a convex set, then the scalarization approach can

IV. MAIN RESULTS

Since it is important and insightful to have all alternatives available for decision makers to
choose which Pareto point to operate on, the primary purpose here is to derive a sufﬁcient
condition so that g(Ω) + RN

+ is a convex set.

DRAFT

9

The distortion space at a resolution is deﬁned as all the feasible distortions that the resolution
can generate from a given bit budget. As shown in Figure 9, if the bit budget is b, then the
distortion at resolution i is deﬁned as the set,

{gi(πi(b))|gi(πi(b)) is the i-th component of a g

Ω(b) ∈ g(Ω)},

(12)

where g
Ω(b) and g(Ω) are deﬁned in (3) and (4), respectively, and πi(b) is deﬁned in (2) as
the bit-allocation proﬁle of resolution i in the DAG. Hereafter, let bit-rate ri denote the total
number of bits in the bit proﬁle πi(b) assigned to the resolution i in the DAG. Note that many
bit-allocation proﬁles assign the same total number of bits ri at resolution i. Let Di(ri) denote
the rate-distortion (R-D) function of ri at resolution i. The R-D function is the lower envelope
formed by all the distortions at the resolution i that can be obtained by coding an image or a
video with bit-rate ri.

The main result is summarized in Theorem 2, which indicates that the convex set g(Ω) + RN
can be characterized from the R-D function of each resolution of a scalable coder. The Lemma
1 indicates that g(Ω) + RN
Lemma 1.

+ is equivalent to P aretow(g(Ω)) + RN
+ .

+

g(Ω) + RN

+ = P aretow(g(Ω)) + RN
+ .

(13)

Proof:
Clearly, g(Ω) + RN
+ ⊇ P aretow(g(Ω)) + RN
other direction: let d be a point in g(Ω)+RN
clear that PN −1
with PN −1
i=0 bw
End of Proof.

i=0 bi ≤ b. Since there is a weakly Pareto point dw with bit-allocation bw = [bw
i = b such that dw ≤ d. Therefore, P aretow(g(Ω)) + RN

+ .
+ ⊇ g(Ω) + RN

+ , as P aretow(g(Ω)) is a subset of g(Ω). To show the
i=0 . Then, it is
+ and the bit-allocation of d is b = [bi]N −1
i ]N −1

i=0

Under mild assumptions on the distortion space g(Ω) and R-D functions, the below lemma

Ω(b) can be represented by the R-D functions.

indicates that any feasible distortion g
Lemma 2. Let the feasible distortion space g(Ω) be a compact region and let Di(ri) be the R-D
curve of resolution i with ri ≤ b. If {Di(ri)} are strictly decreasing convex functions, then there
are one-to-one and onto functions {qi} that map the i-th component gi(πi(b)) of any feasible
distortion to the bit-rate in [0, b] so that

gi(πi(b)) = Di(qi(gi(πi(b)))) for all resolution i and all feasible bit-allocations b.

(14)

Meanwhile, qi is a strictly concave function.
Proof:

DRAFT

10

Without loss of any generality, we can use a two-resolution example to sketch the main concept
of the proof. Figure 10 illustrates the example where the minimum and the maximum distortions
with bit budget b for resolution 1 are A and B, respectively. The q1 is a one-to-one and onto
mapping of the vertical segment [B, A] at b in the right sub-graph to the bit-rates [0, b]. The
horizontal dashed line in the left sub-ﬁgure shows the distortion of resolution 1 varies with a
ﬁxed distortion of resolution 2. The dashed line intersects the distortion space at an interval with
end points at C and D. Since D1 is a strictly decreasing convex function, as shown in the right
sub-ﬁgure, the interval [C, D] has a unique corresponding curve in D1 and the domain of the
curve is deﬁned from q1(D) to q1(C). On the other hand, similar discussions can imply that the
mapping q2 is an one-to-one and onto mapping of the distortion at resolution 2 to the bit-rates
in the domain of the R-D function D2. This concludes that any distortion point in g(Ω) can
be represented based on the R-D functions and the mapping q1 and q2. Since q1 is the inverse
function of the strictly convex function D1, q1 is a strictly concave function [28]. This can also
be observed at the right sub-ﬁgure of Figure 10 that the function q1 maps intervals [A, B] to
[b, 0]. The mathematical induction can then be used to extend the proof for cases with more than
two resolutions.
End of Proof.
The following lemma indicates that if the weakly Pareto points are continuous, and a and b are
two weakly Pareto points, then any weakly Pareto points from a to b must be located either
inside or within the axis-aligned (minimum) bounding box of a and b4 .
Lemma 3. If the weakly Pareto point form a continuous curve (surface) and [ai]N −1
i=0 and [bi]N −1
be any two weakly Pareto points, then any weakly Pareto point from [ai]N −1
i=0 should be
i=0
either inside or in the axis-aligned minimum bounding box of [ai] and [bi] and can be represented
as [pi(t)]N −1

i=0 , where t ∈ [0, 1], and

i=0

to [bi]N −1

pi(t) = ai + αi(t)(bi − ai) = (1 − αi(t))ai + αi(t)bi,

(15)

where α(t) is a continuous, αi(t) ∈ [0, 1], and α(0) = 0 and α(1) = 1.
Proof:
We will prove this lemma by using mathematical induction on the dimension of the distortion
space g(Ω) with coordinate axes [g0, · · · , gN −1]. For a two-dimensional distortion space, let
[a0, a1] and [b0, b1] be two weakly Pareto points and let B2 denote the axis-aligned minimum

4The axis-aligned minimum bounding box for a given point set is its minimum enclosing box subject to the constraint that

the edges of the box are parallel to the coordinate axes.

DRAFT

11

bounding box of [a0, a1] and [b0, b1]. Since the weakly Pareto points between [a0, a1] and [b0, b1]
are continuous, if there is a [c0, c1] inside B2 such that either the horizontal line, g1 = c1, or the
vertical line, g0 = c0, intersects the continuous Pareto curve at a point [d0, d1] that is outside B2,
then one of the weakly Pareto points [d0, d1], [a0, a1], and [b0, b1] would not be a weakly Pareto
point, depending on the location of the intersection point as shown in Figure 11. Therefore, all
the weakly Pareto points between [a0, a1] and [b0, b1] must be inside or in B2 and, hence, can
be represented as (15).

i=0 be [bi]n−1

i=0 and [bi]n−1

Let us assume that the lemma is true up to dimension n − 1. Let [ai]n−1

i=0 be two
weakly Pareto points in an n-dimensional distortion space with coordinates [g0, · · · , gn−1], and
let Bn be the axis-aligned minimum bounding box of [ai]n−1
i=0 . Then, for any point
i=0 inside B, there are n axis-aligned hyperplanes, g0 = c0, · · · , gn−1 = cn−1. Without
[ci]n−1
loss of any generality, let us take the hyperplane gn−1 = cn−1. This hyperplane intersects the
continuous Pareto curve in a (n − 1)-dimensional axis-aligned minimum bounding box Bn−1
of [a0, · · · , an−2, cn−1] and [b0, · · · , bn−2, cn−1]. Let [d0, · · · , dn−2, cn−1] be an intersection point,
then by mathematical induction, [d0, · · · , dn−2, cn−1] must be inside or in the bounding box
Bn−1. As a result, the point [d0, · · · , dn−2, cn−1] is also inside or in the bounding box Bn. Since
[ci]n−1
End of Proof.

i=0 is any point inside Bn, we conclude that the lemma in true for dimension n.

Theorem 2. Let the feasible region g(Ω) be a compact region, Di(ri) be the R-D function of
resolution i with ri ≤ b, and qi be the mapping derived in Lemma 2. If {Di(ri)} are strictly
decreasing convex functions and if the weakly Pareto points of g(Ω) forms a continuous curve,
then g(Ω) + RN
Proof:
By Lemmas 1 and 2, for any two points in g(Ω) + RN
weakly Pareto points D0 = [Di(r0
b ≥ r1

i=0 , we can ﬁnd two
i ≥ qi(ui) and

i=0 and [vi]N −1
i )]N −1

i=0 with b ≥ r0

+ is a convex set.

+ , [ui]N −1

i ≥ qi(vi) such that

i )]N −1

i=0

and D1 = [Di(r1

D0 ≤ [ui]N −1

i=0 and D1 ≤ [vi]N −1
i=0 .

(16)

To simplify the notation, we let ai = Di(r0

i ). The continuous functions
{αi(t)} have the domain t ∈ [0, 1] and the range αi(t) ∈ [0, 1] and the end points αi(0) = ai
and αi(1) = bi. Since the weakly Pareto points form a continuous curve, according to Lemma
i=0 between the Pareto point D0 and D1 can be represented
3, any weakly Pareto point [pi(t)]N −1

i ) and bi = Di(r1

DRAFT

using {αi(t)} as

pi(t) = ai + αi(t)(bi − ai) = (1 − αi(t))ai + αi(t)bi.

As t varies from 0 to 1, pi(t) varies continuously from ai to bi. By Lemma 2, we have

(1 − αi(t))ai + αi(t)bi = Di(qi((1 − αi(t))ai + αi(t)bi)).

12

(17)

(18)

Since Di is a decreasing and convex and qi is concave, Di(qi) is a convex function [28]. Therefore,

Di(qi((1 − αi(t))ai + αi(t)bi)) ≤ (1 − αi(t))Di(qi(ai)) + αi(t)Di(qi(bi))

= (1 − αi(t))ai + αi(t)bi,

(19)

(20)

where the inequality and equality are derived from the deﬁnition of convex function and Lemma
2, respectively. Since ai = Di(r0
i ) ≤ vi , from Equations (16) and (20),
we have

i ) ≤ ui and bi = Di(r1

Di(qi((1 − αi(t))ai + αi(t)bi)) ≤ αi(t)ai + (1 − αi(t))bi ≤ αi(t)ui + (1 − αi(t))vi.

(21)

+ . Since u = [ui]N −1

i=0 and v = [vi]N −1

i=0 are any two points in g(Ω) + RN

i=0

+ is a convex set.

Since [Di(qi((1 − αi(t))ai + αi(t)bi))]N −1
i=0

for t ∈ [0, 1] are weakly Pareto points of g(Ω),
i=0 and [vi]N −1
+ , we can

Equation (21) implies that the points lie within the line segment connecting [ui]N −1
are in g(Ω) + RN
conclude that g(Ω) + RN
End of the proof.
Figure 12 illustrates a two-resolution example of the above theorem. Theorem 2 provides a
sufﬁcient condition to characterize all the weakly Pareto points by using the weighted sum
scalarization approach from the R-D curve of each resolution and the distortion space. Therefore,
according to Theorem 1, by using the weighted sum scalarization approach, all weakly Pareto
optimal points can be derived.

In practice, the feasible bit-allocation space Ω and the feasible distortion space g(Ω) of SC are
discrete. Since ri are discrete, ˜Di(ri), called the continuous extension of Di(ri), can be deﬁned
as a continuous function of ri which contains Di(ri) with ri ∈ Z+ and ri ∈ [0, b]. Meanwhile,
the distortion ˜g(Ω), called the continuous extension of discrete point set g(Ω), can be deﬁned
as a compact set which contains g(Ω) so that all weakly Pareto points of g(Ω) are also weakly
Pareto points of ˜g(Ω). The following corollary is the discrete version of Theorem 2.
Corollary 1. Let ˜Di(ri) and ˜g(Ω) be the continuous extension of discrete function Di(ri) and
discrete ponint set g(Ω), respectively. If { ˜Di(ri)} are strictly decreasing convex functions and if

DRAFT

13

all the weakly Pareto points of ˜g(Ω) forms a continuous curve (surface), then all weakly Pareto
points of g(Ω) can be derived using the weighed sum scalarization approach.
Proof:
According to Theorem 2, ˜g(Ω) + RN
+ is a convex set. Therefore, all weakly Pareto point of
˜g(Ω) can be derived by the scalarization approach. Since the weakly Pareto point of g(Ω) is a
subset of that of ˜g(Ω), using the scalarization approach, all weakly Pareto points of g(Ω) can
be derived.
End of the proof.

V. CONCLUSIONS

To conclude, we represented the prediction structure that removes the redundancy in scalable
coding (SC) as a directed acyclic graph and formulated the optimal bit-allocation problem on the
graph as a multi-criteria optimal problem. In general, there can be many optimal solutions (called
Pareto points), but the performance of those solutions are incomparable. In SC, the weighed sum
scalarization approach is a popular way to derive Pareto points. Since the Pareto points derived
via the weighted sum scalarization approach is a subset of all Pareto points, it is important to
present the conditions in SC so that all the Pareto points can be derived through the scalarization
approach. Our main results showed that if the rate-distortion (R-D) function of each resolution
of a SC method is strictly decreasing and convex and the weakly Pareto points form a continuous
curve, then all the Pareto optimal solutions can be derived through the scalarization approach.

Acknowledgement: Wen-Liang Hwang would like to express his gratitude to Mr. Jinn Ho, Mr.
Chia-Chen Lee, and Dr. Guan-Ju Peng. Without their assistances, this paper cannot be ﬁnished.

DRAFT

REFERENCES

14

[1] A. Skodras, C. Christopoulos, and T. Ebrahimi, “The JPEG 2000 Still Image Compression Standard,” in IEEE Signal

Processing Magazine, Vol. 18 No. 5, pp. 36-58, Jul. 2001.

[2] Y. Ye and P. Andrivon, “The Scalable Extensions of HEVC for Ultra-High-Deﬁnition Video Delivery,” in IEEE MultiMedia,

Vol. 21 No. 3, pp. 58-648, Jul. 2014.

[3] X. Lu and G. Martin, “Fast Mode Decision Algorithm for the H.264/AVC Scalable Video Coding Extension,” in IEEE

Transactions on Circuits and Systems for Video Technology, Vol. 23 No. 5, pp. 846-855, May 2013.

[4] Z. Shi, X. Sun, and F. Wu, “Spatially Scalable Video Coding For HEVC,” in IEEE Transactions on Circuits and Systems

for Video Technology, Vol. 22, No. 12, pp. 1813-1826, Dec. 2012.

[5] G. Sullivan, J. Boyce, Y. Chen, J.-R. Ohm, C. Segall, and A. Vetro, “Standardized Extensions of High Efﬁciency Video

Coding (HEVC),” in Selected Topics in Signal Processing, IEEE Journal of, Vol. 7 No. 6, pp. 1001-1016, ec. 2013.

[6] T. Wiegrand, H. Schwarz, A. Joch, F.Kossentini, and G. J. Sullivan, “Rate-Constrained Coder Control and Comparison of
Video Coding Standards,” in IEEE Transactions on Circuits and Systems for Video Technology, Vol. 13, No. 7, Jul. 2003.
[7] M. Kaaniche, A. Fraysse, B. Pesquet-Popescu, and J.-C. Pesquet, “A Bit Allocation Method for Sparse Source Coding,” in

IEEE Transactions on Image Processing, Vol. 23, No. 1, pp. 137-152, Jan. 2014.

[8] V. Pareto, “Manual of Political Economy (in French),” in F. Rough, 1896.
[9] M. Ehrgott, “Multicriteria Optimization,” in Springer, 2000.
[10] G. Eichfelder, “Adaptive Scalarization Methods in Multiobjective Optimization,” in Springer, 2008.
[11] J.-R. Ohm, M. V. der Schaar, and J. W. Woods, “Interframe wavelet coding – motion picture representation for universal

scalability,” in Signal Processing Image Communication, Vol. 19, pp. 877-908, 2004

[12] H. Schwarz, D. Marpe, and T. Wiegrand, “Overview of the Scalable Video Coding Extension of the H.264/AVC Standard,”

in IEEE Transactions on circuits and systems for video technology Vol. 17, No. 9, pp. 1103-1120, 2007

[13] H. Schwarz and T. Wiegrand, “R-D Optimized Multi-Layer Encoder Control for SVC,” in ICIP, pp. 281-284, 2007.
[14] G. J. Sullivan and T. Wiegrand, “Rate-Distortion Optimization for Video Compression,” in IEEE Signal Processing

Magazine, pp. 74-90, Nov. 1998.

[15] G. Sullivan, J. Ohm, W.-J. Han, and T. Wiegand, “Overview of the High Efﬁciency Video Coding (HEVC) Standard,” in

IEEE Transactions on Circuits and Systems for Video Technology, Vol. 22, No. 12, pp. 1649-1668, Dec. 2012.

[16] J. Chakareski, V. Velisavljevic, and V. Stankovic, “User-Action-Driven View and Rate Scalable Multiview Video Coding,”

in IEEE Transactions on Image Processing, Vol. 22, No. 9, pp. 3473-3484, Sep. 2013.

[17] J. Liu, Y. Cho, Z. Guo, and C.-C. J. Kuo, “Bit Allocation for Spatial Scalability Coding of H.264/SVC With Dependent
Rate-Distortion Analysis,” in IEEE Transactions on Circuits and Systems for Video Technology, Vol. 20, pp. 967-981, 2010.
[18] X. Wang, S. Kwong, L. Xu, and Y. Zhang, “Generalized Nash Bargaining Solution to Rate Control Optimization for

Spatial Scalable Video Coding,” in IEEE Transactions on Image Processing, Vol. 23, No. 9, pp. 4010-4021, Sep. 2014.

[19] G.-J. Peng, W.-L. Hwang, and S.-J. Chen, “Interlayer Bit Allocation for Scalable Video Coding,” in IEEE Transactions

on Image Processing, Vol. 21, No. 5, pp. 2592-2606, May 2012.

[20] G.-J. Peng, W.-L. Hwang, and S.-J. Chen, “Optimal Bit-allocation for Wavelet-based Scalable Video Coding,” in IEEE

International Conference on Multimedia and Expo, pp. 663-668, Jul. 2012.

[21] N. S. Jayant and P. Noll, “Digital Coding of Waveforms,” in Prentice Hall, Mar. 1984.
[22] B. Usevitch, “Optimal bit allocation for biorthogonal wavelet coding,” in Proceedings of Data Compression Conference,

pp. 387-395, 1996.

[23] E. van den Berg and M. P. Friedlander, “Analysis of Low Bit Rate Image Transform Coding,” in IEEE TRANSACTIONS

ON SIGNAL PROCESSING, Vol. 46, No. 5, pp. 1027-1041, Apr. 1998.

DRAFT

15

[24] S.-J. Choi and J. W. Woods, “Motion-Compensated 3-D subband coding of video,” in IEEE Transactions on Image

Processing, Vol. 8, No. 2, pp. 155-167, Feb. 1999.

[25] D. S. Taubman, “High performance scalable image compression with EBCOT,” in IEEE Transactions on Image Processing,

Vol. 9, No. 7, pp. 1158-1170, 2000.
[26] M. van der Schaar and H. Radha,

“A hybrid temporal-SNR ﬁne-granular scalability for internet coding,” in IEEE

Transactions on Circuits and Systems for Video Technology, Vol. 11, No. 3, pp. 318-331, Mar. 2001.

[27] Z. He and S. K. Mitra, “Optimum bit allocation and accurate rate control for video coding via ?-domain source modeling,”

in IEEE Transactions on Circuits and Systems for Video Technology, Vol. 12, No. 10, pp. 840-849, Oct. 2002.

[28] S. Boyd and L. Vandenberghe, “Convex Optimization,” in Cambridge University Press., 2004.

DRAFT

16

g2

(g1(b1),g2(b1))

(g1(b2),g2(b2))

g1

Fig. 1. Top: An SC supports three resolutions: QCIF (the leftmost node), CIF (the leftmost and the middle nodes), and HD
(all three nodes). The arcs indicate the coding dependence of resolutions. Bottom: a possible distortion distribution for two
bit-allocations b1 and b2. Both bit-allocations assign the same bits to the QCIF node, but assign different bits to CIF and HD
nodes with b1 = [b, 0]T (b bits are assigned to the middle node to support CIF) and b2 = [0, b]T (b bits are to the rightmost node
to support HD). The distortion vectors for CIF and HD are [g1(b1), g2(b1)]T and [g1(b2), g2(b2)]T for b1 and b2, respectively.
Obviously, g1(b1) < g1(b2) because b1 uses more bits to encode CIF. However, we cannot determine if either g2(b1) or g2(b2)
is smaller because b1 and b2 use the same number of bits to encode HD. The result depends on coding algorithms and video.
If the distortions are as shown, which bit-allocation is better cannot be determined because b1 is better for CIF, but b2 is better
for HD.

DRAFT

17

Fig. 2. The DAG representation of a scalable codec that supports ﬁve resolutions. The node 0 represents the base layer and
the resolution 0. The high-lighted sub-graph of resolution 3, denoted as πg

3 , contains nodes 0, 1, and 2.

R esolutio n

Q2

Q u ality

Q1

n
o
i
t
u
o
s
e
R

l

l

a
r
o
p
m
e
T

15FPS

30FPS

60FPS

320x240

640x480

1280x720

Spatial Resolution

Fig. 3. A conﬁguration example of H.264/SVC. The DAG has twelve nodes (resolutions). The dashed arcs (from 15 FPS to
30 FPS and 30 FPS to 60 FPS) correspond to the temporal dependency in the lowest spatial layer. The arcs between the spatial
nodes and quality nodes are based on an inter-layer prediction technique adopted by H.264/SVC. The base layer is at the node
(320 × 240, 15 FPS, Q1). Any node is reachable from the base layer node, and the nodes present in the path are used to support
the video resolution associated to the end node. FPS is the abbreviation for frames per second.

DRAFT

18

R esolutio n

Q2

Q u ality

Q1

n
o
i
t
u
o
s
e
R

l

l

a
r
o
p
m
e
T

15FPS

30FPS

60FPS

320x240

640x480

1280x720

Spatial Resolution

Fig. 4.
A conﬁguration example of H.264/SVC. The DAG has 12 nodes (resolutions). The dashed arcs corresponding to
temporal dependency have a complicated “key frame” structure between the ﬁrst two quality resolutions for the lowest spatial
resolution. The key frame technique uses the reconstructed frames at higher spatial/quality and lower temporal resolution as
a reference to predict the frames at lower spatial/quality and higher temporal resolution [?]. The temporal prediction is also
available for higher quality layers. The prediction between spatial nodes and quality nodes is applied at the same temporal
resolution. The base layer is at (320 × 240, 15 FPS, Q1). Any node is reachable from the base layer node. Note that the node
(320 × 240, 60 FPS, Q1) can be reached by more than one path. All the nodes in the paths are used to support the video
resolution associated with the node (320 × 240, 60 FPS, Q1).

Fig. 5. Even for two resolutions, the existence of the optimum solution is uncommon for SVC. Left: X is the minimum point
because the distortion at the point in each resolution is the smallest when compared to other points in g(Ω). In this case, X is
the optimum point. Right: This example demonstrates that the optimum point does not always exist. In this case, there is no
optimum point.

DRAFT

19

Fig. 6. The Pareto and weakly Pareto optimal points for the bi-criteria case. The Pareto optimal points are the points on the
red curve, which is derived based on the closed cone R2
+, as shown under X. The weakly Pareto optimal points are the points
on the blue and red curves, which are derived based on the open cone (int(R2

+) ∪ {0}), as shown under Y and Z.

Fig. 7. The hyperplane denoted by the red line was determined by the weight factor w. The hyperplane is tangential to g(Ω)
at the Pareto bit-allocation b∗. The scalarization approach cannot ﬁnd all optimal bit-allocations of g(Ω) (since g(Ω) + R2
+ is
not a convex set). For example, the Pareto bit-allocation b∗ could be obtained, but not the Pareto bit-allocation a.

DRAFT

20

Fig. 8. An example that illustrates g(Ω) + R2

+ is convex but g(Ω) is not.

Fig. 9. Distortion space and the R-D function at a resolution. The dashed area is the distortion space, corresponding to all the
feasible distortions at that resolution for a bit budget. The lower envelope of the area is the R-D curve at that resolution.

Fig. 10. Left: the dashed line indicates that the distortion for resolution 2 is ﬁxed and the distortion for resolution 1 varies
from C to D. A is the minimum distortion of resolution 1 with bit budge b and B is the maximum distortion of the resolution.
Right: each point in the vertical segment [A, B] has a unique corresponding point in D1 because D1 is a strictly non-increasing
convex function. This example illustrates that q1 is one-to-one and onto function from distortion to bit-rate.

DRAFT

21

Fig. 11.
[c0, c1] is any point inside the axis-aligned minimum bounding box of [a0, a1] and [b0, b1]. [d0, d1] is an intersection
point of the curve of weakly Pareto points from one weakly Pareto point [a0, a1] to the other weakly Pareto point [b0, b1] and
the horizontal line g1 = c1. Therefore, d1 = c1. Since d0 < a0 and c1 < a1, [a0, a1] is not a weakly Pareto point. Similarly, if
the intersection point is in the regions B or C, the point is not a weakly Pareto point and if the intersection point is in region
D, then [b0, b1] is not a weakly Pareto point.

Fig. 12. Characterization of the Pareto points from the R-D functions of resolutions 1 and 2: if R-Ds are strictly non-increasing
+ is also convex, as shown in the bottom
convex functions, as shown in the top left and top right subﬁgures, then g(Ω) + R2
subﬁgure.

DRAFT

