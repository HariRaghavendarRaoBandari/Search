6
1
0
2

 
r
a

 

M
5
1
 
 
]

.

O
C
h
t
a
m

[
 
 

1
v
4
5
6
4
0

.

3
0
6
1
:
v
i
X
r
a

“K-THEORETIC” ANALOG OF POSTNIKOV-SHAPIRO

ALGEBRA DISTINGUISHES GRAPHS

GLEB NENASHEV AND BORIS SHAPIRO

Izvestnomu (cid:31)ponskomu matematiku Tole Kirillovu posv(cid:31)waets(cid:31)

Abstract. In this paper we study a ﬁltered “K-theoretical” analog of a
graded algebra associated to any loopless graph G which was introduced in
[4]. We show that two such ﬁltered algebras are isomorphic if and only if their
graphs are isomorphic. We also study a large family of ﬁltered generalizations
of the latter graded algebra which includes the above “K-theoretical” analog.

1. Introduction

The following square-free algebra CG associated to an arbitrary vertex labeled
graph G was deﬁned in [4], see also [1]. Let G be a graph without loops on the vertex
set {0, ..., n}. (Below we always assume that all graphs might have multiple edges,
but no loops). Throughout the whole paper, we ﬁx a ﬁeld K of zero characteristic.
Let ΦG be the graded commutative algebra over K generated by the variables
φe, e ∈ G, with the deﬁning relations:

(φe)2 = 0,

for any edge e ∈ G.

Let CG be the subalgebra of ΦG generated by the elements

Xi =Xe∈G

ci,eφe,

for i = 1, ..., n, where

1 if e = (i, j), i < j;
−1 if e = (i, j), i > j;

0 otherwise.

(1)

ci,e =
pI = Xi∈I

For the reasons which will be clear soon, we call CG the spanning forests counting
algebra of G. Its Hilbert series and the set of deﬁning relations were calculated in
[5] following the initial paper [6]. Namely, let JG be the ideal in K[x1, . . . , xn]
generated by the polynomials

xi!DI +1

,

(2)

where I ranges over all nonempty subsets in {1, . . . , n} and DI =Pi∈I dI (i), where

dI (i) is the total number of edges connecting a given vertex i ∈ I with all vertices
outside I. Thus, DI is the total number of edges between I and the complementary
set of vertices ¯I. Set BG := K[x1, . . . , xn]/JG.

Date: March 16, 2016.
2000 Mathematics Subject Classiﬁcation. Primary 05E40, Secondary 05C31.
Key words and phrases. spanning forests and trees, commutative algebras, ﬁltered algebras.

1

2

G. NENASHEV AND B. SHAPIRO

Remark 1. Observe that sincePn

of ΦG generated by X0, X1, . . . , Xn.

i=0 Xi = 0, we can deﬁne CG as the subalgebra

We can also deﬁne BG as the quotient algebra of K[x0, . . . , xn] by the ideal
generated by pI , where I runs over all subsets of {x0, x1, · · · , xn}. This follows
from the relation

pI = Xi∈I

xi!DI +1

=p{0,1,...,n} −Xi∈I

xi

DI +1

.

To describe the Hilbert polynomial of CG, we need the following classical notion
going back to W. T. Tutte. Given a simple graph G, ﬁx an arbitrary linear order
of its edges. Now, given a spanning forest F in G (i.e., a subgraph without cycles
which includes all vertices of G) and an edge e ∈ G \ F in its complement, we say
that e is externally active for F, if there exists a cycle C in G such that all edges in
C \ {e} belong to F and e is minimal in C with respect to the chosen linear order.
The total number of external edges is called the external activity of F . Although
the external activity of a given forest/tree in G depends on the choice of a linear
ordering of edges, the total number of forests/trees with a given external activity is
independent of this ordering. Now we are ready to formulate the main result of [5].

Theorem 1. [Theorems 3 and 4 of [5]] For any simple graph G, algebras BG and
CG are isomorphic. The total dimension of these algebras (as vector spaces over
K) is equal to the number of spanning subforests in G. The dimension of the k-th
graded component of these algebras equals the number of subforests F in G with
external activity |G| − |F | − k. Here |G| (resp. |F |) stands for the number of edges
in G (resp. F ).

In the above notation, our main object will be the ﬁltered subalgebra KG ⊂ ΦG

deﬁned by the generators:

Yi = exp(Xi) = Ye∈G

(1 + ci,eφe), i = 0, . . . , n.

(Notice that we have one more generator here than in the previous case.)

Remark 2. Since Yi is obtained by exponentiation of Xi, we call KG the “K-
theoretic” analog of CG.

Our ﬁrst result is as follows. Deﬁne the ideal IG in K[y0, y1, . . . , yn] as generated

by the polynomials

qI = Yi∈I

yi − 1!DI +1

,

(3)

where I ranges over all nonempty subsets in {0, 1, . . . , n} and the number DI is the
same as in (2). Set DG := K[y0, . . . , yn]/IG.

Theorem 2. For any graph G, algebras BG, CG, DG and KG are isomorphic as
(non-ﬁltered) algebras.

Moreover, the following stronger statement holds.

Theorem 3. For any graph G, algebras DG and KG are isomorphic as ﬁltered
algebras.

Recall that in a recent paper [3] the ﬁrst author has shown that CG contains all

information about the matroid of G and only it. Namely,

“K-THEORETIC” ANALOG DISTINGUISHES GRAPHS

3

Theorem 4. [Theorem 5 of [3]] Given two graphs G1 and G2, algebras CG1 and
CG2 are isomorphic if and only if the matroids of G1 and G2 coincide. (The latter
isomorphism can be thought of either as graded or as non-graded, the statement
holds in both cases.)

On the other hand, ﬁltered algebras DG and KG contain complete information

about G.

Theorem 5. Given two graphs G1 and G2 without isolated vertices, KG1 and KG2
are isomorphic as ﬁltered algebras if and only if G1 and G2 are isomorphic.

The structure of this paper is as follows. In § 2 we prove new results formulated
above. In § 3 we discuss Hilbert series of similar algebras deﬁned by other sets of
generators. In § 4 we discuss “K-theoretic” analogs of algebras counting spanning
trees. Finally, in § 5 we present a number of open problems.

Acknowledgements. The study of DG and KG was initiated by the second author
jointly with Professor A. N. Kirillov during his visit to Stockholm in October-
November 2009 supported by the Swedish Royal Academy. The second author is
happy to acknowledge the importance of this visit for the present project and to
dedicate this paper to Professor Kirillov.

To prove Theorem 2, we need some preliminary results.

2. Proofs

Lemma 1. For any simple graph G, algebras CG and KG coincide as subalgebras
of ΦG.

Proof. Since (Xi)di+1 = 0, where di is the degree of vertex i, then

Yi = exp(Xi) = 1 +

(Xi)j

j!

.

diXj=1

Hence Yi ∈ CG which means that KG ⊂ CG ⊂ ΦG.

we get

To prove the opposite inclusion, consider eYi = Yi − 1 = exp(Xi) − 1. Since Xi|eYi,
(eYi)di+1 = 0.
Using the relation Xi = ln(1 + eYi) = Pdi

j!
Thus CG ⊂ KG, implying that CG and KG coincide.

, we conclude Xi ∈ KG.
(cid:3)

Lemma 2. For any simple graph G, algebras BG and DG are isomorphic as (non-
ﬁltered) algebras.

(−1)j−1(eYi)j

j=1

,

for any subset I ⊂ {0, 1, . . . , n}.

Since for every vertex i = 0, 1, . . . , n,

The generators of ideal IG transform as

Proof. First we change the variables in DG by using eyi = yi − 1, i = 0, 1, . . . , n.

eqI = Yi∈I
(eyi + 1) − 1!DI +1
((eyi + 1) − 1)di+1 = eyi
we can consider DG as the quotient K[[ey0, . . . ,fyn]]/eIG of the ring of formal power
series factored by the ideal eIG generated by all eqI .
Similarly we can consider BG as the quotient K[[x0, . . . , xn]]/eJG of the ring of
formal power series by the ideal eJG generated by all pI .

di+1,

4

G. NENASHEV AND B. SHAPIRO

Introduce the homomorphism ψ : K[[ey0, . . . ,eyn]] 7→ K[[x0, . . . , xn]] deﬁned by:
In fact, ψ is an isomorphism, because ψ−1 is deﬁned by xi → ln(1 +eyi).
Let us look at what happens with the ideal eIG under the action of ψ. For a
given I ⊂ {0, 1, . . . , n}, consider the generatoreqI . Then,
= Yi∈I
exi − 1!DI +1
·  exp(cid:0)Pi∈I xi(cid:1) − 1

ψ :eyi → exi − 1.
(ψ(eyi) + 1) − 1!DI +1
xi!DI +1

ψ(eqI ) = Yi∈I
xi! − 1!DI +1

!DI +1

= exp Xi∈I

= Xi∈I

=

Pi∈I xi

.

exp(Pi∈I xi)−1

The factor
is a formal power series starting with the constant term 1.
Hence the last factor in the right-hand side of the latter expression is an invertible

Pi∈I xi

power series. Thus, the generatoreqI is mapped by ψ to the product pI · ∗, where ∗
is an invertible series. This implies ψ(eIG) = eJG. Hence algebras DG and BG are

isomorphic.

(cid:3)

Proof of Theorem 2. By Lemmas 1, 2 and Theorem 1, we get that all four algebras
are isomorphic to each other. Furthermore, by Theorem 1, we know that their total
dimension over K is the number of subforests in G.
(cid:3)

Theorem 3 now follows from Theorem 2.

Proof of Theorem 3. Consider the surjective homomorphism h : DG → KG, deﬁned
by:

h(yi) = Yi, i = 0, 1, . . . , n.

(It is indeed a homomorphism because every relation qI holds for Y0, . . . , Yn.) By
Theorem 2 we know that these algebras have the same dimension, implying that h
is an isomorphism. It is clear that h preserves the ﬁltration.
(cid:3)

2.1. Proving Theorem 5. We start with a few deﬁnitions.

Given a commutative algebra A, its element t ∈ A is called reducible nilpotent if

and only if there exists a presentation t =P uivi, where all ui, vi are nilpotents.

For a nilpotent element t ∈ A, deﬁne its degree d(t) as the minimal non-negative

integer for which there exists a reducible nilpotent element h ∈ A such that

(t − h)d+1 = 0.

Given an element R ∈ ΦG, we say that an edge-element φe belongs to R, if
monomial φe has a non-zero coeﬃcient in the expansion of R as the sum of square-
free monomials in ΦG.

Lemma 3. For any nilpotent element R ∈ KG ⊂ ΦG, the degree d(R) of R equals
the number of edges of G belonging to R.

“K-THEORETIC” ANALOG DISTINGUISHES GRAPHS

5

Proof. We can write R in terms of {X0, . . . , Xn}. (Observe that KG and CG coin-
cide as subsets of ΦG, but have diﬀerent graded/ﬁltered structures). Now we can
concentrate on the graded structure of CG. Select the part of R which lies in the
ﬁrst graded component of CG. Thus

R = R1 + R′ =

aiXi + R′,

nXi=0

where R′ is reducible nilpotent because it belongs to the linear span of other graded
components. Thus d(R) = d(R1). The statement of Lemma 3 is obvious for R1.
Additionally by construction, an edge-element φe belongs to R if and only if it
belongs to R1.
(cid:3)

Lemma 4. Given a graph G, let {eY0, . . . ,eYn} be the set of generators of KG cor-
responding to the vertices (i.e., eYi = exp(Xi) − 1). Then
(1) {eY0, . . . ,eYn} are nilpotents;
(2) Pn
i=0 ln(1 +eYi) = 0;
ai ∈ K (i ∈ I), the degree d(Pi∈I aieYi) is equal to the number of edges

(4) the number of edges between vertices i and j equals to d(eYi)+d(eYj )−d(eYi+eYj )

(3) for any subset I ⊂ [0, n] and any set of pairwise distinct non-zero numbers

incident to the vertices belonging to I;

.

2

Proof. Item (1) is obvious.

Xi = 0.

nXi=0

nXi=0

ln(1 + eYi) =

two generators, then it has coeﬃcients of opposite signs. Since all ai are diﬀerent,

To settle (2), observe that ln(1 + eYi) = Xi which implies
To prove (3), notice that, by Lemma 3, the degree d(Pi∈I aieYi) is equal to the
number of edges belonging to the sumPi∈I aieYi. Each edge belongs either to zero,
to one or to two generators eYi from the latter sum. Moreover, if an edge belongs to
an edge-element φe belongs to Pi∈I aieYi if and only if it belongs to at least one
eYi, for i ∈ I. Thus the degree d(Pi∈I aieYi) is the number of edges incident to all
to eYi and to eYj with the opposite coeﬃcients. Therefore φe does not belong to
(eYi +eYj ). Using Lemma 3, we get that d(eYi) + d(eYj) − d(eYi +eYj) equals twice the

To settle (4), notice that if e is an edge between vertices i and j, then φe belongs

number of edges between i and j.

vertices from I.

(cid:3)

Our proof of Theorem 5 uses the following technical lemma which should be

obvious to the specialists.

Lemma 5 (Folklore). Let E be the set of edges of some graph G without isolated
vertices. If we know the following information:

(1) which pairs ei, ej ∈ E of edges are multiple, i.e., connect the same pair of

vertices;

(2) which pairs ei, ej ∈ E of edges have exactly one common vertex;
(3) which triples ei, ej, ek ∈ E of edges form a triangle,

then we can reconstruct G up to an isomorphism.

6

G. NENASHEV AND B. SHAPIRO

Proof. Assume the contrary, i.e., that there exist two non-isomorphic graphs G and
G′ such that there exists a bijection ψ of their edge sets E and E′ preserving (1)
- (3). Assume that under this bijection an edge e ∈ E corresponds to the edge
e′ ∈ E′. Additionally assume that |V (G′)| ≥ |V (G)|.

Now we construct an isomorphism between G and G′. Let us split the vertices

are incident to some pair of non-multiple edges.

Let us construct a bijection ψ between the vertices of G and G′, which extends

the given bijection ψ of edges, i.e., for any e = uv =∈ E, e′ = ψ(e) = ψ(u)ψ(v).

of G into two subsets: V (G) = bV (G) ∪ ˜V (G), where bV (G) are all vertices which
At ﬁrst we deﬁne it on bV (G). Namely, given a vertex v ∈ bV (G), choose two

non-multiple edges ei and ej incident to it, and deﬁne ψ(v) as a common vertex of
e′
i and e′
j. We need to show that ψ(v) does not depend on the choice of ei and ej. It
is enough to check it for a pair ei and ek 6= ej, where ek is another edge incident to
j and e′
v. Indeed, if e′
k form
a triangle in G′ (because e′
j). Hence, ei,
ej and ek form a triangle in G, but they have a common vertex v. Contradiction.
Now we need to extend ψ to vertices belonging to ˜V (G1). Note that each vertex

i and e′
k has a common vertex with e′

k has no common vertex with both e′

i, e′
j, then e′
i and with e′

v ∈ ˜V (G1) has exactly one adjacent vertex. There are two possibilities.

1◦ Adjacent vertex u of v belongs to bV (G). Consider the edge euv ∈ E. (There

might be several such edges, but this is not important, because in G′ they are also
multiple.) Knowing the image ψ(euv) and the vertex ψ(u), we deﬁne ψ(v) as the
vertex of ψ(euv) diﬀerent from ψ(u).

2◦ Adjacent vertex u of v belongs to ˜V (G). Consider edge euv ∈ E Knowing
ψ(euv), we deﬁne ψ(u) and ψ(v) as the vertices of edge ψ(euv) (not important
which is mapped to which).

Since G′ has no isolated vertices and each edge e′ has exactly two incident vertices
from ψ(V ), we get that ψ : G → G′ is surjective. Hence, ψ : G → G′ is an
isomorphism (otherwise it must be non-injective on vertices and, hence, |V (G)| >
|V (G′)|). Therefore G and G′ are isomorphic.
(cid:3)

Proof of Theorem 5. Let G and G′ be a pair of graphs such that their ﬁltered
algebras KG and KG′ are isomorphic. Without loss of generality, we can assume
that |E(G)| ≤ |E(G′)|. Denote the numbers of vertices in G and G′ by n + 1 and
n′ + 1 resp.

in particular,

structure and satisﬁes the assumptions of Lemma 4. In order to avoid confusion,

corresponding to the vertices of G′ under the isomorphism of ﬁltered algebras. The

We consider KG as a subalgebra in ΦG. The elements eYi = exp(Xi)−1, i ∈ [0, n]
form a set of generators of KG. Denote by eZi ∈ KG, i ∈ [0, n′] the elements
set {eZi, i ∈ [0, n′]} is also a generating set for KG which gives the same ﬁltered
we call eYi the i-th vertex of graph G, and we call eZj the j-th vertex of graph G′.
Since eYi, i ∈ [0, n] and eZi, i ∈ [0, n′] determine the same graded structure, then,
Additionally, by Lemma 4, eYi, i ∈ [0, n] and eZi, i ∈ [0, n′] are nilpotents, implying
diﬀerent eZi’s. Assume the contrary, i.e., that φe belongs to eZi,eZj and eZk. Then
belong to r1eZi + r2eZj + r3eZk. Moreover, for generic distinct non-zero coeﬃcients
3eZk if and only if

span{1,eY0, . . . ,eYn} = span{1,eZ0, . . . ,eZn′ }.
span{eY0, . . . ,eYn} = span{eZ0, . . . ,eZn′}.

there exist three distinct non-zero coeﬃcients r1, r2, r3 ∈ K such that φe does not

Firstly, we need to show that each edge-element φe belongs to at most two

3 ∈ K, element φe′ (e′ ∈ E(G)) belongs to r′

2eZj + r′

1eZi + r′

that

r′
1, r′

2, r′

“K-THEORETIC” ANALOG DISTINGUISHES GRAPHS

7

φe′ belongs to at least one of eZi,eZj and eZk. Hence by Lemma 3,
3eZk).
By Lemma 4, for any i ∈ [0, n′], the degree d(eZi) equals to the valency of eZi.

d(r1eZi + r2eZj + r3eZk) < d(r′

But at the same time, by Lemma 4 (3), they should coincide, contradiction.

2eZj + r′

1eZi + r′

Therefore,

2|E(G′)| =

n′Xi

d(eZi) ≤ 2|E(G)|,

we conclude that |E(G)| = |E(G′)|. Furthermore, by Lemma 4 (2), each element

because each edge-element is included in at most two eZi. Since |E(G)| ≤ |E(G′)|,
φe, e ∈ E(G) belongs exactly to two vertices from eZi, i ∈ [0, n′] with the opposite

coeﬃcients. Since |E(G)| = |E(G′)|, we can additionally assume that the number
of pairs of non-multiple edges which have a common vertex in G′ is bigger than
that in G.

So far we have constructed a bijection between the edges of G and the edges of
G′. We want to prove that this bijection provides a graph isomorphism. We will
achieve this as a result of the 5 claims collected in the following proposition which
is closely related to Lemma 5.

Proposition 1. The following facts hold.

(1) If φe1 and φe2 have no common vertex in G, then they have no common

vertex in G′ as well.

(2) If φe1 and φe2 are multiple edges in G, then they are multiple edges in G′

as well.

(3) If φe1 and φe2 have exactly one common vertex in G, then they have exactly

one common vertex in G′ as well.

(4) If φe1 , φe2 and φe3 form a star in G, then they form a star in G′ as well.
(Three edges form a star if they have one common vertex and their three
other ends are distinct.)

(5) If φe1 , φe2 and φe3 form a triangle in G, then they form a triangle in G′

as well.

Proof. To prove (1), assume the contrary, i.e., assume that φe1 and φe2 belong to

with the coeﬃcient −ab.

eZj (and denote the corresponding coeﬃcients by a and b resp.). Since elements
eY0, . . . ,eYn have no monomial φe1 φe2 , then eZ0, . . . ,eZn′ have no monomial φe1 φe2 as
well (since their spans coincide). Then ln(1 + eZj) contains the monomial φe1 φe2
By Lemma 4 (2), we havePn′
i=0 ln(1+eZi), then there exists k ∈ [0, n′], k 6= i such
that ln(1 +eZk) contains the monomial φe1 φe2 with a non-zero coeﬃcient. Then eZk
must contain φe1 and φe2 (since eZk does not contains φe1 φe2 ). Hence, eZk has φe1
and φe2 with coeﬃcients −a and −b resp. Therefore ln(1 +eZk) contains monomial
φe1 φe2 with the coeﬃcient −(−a)(−b) = −ab. Thus the sum Pn′
j=0 ln(1 + eZj)
To prove (2), consider the map from span{eY0, . . . ,eYn} to K2, sending an element
in G′, then the image of the map from span{eZ0, . . . ,eZn′} = span{eY0, . . . ,eYn} has

from the span to the pair of coeﬃcients of φe1 and φe2 resp. Since edges e1 and e2 are
multiple in G, the image of this map has dimension 1. If φe1 and φe2 are not multiple

To prove (3), observe that we have already settled Claims 1 and 2, and also
we additionally assumed that the number of pairs of edges which have a common

contains φe1 φe2 with coeﬃcient −2ab, contradiction.

dimension 2.

8

G. NENASHEV AND B. SHAPIRO

vertex in G′ is bigger than that in G. Then each such pair of edges from G is
mapped to the pair of edges from G′ with the same property.

in the span to the triple of coeﬃcients of φe1 , φe2 and φe3 resp. The image of this
map has dimension 3. However if φe1 , φe2 and φe3 form a triangle in G′, then the

To prove (4), consider the map from span{eY0, . . . ,eYn} to K3, sending an element
image of the map from span{eZ0, . . . ,eZn′} has dimension 2.

Proof of (5) is similar to that of (4).

Now applying Lemma 5 we ﬁnish our proof of Theorem 5.

(cid:3)

(cid:3)

3. Further generalizations

In this section we will consider the Hilbert series of other ﬁltered algebras similar
to KG. (Recall that the Hilbert series of a ﬁltered algebra is, by deﬁnition, the
Hilbert series of its associated graded algebra.)

Let f be a univariate polynomial or a formal power series over K. We deﬁne the

subalgebra F [f ]G ⊂ ΦG as generated by 1 together with

f (Xi) = f(cid:16)X ci,eφe(cid:17) , i = 0, . . . , n.

Example 1. For f (x) = x, F [f ]G coincides with CG. For f (x) = exp(x), F [f ]G
coincides with KG.

Obviously, the ﬁltered algebra F [f ]G does not depend on the constant term of f.
From now on, we assume that f (x) has no constant term, since for any g such that
f − g is constant, the ﬁltered algebras F [f ]G and F [g]G are the same.

Proposition 2. Let f be any polynomial with a non-vanishing linear term. Then
algebras CG and F [f ]G coincide as subalgebras of ΦG.

Proof. The argument is the same as in the proof of Lemma 1. We only need to
change exp(x) − 1 to f (x) and ln(1 + y) to f −1(y).
(cid:3)

Theorem 6. Let f be any polynomial with non-vanishing linear and quadratic
terms. Then given two simple graphs G1 and G2, F [f ]G1 and F [f ]G2 are isomorphic
as ﬁltered algebras if and only if G1 and G2 are isomorphic graphs.

Proof. Repeat the proof of Theorem 5.
3.1. Generic functions f and their Hilbert series. Since X di+1
= 0 for any i,
we can always truncate any polynomial (or a formal power series) f at degree |G|+1
without changing F [f ]G. Therefore, for a given graph G, it suﬃces to consider f
as a polynomial of degrees less than or equal to |G|. To simplify our notation, let
us write HSf,G instead of HSF [f ]G.

(cid:3)

i

Given a graph G, consider the space of polynomials of degree less than or equal

to |G| and the corresponding Hilbert series.

Proposition 3. In the above notation, for generic polynomials f of degree at most
|G|, the Hilbert series HSf,G is the same. This generic Hilbert series (denoted by
HSG below) is maximal in the majorization partial order among all HSg,G, where
g runs over the set of all formal power series with non-vanishing linear term.

Recall that, by deﬁnition, a sequence (a0, a1, . . .) is bigger than (b0, b1, . . .) in the

majorization partial order if and only if, for any k ≥ 0,

More information about the majorization partial order can be found in e.g. [2].

ai ≥

bi.

kXi=0

kXi=0

“K-THEORETIC” ANALOG DISTINGUISHES GRAPHS

9

ries HSf,G equals the dimension of span{f α0(X0)f α1 (X1) · · · f αn(Xn) : Pn

Proof. Note that, for a function f, the sum of the ﬁrst k + 1 entries of its Hilbert se-
i=0 αi ≤
k}. It is obvious that, for a generic f, this dimension is maximal. Since all Hilbert
series HSf,G are polynomials of degree at most |G| + 1, then the required property
has to be checked only for k ≤ [G|. Therefore it is obvious that, for generic f , their
Hilbert series is maximal in the majorization order.
(cid:3)

Remark 3. We know that the Hilbert series of the graded algebra CG is a spe-
cialization of the Tutte polynomial of G. However we can not calculate the Hilbert
series of KG from the Tutte polynomial of G, because there exists a pair of graphs
(G, G′) with the same Tutte polynomial and diﬀerent HSKG and HSKG′ , see Ex-
ample 2.

Additionally, notice that, in general, HSexp,G := HSKG 6= HSG. Analogously
we can not calculate generic Hilbert series HSG from the Tutte polynomial of G,
see Example 2.

G1

G2

Figure 1. Graphs with the same matroid and diﬀerent

“K-theoretic” and generic Hilbert series.

Example 2. Consider two graphs G1 and G2 presented in Fig. 1. It is well-known
that G1 and G2 have isomorphic matroids and hence, the same Tutte polynomial.
Therefore, the Hilbert series of CG1 and CG2 coincide. Namely,

HSCG1 (t) = HSCG2 (t) = 1 + 3t + 6t2 + 9t3 + 8t4 + 4t5 + t6.

However, the Hilbert series of “K-theoretic” algebras are distinct. Namely

HSKG1 (t) = 1 + 4t + 10t2 + 14t3 + 3t4,

HSKG2 (t) = 1 + 4t + 10t2 + 15t3 + 2t4.

Moreover their generic Hilbert series are also distinct and diﬀerent from their “K-
theoretic” Hilbert series. Namely,

HSG1(t) = 1 + 4t + 10t2 + 15t3 + 2t4,

HSG2(t) = 1 + 4t + 10t2 + 16t3 + t4.

Putting our information together we get,

HSCG1 = HSCG2 ≺ HSKG1 ≺ HSKG2 = HSG1 ≺ HSG2,

where ≺ denotes the majorization partial order.

b
b
b
b
b
b
b
b
10

G. NENASHEV AND B. SHAPIRO

4. “K-theoretical” analog for spanning trees

For an arbitrary loopless graph G on the vertex set {0, ..., n}, let ΦT

G be the graded
commutative algebra over a given ﬁeld K generated by the variables φe, e ∈ G, with
the deﬁning relations:

(φe)2 = 0,

for any edge e ∈ G;

φe = 0,

for any non-slim subgraph H ⊂ G,

Ye∈H

where a subgraph H is called slim if its complement G \ H is connected.

Let C T

G be the subalgebra of ΦT

G generated by the elements

X T

i =Xe∈G

ci,eφe,

for i = 1, ..., n, where ci,e is given by (1). (Notice that X T
exactly the same formula but in diﬀerent ambient algebras.)

i and Xi are deﬁned by

Algebra C T

G will be called the spanning trees counting algebra of G and is, obvi-

ously, the quotient of CG modulo the set of relationsQe∈H φe = 0 over all non-slim

subgraphs H. Its deﬁning set of relations is very natural and resembles that of (2).
Namely, deﬁne the ideal J T

G in K[x1, . . . , xn] as generated by the polynomials:

pT

I = Xi∈I

xi!DI

,

(4)

where I ranges over all nonempty subsets in {1, . . . , n} and the number DI is the
same as in (2). Set BT
G . One of the results of [4] claims the
following.

G := K[x1, . . . , xn]/J T

Theorem 7. [Theorems 9.1 and Corollary 10.5 of [4]] For any simple graph G
on the set of vertices {0, 1, . . . , n}, algebras BT
G are isomorphic. Their total
dimension is equal to the number of spanning trees in G. The dimension dim BT
G(k)
of the k-th graded component of BT
G equals the number of spanning trees T in G
with external activity |G| − n − k.

G and C T

Similarly to the above, we can deﬁne the ﬁltered algebra KT

isomorphic to C T

G as a non-ﬁltered algebra. Namely, KT

G which is
G is deﬁned by the generators:

G ⊂ ΦT

Y T
i = exp(X T

(1 + ci,eφe), i = 0, . . . , n.

i ) = Ye∈G

The ﬁrst result of this section is as follows. Deﬁne the ideal I T

G ⊆ K[y0, y1, . . . , yn]

as generated by the polynomials:

qT

I = Yi∈I

yi − 1!DI

,

(5)

where I ranges over all nonempty proper subsets in {0, 1, . . . , n} and the number
DI is the same as in (2), together with the generator

qT
{0,1,...,n} =

yi − 1.

nYi=0

(6)

Set DT

G := K[y0, . . . , yn]/I T
G.

We present two results similar to the case of spanning forests.

“K-THEORETIC” ANALOG DISTINGUISHES GRAPHS

11

Theorem 8. For any simple graph G, algebras BT
G are isomorphic
as (non-ﬁltered) algebras. Their total dimension is equal to the number of spanning
trees in G.

G and KT

G, DT

G, C T

Proof. The proof is similar to that of Theorem 2. Algebras C T
G (but they have diﬀerent ﬁltrations); algebras C T
as subalgebras of ΦT
isomorphic by Theorem 7. The proof of the isomorphism between DT

the same as above; we only need to add the variable x0 = −(Pn

Theorem 9. For any simple graph G, algebras DT
ﬁltered algebras.

G and KT

G and KT

G are isomorphic as

G and BT
G and BT

G coincide
G are
G is
G. (cid:3)

i=1 xi) to BT

Proof. Similar to the above proof of Theorem 3.

(cid:3)

To move further, we need to give a deﬁnition.

the subgraph with following edges and vertices:

Deﬁnition 1. Let G be a connected graph. We deﬁne its ∆-subgraph bG ⊆ G as

• e ∈ E(bG), if e is not a bridge (i.e., G \ e is still connected),
• v ∈ V (bG), if there is an edge e ∈ E(bG) incident to v.
In general, bG contains more information about G than its matroid, because

there exist graphs with isomorphic matroids and non-isomorphic ∆-subgraphs, see
Figure 2.

Recall that in a recent paper [3], the ﬁrst author has shown that C T

G depends

only on the bridge-free matroid of G. Namely,

Proposition 4. [Proposition 12 of [3]] For any two connected graphs G1 and G2
with isomorphic bridge-free matroids (matroids of their ∆-subgraphs), algebras C T
G1
and C T

G2 are isomorphic.

Unfortunately, we can not prove the converse implication at present although we
conjecture that is should hold as well, see Conjecture 6 in § 5. In case of ﬁltered
algebra KT
G2 we can also prove an appropriate result only in one direction,
see Proposition 5.

G1 and KT

Similarly to § 3 we can to deﬁne F [f ]T

G ⊂ ΦG. Let f be a univariate polynomial
G ⊂ ΦG as generated

or a formal power series over K. We deﬁne the subalgebra F [f ]T
by 1 and by

i ) = f(cid:16)X ci,eφe(cid:17) , i = 0, . . . , n.
G2 with isomorphic ∆-subgraphs bG1 and bG2, algebras F [f ]T

Proposition 5. For univariate polynomial f and any two connected graphs G1 and
G2 are iso-
G2 are isomorphic as ﬁltered

morphic as ﬁltered algebras. Additionally, KT
algebras.

G1 and F [f ]T

G1 and KT

f (X T

Proof. Note that if G has a bridge e, then ﬁltered algebra F [f ]T
product of ﬁltered algebras F [f ]T
component of G \ e.

G is the Cartesian
G′′ , where G′ and G′′ are connected

G′ and F [f ]T

Thus ﬁltered algebra F [f ]T

G is the Cartesian product of such ﬁltered algebras

corresponding to the connected components of the ∆-subgraph of G.

Therefore if connected graphs G1 and G2 have isomorphic ∆-subgraphs, then
(cid:3)

their ﬁltered algebras F [f ]T

G2 are isomorphic.

G1 and F [f ]T

Remark 4. In general case we can not prove that these algebras distinguish graphs
with diﬀerent ∆-subgraphs. The proof of Theorem 5 does not work for two reasons.

Firstly, d(eYi) is not the degree of the i-th vertex in G. Secondly, even if we can

12

G. NENASHEV AND B. SHAPIRO

construct a similar bijection between edges, we do not have an analog of Proposi-
tion 1. Since in the proof we consider coeﬃcients of monomial φe1 φe2 , in case when
e1 and e2 are not bridges and when {e1, e2} is a cut, this monomial can still lie in
the ideal.

It is possible to construct such a bijection in a smaller set of graphs, namely
for graphs such that, for any edge e in the graph, there is another edge e′ which
is multiple to e. For such graphs we do not have the second problem, because
if {e1, e2} is a cut, then e1 and e2 are multiple edges. So, instead of the actual
converse of Proposition 5, we can prove the converse in the latter situation, but we
do not present this result here.

Proposition 6. In the above notation, for generic polynomials f of degree at most
is the same. This generic Hilbert series (denoted
|G|, the Hilbert series HSF [f ]T
by HSGT below) is maximal in the majorization partial order among HSF [g]T
for
g running over the set of power series with non-vanishing linear term.

G

G

Proof. See the proof of Proposition 3.

(cid:3)

Example 3. Consider two graphs G1 and G2, see Fig. 2. It is easy to check that
G1 and

subgraphs bG1 and bG2 have isomorphic matroids, implying that algebras C T

C T
G2 are isomorphic.

G1

dG1

G2

dG2

Figure 2. Graphs and their ∆-subgraphs.

The Hilbert series of “K-theoretic” algebras are distinct, namely

HSCT

G1

(t) = HSCT

G2

(t) = 1 + 4t + 4t2.

HSKT

G1

HSKT

G2

(t) = 1 + 5t + 3t2,

(t) = 1 + 6t + 2t2.

These graphs are “small”, so their generic Hilbert series coincides with the “K-
theoretic” one. Putting our information together, we get

HSCT

G1

= HSCT

G2

≺ HSKT

G1

= HSG1

T ≺ HSKT

G2

= HSG2

T .

5. Related problems.

At ﬁrst, we formulate several problems in case of spanning forests; their analogs

for spanning trees are straight-forward.

Problem 1. For which functions f besides a + bx and a + bex, one can present
relations in F [f ]G for any graph G in a simple way? In other words, for which f,
one can deﬁne an algebra similar to BG and DG?

b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
b
“K-THEORETIC” ANALOG DISTINGUISHES GRAPHS

13

Since the Hilbert series HSKG and HSG are not expressible in terms of the Tutte

polynomial of G, they contain some other information about G.

Problem 2. Find combinatorial description of HSKG and HSG?

Problem 3. For which graphs G, Hilbert series HSKG and HSG coincide? In
other words, for which G, exp is a generic function?

Problem 4. Describe combinatorial properties of HSf,G when f is a function
starting with a monomial of degree bigger than 1, i.e. f (x) = xk + · · · , k > 1? In
particular, calculate the total dimension of F [f ]G.

The most delicate and intriguing question is as follows.

Problem 5. Do there exist non-isomorphic graphs G1 and G2 such that, for any
polynomial f (x), the Hilbert series HSf,G1 and HSf,G2 coincide? In other words,
does the collection of Hilbert series HSf,G taken over all formal series f determine
G up to isomorphism?

The following problems deal with the case of spanning trees only.

Conjecture 6. [comp. [3]] Algebras C T
G2 for graphs G1 and G2 are isomor-
phic if and only if their bridge-free matroids are isomorphic, where the bridge-free
matroid is the graphical matroid of ∆-subgraph.

G1 and C T

Problem 7. Which class of graphs satisﬁes the property that if two graphs G1
and G2 from this class have isomorphic KT
G2 , then their ∆-subgraphs are
isomorphic. In other words, can one classify all pairs (G1, G2) of connected graphs,
which has isomorphic ﬁltered algebras KT
G2? (The same problem for F [f ]T
G2, where f (x) = x + ax2 + · · · )
and F [f ]T

G1 and KT

G1 and KT

G1

References

[1] F. Ardila, A. Postnikov, Combinatorics and geometry of power ideals, Trans. of the AMS,

362(8), (2010), 4357–4384.

[2] A. W. Marshall, I. Olkin, B. Arnold, Inequalities: Theory of Majorization and Its Applica-

tions, Second edition. Springer Series in Statistics. Springer, New York, 2011.

[3] G. Nenashev, On Postnikov-Shapiro Algebras and their generalizations, arXiv:1509.08736.
[4] A. Postnikov, B. Shapiro, Trees, parking functions, syzygies, and deformations of monomial

ideals. Trans. Amer. Math. Soc. 356(8) (2004), 3109–3142

[5] A. Postnikov, B. Shapiro, M. Shapiro, Algebras of curvature forms on homogeneous manifolds.
inﬁnite-dimensional Lie algebras, and applications, 227–235, Amer.

Diﬀerential topology,
Math. Soc. Transl. Ser. 2, 194, Amer. Math. Soc., Providence, RI, 1999

[6] B. Shapiro, M. Shapiro, On ring generated by Chern 2-forms on SLn/B. C. R. Acad. Sci.

Paris Sr. I Math. 326(1) (1998), 75–80.

Department of Mathematics, Stockholm University, SE-106 91, Stockholm, Sweden
E-mail address: nenashev@math.su.se

Department of Mathematics, Stockholm University, SE-106 91, Stockholm, Sweden
E-mail address: shapiro@math.su.se

