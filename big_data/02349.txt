6
1
0
2

 
r
a

M
8

 

 
 
]

.

A
Q
h
t
a
m

[
 
 

1
v
9
4
3
2
0

.

3
0
6
1
:
v
i
X
r
a

The Virasoro vertex algebra and factorization algebras on

Riemann surfaces

Brian Williams

March 9, 2016

1

Introduction

In this paper we study local properties of the sheaf of holomorphic vector ﬁelds in one complex dimension
and local extensions thereof. Factorization algebras play a central role in encoding its local Lie algebra
structure.

The Virasoro algebra Vir arises as a central extension of the Lie algebra of vector ﬁelds on a circle. In
fact, it is the unique central extension as H2(Vect(S1)) is one-dimensional with generator given by the
Gelfand-Fuchs cocycle [Fuc86] deﬁned by

ωGF( f (t)∂t, g(t)∂t) 7→

1

24 ZS1(cid:0) f ′′′(t)g(t) − f (t)g′′′(t)(cid:1) dt.

The Virasoro algebra and its representation theory have been studied extensively in the context of conformal
ﬁeld theory.

In the ﬁrst part of the note we are only interested in the local structure. We consider the Dolbeault
resolution of vector ﬁelds on C, denoted LC. The fact that we can restrict vector ﬁelds to open sets gives
this the structure of a sheaf of Lie algebras. Moreover, it has the structure of a local Lie algebra on C (deﬁned
shortly) which we’ll be critical for our construction. We deﬁne an explicit cocycle ω that deﬁnes a (-1)-
shifted central extension of this local Lie algebra. There is a factorization algebra associated to this local
Lie algebra, denoted Fω. We show that the factorization product encodes the product on the universal
enveloping algebra associated to the ordinary Virasoro Lie algebra, U(Vir).

We go further and use Costello-Gwilliam’s characterization of structured holomorphic factorization al-
gebras on C to show that this factorization algebra has the structure of a vertex algebra and it is equivalent
to that of the standard Virasoro vertex algebra. In [CG15], a functor Vert from the category of structured
holomorphic factorization algebras on C to the category of vertex algebras is deﬁned. The main result from
the ﬁrst part of this paper can be stated as follows.

Theorem 1.1. For any c ∈ C there is a factorization algebra Fcω on C (given by the enveloping factorization algebra
for the extension of LC by the cocycle cω) which determines a vertex algebra Vert(Fcω). Moreover, there is an
isomorphism of vertex algebras

where Virc denotes the Virasoro vertex algebra of charge c.

∼=

Virc

/ Vert(Fcω)

After spelling out the local structure, we study global sections of Fcω. Some care must be taken when
deﬁning the cocycle determining the extension on the Dolbeault resolution of vector ﬁelds on a general
Riemann surface since the original cocycle for the local Lie algebra on C is coordinate dependent. We show
that a slightly modiﬁed version of the cocycle gives a coordinate independent description and hence a uni-
versal version of the cocycle. That is, we show that the Virasoro factorization algebra deﬁnes a factorization
algebra on the site of Riemann surfaces. We also calculate the cohomology of global sections of the Virasoro
factorization algebra.

1

/
1.1 Notation and conventions

• If X is a complex manifold we have a decomposition of the tangent bundle T1,0X ⊕ T0,1X. Unless
otherwise noted we will write TX = T1,0X for the (1, 0) part of the tangent bundle. With respect to
this decomposition the de Rham differential

ddR : O(X) → Ω1(X) = Ω1,0(X) ⊕ Ω0,1(X) := Γ(cid:16)(T1,0X)∨(cid:17) ⊕ Γ(cid:16)(T0,1X)∨(cid:17)

splits as ∂ + ∂.

• Let V be a graded vector space. We denote by Tens(V) the full tensor algebra of V, ⊗n≥0V. This is

again a graded vector space in the natural way. Deﬁne the symmetric algebra as

Sym(V) = Mn≥0

Symn(V)

where Symn(V) = (V ⊗ · · · ⊗ V)Σn

. We will also need the completed symmetric algebra

dSym(V) = ∏

n≥0

Symn(V).

• All graded vector spaces are cohomologically graded. For k ∈ Z we denote by V[k] the graded vector

space with graded components:

(V[k])i = Vi+k.

If W is an ordinary (ungraded) vector space, we will understand it as a graded vector space concen-
trated in degree zero. For instance, W[k] is concentrated in degree −k.

• Let g be a dg-Lie algebra. That is, a Z-graded vector space together with a differential dg : g

• → g

•+1

of degree +1 and a bracket [−, −] that is graded antisymmetric, satisﬁes the graded Jacobi identity,
and for which dg is a graded derivation. We deﬁne Chevalley-Eilenberg chains for computing Lie
algebra homology as

C∗(g) := Sym (g[1]) = Mn≥0

Symn(g[n])

with differential given by d = dg + dCE where dCE is the usual CE-differential determined by dCE(a ∧
b) = [a, b] on Sym2. Similarly, Chevalley-Eilenberg cochains for computing Lie algebra cohomology
are deﬁned by

with differential given by d = d∨

g + d∨

CE.

C∗(g) := dSym(cid:0)g

∨[−1](cid:1)

• We will need to consider a topology on the dg-vector spaces we work with. Unless otherwise noted
our complexes will take values in the category of dg-nuclear vector spaces. This is an especially
convenient category of topological vector spaces which are locally convex and Hausdorff. For more on
their properties see [Cos11] Given two dg-nuclear vector spaces we denote by V ⊗ W the completed
tensor product. This tensor product makes the category of dg-nuclear vector spaces a symmetric
monoidal category which we denote by dgNuc⊗.

1.2 Acknowledgements

I’d like to thank Owen Gwilliam and Ryan Grady for their shared interest in this project and generosity
in providing detailed comments and discussion pertaining to this work. I have also beniﬁted from useful
comments from and discussions with Chris Elliott, Ben Knudsen, and Philsang Yoo. Finally, I’d like to
thank Kevin Costello for sparking my interest in this project.

2

2 Virasoro as a local Lie algebra on C

In this section we introduce a local version of the Virasoro Lie algebra on the complex plane. It appears as
an extension of the Lie algebra of holomorphic vector ﬁelds on C given by an explicit cocycle.

2.1 Dolbeault resolution of holomorphic vector ﬁelds

Let X be a complex manifold. We study the space of holomorphic sections of the tangent bundle O(TX).
We can use the decomposition of the tangent bundle above gives us a resolution for this space. Indeed, the
∂ operator extends to deﬁne a complex

Ω0,0(X, TX) ∂

/ Ω0,1(X, TX) ∂

/ Ω0,2(X, TX) ∂

/ · · · .

We consider C as a complex manifold. We also work over the ﬁeld C, but this will be implicit through-

out.

We wish to take a resolution of Γ(TC), i.e. holomorphic vector ﬁelds on C. Indeed the Dolbeaut complex
above deﬁnes the dg-Lie algebra LC := Ω0,∗(C, TC). The differential is ∂ and the Lie bracket is given by
extending the ordinary Lie bracket on Ω0,0(C, TC) to a graded Lie bracket.

The object LC can be thought of as a sheaf of cochain complexes that assigns to an open U ⊂ C the

complex

(Ω0,∗(U, TU), ∂).

Moreover, LC is a sheaf of dg-Lie algebras. In fact it has even more structure, that of a local dg-Lie algebra.

The following deﬁnition can be found in [CG15].

Deﬁnition 2.1. A local dg-Lie algebra on a manifold M is the following data:

(1) A graded vector bundle L on M, whose sheaf of smooth sections is denoted L.

(2) A differential operator d : L → L of degree one and square 0.

(3) Antisymmetric multi-differential operators

d : L → L ,

[−, −] : L⊗2 → L

of degree one and zero respectively, that give L the structure of a sheaf of L∞-algebras.

Since ∂ and the Lie bracket of vector ﬁelds are differential and bi-differential operators, respectively we

see that LC is a local L∞-algebra.

We will also be interested in the compactly supported version of LC; it assigns to an open the dg-vector

space

Analogously, this is a precosheaf of dg-Lie algebras which we denote by LC
c .

(Ω0,∗

c (U, TU), ∂)

2.2 Lie algebra extensions and the cocycle

We are interested in a one-dimensional central extension of LC. As the Lie algebra in question is local, we
ask for our extensions to be local as well. Before deﬁning what we mean by this, we review extensions of
ordinary Lie and dg-Lie algebras.

2.2.1 Extensions

A central extensionbg of an ordinary Lie algebra g is a Lie algebra that ﬁts into an exact sequence

such that [λ, x] = 0 for all λ ∈ C and x ∈ g. Isomorphism classes of central extensions of g are in bijective
correspondence with H2(g).

0 → C →bg → g → 0

3

/
/
/
For a dg-Lie algebra g and an integer k we can deﬁne a k-shifted central extension of g. It ﬁts into and

exact sequence

(1)

0 → C[k] →bg → g → 0

and satisﬁes [λ, x] = 0 as above.
Remark. The group H2+k(g) does not parametrize such extensions. It parametrizes a larger class of exten-

sions, namely shifted L∞-extensions of g. That is, exact sequences as in (1) exceptbg is allowed to be an

L∞-algebra, and the maps are of L∞-algebras.

Example 2.1. Consider the Lie algebra of vector ﬁelds on S1, Vect(S1). This is an ordinary Lie algebra that,
as usual, can be thought of as a dg-Lie algebra concetrated in degree zero. The Gelfand-Fuks extension
mentioned in the introduction is a 2-cocycle, hence determines an element in H2
Lie(Vect(S1)). In fact, this
cohomology is one dimensional. See [Fuc86] for a proof of this.

Now, let L be a local dg-Lie algebra on a manifold M. A local k-shifted central extension of L is a dg-Lie

algebra structure on the precosheaf

such that for all opens U ⊂ M:

bLc = Lc ⊕ C[k]

• (Central) For any λ ∈ C[k] and x ∈ bLc(U) we have [x, λ] = 0 and the sequence

0 → C[k] → bLc(U) → Lc(U) → 0

is exact.

• (Local) The differential dbL : Lc(U) → C[k] and Lie bracket [−, −] : Lc(U) ⊗ Lc(U) → C[k] both factor

through the k-shifted integration map

ZU

: Densc(U)[−k] → C[k].

Here, Densc denotes the cosheaf of compactly supported densities.

Remark. As in the ordinary case, there is a cohomology that parametrizes central extensions of this local
nature. Let L be a local Lie algebra on M. In [Cos11] local functionals are deﬁned as

loc,red(L) := DensM ⊗DM C∗
C∗

red (Jet(L)) .

Here, DM is the space of differential operators on M and Jet(L) is the inﬁnite Jet-bundle of the vector
bundle L. The jet-bundle inherits a natural DM-module structure, and this induces one on cochains. There
is another interpretation of local cochains. They are precisely the graded multilinear functionals on L that
factor through the integration map. More precisely, integration along M induces a natural inclusion

C∗
loc,red(L) ֒→ C∗

red(Lc(M))

that sends a local functional S to the functional ϕ 7→RM S(ϕ).

Just as in the case of (non-local) dg-Lie algebras, the degree 2 + k cocycles of C∗

loc,red(L) parametrize
a larger class of extensions, namely local L∞-algebra extensions of L. For our situation, when L is the
Dolbeault resolution of holomorphic vector ﬁelds on U ⊂ C (or on a closed Riemann surface Σ) the non-
trivial degree one cocycles are all cohomologous to one of the form

and hence all (-1)-shifted extensions will be equivalent to a local dg-Lie algebra.

Lc(U)⊗2 → C

4

2.2.2 A cocycle for LC

We now deﬁne the cocycle used to construct the central extension of LC we are interested in. Let U ⊂ C
and ﬁx a coordinate. Consider the bilinear map

ω : LC

c (U) ⊗ LC

c (U) → C

given by

(α ⊗ ∂z, β ⊗ ∂z) 7→

1
2π

1

24 ZU(cid:16)(∂3

zα0β1 − α0∂3

z β1) + (∂3

zα1β0 − α1∂3

z β0)(cid:17) dzdz

where α = α0 + α1dz and β = β0 + β1dz. One checks by direct calculation that this is a cocycle and is our
analog of the Gelfand-Fuchs cocycle.

This cocycle deﬁnes for us a local (−1)-shifted central extension bLC of LC via the local extension con-

struction above. As a cosheaf of vector spaces it is

On an open U, the Lie bracket is deﬁned by the rules

LC

c ⊕ C · C[−1].

:= [α ⊗ ∂z, β ⊗ ∂z] +

1
2π

1

24(cid:18)ZU(cid:16)(∂3

zα0β1 − α0∂3

z β1) + (∂3

zα1β0 − α1∂3

z β0)(cid:17) dzdz(cid:19) · C

c

[α ⊗ ∂z, β ⊗ ∂z]bLC
and [α ⊗ ∂z, c]bLC

c

= 0.

The locality and cocycle properties imply that ω determines an element in H1

loc(LC).

2.3 Statements about cohomology

The following facts about the ∂-cohomology of subsets of C will be used throughout. Let U ⊂ C be open.
The following lemma is due to Serre [Ser53].

Lemma 2.1. The compactly supported Dolbeault cohomology of U is concentrated in degree 1 and there is a contin-
uous isomorphism

H1(Ω0,∗

c (U), ∂) ∼= (cid:16)Ω1

hol(U)(cid:17)∨

.

Here, (−)∨ denotes the continuous linear dual of nuclear Fr´echet spaces. Explicitly, we assign to a

(0, 1)-form α on U, the continuous linear functional

hα, −i : Ω1

hol(U) → C , β 7→ ZU

αβ.

Next, we need the following fact about dg-Lie algebras.

Lemma 2.2. Suppose L is a dg-Lie algebra such that H∗(L) is concentrated in a single degree. Then L is formal (as
a dg-Lie algebra).

Proof. Suppose the cohomology of L is concentrated in degree m. Deﬁne the subcomplex L′ ֒→ L as follows:
for k < m set (L′)k := Lk, for k = 0 set (L′)0 = ker(dL : L0 → L1), for k > m set (L′)k := 0. There is a natural
zig-zag of dgla’s

L ←֓ L′ → H0L.

Both arrows are clearly weak equivalences.

Serre’s result implies that LC

c (U) = Ω0,∗

c (U, TU) is formal for all opens U ⊂ C.

In fact, there is a

quasi-isomorphism of dg-Lie algebras

Ω0,∗

c (U, TU) ≃ H(Ω0,∗

c (U, TU), ∂) ∼= (cid:16)Ω1

hol(U, TU)(cid:17)∨

.

This implies the following useful fact about the Lie algebra cohomology.

5

Proposition 2.3. Let U ⊂ C be open. Then,

HLie

∗ (LC

c (U)) := H∗(cid:16)Sym(LC

c (U)[1]), ∂ + dCE(cid:17) ∼= Sym(cid:16)Ω1

hol(U, TU)∨(cid:17)

concentrated in degree 0.

Here, we extend the differential ∂ on Lc(U) to the symmetric algebra in the obvious way.

Proof. This result follows from formality. Indeed,
∗ (H∗
∂

c (U)) ∼= HLie

∗ (LC

HLie

(LC

c (U)) = HLie

∗ (Ω1

hol(U, TU)∨).

Now, Ω1

hol(U, TU)∨ is an abelian dg Lie algebra concentrated in a single degree. Thus

H∗

Lie(Ω1

hol(U, TU)∨) = Sym(cid:16)Ω1

hol(U, TU)∨(cid:17)

as desired.

the E1-page is Sym(cid:16)H∗

∂

Note that this result also follows from considering the ﬁltration spectral associated to Sym-degree. Here,

(LC

c (U))(cid:17). This degenerates at the E2-page as the ∂-cohomology is concentrated in

one degree. In fact, the degeneration of the Sym-degree spectral sequence associated to cochains on a dg-Lie
algebra g is closely related to the formality of g [Man13].
Remark. In the second part of the paper we consider closed Riemann surfaces. It is still true that on a closed
Riemann surface, the spectral sequence associated to the dg-Lie algebra Ω0,∗(Σ, TΣ) degenerates. In fact,
this dg-Lie algebra is also formal.

2.4 Factorization algebras

Central to this work is the notion of a factorization algebra. We recall the relavent theory as in [CG15].

Fix a topological space M. For the level of generality of most of this section we work in an arbitrary
symmetric monoidal category C⊗ closed under small colimits. For the purposes of this work we are mainly
concerned with C = dgNuc, the dg-category of cochain complexes of nuclear vector spaces over C with
symmetric monoidal structure given by the completed tensor product over C.

2.4.1 Prefactorization
A prefactorization algebra F on M with values in C⊗ is an assignment of an object F(U) of C for each open
U ⊂ M together with the following data:

• For U ⊂ V, a morphism F(U) → F(V).

• For any ﬁnite collection {Ui} of pairwise disjoint opens in an open V ⊂ M a morphism

⊗iF(Ui) → F(V).

• Coherences between the above two sets of data.
For a better deﬁnition we need to deﬁne the following symmetric monoidal category Fact(M)⊔.

Its
objects are topological spaces U together with a map U → M such that on each connected component of U
this map is an open embedding. A morphism from U → M to V → M is a commutative diagram

U

 ❆❆❆❆❆

i

M

V
~⑥⑥⑥⑥⑥

with i an open embedding. Composition is done in the obvious way. The symmetric monoidal structure is
given by disjoint union.

A more precise deﬁnition of a prefactorization algebra is symmetric monoidal functor

F : Fact(M)⊔ → C⊗.

6

/
/
 
~
Example 2.2. The coherence of the data above can be read of immediately from this deﬁnition and encodes
the transitivity of opens. For instance, suppose U1, U2 ⊂ V ⊂ W are opens with Ui disjoint. Then F applied
to this composition says that

F(U1) ⊗ F(U2)

(◗◗◗◗◗◗◗◗

F(V)

F(W)

commutes.

The structures we consider in the ﬁrst part of this paper are completely encoded by a prefactorization
structure. In the last section, however; when we will be concerned with global sections on a general Rie-
mann surface, it is critical that our object satisﬁes a form of descent.

2.4.2 Factorization: gluing

A factorization algebra is a prefactorization algebra satisfying a descent axiom. Descent for ordinary sheaves
(or cosheaves) says that one can recover the value of the sheaf on large open sets by breaking it up into
smaller opens. That is, if U = {Ui} is a cover of U ⊂ M then a presheaf F of vector spaces is a sheaf iff

is an equalizer diagram for all opens U and covers U.
associated to U. The pth space is

It is convenient to introduce the ˇCech complex

F(U) → Li

F(Ui)

/ ⊕i,jF(Ui ∩ Uj)

ˇCp(U, F) := Mi0,...,i p

F(Ui0 ∩ · · · ∩ Ui p).

The differential ˇCp → ˇCp+1 is induced from the natural inclusion maps Ui0 ∩ · · · ∩ Ui p
· · · ∩ Ui p. The sheaf condition is equivalent to saying that the natural map

֒→ Ui0 ∩ · · · ∩ bUij ∩

F(U) → H0( ˇC(U, F))

is an isomorphism. There is a similar construction for cosheaves, but the arrow goes in the opposite direc-
tion.

We are interested in descent for a different topology, that is, for only a special class of open covers. Call
an open cover U = {Ui} of U ⊂ M a Weiss cover if for any ﬁnite collection of points {x1, . . . , xk} in U, there
exists an open set Ui such that {x1, . . . , xk} ⊂ Ui. This is equivalent to providing a topology on the Ran
space.

A Weiss cover deﬁnes a Grothendieck topology on Op(M), the poset of opens in M. A factorization
algebra on M is a prefactorization algebra on M that is, in addition, a homotopy cosheaf for this Weiss
topology.

When C⊗ = dgVect we can be explicit about this homotopy gluing condition using a variant of the ˇCech

complex above. Let F be a cosheaf of dg vector spaces. For U = {Ui}i∈I let ˇCp(U, F) be the complex

Mi0,...,i p

F(Ui1 ∩ · · · ∩ Uik)[p − 1]

with differential inherite from F. Then ˇC(U, F) is a bigraded object. The differential is the total differential
obtained from combining the ordinary ˇCech differentials above plus the internal differential of F. The
cosheaf condition is that the natural map

ˇC(U, F) → F(U)

is an equivalence for all Weiss covers U of U.
Remark. One might refer to this as a homotopy factorization algebra, reserving a strict factorization algebra
for one in which

ˇH0(U, F) → F(U)

is an equivalence. The ˇH0 means we have only taken cohomology with respect to the ˇCech differentials. It
has a natural dg structure inherited from F.

7

/
/
(


/
/
/
2.5 (Twisted) Envelopes

One of the most useful ways of constructing factorization algebras is the “factorization envelope” of a local
Lie algebra. This is the analog of the unverisal enveloping algebra of a Lie algebra.

Let L be any local Lie algebra on a manifold M. Denote by Lc its associated cosheaf of compactly

supported sections. Deﬁne the prefactorization algebra UfactL as follows:

• For an open U ⊂ M we assign the complex C∗(Lc(U)) with it’s usual differential d = dL + dCE.

• Suppose ⊔iUi ֒→ V is an inclusion of disjoint opens inside a bigger open. The structure maps of the

prefactorization algebra come from applying C∗(−) to the structure maps of the cosheaf

⊕iLc(Ui) → Lc(V).

In fact, we will use the following fact to compute global sections, i.e. factorization homology.

Theorem 2.4. ([CG15]) The prefactorization algebra UfactL satisﬁes descent, that is it is a factorization algebra.

Example 2.3. If g is an ordinary Lie algebra we can consider the local Lie algebra Ω∗
R ⊗ g on R. The factor-
ization algebra Ufact(ΩR ⊗ g) is locally constant on R. Now, map that sends a factorization algebra on R to
its value on an interval is known to induce an equivalence of categories

{A∞−algebras} ≃ {E1−algebras} ≃ {locally constant factorization algebras on R}.

Under this equivalence the factorization algebra Ufact

g corresponds to the associative algebra Ug.

Now suppose ω ∈ H1

loc(L) corresponds to a (−1)-shifted central extension bL of L is of the form

ω : Lc(U)⊗2 → C

We deﬁne the twisted factorization envelope Ufact
an open U ⊂ M to the complex

ω

L as follows. It is the factorization algebra on M that sends

where ω is made into an operator on Sym as follows. On Sym≤1 it is zero and on Sym2 it is

(Sym (L(U)[1] ⊕ C · C) , dL + dCE + ω)

(α, β) 7→ C · ω(α, β).

It is extended to the full symmetric algebra by demanding that it is a graded derivation.

We will be interested in both the (untwisted) factorization envelope of the local Lie algebra of holomor-

phic vector ﬁelds

F := UfactLC

and the twisted factorization envelope corresponding to the cocycle ω above

Fω := Ufact

ω

LC.

Note that we have Ufact

ω

LC = UfactbLC

c .

3 Annuli: recovering the Virasoro

In this section we show how the Virasoro Lie algebra is encoded in the factorization algebras constructed
above. Denote by Vir the unique central extension of C((z))∂z. We consider its universal enveloping al-
gebra U(Vir). Being an associative algebra it determines a locally constant factoriztation algebra on R>0.
Denote this factorization algebra by AVir. Explicitly, AVir sends an interval I to U(Vir) (considered as a
dg-vector space concentrated in degree zero) and the structure maps are induced by the usual associative
multiplication on U(Vir).

Let ρ : C× → R>0 be the map z 7→ zz. We consider the push-forward factorization algebra ρ∗Fω. This

is a factorization algebra on R>0. The main result of this section can be stated as follows.

8

Proposition 3.1. There is a map of factorization algebras

Φ : AVir → H0(ρ∗Fω)

(2)

that is a dense inclusion of topological vector spaces on evey open interval I ⊂ R>0.

Note that on an open interval I ⊂ R>0

(ρ∗Fω)(I) = Fω(ρ−1(I)).

So, we need to understand what Fω does to annuli.
Remark. This proposition says that every cohomology class in Fω on an annulus is arbitrarily close to some
element of the universal enveloping algebra of the Virasoro Lie algebra. Moreover, the structure maps of
the factorization algebra are the continuous extensions of the multiplication for UVir.

3.1 The case of zero central charge

Recall that Serre’s result implies for any open U ⊂ C

H∗(F(U)) ∼= Sym(cid:16)H1(Ω0,∗

c (U, TU))(cid:17) ∼= Sym(cid:16)Ω1

hol(U, TU)∨(cid:17)

concentrated in degree 0.

First, we describe the untwisted version of the map (2), denote it Φun : C((z))∂z → ρ∗(F). Let Ln =
zn+1∂ ∈ C((z))∂z be the usual basis vectors for n ∈ Z. Pick an open interval I ⊂ R>0 and let A = ρ−1(I).
We will utilize a function f : C× → R for A that satisﬁes the following:

• f is only a function of r2 = zz.

• RA f dzdz = 1.

• f (r2) ≥ 0 and f is supported on A.

We will refer to f as a bump function for A. Finally, we deﬁne

Φun(I) : Ln 7→ [ f (zz)zn+2dz∂z].

Note that this map is a dense inclusion of topological vector spaces by Serre’s resulted stated above. There-
fore, we might unambiguously confuse Ln with its image in H∗(F(A)). Also, it will be convenient to use
the notation Ln(A) = f (zz)zn+2dz∂z for the lift of Ln to the factorization algebra. We make no reference to
the bump function chosen since this choice will not affect the cohomology class.

Consider three nested disjoint annuli A1, A2, A3 where Ai has inner radius ri and outer radius Ri so that

R1 < r2 and R2 < r3. Suppose all three are contained in the big annuli A, i.e. r < r1 and R3 < R.

Let’s explain some notation for the factorization product of such nested annuli. The relavent factoriza-

tion maps are

• : F(A2) ⊗ F(A1) → F(A)
• : F(A3) ⊗ F(A2) → F(A).

Moving outward, radially, corresponds to multiplying from the right to left in this notation. This is known
as radial ordering. Using this notation, upon taking cohomology we want to show

Lm • Ln − Ln • Lm = (m − n)Ln+m.

Remark. This is a bit of abuse of notation, as we are using the same symbol Lm even though the two live in
different spaces. This is a superﬁcial confusion since Φun is an embedding, but what the above expression
actually means is

Φun(ρ(A2))(Lm) • Φun(ρ(A1))(Ln) − Φun(ρ(A3))(Ln) • Φun(ρ(A2))(Lm) = (m − n)Φun(ρ(A))(Ln+m).

9

Let fi

: C× → R be a bump function for Ai, i = 1, 2, 3. We use these to obtain lifts of Ln’s to the

factorization algebra. Explicitly, Lm(A1) ∈ F(A1), Lm(A3) ∈ F(A3) and Ln(A2) ∈ F(A2).

Now, in cohomology

[Lm(A1)Ln(A2) − Ln(A2)Lm(A3)] = Lm • Ln − Ln • Lm

and

(m − n)Lm+n = [[Lm, Ln](A)] =h f2(r2)(m − n)zn+m+2dz ⊗ ∂zi .

Consider the function

We have

F(z, z) = zm+1Z zz

0

f1(s) − f3(s) ds

∂(F(z, z)) = zm+1 ∂

∂z (cid:18)Z zz
= zm+1 ∂(zz)
∂z

f1(s) − f3(s) ds(cid:19) dz
∂(zz)(cid:18)Z zz

f1(s) − f3(s) ds(cid:19) dz

∂

0

0

Thus, in Ω0,∗(A, TA) we have

= zm+2 ( f1(zz) − f3(zz)) dz.

∂(F(z)∂z) = Lm(A1) − Lm(A3).

Let d denote the differential in C∗(LC(A)). The above implies

d(F(z, z)∂z · Ln(A2)) = (Lm(A1) − Lm(A3))Ln(A2) + [F(z, z)∂z, Ln(A2)]LC(A2).

We compute

[F(z, z)∂z, Ln(A2)]LC(A2) = f2(r2)dz[zm+1∂z, zn+2∂z] + zm+n+3 ∂ f2(r2)
∂z
= (m − n − 1)Lm+n(A2) + zm+n+3 ∂ f2(r2)

dz∂z.

dz∂z

∂z

Combining, we have

Lm • Ln − Ln • Lm − [Lm, Ln] − Lm+n +(cid:20)zm+n+3 ∂ f2(r2)

∂z

dz∂z(cid:21) = 0

(3)

where the bracket denotes the cohomology class. We consider the last term. Introduce the element zn+m+2z f2(r2)∂z.
Applying the ∂-operator we get

∂(zn+m+2z f2(r2)∂z) = zn+m+2 f2(r2)dz∂z + zn+m+2z(cid:18) ∂ f2(r2)

∂z (cid:19) dz∂z

= Ln+m(A2) + zn+m+3 ∂ f (r2)
∂z

dz∂z

where in the last line we use the fact that ∂
we have

∂z f2(r2) = z f ′

2(r2) and ∂

∂zr f2(r2) = z f ′

2(r2). Thus, in cohomology

(cid:20)zn+m+3 ∂ f2

∂z

dz∂z(cid:21) = Ln+m

so that (3) simpliﬁes to

Lm • Ln − Ln • Lm − [Lm, Ln] = 0.

10

3.2 The case of nonzero central charge

We now describe the twisted case. As a vector space we have

where c is the central parameter. We recall that the Lie bracket is

Vir = C((z))∂z ⊕ C · C

[Ln, Lm] = (m − n)Ln+m +

m3 − m

12

δn,−mc.

Again, let I ⊂ R>0 and write A = ρ−1(I). The map Φ is deﬁned by Φ(I)|C((z))∂z = Φun and it sends the

central parameter of Vir to the central parameter of LC

c (A) ⊕ C · C[−1].

The factorization algebra Fω assigns to the annulus A the dg-vector space:

Fω(A) =(cid:16)Sym(Ω0,∗(A, TA)[1] ⊕ C · C), ∂ + dCE(cid:17) .

where ω ∈ C1(LC) is the central extension as above. We need to show

Lm • Ln − Ln • Lm = (m − n)Ln+m +

m3 − m

12

· C.

Let the notation be as above. We have

d(F(z, z)∂z · Ln(A2)) = (Lm(A1) − Lm(A3))Ln(A2) + [F(z, z)∂z, Ln(A2)]bLC(A2)

= (Lm(A1) − Lm(A3))Ln(A2) − (m − n − 1)Lm+n(A2) + zm+n+3 ∂ f2
∂z

dz∂z +

+

1
2π

c

24(cid:18)ZA

F(z, z)

∂3

∂z3 (cid:16) f2(r2)zn+2(cid:17) dzdz −ZA

∂3

∂z3 (F(z, z)) f2(r2)zn+2dzdz(cid:19) .

Everything is the same as the zero central charge calculation except for the last line. Applying the same
trick as in the previous section to the second line, we see that d(F(z, z)∂z · Ln(A2)) is cohomologous to

(Lm(A1) − Lm(A3))Ln(A2) − (m − n)Lm+n(A2)

+

1
2π

We compute

c

24(cid:18)ZA

F(z, z)

∂3

∂z3 (cid:16) f2(r2)zn+2(cid:17) dzdz −ZA

∂3

∂z3 (F(z, z)) f2(r2)zn+2dzdz(cid:19)

ZA

∂3

∂z3 (F(z, z)) f2(r2)zn+2dzdz = ZA

z(cid:18)zm+1Z zz

0

f1(s) − f3(s) ds(cid:19) dzdz

f2(r2)zn+2∂3

= (m3 − m)ZA
= (m3 − m)(cid:18)Z 2π

0

f2(r2)zn+mdzdz

ei(n+m)θdθ(cid:19)(cid:18)Z r

0

f2(r2)rn+mrdr(cid:19)

In the second line we used the fact that the function z 7→ R zz

show that in cohomology

0

f1 − f3 is constant on A2. Similarly, one can

= 2π(m3 − m)δn,−m.

(cid:20)ZA

F(z, z)

∂3

∂z3 (cid:16) f2(r2)zn+2(cid:17) dzdz(cid:21) = −2π(n3 − n)δn,−m

Thus, d(F(z, z)∂z · Ln(A2)) is cohomologous to

(Lm(A1) − Lm(A3))Ln(A2) − (m − n)Lm+n(A2) −

m3 − m

12

δn,−m · C.

11

Wrapping everything up, in cohomology we have veriﬁed

0 = Lm • Ln − Ln • Lm − [Lm, Ln] +

m3 − m

12

δn,−m · C

as desired.

This completes the proof of Proposition 3.1.

Remark. The above dealt with the factorization algebra Fω. There is a related factorization algebra associ-
ated to a complex number c ∈ C that we will need in the next section. Let cω denote the cocycle obtained
from ω by multiplying by c. Indeed, the calculation of Proposition 5.3 implies that all cocycles are of the fol-
lowing form up to boundary cocycles. We can then form the twisted envelope construction Fcω := Ufact
LC.
cω
We will refer to this factorization algebra as the Virasoro vertex algebra of charge c. On annuli this factor-
ization algebra yields an isomorphic Lie algebra just as above. Any conformal vertex algebra has a copy of
the Virasoro vertex algebra of some charge embedded inside of it and this constant c agrees with the usual
conventions.

4 The vertex algebra structure

We sketch the main points of Costello-Gwilliam’s treatment of extracting vertex algebras from structured
factorization algebras on C. We then use their characterization to show that the factorization algebra Fcω
determines a vertex algebra and go further to identify it with the usual Virasoro vertex algebra.

First, we need to review what a vertex algebra is. For this we refer to [FBZ]. It consists of a vector space

V over C along with the following data:

• A vacuum vector |0i ∈ V.

• A linear map T : V → V (the translation operator).

• A linear map Y(−, z) : V → End(V)Jz±1K (the vertex operator). We write Y(v, z) = ∑n∈Z Av

nz−n

where Av

n ∈ End(V).

satisfying the following axioms:

• For all v, v′ ∈ V there exists an N ≫ 0 such that Av

nv′ = 0 for all n > N. (This says that Y(v, z) is a

ﬁeld for all v).

• (vacuum axiom) Y(|0i , z) = idV and Y(v, z) |0i ∈ v + zVJzK for all v ∈ V.

• (translation) [T, Y(v, z)] = ∂zY(v, z) for all v ∈ V. Moreover T kills the vacuum.

• (locality) For all v, v′ ∈ V, there exists N ≫ 0 such that

(z − w)N[Y(v, z), Y(v′, w)] = 0

in End(V)Jz±1, w±1K.

[FBZ] have highlighted a reconstruction theorem for vertex algebras. It says that a vertex algebra is
completely and uniquely determined by a countable set of vectors, together with a set of ﬁelds of the same
cardinality and a translation operator subject to a list of axioms.

Theorem 4.1. Let V be a complex vector space equipped with: an element |0i ∈ V, a linear map T : V → V, a
countable set of vectors {as}s∈S ⊂ V, and ﬁelds As(z) = ∑n∈Z As

nz−n−1 for each s ∈ S such that:

• For all s ∈ S, As(z) |0i ∈ as + zVJzK;

• T |0i = 0 and [T, As(z)] = ∂z As(z);

• As(z) are mutually local;
• and V is spanned by {As1
j1

· · · Asm
jm

|0i} as the j′

i s range over negative integers.

12

Then, the data (V, |0i , T, Y) deﬁnes a unique vertex algebra satisfying

Y(as, z) = As(z).

The main result of this section identiﬁes two vertex algebras: the ﬁrst comes from the factorization
algebra, the other one is the Virasoro vacuum vertex algebra deﬁned in the next section. We prove these are
the same using the above reconstruction theorem.

4.1 The Virasoro vertex algebra

We now deﬁne the Virasoro vertex algebra. Let Vir be the central extension of C((z))∂z determined by the
usual GF-cocycle. It ﬁts into the exact sequence of Lie algebras

0 → C · C → Vir → C((t))∂z → 0.

Thus, as a vector space we have Vir = C((t))∂z ⊕ C · C. The GF-cocycle, in the introduction, determines the
bracket

[ f (z)∂z, g(z)∂z] = ( f (z)g′(z) − f ′(z)g(z)) +

( f g′′′(z) − f ′′′(z)g(z))dz.

1

24 ZS1

It is topologically generated by c and Ln = zn+1∂z. In terms of these generators, the commutator is

[Ln, Lm] = (n − m)Ln+m +

m3 − m

12

δn,−mC.

Let

U = U(Vir)

be the universal enveloping algebra of the central extension. There is a subalgebra U+ ⊂ U generated by
elements of the form zn+1∂ with n ≥ −1. Let c ∈ C. The underlying vector space for the vertex algebra is

where the Ln’s act trivially on Cc and the central parameter C acts by multiplication by c. The vacuum
vector is the natural image of the element 1 ⊗ 1 ∈ U ⊗ C in Virc. The ﬁelds are

Virc = IndU

U+ Cc = U ⊗U+ Cc

L(z) := ∑
n∈Z

Lnz−n−2

and translation is T = L−1 = ∂z. These satisfy the axioms in the reconstruction theorem, and so deﬁne a
vertex algebra, simply denoted Virc, that we call the Virasoro vertex algebra of charge c (or of level c).

4.2 From factorization to vertex

In the ﬁrst part of this note we studied a particular two-dimensional factorization algebra and did not men-
tion a vertex algebra. This section is a bit of an aside and sketches the relationship between certain struc-
tured factorization algebras on C and vertex algebras. This relationship is made more precise in [CG15], but
we try to sketch the main points. The main result is essentially a functor from a subcategory of factorization
algebras on C to vertex algebras, and we will use this result to read off the vertex algebra structure from the
factorization algebra Fcω above.

The maps Y(−, z) encode the “multiplication” of the vertex algebra. We can view it has a multiplica-
tion parametrized by a complex coordinate z ∈ C. Consider the two points 0, z ∈ C with z 6= 0. This
multiplication has the form

Yz : V0 ⊗ Vz → V((z))

Critical to the structure of a vertex algebra is holomorphicity. Indeed, the axioms imply that the Yz’s vary
holomorphically. Thus, the factorization algebra we start with must be translation invariant (so the vec-
tor space assigned does not depend on the open set up to translations) together with a holomorphicity
condition.

13

For the remainder of this section, let F be a prefactorization algebra on C in the appropriate category of

differentiable vector spaces. 1

We say that F is holomorphically translation invariant if

• F is translation invariant.

• There exists a degree −1 derivation η : F → F such that dη = ∂z as derivations of F.
Also important will be the notion of a smooth S1-equivariant structure on F. We will mention this shortly.
For now, we discuss how to read off the structure of a vertex algebra from a holomorphic translation in-
variant factorization algebra. The key is that such factorization algebra deﬁnes a coalgebra structure over a
certain (colored) cooperad.

Deﬁne the complex manifold

Discs(r1, . . . , rk) := {z1, . . . , zk ∈ C | D(z1, r1) ⊔ · · · ⊔ D(zk, rk) disjoint} ⊂ Ck.

The collection of these spaces form a R>0-colored operad in the category of complex manifolds, which we
denote Discs. Applying the functor Ω0,∗ we get a R>0-colored cooperad Ω0,∗(Discs) in the category of
differentiable vector spaces. The main technical fact that we use to read off the structure of a vertex algebra
is

Proposition 4.2 ([CG15]). Let F be a holomorphically translation-invariant factorization algebra on C. Then, F
deﬁnes an algebra over the R>0-colored cooperad Ω0,∗(Discs).

This means that at the level of cohomology as we let p ∈ Discs(r1, . . . , rk) vary the factorization maps

m[p] : H∗F(D(0, r1)) × · · · × H∗F(D(0, rk)) → H∗F(C)

lift to a map

µr1,...,rk
z1,...,zk : H∗F(D(z1, r1)) × · · · × H∗F(D(zk, rk)) → Hol (Discs(r1, . . . , rk), H∗F(C)) .

Translation invariance allows us to replace F(D(zi, ri)) ≃ F(D(0, ri)) which we denote by F(ri), so we can
write this map as

µr1,...,rk
z1,...,zk : F(r1) × · · · × F(rk) → Hol (Discs(r1, . . . , rk), H∗F(C)) .

Note that although the source space of this map does not depend on the centers of the discs, the map itself
does, hence the messy notation.

For r′ < r the maps µr1,...,rk

z1,...,zk respect the natural inclusions

Discs(r1, . . . , rk) ֒→ Discs(r′

1, . . . , r′
k)

and so the limit of the multiplication map as (r1, . . . , rk) → (0, . . . , 0) makes sense and has the form

µz1,...,zk :(cid:18)lim

r→0

H∗(F(r))(cid:19)⊗k

→ lim
r→0

Hol (Discsk(r), H∗(F(r))) ∼= Hol (Confk(C), H∗F(C))

where Confk(C) is the ordered conﬁguration space of k-distinct points in C.

The last piece of data we need corresponds to the “conformal decomposition” of a vetex algebra. For us,
this will come from an S1-action on F. The reader is encouraged to look at [CG15] for a precise deﬁnition,
but we assume that we have a nice action of S1 on F and it is compatible with the translation invariance
discussed above.

We can now read off the data of the vertex algebra from F:

• Let F(l)(r) ⊂ F(r) be the lth eigenspace for the S1-action. The underlying vector space for the vertex

algebra is

V := Ml

H∗(F(l)(r)).

1Some care is needed to deﬁne this category correctly. We refer the interested reader to [CG15]

14

• The translation operator. The action of ∂z on F(l)(r) has the form

∂z : F(l)(r) → F(l−1)(r).

We let T : V → V be the operator which is ∂z restricted to the l-th eigenspace.

• The ﬁelds. Consider the map

µz,0 :(cid:18)lim

r→0

H∗(F(r))(cid:19)⊗2

→ Hol (Conf2(C), H∗(F(C)))

deﬁned above. Certainly, we have a map V → limr→0 H∗(F(r)), so it makes sense to resctict µz,0 to a
map

V ⊗ V → Hol (Conf2(C), H∗(F(C))) ≃ Hol(cid:0)C×, H∗(F(C))(cid:1) .

Post composing this with the projection maps H∗(F(∞)) → Vl combine to deﬁne the map

µz,0 : V ⊗ V → ∏
l

Hol(C×, Vl)

We can perform Laurent expansions to view this as

µz,0 : V ⊗ V → VJz±1K.

We deﬁne Y(−, z) : V → End(V)Jz±1K by

One can show that this actually lies in V((z)) for all v, v′.

Y(v, z)v′

:= µz,0(v, v′).

The above can be made much more precise and made into the following theorem.

Theorem 4.3. (Theorem 5.2.2.1 [CG15]) Let F be a S1-equivariant holomorphically translation invariant factoriza-
tion algebra on C. Suppose

• The action of S1 on F(r) extends smoothly to an action of the algebra of distributions on S1.

• For r < r′ the map

is a quasi-isomorphism.

F(l)(r) → F(l)(r′)

• The cohomology H∗(F(l)(r)) vanishes for l ≫ 0.

• For each l and r > 0 we require that H∗(F(l)(r)) is isomorphic to a countable sequential colimit of ﬁnite

dimensional vector spaces.

Then Vert(F) := ⊕lH∗(F(l)(r)) (which is independent of r by assumption) has the structure of a vertex algebra.

Let PreFactC denote the category of prefactorization algebras on C. Let PreFacthol

C ⊂ PreFactC be the
full subcategory spanned by prefactorization algebras satisfying the conditions of the above theorem. This
result can be upgraded to provide a functor

where Vert is the category of vertex algebras.

Vert : PreFacthol

C → Vert

15

4.3 Verifying the axioms

In this section we verify the factorization algebra Fcω indeed satisﬁes the conditions necessary to determine
a vertex algebra stated in the last section.

Explicitly, we verify the following:

(1) There is a S1-action on Fcω covering the action of C× by rotations. Moreover, for all r > 0 (including
r = ∞) the S1-action on Fcω(r) extends to an action of D(S1) the space of smooth distributions on the
circle.

(2) Then for all l and all r < r′ the natural map

F(l)
cω(r) → F(l)

cω(r′)

is an equivalence.

(3) H∗(F(l)

cω(r)) = 0 for l ≫ 0.

(4) The space H∗(F(l)

cω(r)) is a colimit of ﬁnite dimensional vector spaces for all l, r.

The ﬁrst condition is clear: the S1-action comes from its natural action on Ω0,∗
distriutions ϕ ∈ D(S1) by the rule

c (C). We extend this to

(ϕ · α)(z) = Zt∈S1

ϕ(t)α(tz)

where α ∈ Ω0,∗

c (C). This extends naturally to vector ﬁelds.

Let’s consider (2). For simplicity we work with the (untwisted) factorization algebra F = C∗(LC), the

twisted case is similar. Consider the ﬁltration of F by Sym-degree. Namely

FmF(r) = Sym≤m(L(D(0, r)[1]) = Mj≤m(cid:16)L(D(0, r))[1]⊗j(cid:17)Σj

.

The associated graded of this ﬁltration is

and there is a spectral sequence

GrmF(r) =(cid:0)L(D(0, r))[1]⊗m(cid:1)Σm

H∗(Gr∗F(r)) ⇒ H∗(F(r)).

The ﬁltration respects the S1-action, so for each l we get a spectral sequence for the eigenspaces

H∗(Gr∗F(l)(r)) ⇒ H∗(F(l)(r)).

Thus, to verify that F(l)(r) → F(l)(s) is an equivalence for r < s it it enough to show that it is at the level of
associated gradeds. That is, we need to show that the restriction of the map

to the l-eigenspaces is an equivalence. Again, we recall Serre’s result that for any open U ⊂ C

Ω0,∗

c (cid:16)D(0, r)m, TD(0, r)⊠m(cid:17) → Ω0,∗
c (U, TU)(cid:17) ∼= (cid:16)Ω1

c (cid:16)D(0, s)m, TD(0, s)⊠m(cid:17)
hol(U, TU)(cid:17)∨

∂(cid:16)Ω0,∗

H∗

concentrated in degree 0. When U = D(0, r) we have a coordinization

Ω1

hol(D(0, r)) = C[z]dz.

Now, zk has S1-weight k. Thus (zk)∨ has weight −k. The weight of (dz)∨ is −1 and the weight of ∂∨
z is +1.
This shows that the weight spaces are independent of the radius chosen, so we have veriﬁed (2). Moreover,
the weight spaces are clearly ﬁnite dimensional and vanish for m ≥ 0, so we also get (3) and (4).

Finally, Theorem 4.3 implies the following.

Theorem 4.4. The vector space Vc = Ll H∗(F(l)

factorization structure on Fcω.

cω(r)) carries the structure of the vertex algebra induced from the

16

4.4 An isomorphism of vertex algebras
The map Φ : U(Vir) → H∗(Fcω(A(r, r′))) from Proposition 3.1 applied to the interval I = (r, r′) gives Vc
the structure of a U(Vir)-module. More precisely, let ǫ < r < R then we have a factorization map

We have the following diagram

Fcω(D(0, ǫ)) ⊗ Fcω(A(r, R)) → Fcω(D(0, R)).

H∗Fcω(D(0, ǫ)) ⊗ H∗Fcω(A(r, R))

/ H∗Fcω(D(0, R))

Vc ⊗ H∗Fcω(A(r, R))

Vc

1⊗Φc
Vc ⊗ U(Vir)

The top left arrow comes from the inclusion V ֒→ H∗F(D(0, ǫ). The dotted map exists since the image of
the factorization product on Vc, where we only see ﬁnite sums of S1-eigenvectors, still only contains ﬁnite
sums of S1-eigenvectors.

Our main result is:

Proposition 4.5. There is an isomorphism of U(Vir)-modules Virc → Vc which sends |0i ∈ Virc to 1 ∈ V. It
extends to an isomorphism of vertex algebras.

Proof. Recall that the vacuum vector is the image of 1 under the map

U(Vir)

id⊗1

/ U(Vir) ⊗ C

/ U(Vir) ⊗U(Vir)+ Cc = Virc.

We deﬁne the map of U(Vir)-modules

U(Vir) ⊗ C → Vc

by sending 1 ⊗ 1 to 1 and extending by U(Vir)-linearity. We need to check that this descends to Virc. That
is, we verify that 1 ∈ V is killed by Ln for n ≥ −1. Recall Ln(A) = f (zz)zn+2dz∂ is a representative for
Ln on LC(A(r, R)) where f (zz) is a bump function as above. It sufﬁces to show that Ln(A) is exact when

viewed as an element in LC(D(0, R)). Deﬁne h(z, z) :=R ∞

∂(h(z, z) zn+1) = f (zz)zn+2dz

zz f (s) ds and note that the chain rule implies

Thus, Ln(A) is exact via the element h(z, z)zn+1∂. This shows that we get a well-deﬁned map Virc → Vc
that sends |0i 7→ 1.

We need to see that this map is an isomorphism of U(Vir)-modules. We take advantage of some ﬁltra-

tions. Consider the natural ﬁltration of the tensor algebra of Vir, namely

Fi(Tens(Vir)) := ⊗j≥iVir.

This descends to a ﬁltration on U(Vir). Similarly, deﬁne the ﬁltration of Fcω by

FiFcω(U) = Sym≤i(Ω0,∗

c (U, TU)[1] ⊕ C · C)

with induced differential. It is clear that this is a subcomplex and hence descends to cohomology. Moreover
the map of modules deﬁned above respects both of these ﬁltrations.

With respect to the above ﬁltration we have the identiﬁcation

Gr Virc ∼= Sym∗(z−1C[z−1]∂z ⊕ C · C) = Sym∗(z−1C[z−1]∂z)[C].

Moreover, we have the identiﬁcations of associated gradeds

Gr U(Vir) = Sym(Vir) = Sym(C[z, z−1]∂z)[C] and Gr Fcω(U) = dSym(Ω0,∗

c (U, TU)[1] ⊕ C · C).

17

/
O
O
O
O
O
O
3
3
/
/
Consider the map U(Vir) → V induced by the action of U(Vir) on the unit 1 ∈ V. We have the diagram of
associated gradeds

Gr U(Vir)

/ Gr V

6♠♠♠♠♠♠♠♠♠♠

Sym(C[z, z−1]∂z)[C]

/ H∗(cid:16)Sym∗(Ω0,∗

c (D(0, r), TD(0, r))[1] ⊕ C · C)(cid:17)

The embedding on the right is the direct sum of S1-eigenspaces and is identiﬁed with z−1C[z−1][C]. Thus,
the map Gr U(Vir) → Gr Vc is the map of commutative algebras

Sym(C[z, z−1]∂z)[C] → Sym(z−1C[z−1]∂z)[C]

and is induced by natural map C[z, z−1] → z−1C[z−1].

Concluding we see that the map Gr Virc → Gr V is an isomorphism, and since there are no extension

problems over C we have the desired isomorphism of U(Vir)-modules.

Finally, we need to show that the OPE’s agree so that the module isomorphism extends to an isomor-

phism of vertex algebras. Namely, we will show

mz,0(L−2 · 1, v) = ∑
n∈Z

(Ln · v)z−n−2.

Now, the residue pairing allows us to represent Ln(A(r, R)) by the linear map

hol(A(r, R)) → C , h(z)dz 7→(cid:18)IS1

Ω1

zn+1h(z)dz(cid:19) ∂z.

Fix a point z0 ∈ A(r, R). By Cauchy’s theorem we have for some ǫ such that ǫ < |z0| − r and ǫ < s − |z0|:

2πih(z0) = I|ζ|=R−ǫ

h(ζ)
ζ − z0

dζ −I|ζ|=r+ǫ

h(ζ)
ζ − z0

dζ.

For the ﬁrst integral we have |z0| < |ζ| and we can expand

Thus

1

ζ − z0

=

1
ζ

·

1

1 − z0
ζ

I|ζ|=R−ǫ

h(ζ)
ζ − z0

dζ =

=

1
ζ

∞
∑

ζ (cid:19)j
j=0(cid:18) z0
j=0(cid:18)I|ζ|=R−ǫ

∞
∑

=

∞
∑
j=0

zj
0ζ−j−1.

h(ζ)ζ−j−1dζ(cid:19) zj

0.

Similarly the second integral can be written as

I|ζ|=r+ǫ

h(ζ)
ζ − z0

dζ = −

∞
∑

j=0(cid:18)I|ζ|=r+ǫ

h(ζ)ζ j(cid:19) z

−j−1
0

.

Since h is holomorphic on A(r, R) we can combine these integrals by choosing a common contour and
reindexing to write

∞
∑

j=0(cid:18)I|ζ|=R−ǫ

h(ζ)ζ−j−1dζ(cid:19) zj

0 +

∞
∑

j=0(cid:18)I|ζ|=r+ǫ

h(ζ)ζ j(cid:19) z

−j−1
0

This completes the proof.

18

n∈Z(cid:18)I ζn+1h(ζ)dζ(cid:19) z−n−2

0

= ∑

.

/

/
6
5 Globalization

It is, of course, natural from a purely mathematical perspective to attempt extend the Virasoro algebra to
general Riemann surfaces. On the other hand, from the point of view of of conformal ﬁeld theory, [Seg88]
for instance, it is essential to consider this object on general surfaces. Vertex algebras are of course local
in nature, from above they correspond to factorization on C. In this section we consider factorization on a
general surface.

One approach would be to construct a factorization algebra on each Riemann surface independently.
It is convenient for us, however, to consider the site of Riemann surfaces. We will produce a factorization
algebra on the following category of Riemann surfaces.

Deﬁne the category Hol1 whose objects are two-dimensional manifolds with complex structure and
whose maps are holomorphic embeddings. This is a symmetric monoidal category with respect to disjoint
union ⊔. A universal holomorphic prefactorization algebra valued in topological vector spaces TVS⊗ is a
symmetric monoidal functor

Hol⊔

1 → TVS⊗.

As above, such a prefactorization algebra will be produced by an enveloping construction. Let Σ be a
Riemann surface. Deﬁne the dg-Lie algebra

LΣ = Ω0,∗(Σ, TΣ)

with differential given by ∂ and bracket given by extending the usual Lie bracket of holomorphic vector
ﬁelds. The assignment L : Σ 7→ LΣ deﬁnes a symmetric monoidal functor from the category Hol1 to the
category of dg-Lie algebras with symmetric monoidal structure given by direct sum (of underlying graded
vector spaces). Thus, as C∗(−) is symmetric monoidal we get a symmetric monoial functor given by the
universal envelope of L

U f actL : Hol1 → TVS⊗ , Σ 7→ C∗(LΣ

c ).

Applied to Σ = C, of course we are in the situation of the previous section. Just as above, the interesting
part from the point of view of conformal ﬁeld theory and representation theory is the envelope of a central
extension of vector ﬁelds. The problem is, the central extension we wrote down in Section 2

ω(α ⊗ ∂z, β ⊗ ∂z) 7→

1
2π

1

24 ZU(cid:16)(∂3

zα0β1 − α0∂3

z β1) + (∂3

zα1β0 − α1∂3

z β0)(cid:17) dzdz

is coordinate dependent. So, there is no obvious way of constructing a universal twisted envelope.

5.1 First ﬁx: uniformization

A Riemann surface is a complex manifold of dimension one. Therefore, it is given by a covering {Ui}
such that all transition functions are holomorphic diffeomorphisms. The cocycle ω is not invariant under
arbitrary diffeomorphisms: if w = f (z) it is not necessarily true that f ∗(ωz) = ωw.

One way of formulating the uniformization theorem for Riemann surfaces is that one can always ﬁnd a

subordinate cover to {Ui} such that the transition functions have the form

w = f (z) =

az + b
cz + d

proj
1 ⊂ Hol1 denote
with ad − bc 6= 0. I.e., we can reduce to the projective linear structure group. Let Hol
the full subcategory of covers where the transition functions are projective. The above says that there is a
section unif : Hol1 → Holproj

of the inclusion

1

Lemma 5.1. The cocycle ω is invariant under projective changes of coordinate. That is, for f a projective diffeomor-
phism one has f ∗ω = ω.

Hol1 ֒→ Holproj

1

.

19

Thus, we can form a factorization algebra FVir on Holproj

1

factorization algebra on Riemann surfaces via

. Using uniformization this pulls-back to a

Hol1

unif

proj
/ Hol
1

FVir

/ TVS.

The problem with this construction is that the induced extension cocycle is not so obvious to write down.
There is a more explicit way of doing this.

5.2 Second ﬁx: projective connections

We recall Atiayh’s [Ati57] formulation of connections on holomorphic vector bundles. Let E be a holomor-
phic vector bundle on a complex manifold X. Denote by Diff≤1(E) ⊂ Diff(E) the subspace of order one
differential operators on E. There is a short exact sequence of vector bundles

0 → End(E) → Diff≤1(E) → T1,0

X ⊗ End(E) → 0

where the last map is the symbol map of an order one differential operator. Form the pull-back along the
inclusion of T1,0
X

X ⊗ End(E) via x 7→ x ⊗ id. The resulting bundle is the Atiyah-bundle

֒→ T1,0

0 → End(E) → At(E) → T1,0

X → 0.

Atiyah showed that splittings of this sequence are precisely holomorphic connections.

Consider the inclusion OX ֒→ End(E) by viewing s 7→ f · s for f ∈ OX. One gets the induces sequence

By deﬁnition, projective connections are splittings of the above sequence.

0 → End(E)/OX → At(E)/OX → T1,0

X → 0.

• Non-trivial holomorphic connections on TΣ exist only in genus 1, this is Riemann-Roch.

• Projective connections on TΣ exist for all Riemann surfaces and form a torsor over quadratic holomor-

phic differentials Ω1

hol(Σ)⊗2.

Let Hol∇

1 denote the category of pairs (Σ, ∇) where ∇ is a projective connection for the holomorphic

tangent bundle T1,0

Σ . There is a forgetful functor

that we should think of as a (Ω1

hol)⊗2-torsor.

Fix a projective connection ∇ on Σ. Locally, on Σ consider the bilinear on Lc(Uz)

π : Hol∇

1 → Hol1

ω∇,z(X, Y) = ωz(X, Y) + ∇z · [X, Y].

Proposition 5.2.

• ω∇ deﬁnes a cocycle on Lc(Uz) and is invariant under holomorphic changes of coordinate.

• If ∇′ is another projective connection we have ω∇ ∼ ω∇′.

Proof. Coordinate invariance In writing down ω∇,z = ωz we have used a coordinate. We check coordinate
invariance, so that it deﬁnes a section over Σ. It sufﬁces to understand the case Uz = Cz. Suppose f : Cw →
Cz is a change of coordinates. Let u : LC ⊗ LC → Ω1,1

C denote the bilinear map

(α∂z, β∂z) 7→(cid:16)(∂3

zα0β1 − α0∂3

z β1) + (∂3

zα1β0 − α1∂3

z β0)(cid:17) dzdz.

We compute the difference

f ∗u(α∂z, β∂z) − u ( f ∗(α∂z), f ∗(β∂z)) = 2 [(α0∂wβ1 − ∂wα0β1) + (α1∂w β0 − ∂wα1β0)] S( f )(cid:18) ∂ f

∂w(cid:19)dwdw.

20

/
/
So the failure of the cocycle u to be independent of a choice of coordinate is measured by the Schwarzian.

Let P : LC ⊗ LC → Ω1,1(C) be the bilinear

(α∂z, β∂z) 7→ ρz · ((α0∂zβ1 − ∂zα0β1) + (α1∂zβ0 − ∂zα1β0)) dzdz.

We compute the difference

f ∗P(α∂z, β∂z) − P ( f ∗(α∂z), f ∗(β∂z)) = ((α0∂z β1 − ∂zα0β1) + (α1∂z β0 − ∂zα1β0)) S( f )(cid:18) ∂ f

∂w(cid:19)dwdw.

This shows that the bilinear u + 2P is independent of choice of coordinates. Note that

ωC = ZC

◦(u + 2P)

is the desired bilinear, so we are done.

Cocycle condition We need to show that ωU is a cocycle for the Lie algebra LΣ(U) for all U. We suppose
U ≃ C and we check ωC is a cocycle. For simplicity write elements α∂ ∈ LC(C) as α. In terms of the
bilinears u, P above we have

ωC([α, β], γ) + ωC([β, γ], α) + ωC([γ, α], β) = ZC

[(u([α, β], γ) + u([β, γ], α) + u([γ, α], β))

+ 2 (P([α, β], γ) + P([β, γ], α) + P([γ, α], β))]

It follows from Jacobi that P-terms vanish. So, it sufﬁces to show that

ZC

(u([α, β], γ) + u([β, γ], α) + u([γ, α], β)) = 0.

This is a straightforward and standard calculation.

Now, we show independence of ω∇,z on a projective connection. Again, this is a local calculation.
Suppose ∇, ∇′ are two projective connections, and let ω, ω′ and P, P′ denote induced the bilinears as above,
respectfully. We need to show that ω − ω′ is a coboundary when viewed as a cocycle in C∗
red(LC). As
mentioned above, the difference of two ordinary projective connections is simply a quadratic differential.
It follows that we may view the difference ∇ − ∇′ as an element in Ω0,∗(Σ, K⊗2
Σ ). Then, we see that for
X ∈ LΣ

where h−, −i denotes the natural pairing

(∇ − ∇′) · X =(cid:10)∇ − ∇′, X(cid:11)

Ω0,∗(Σ, K⊗2

Σ ) ⊗ Ω0,∗(Σ, TΣ) → Ω0,∗(Σ, KΣ) ≃ Ω1,∗(Σ).

Denote by Φ = R ◦ h∇ − ∇′, −i(1,1) : LC → C. Note that Φ is linear of degree −1, so that it is a 0-cocycle

for LC. We have

(ω − ω′)(α, β) = Φ([α, β]).

This is what we wanted to show.

“homotopy descent” along π to get a factorization algebra FVir : Hol1 → TVS as desired.

This implies two things: (1) There is a prefactorization algebraeFVir on Hol∇
The prefactorization algebra eFVir can be described as follows. To a pair (Σ, ∇) of a Riemann surface

together with a projective connection we deﬁne

1 and (2) that we can perform

where bLΣ is the dg-Lie algebra that is the extension of LΣ determined by the cocycle ω∇.

Thus, the factorization algebra FVir on Hol1 has the following interpretation. Given a Riemann surface Σ
choose any projective connection ∇. Form the twisted envelope as above. By the proposition this extension
is independent of the projective connection chosen.

FVir(Σ, ∇) = U f actbLΣ

21

Proposition 5.3. Let Σ be any Riemann surface. Then, we have

H1(cid:16)C∗

loc(LΣ)(cid:17) ≃ C.
red(cid:0)JetLC(cid:1) ∼= Ω∗(cid:0)C; C∗

red(JetLC

)(cid:1) [2]

Proof. Consider Σ = C. Then

C∗
loc(LC) = Ω∗

C ⊗DC C∗

Now, JetLC corresponds to the dg Lie algebra CJz, z, dzK∂z with differential given by ∂. This is quasi-
isomorphic to the Lie algebra of formal holomorphic vector ﬁelds W1 := CJzK∂ (with zero differential).
So, we see C∗

loc(LC) ≃ C∗(W1)[2]. A calculation of Gelfand-Fuchs [Fuc86] implies that

concentrated in degree 3. The generator is of the form ∂∨

We’d like to bootstrap this to the global case. Consider the ﬁltration of Ω∗(cid:0)Σ, C∗

degree. This spectral sequence has E2-page

z · (z∂z)∨ · (z2∂z)∨.

red(JetLΣ )(cid:1) by form

H∗

red(W1) = C[−3]

E2 = Ω∗ (Σ, H∗ (C∗

red(JetLΣ )) .

and they are concentrated in a single degree. Choosing a formal coordinate at a point in Σ trivializes the

Here, H means the cohomology D-module. We have computed the cohomology of the ﬁbers of H∗(cid:0)C∗
ﬁber of this point to C(cid:10)∂∨

z · (z∂z)∨ · (z2∂z)∨(cid:11). This trivialization is independent of coordinate choice and

compatible with the ﬂat connection. Thus

red(JetLΣ )(cid:1),

H∗(C∗

red(JetLΣ ) ≃ C∞

Σ [−3]

with its usual ﬂat connection. This completes the proof.

5.3 Global sections

We now consider global sections of the twisted factorization algebra associated to the central extension of
LΣ we have been discussing. Just as in the ﬂat case, deﬁne the factorization algebra on Σ

Fω := UωLΣ.

Explicitly, this is the factorization algebra that sends an open subset U ⊂ Σ to

(cid:16)Sym(Ω0,∗

c (U, TU)[1][C], ∂ + dCE(cid:17) .

We compute the cohomology of the global sections of this factorization algebra, that is, it’s factorization
homology. We denote this by

H∗ZΣ

UωLΣ.

The pointed formal moduli problem BLΣ(Σ) describes deformations of complex structures of the surface
Σ. For an open set U we interpret BLΣ(U) as describing complex structures on U that agree with the
ﬁxed complex structure outside of a compact set. An element in C∗(LΣ(U)) of degree one determines, by
deﬁnition, a line bundle on BLΣ(U). This is because for any L∞-algebra g degree one elements of C∗(g) are
the same as L∞-maps g → C which is a rank-one representation of g.

Now, for a dg-Lie algebra g the complex C∗(g) is interpreted as distributions with support on the closed
point of Bg. Thus, the twisted envelope should be interpreted as distributations supported at the point of
BLΣ(U) twisted by the line bundle determined by the cocycle ω.

As noted above BLΣ describes a neighborhood of Σ inside of Mg, the moduli of Riemann surfaces of

genus g. Globally, we observe thatRΣ UωLΣ is computing the ∞-jet at Σ of a certain sheaf on Mg; namely

the sheaf of differential operators. An independent deﬁnition of this sheaf on the moduli of curves is non-
trivial, and we defer making any precise relationships.

Now, we compute the factorization homology. First we need the following fact concerning the Dolbeaut

complex of vector ﬁelds on a Riemann surface.

22

Proposition 5.4. The dg-Lie algebra (Ω0,∗(Σ, TΣ), ∂) is formal.

That is, the dg-Lie algebras Ω0,∗(Σ, TΣ) and H∗
∂
H∗(Fω(Σ)) is equal to the cohomology of the complex

(Ω0,∗(Σ, TΣ)) are quasi-isomorphic.

It follows that

since ∂ kills the central term C.

(Sym(H∗(Σ, TΣ) ⊕ C · C), dCE)

The case g = 0

We have H∗(Σ0, TΣ0) ∼= sℓ2(C) generated by the vector ﬁelds ∂z, z∂z, and z2∂z. For degree reasons the

central extension does not contribute to the Lie differential. Thus

H∗ZΣ0

UωLΣ0 ∼= H∗(sℓ2(C))[c] ∼= C[y, C]

with deg(y) = 3 and deg(C) = 0.

The case g = 1

In this case we know that the dg Lie algebra H∗(Σ1, TΣ1) = C ⊕ C[−1] with zero Lie bracket and zero
differential. Moreover, H0 is generated by the constant vector ﬁeld ∂z. The bilinear form deﬁning the central
extension vanishes on constant vector ﬁelds so doesn’t contribute to the Lie differential. Thus

H∗ZΣ1

UωLΣ1 ∼= Sym(C[1] ⊕ C ⊕ C · C) ∼= C[x, y, C]

with deg(x) = −1 and deg(y) = deg(C) = 0.

The case g > 1

The dg-Lie algebra is H∗(Σg, TΣg) = C3g−3[−1]. For degree reasons this algebra is abelian and does not

interact with the central extension. Thus

H∗ZΣg

UωLΣg ∼= Sym(C3g−3 ⊕ C · C) ∼= C[y1, . . . , y3g−3, C]

with deg(y1) = · · · = deg(y3g−3) = deg(c) = 0.

References

[Ati57] M.F. Atiyah. Complex analytic connections in ﬁbre bundles. Trans. Amer. Math. Soc., 85:181–207,

1957.

[CG15] Kevin Costello and Owen Gwilliam. Factorization algebras in quantum ﬁeld theory, Volume I. Sub-

mitted to Cambridge University Press, 2015.

[Cos11] Kevin Costello. Renormalization and Effective Field Theory. American Mathematical Society, 2011.

[FBZ]

Edward Frenkel and David Ben-Zvi. Vertex algebras, volume 88 of Mathematical Surveys and Mono-
graphs. AMS, second edition.

[Fuc86] D Fuchs. Cohomology of inﬁnite dimensional lie algebras. Contemporary Soviet Math., 1986.

[Man13] Marco Manetti. On some formality criteria for dg-lie algebras. arXiv:1310.3048, 2013.

[Seg88] G. B. Segal. Differential Geometrical Methods in Theoretical Physics. Springer Netherlands, Dordrecht,

1988.

[Ser53]

Jean-Pierre Serre. Quelques probl´emes globaux relatifs aux vari´et´es de stein. Colloque sur les
fonctions de plusieurs variables, pages 57–68, 1953.

23

