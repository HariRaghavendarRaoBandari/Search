6
1
0
2

 
r
a

M
4

 

 
 
]

.

O
C
h
t
a
m

[
 
 

1
v
9
8
5
1
0

.

3
0
6
1
:
v
i
X
r
a

WEB MATRICES: STRUCTURAL PROPERTIES AND

GENERATING COMBINATORIAL IDENTITIES

MARK DUKES AND CHRIS D. WHITE

Abstract. In this paper we present new results for the combinatorics of web diagrams and web
worlds. These are discrete objects that arise in the physics of calculating scattering amplitudes
in non-abelian gauge theories. Web-colouring and web-mixing matrices (collectively known as web
matrices) are indexed by ordered pairs of web-diagrams and contain information relating the number
of colourings of the ﬁrst web diagram that will produce the second diagram.

We introduce the black diamond product on power series and show how it determines the web-
colouring matrix of disjoint web worlds. Furthermore, we show that combining known physical
results with the black diamond product gives a new technique for generating combinatorial identi-
ties. Due to the complicated action of the product on power series, the resulting identities appear
highly non-trivial.

We present two results to explain repeated entries that appear in the web matrices. The ﬁrst of
these shows how diagonal web matrix entries will be the same if the comparability graphs of their
associated decomposition posets are the same. The second result concerns general repeated entries
in conjunction with a ﬂipping operation on web diagrams.

We present a combinatorial proof of idempotency of the web-mixing matrices, previously es-
tablished using physical arguments only. We also show how the entries of the square of the web-
colouring matrix can be achieved by a linear transformation that maps the standard basis for formal
power series in one variable to a sequence of polynomials. We look at one parameterized web world
that is related to indecomposable permutations and show how determining the web-colouring ma-
trix entries in this case is equivalent to a combinatorics on words problem.
Keywords. web diagram, web world, combinatorial identity, idempotence, black diamond product

1. Introduction

Web diagrams are discrete objects that are subject to certain colouring and reconstruction op-
erations, and arise in physics in the calculation of scattering amplitudes in non-abelian gauge
theories [9, 16, 20]. A prominent example is the theory of quarks and gluons, Quantum Chromo-
dynamics (QCD), which is of great topical relevance given its application to current experiments
such as the Large Hadron Collider.

Whilst some properties of web-mixing matrices have been established from a physics point of
view [9, 12], a fully general understanding of their structure and properties remains elusive. Web-
colouring and web-mixing matrices admit a purely combinatorial deﬁnition and this provides an
alternative framework to the physical picture to elucidate their properties. Our ultimate hope is
that a detailed understanding of web diagrams and their matrices can be used to dramatically
improve the precision of theoretical predictions for particle collider experiments.

The combinatorics of web diagrams and web matrices is an interesting study in its own right in
that it combines parts of order theory, graph theory, and the theory of permutations in a new and
novel way. Our seminal paper on the combinatorics of web diagrams [5] looked at these objects from
several angles and has a companion physics paper [4] which explains how the results are pertinent to
particle physics applications 1. We were able to show, for example, that for particular web diagrams,

2010 Mathematics Subject Classiﬁcation. 05A05, 05A19, 05C50.
1For a recent introduction to the latter, see ref. [22].

1

the diagonal entries of the web matrices corresponding to them depend on the generating function of
the descent statistic formed by summing over the Jordan-H¨older set of all linear extensions of a web
diagram’s decomposition poset (partially ordered set). We examined some special (parameterized)
classes of web worlds which could be ‘exactly’ solved, and one of these saw the introduction of a
new permutation statistic that did not seem to have been previously studied. Another result is
that the number of diﬀerent diagrams in a web world can be given by a hook-length style formula
on its representation matrix.

Our aim in this study is not just to build on some of the results and directions that were initiated
in [5], but to investigate some new aspects of these web diagrams that have not been explored before.
Amongst these, we will give a combinatorial proof of idempotency of the web-mixing matrices that
was originally established by way of a physics argument in Gardi and White [12, §3]. We will also
introduce the black diamond product on power series and show how the web-colouring matrix of a
web world whose web diagrams can be ‘partitioned’ (in a sense to be made precise later) depend on
this black diamond product. Furthermore, we will show how a physics argument gives rise to a new
technique for generating combinatorial identities using the black diamond product. We think that
this technique is interesting in that it has the potential to generate quite unusual looking identities
due to the black diamond product behaving in quite a complicated way on the power series in
question.

We will concern ourself with the web diagrams that were deﬁned in [5] 2. Let P = {p1, . . . , pn} be
a set of n pegs that are rooted to a plane. A web diagram D on P is a set of 4-tuples ei = (ai, bi, ci, di)
where the ei represents an edge between peg pai and peg pbi for which the endpoint of ei on peg
pai is the cith highest vertex on that peg from the plane, and the endpoint of ei on peg bi is the
dith highest vertex on that peg from the plane. The labels of the endpoints of edges on each peg
must be distinct, and this is taken care of in the formal deﬁnition, Deﬁnition 1. We will sometimes
abuse the terminology by referring to ‘peg i’ in place of ‘peg pi’.

Two illustrations of web diagrams are given in Figure 1. The web world of a web diagram D is
the set of all web diagrams that result from permuting the order in which vertices appear on a peg,
and we usually denote it by W (D). The two web diagrams in Figure 1 are in the same web world.
In the physics context in which such diagrams arise, the pegs represent quarks or gluons emanating
from the interaction point, and the lines joining pegs correspond to additional gluons being radiated
and absorbed. The conventional depiction of each web diagram is a so-called Feynman diagram,
an example of which is shown on the left of Figure 2.

To every web world W we associate two important matrices, M(W ) and R(W ), called the web-
colouring and web-mixing matrices, respectively. The entries of these matrices are indexed by
ordered pairs of web diagrams, and contain information about colourings of the edges of the ﬁrst
web diagram that yield the second diagram under a construction determined by a colouring.

In this paper we deepen our study of these recently deﬁned structures, with the goal of ascer-
taining general properties. Section 2 contains some background and deﬁnitions necessary for the
rest of the paper. In Section 3 we introduce the black diamond product on formal power series and
prove a decomposition theorem for the web matrices of web worlds that may be partitioned into
web worlds on disjoint peg sets. In Section 4 we give a new method for generating combinatorial
identities by exploiting some physical properties of web worlds.

In Section 5 we give two new results to explain the repeated entries that one notices occurring
in web matrices. The ﬁrst of theses results concerns diagonal entries and shows that if the compa-
rability graphs of the decomposition posets of two web diagrams (that satisfy a further technical
condition) are the same, then the diagonal entries on the web matrices for these two diagrams will
be the same. The second result explains how the action of ﬂipping a web diagram upside-down

2The diagrams we consider here are referred to as Multiple Gluon Exchange Webs (MGEWs) in refs. [8, 10]. Other

types of web are possible, but are beyond the scope of the present work.

2

1

3

1

2

3

1

2

3

2

1

1

3

2

3

2

1

1

3

2

1

p
1

p
2

p
3

p
4

p
1

p
2

p
3

p
4

(a)

(b)

p
1

p
2

1

1

p
3

2

1

p4

(c)

Figure 1. Two examples of web diagrams in the same web world. Web diagrams
(a) and (b) in this ﬁgure both have a single edge between ‘pegs’ p2 and p4. However
the heights of the endpoints diﬀer in both diagrams. In (a) the heights of this edge
on pegs p2 and p4 are, respectively, 1 and 2. We represent this edge by the 4-tuple
(2, 4, 1, 2). In (b) the heights of this edge are, respectively, 3 and 1. The edge in this
diagram is represented by the 4-tuple (2, 4, 3, 1). The web graph of the web world
(to be deﬁned in Section 2) containing the web diagrams is shown as (c).

combines with the colouring and reconstruction operations on that same web diagram. In Section
6 we derive an expression for the entries of the square of a web-colouring matrix in terms of the
entries of the web-colouring matrix, and give a combinatorial proof that the web-mixing matrices
are idempotent.

Finally, in Section 7 we investigate a particular web world whose diagrams consist of only two
pegs that have multiple edges between them. We show how they are related to indecomposable
permutations and how calculating the entries of the web matrices for this web world reduces to a
combinatorics on words problem.

2. Definitions and terminology

Let C[[x]] be the ring of formal power series in the variable x over the ring C. Given f ∈ C[[x]] we
will denote by [xi]f the coeﬃcient of xi in f and we extend this notation to the multivariate case. For
integers a, b ∈ N let a ∨ b denote the maximum of a and b. If a ≤ b, then let [a, b] = {a, a + 1, . . . , b}.
Although web diagrams were deﬁned in Section 1, we give here the formal speciﬁcation in order

to remove any uncertainty surrounding their deﬁnition.

Deﬁnition 1. A web diagram on n pegs having m edges is a collection D = {ej = (aj, bj, cj, dj) :
1 ≤ j ≤ m} of 4-tuples that satisfy the following properties:

(i) 1 ≤ aj < bj ≤ n for all j ∈ [1, m].
(ii) For i ∈ [1, n] let pi(D) be the number of j such that aj or bj equals i, that is, the number
of edges in D incident with peg i. Then the labels of the vertices on peg i must be the ﬁrst
pi(D) positive integers, i.e.

and no vertex on a peg can be both a left endpoint and a right endpoint of an edge, i.e.

{dj : bj = i} ∪ {cj : aj = i} = [1, pi(D)],

{dj : bj = i} ∩ {cj : aj = i} = ∅.

We write Pegs(D) = (p1(D), . . . , pn(D)). The labels of the pi(D) vertices on peg i when read from
bottom to top are (1, . . . , pi(D)).

Given a web diagram D = {ej = (aj, bj, cj, dj) : 1 ≤ j ≤ m}, the set of pegs that are incident

with at least one edge is PegSet(D) = {a1, . . . , am, b1, . . . , bm}.

A web diagram D may be mapped to a simple graph G([1, n], E) where E(G) = {{a, b} : (a, b, c, d) ∈

D}. Web worlds are in 1-1 correspondence with loop-free simple graphs whose edges have labels in
the set of positive integers. We call the labeled graph associated with a web world its web graph.

3

p2

p3

1p

p4

Figure 2. The Feynman diagram corresponding to the web diagram of Figure 1(a)
is illustrated on the left. The gluon lines correspond to the edges of the web diagram.
The heights of the endpoints correspond to their distance from the meeting points
of the the 4 arrowed lines. The ‘pegs and plane’ representation is shown to its right.

The vertices of the web graph correspond to the pegs of the web diagram (all vertices on a peg in
the web diagram are projected to a single vertex in the web graph). The edges of the web graph
are labeled with the multiplicities of edges between the pegs in the web diagram. The web world
that the web diagrams (a) and (b) of Figure 1 are members of is represented by the web graph (c).

Deﬁnition 2. Let D = {ej = (xj, yj, aj, bj) : 1 ≤ j ≤ m} and D′ = {e′
j) : 1 ≤ j ≤
m′} be two web diagrams with PegSet(D), PegSet(D′) ⊆ {1, . . . , n}. The sum D ⊕ D′ is the web
diagram obtained by placing the diagram D′ on top of D;

j = (x′

j, y′

j, a′

j, b′

D ⊕ D′ = D ∪ {(x′

j , y′

j, a′

j + px′

j

(D), b′

j + py′

j

(D)) : 1 ≤ j ≤ m′}.

If there exist two non-empty web diagrams E and F such that D = E ⊕ F then we say that D is
decomposable. Otherwise we say that D is indecomposable.

Example 3. Consider the following two web diagrams: D1 = {(1, 4, 1, 1), (2, 6, 1, 2), (2, 6, 2, 1)}
and D2 = {(1, 2, 1, 1), (3, 5, 1, 1), (5, 6, 2, 1)}. For D1 we have

(p1(D1), . . . , p6(D1)) = (1, 2, 0, 1, 0, 2)

and so

D1 ⊕ D2
= {(1, 4, 1, 1), (2, 6, 1, 2), (2, 6, 2, 1)} ∪ {(1, 2, 1 + p1(D1), 1 + p2(D1)),

(3, 5, 1 + p3(D1), 1 + p5(D1)), (5, 6, 2 + p5(D1), 1 + p6(D1))}

= {(1, 4, 1, 1), (2, 6, 1, 2), (2, 6, 2, 1)} ∪ {(1, 2, 1 + 1, 1 + 2), (3, 5, 1 + 0, 1 + 0),

(5, 6, 2 + 0, 1 + 2)}

= {(1, 4, 1, 1), (2, 6, 1, 2), (2, 6, 2, 1), (1, 2, 2, 3), (3, 5, 1, 1), (5, 6, 2, 3)}.

A k-colouring α of a web diagram D is an assignment of the numbers {1, . . . , k} to the edges
of D such that the mapping α : D 7→ {1, . . . , k} is surjective. In this instance we write |α| = k.
Let Coloursk(W ) be the set of k-colourings of web diagrams in W = W (D), and Colours(W ) =
Colours1(W ) ∪ Colours2(W ) ∪ · · · .

The construction procedure that we alluded to in the Introduction happens in the following way:
a ℓ-colouring α of a web diagram D produces ℓ new sub-web diagrams Dα(1), . . . , Dα(ℓ), each of
which consists of only the edges having that designated colour. These ℓ diagrams are not yet web
diagrams, but we can relabel the heights of the vertices on each of the pegs to make them into
web diagrams. Let rel be this relabelling operation. The new web diagram D′ = Recon(D, α) =

4

2

1

2

1

p
1

p
2

D1

2

1

2

1

p
1

p
2

D2

Figure 3. The two web diagrams of the web world in Example 4.

rel(Dα(1)) ⊕ · · · ⊕ rel(Dα(ℓ)) is formed by stacking the diagrams on top of one another in increasing
order of the colours.

The (D1, D2) entries of the web-colouring and web-mixing matrices of W are:

M

(W )

D1,D2(x) =Xℓ≥1

xℓf (D1, D2, ℓ)

and

R

(W )

D1,D2 =Xℓ≥1

(−1)ℓ−1

ℓ

f (D1, D2, ℓ),

where f (D1, D2, ℓ) is the number of ℓ-colourings α of D1 which give Recon(D1, α) = D2. As stated
in the introduction, these web-mixing matrices occur in the calculation of scattering amplitudes
in QCD. More speciﬁcally, they occur in the exponents of amplitudes, and dictate how the colour
charge and kinematic degrees of freedom of highly energetic quarks and gluons are entangled by
the radiation of additional lower energy gluons.

Example 4. Let D1 = {e1 = (1, 2, 1, 2), e2 = (1, 2, 2, 1)}. The web world generated by D1 is
W (D1) = {D1, D2} where D2 = {e′
2 = (1, 2, 2, 2)}. These are illustrated in Figure 3.
There are three diﬀerent colourings of D1:

1 = (1, 2, 1, 1), e′

α(e1) = 1 α(e2) = 1 ⇒ Recon(D1, α) = D1
α(e1) = 1 α(e2) = 2 ⇒ Recon(D1, α) = D2
α(e1) = 2 α(e2) = 1 ⇒ Recon(D1, α) = D2

(W )
D1,D1(x) = x1 and M

(W )
D1,D2(x) = 2x2. Likewise there are three diﬀerent colourings

Consequently M
of D2:

α(e′
α(e′
α(e′

1) = 1 α(e′
1) = 1 α(e′
1) = 2 α(e′
(W )
D2,D2(x) = x1 + 2x2. Therefore

2) = 1 ⇒ Recon(D2, α) = D2
2) = 2 ⇒ Recon(D2, α) = D2
2) = 1 ⇒ Recon(D2, α) = D2

Consequently M

(W )
D2,D1(x) = 0 and M

M(W )(x) =(cid:18)x

0 x + 2x2(cid:19)

2x2

and R(W ) =(cid:18)1 −1
0 (cid:19) .

0

The physical relevance of this example is that, owing to the second row of this matrix having
no non-zero entries, only diagram D1 survives in the exponents of scattering amplitudes. Further
examples of these deﬁnitions and details can be found in [5, §2].

Every web diagram D may be decomposed and written as a sum of indecomposable web diagrams.
A poset (partially ordered set) P on the set of these constituent indecomposable web diagrams can
be deﬁned as follows:

Deﬁnition 5. Let W be a web world and D ∈ W . Suppose that D = E1 ⊕ E2 ⊕ · · · ⊕ Ek where
each Ei is an indecomposable web diagram. Let P = {E1, . . . , Ek}. Deﬁne the relation <1 on P × P
as follows: Ei <1 Ej if i < j and PegSet(Ei) ∩ PegSet(Ej) 6= ∅. Let <2 be the transitive closure
of <1 on P × P and let (cid:22) be the reﬂexive closure of <2 on P × P . We call P (D) = (P, (cid:22)) the
decomposition poset of D.

5

D

E

6

E

4

E

2

E

5

E

3

E

1

(   )P  D

E

6

E

5

E

3

E

4

E

1

E

2

Figure 4. The decomposition poset of the web diagram in Example 6.

Example 6. Consider the web diagram D given on the left in Figure 4. The poset P (D) we get
from this diagram illustrated to its right. The constituent indecomposable web diagrams are:

E1 = {(1, 2, 1, 1)}
E2 = {(3, 5, 1, 3), (3, 5, 2, 1), (5, 6, 2, 1)}
E3 = {(1, 3, 1, 2), (1, 3, 2, 1)}
E4 = {(2, 5, 1, 1)}
E5 = {(1, 3, 1, 1)}
E6 = {(3, 5, 1, 2), (3, 5, 2, 1)}.

In the following sections we will repeatedly come across the Fubini polynomials (also known as

the ordered Bell polynomials) Fn(x) =Pn

k=1 k!(cid:8)n

k(cid:9)xk.

3. A decomposition theorem for web matrices

The main result of this section is a theorem that explains how to form the web-colouring ma-
trix of a web world that admits a decomposition as a disjoint union of at least two other web
worlds. Physical arguments tell us that such webs do not contribute to the exponents of scattering
amplitudes [9] and this is something we will discuss further and exploit in Section 4.

In order to be able to state our main theorem, we must ﬁrst deﬁne some new numbers and a

new product on formal power series.

be the number of 0-1 ﬁllings of an m row and k column array such that there
are precisely i1 ones on the top row, i2 ones in the second row, etc., and there are no columns of
only zeros.

i1,...,im(cid:17)(cid:17)(cid:17)⋆
Let (cid:16)(cid:16)(cid:16) k
Lemma 7. (cid:16)(cid:16)(cid:16) k

i1,...,im(cid:17)(cid:17)(cid:17)⋆

= [ui1

1 ui2

2 · · · uim

m ] ((1 + u1) · · · (1 + um) − 1)k.

Proof. The generating function for an entry in row j of the m × k array is u0
j = 1 + uj. The
only forbidden conﬁguration in the array is a column of all zeros, so the generating function for
columns is

j + u1

Since there are no restrictions on rows, the generating function for the m × k array is therefore

(u0

j + u1

1u0

2 · · · u0

m = (1 + u1) · · · (1 + um) − 1.




m

Yj=1

j )
 − u0

((1 + u1) · · · (1 + um) − 1)k .

6

The number of arrays with i1 ones in the ﬁrst row, i2 ones in the second row, and so on, is the
coeﬃcient of ui1

m in the above generating function:

2 · · · uim

1 ui2

(cid:18)(cid:18)(cid:18)

k

i1, . . . , im(cid:19)(cid:19)(cid:19)⋆

= [ui1

1 ui2

2 · · · uim

m ] ((1 + u1) · · · (1 + um) − 1)k .

(cid:3)

k

expression for m = 3 is

i1(cid:17)(cid:17)(cid:17)⋆
i1(cid:1) and(cid:16)(cid:16)(cid:16) k
It is a simple exercise to check that(cid:16)(cid:16)(cid:16) k
i1,i2(cid:17)(cid:17)(cid:17)⋆
=(cid:0) k
=(cid:0)
k−i1,k−i2,i1+i2−k(cid:1). The general
i1(cid:19) i2
=(cid:18) k
Xa=0(cid:18)i1
a(cid:19)(cid:18)k − i1
i2 − a(cid:19)(cid:18)i1 + i2 − a
k − i3 (cid:19).

i1, i2, i3(cid:19)(cid:19)(cid:19)⋆

(cid:18)(cid:18)(cid:18)

We will now deﬁne a new product of power series that will both help in presenting our results
concerning web worlds, but also serves in establishing a new automatic way to generate general
combinatorial identities from web worlds. The black diamond product (cid:7) is a binary operation that
is both commutative and associative, and we deﬁne it in a very general form since this is how we
will typically be using it.

(1)

k

Deﬁnition 8. Given A(1)(x), . . . , A(m)(x) ∈ C[[x]] where A(k)(x) = Pn≥0 a(k)

black diamond product of A(1)(x), . . . , A(m)(x) as:

n xn, we deﬁne the

A(1)(x) (cid:7) A(2)(x) (cid:7) · · · (cid:7) A(m)(x) =Xk≥0

xkXi1≥0

· · · Xim≥0

a(1)
i1 · · · a(m)

im (cid:18)(cid:18)(cid:18)

k

i1, . . . , im(cid:19)(cid:19)(cid:19)⋆

.

Let us note that if the power series A(i)(x) are each polynomials of degree ni, then the product

may be written in the more computationally eﬃcient form:

A(1)(x) (cid:7) · · · (cid:7) A(m)(x) =

n1+···+nm

Xk=0

xk

Xi1∈[0,n1],...,im∈[0,nm]

i1∨···∨im≤k≤i1+···+im

a(1)
i1 · · · a(m)

im (cid:18)(cid:18)(cid:18)

k

i1, . . . , im(cid:19)(cid:19)(cid:19)⋆

.

(2)

The unit of the black diamond product is 1, i.e. 1 (cid:7) A(x) = A(x). To recap on our point before
the deﬁnition, due to commutativity and associativity the order in which power series appear in
the black diamond product does not change its outcome. In other words, given the power series
{A(i)(x)}i∈[1,m] and a permutation π ∈ S m,

A(π(1))(x) (cid:7) A(π(2))(x) (cid:7) · · · (cid:7) A(π(m)) = A(1)(x) (cid:7) A(2)(x) (cid:7) · · · (cid:7) A(m)(x).

(3)

m

We will abbreviate

A(x) (cid:7) · · · (cid:7) A(x) to A(x) (cid:7) m with the convention that A(x) (cid:7) 0 = 1.

Example 9. Suppose that A(1)(x) = · · · = A(m)(x) = x. Then

z

}|

{

x (cid:7) m =

m

z
x (cid:7) · · · (cid:7) x=Xk≥0

}|

{

xk(cid:18)(cid:18)(cid:18)

k

1, . . . , 1(cid:19)(cid:19)(cid:19)⋆
1,...,1(cid:17)(cid:17)(cid:17)⋆

where there are m ones on the right hand side. The value (cid:16)(cid:16)(cid:16) k

is the number of ways to ﬁll
a table of k columns and m rows with 0s and 1s such that there is exactly one 1 in every row and
there are no columns of only 0s. This is simply another way to encode an ordered set partition of

7

an m-set into k sets (if a is in the ith set of such a sequence then the solitary 1 in row a of the

array will be in the ith column). This number is k!(cid:8)m
xkk!(cid:26)m
Xk=1
i1,i2(cid:17)(cid:17)(cid:17)⋆
k−i1,k−i2,i1+i2−k(cid:1) and applying Equation 2, we have
=(cid:0)

k(cid:9) and so for all m ≥ 1,
k(cid:27) = Fm(x).

Example 10. Using the fact that(cid:16)(cid:16)(cid:16) k

x (cid:7) m =

(4)

m

k

(x + x2) (cid:7) (x + x2) = x + 7x2 + 12x3 + 6x4.

Several of the power series that arise from taking the black diamond product of simple power
series expressions appear to correspond to known sequences/power series. This suggests the black
diamond product may be an object worthy of study in its own right. Some examples of these
include: x (cid:7) xn = nxn + (n + 1)xn+1, the coeﬃcients in the power series xn (cid:7) xn+1 appear to be
given by [17, A253283], and the sequence of coeﬃcients of

xn (cid:7) xn =

n

Xk=0(cid:18)n + k

k (cid:19)(cid:18)n

k(cid:19)xn+k

is known to count several diﬀerent structures (see [17, A063007]). (We omit the proof of this ﬁnal
observation since it is not immediately relevant to the paper’s goal.)

We are now ready to state our main theorem.

Theorem 11. Let W1, . . . , Wm be web worlds on pairwise disjoint peg sets. Suppose that Di, D′
i ∈
Wi for all i ∈ [1, m]. Let W = W1 ∪ W2 ∪ · · · ∪ Wm be a new web world which is the disjoint union
of W1, . . . , Wm. The diagrams D = D1 ⊕ · · · ⊕ Dm and D′ = D′
m are web diagrams in
W . Then M

1 ⊕ · · · ⊕ D′

(W )
D,D′(x) ∈ C[[x]] where

M

(W )
D,D′(x) = M

(W1)
D1,D′

1

(x) (cid:7) · · · (cid:7) M

(Wm)
Dm,D′

m

(x).

Proof. Suppose that α1 is an i1-colouring of D1 which constructs D′
1) and
that α2 is a i2-colouring of D2 that constructs D′
2, and so on. An i-chain is a totally ordered set
of i elements. The number of ways to k-colour the diagram D = D1 ⊕ · · · ⊕ Dm so that it becomes
D′ is the number of ways to embed the m chains i1-chain, i2-chain, . . ., im chain, which represent
the ordered colourings of D1, . . . , Dm, respectively, into a k-chain.

1 (i.e. Recon(D1, α) = D′

The value of k must be at least the length of the largest of the m chains, and of course must
be at most the sum of the lengths of all constituent m chains, i.e. k ∈ [max(i1, . . . , im), i1 + · · · +
im]. Furthermore, this embedding must be surjective, for otherwise at least one of the k-colours
{1, . . . , k} would not have any corresponding colour in the m constituent chains. One can recast
this in the form of a tabular 0-1 ﬁlling problem where we have m rows and k columns whereby the
column indices of the ir ones that appear in row r of the table indicate the new colours that they
take on in the k-colouring. The surjectivity condition translates into there being no columns of all

zeros. The number of ways to do this is therefore (cid:16)(cid:16)(cid:16) k

i1,...,im(cid:17)(cid:17)(cid:17)⋆

.

Suppose that the entries of the web-colouring matrices that correspond to the diagrams are

M

(Wi)
Di,D′
i

(x) = a(i)

1 x + · · · + a(i)

ni xni =: A(i)(x)

8

for all i ∈ [1, m]. Since there are a(j)
ij
a(1)
i1 · · · a(m)

must be included. Therefore

im

ways to colour Dj to produce D′

j for all j ∈ [1, m], the factor

M

(W )
D,D′(x) =

a(1)
i1 · · · a(m)

im

· · ·

n1

Xi1=1

nm

Xim=1

i1+···+im

Xk=i1∨···∨im

xk(cid:18)(cid:18)(cid:18)

k

i1, . . . , im(cid:19)(cid:19)(cid:19)⋆

= M

(W1)
D1,D′

1

(x) (cid:7) · · · (cid:7) M

(Wm)
Dm,D′

m

(x).

(cid:3)

Example 12. For all i ∈ [1, m], let Di = {(2i − 1, 2i, 1, 1)} be the web diagram that consists of a
single edge between pegs 2i − 1 and 2i, and let Wi be the web world that consists of the single web
diagram Di. Then M(Wi)(x) = (x), a 1 × 1 matrix. Since the conditions of Theorem 11 hold, the
web-colouring matrix of W = {D = D1 ⊕ · · · ⊕ Dm}, is

M(W )(x) =   m
Xk=1

xk(cid:18)(cid:18)(cid:18)

k

1, . . . , 1(cid:19)(cid:19)(cid:19)⋆! = (Fm(x)) ,

from Example 9.

Corollary 13. With the same setup as in Theorem 11,

trace M(W )(x) = XD1∈W1

· · · XDm∈Wm

M

(W1)
D1,D1(x) (cid:7) · · · (cid:7) M

(Wm)
Dm,Dm

(x).

4. A method for generating combinatorial identities

In this section we will outline a method for generating combinatorial identities by using the
black diamond product in conjunction with a result concerning the trace of web-mixing matrices
for disjoint web worlds.

Proposition 14. Let W be a web world that is the disjoint union of at least two web worlds. Then
all entries of the web-mixing matrix R(W ) are zero, and consequently trace R(W ) = 0.

A statistical physics-based proof of this result has been given in Gardi et al. [9, Section 5.1]. The
essential physical idea, elaborated further in [11], is that exponents of scattering amplitudes can
only contain interactions between non-disjoint groups of quarks and gluons.

The relationship between the web-mixing matrices and web-colouring matrices is

R

(W )

D,D′ =Z 0

−1

M

(W )
D,D′(x)

x

dx.

(5)

Integrating formal power series can be a contentious issue, so let us be clear that the integrals we
perform in this paper are deﬁnite integrals and always correspond to the transformation:

a1x + a2x2 + a3x3 + a4x4 + · · ·

7→ a1 − a2/2 + a3/3 − a4/4 + · · · .

Suppose that W1, . . . , Wn are web worlds on disjoint peg sets that all have the same web-colouring
matrix M = M(Wi)(x).
(This happens for example when all web worlds are equivalent to one
another by relabeling the peg sets that they are deﬁned upon.) Suppose further that the diagonal
entries of M are (G1(x), . . . , Gt(x)) and that

{G1(x), . . . , Gt(x)} = {H1(x), . . . , Hs(x)}

9

where each of the Hi(x) are distinct and have multiplicities (h1, . . . , hs) as diagonal entries in M .
Then

trace M(W )(x) = XD1∈W1

M

(W1)
D1,D1(x) (cid:7) · · · (cid:7) M

(Wm)
Dm,Dm

(x)

· · · XDm∈Wm
= X(i1,...,im)∈[1,t]m
= X(j1,...,jm)∈[1,s]m
= Xa1,...,as≥0

a1+···+as=m

Gi1(x) (cid:7) · · · (cid:7) Gim(x)

hj1 · · · hjmHj1(x) (cid:7) · · · (cid:7) Hjm(x)

ha1
1 · · · has

s (cid:18) m
a1, . . . , as(cid:19)H1(x) (cid:7) a1 (cid:7) · · · (cid:7) Hs(x) (cid:7) as.

(6)

For the case that there are only two diﬀerent power series that appear as diagonal entries of M , we
have

trace M(W )(x) =

m

Xa=0

1hm−a
ha

2 (cid:18)m

a(cid:19)H1(x) (cid:7) a (cid:7) H2(x) (cid:7) m−a.

(7)

Theorem 15. Let W be a web world whose web-colouring matrix has s diﬀerent diagonal entries
(H1(x), . . . , Hs(x)) that appear with multiplicities (h1, . . . , hs). Then for all positive integers m, we
have

Xa1,...,as≥0

a1+···+as=m

ha1
1 · · · has

s (cid:18) m
a1, . . . , as(cid:19)Z 0

−1

H1(x) (cid:7) a1 (cid:7) · · · (cid:7) Hs(x) (cid:7) as dx
x

= 0.

The expression for the s = 2 case is:

m

Xa=0

1hm−a
ha

2 (cid:18)m

a(cid:19)Z 0

−1

H1(x) (cid:7) a (cid:7) H2(x) (cid:7) m−a dx
x

= 0.

We will apply the above theorem to two extremely simple web worlds to see the combinatorial

identities that emerge.

Example 16. Let W be one of the web worlds of Example 12 so that M(W )(x) = (x), a 1 × 1
matrix. Applying Theorem 15 we have s = h1 = 1 and H1(x) = x. From Equation 4 we have

and so

Z 0

−1

This gives us the identity:

H1(x) (cid:7) m dx
x

m

xk
k

H1(x) (cid:7) m =

xkk!(cid:26)m
k(cid:27)
k(cid:27)#0
k!(cid:26)m

Xk=1
=" m
Xk=1
(−1)k+1(k − 1)!(cid:26)m
k(cid:27).
Xk=1
H1(x) (cid:7) m dx
x

(−1)k+1(k − 1)!(cid:26)m

=

=

−1

m

m

Xk=1

1a1(cid:18)m

a1(cid:19)Z 0

−1

Xa1=m

This identity can also be found in [21, Eqn. 27].

10

k(cid:27) = 0.

(8)

Example 17. Let W be the web world of Example 4, with

M(W )(x) =(cid:18)x

0 x + 2x2(cid:19) .

2x2

In this case s = 2, H1(x) = x, H2(x) = x + 2x2, and h1 = h2 = 1. From Equation 4, we have
H1(x) (cid:7) m = Fm(x). One can show that H2(x) (cid:7) m = F2m(x) and then applying Theorem 15 we
have

H1(x) (cid:7) a (cid:7) H2(x) (cid:7) m−a =

2m−a

2m−a

=

Xk=0
Xk=0
a(cid:19) (−1)k+1

k

xkXi1,i2
xkXi1,i2
i1!i2!(cid:26) a

i1!(cid:26) a
i1!(cid:26) a

i1(cid:27)i2!(cid:26)2m − 2a
i2 (cid:27)(cid:18)(cid:18)(cid:18) k
i1(cid:27)i2!(cid:26)2m − 2a
i2 (cid:27)(cid:18)

i1, i2(cid:19)(cid:19)(cid:19)⋆
k − i1, k − i2, i1 + i2 − k(cid:19).

k

i1(cid:27)(cid:26)2m − 2a
i2 (cid:27)(cid:18)

k − i1, k − i2, i1 + i2 − k(cid:19) = 0.

k

(9)

This gives us the identity

m

Xa=0

2m−a

Xk=1 Xi1,i2(cid:18)m

We do not know if this is a known identity.

5. Repeated entries in web matrices

One observation that is apparent when calculating the web matrices (be they web-mixing or
web-colouring) of web worlds is that there are a large number of entries that are the same. A
deeper understanding of this property would simplify the calculation of web-mixing matrices, and
has even led, for certain families of web diagram, to obtaining the web-mixing matrix for arbitrary
numbers of gluons [4]. In this section we prove two new results to explain some of these repetitive
entries. The ﬁrst theorem gives one explanation for repeated entries found on the diagonal of a
web-colouring matrix, and also explains the same for the web-mixing matrix since the entries of
the latter are a simple integral transformation of those in the web-colouring matrix. This theorem
also builds on our earlier result [5, Thm. 3.4].

Given a poset P = (P, ≺), its comparability graph comp(P ) is the graph whose vertices are the

elements of P , with x, y ∈ P adjacent in comp(P ) if x ≺ y or y ≺ x.

Theorem 18. Let D and D′ be web diagrams in a web world W with
1 ⊕ · · · ⊕ E′

D = E1 ⊕ · · · ⊕ Ek

and D′ = E′

k′,

where each of the constituent diagrams Ei and E′
of (E1, . . . , Ek) are distinct and the members of (E′
comp(P (D′)), then M

(W )
D,D(x) = M

(W )
D′,D′(x).

i are indecomposable. Suppose that the members
k′) are also distinct. If comp(P (D)) =

1, . . . , E′

Proof. First let us consider the web diagram D = E1 ⊕ · · · ⊕ Ek where each of the diagrams Ei
is indecomposable. All ℓ-colourings α such that Recon(D, α) = D must have the property that
α(e) = α(e′) whenever e, e′ ∈ Ei because Ei is indecomposable. Thus α must be a surjective map
from {E1, . . . , Ek} to [1, ℓ]. Equivalently α surjectively maps the k elements of the decomposition
poset P (D) to the total order on [1, ℓ]. Let us call the number of these surjective maps Θ(P (D), ℓ).
This number is related to the number Ω(P (D), ℓ) of order preserving maps from the poset P (D)
to [1, ℓ] via an inclusion-exclusion argument:

Ω(P (D), ℓ) =Xk (cid:18)ℓ

k(cid:19)(−1)ℓ−kΩ(P (D), ℓ).

11

3

2

1

1

2

3

1

1

2

1

1

1

3

2

1

2

1

1

1

1

1

3

2

1

1

2

3

4
D

5

6

7

1

2

3

5

6

7

4

D′

P (D)

P (D′)

Figure 5. The web diagrams, their deconstruction posets, and web graph for Example 19.

(See [5, Lemma 3.3] for further details.) Using this we have

G

M

(W )

D,D(x) =Xℓ≥0

The same is true for D′, so we have

k(cid:19)Ω(P (D), k).

Θ(P (D), ℓ)xℓ =Xℓ≥0
xℓXk (cid:18)ℓ

D′,D′(x) =Xℓ≥0

(W )

xℓXk (cid:18)ℓ
k(cid:19)Ω(P (D′), k).

M

(10)

(11)

If comp(P (D)) = comp(P (D′)) then by Stanley [18, Cor. 4.4] we have that Ω(P (D)) = Ω(P (D′)),
and consequently the expressions in Equations 10 and 11 are the same.
(cid:3)

It is not immediately obvious that the previous theorem does indeed help with enlarging the
collection of diagrams that are known to have the same diagonal entries in a web-colouring ma-
trix. We give here a non-trivial example, and one which cannot be discovered by our subsequent
Theorem 22.

Example 19. Let D = {(1, 2, 1, 1), (1, 3, 2, 1), (1, 4, 3, 1), (3, 5, 2, 3), (5, 6, 2, 1), (5, 7, 1, 1)} and D′ =
{(1, 2, 1, 1), (1, 3, 2, 1), (1, 4, 3, 1), (2, 7, 2, 3), (6, 7, 1, 2), (5, 7, 1, 1)}. The Hasse diagrams for P (D)
and P (D′) are illustrated in Figure 5 and are clearly diﬀerent. However we have that comp(P (D)) =
comp(P (D′)) = G and we can conclude that M

(W )
D,D(x) = M

(W )
D′,D′(x).

Our second result addresses general entries of the web-colouring matrix and upside-down web
diagrams. Given a web diagram D, let ﬂip(D) be the web diagram achieved by turning it upside-
down. This operation is, by deﬁnition, an involution.

12

Deﬁnition 20. Let D = {ei = (ai, bi, ci, di) : 1 ≤ i ≤ m} be a web diagram in a web world W .
The ﬂip of D, ﬂip(D) is the web diagram in W with edges:

ﬂip(D) = {(ai, bi, pai + 1 − ci, pbi + 1 − di) : 1 ≤ i ≤ m} .

Example 21. Let D be the web diagram in Example 19 and illustrated in Figure 5. Then

ﬂip(D) = {(1, 2, 3, 1), (1, 3, 2, 2), (1, 4, 3, 1), (3, 5, 1, 1), (5, 6, 2, 1), (5, 7, 3, 1)}.

3

2

1

2

1

3

2

1

1

1

1

1

1

2

3

4

5

6

7

ﬂip(D)

Theorem 22. Let W be a web world and D, D′ ∈ W . Then M

(W )
D,D′(x) = M

(W )
ﬂip(D),ﬂip(D′)(x).

Proof. Let W be a web world and D, D′ diagrams in W . To prove the theorem it suﬃces to show
that for every k-colouring α of D that yields D′, there is a unique k-colouring β of ﬂip(D) that
yields ﬂip(D′). Deﬁne the colouring β as follows:
if e = (a, b, x, y) ∈ D with α(e) = ℓ, then let
β(e) = k + 1 − ℓ.

We will now show that Recon(ﬂip(D), β) = ﬂip(D′) which implies the result. Notice that in

general if B1, . . . , Bm are web diagrams then

ﬂip(B1 ⊕ · · · ⊕ Bm) = ﬂip(Bm) ⊕ · · · ⊕ ﬂip(B1).

(12)

We have:

Recon(ﬂip(D), β) = rel(ﬂip(D)β(1)) ⊕ · · · ⊕ rel(ﬂip(D)β(k))
= ﬂip(rel(Dβ(1))) ⊕ · · · ⊕ ﬂip(rel(Dβ(k))).

Using Equation 12, and applying ﬂip to both sides of the previous equation, we have

ﬂip(Recon(ﬂip(D), β)) = ﬂip(ﬂip(rel(Dβ(1))) ⊕ · · · ⊕ ﬂip(rel(Dβ(k))))

= ﬂip(ﬂip(rel(Dβ(k)))) ⊕ · · · ⊕ ﬂip(ﬂip(rel(Dβ(1))))
= rel(Dβ(k)) ⊕ · · · ⊕ rel(Dβ(1)).

Since those edges of D that are coloured ℓ using the colouring β are precisely the same as the edges
that are coloured k + 1 − ℓ using the colouring α, we have Dβ(ℓ) = Dα(k + 1 − ℓ) and

ﬂip(Recon(ﬂip(D), β)) = rel(Dα(1)) ⊕ · · · ⊕ rel(Dα(k))

= D′.

Applying ﬂip to both sides gives Recon(ﬂip(D), β) = ﬂip(D′), as was required.

(cid:3)

6. The squares of web-colouring and web-mixing matrices

In this section we show how to calculate the entries for the square of a web-colouring matrix
and give the ﬁrst mathematical proof that web-mixing matrices are idempotent. This property has
been established using physical arguments by Gardi and White [12, §3], and plays an important
role in QCD calculations. Idempotence implies, for example, that all web-mixing matrices have
eigenvalues zero or one (with some multiplicity). Only combinations of web diagrams in a given
web world associated with unit eigenvalues of the mixing matrix survive in the exponent of the
scattering amplitude.

13

Ln(x)

n
0
1
2
3
4
5
6 2x5 + 126x6 + 1206x7 + 4322x8 + 7680x9 + 7320x10 + 3600x11 + 720x12

12x5 + 156x6 + 516x7 + 732x8 + 480x9 + 120x10

x4 + 26x5 + 73x6 + 72x7 + 24x8

6x4 + 12x5 + 6x6

2x3 + 2x4

1
x2

Figure 6. The ﬁrst few power series Ln(x).

Theorem 23. Let W be a web world whose diagrams each have n edges. Let D, D′ ∈ W and
suppose that M

(W )
D,D′(x) = z1x + · · · + znxn. Then

(cid:16)M(W )(x)(cid:17)2

D,D′

=

n

Xi=1

ziLi(x)

where Li(x) = Xj,k≥1

xj+k

j

Xb=0

k

(−1)j+k−(b+a)(cid:18)j
Xa=0

b(cid:19)(cid:18)k

a(cid:19)(cid:18)ab

i(cid:19). (See Figure 6.)

Figure 6 presents the expressions for Ln(x) for all n ∈ [1, 7]. The previous theorem may be sum-
marised by saying that the square of the web-colouring matrix M(W )(x)2 is the image of M(W )(x)
under the linear operator T : C[[x]] → C[[x]] which maps the basis (xi)i≥0 for C[[x]] to (Li(x))i≥0.

Proof. Let α ∈ Colours(W ). Given two colourings α, α′ ∈ Colours(W ) there is a unique γ ∈
Colours(W ) such that Recon(D, γ) = Recon(Recon(D, α), β). In such an instance we write γ ≡ β ◦α.
Recall that the (D, D′) entry of the web-colouring matrix of W is:

M

(W )

D,D′(x) = Xα∈Colours(W )

Recon(D,α)=D′

x|α|

14

and suppose that this is M

(W )
D,D′(x) = z1x + · · · + znxn. Then

(cid:16)M(W )(x)(cid:17)2

D,D′

(W )
D′′,D′(x)

M

(W )
D,D′′(x)M

= XD′′∈W
= XD′′∈W Xα∈Colours(W )
Xα∈Coloursj (W )
Xj,k=1

Recon(D,α)=D′′

=

n

β∈Coloursk(W )

x|α| Xβ∈Colours(W )

Recon(D′′,β)=D′

x|β|

xj+k

Recon(Recon(D,α),β)=D′

=

n

Xj,k=1

n

Recon(D,γ)=D′ Xα∈Coloursj (W )
Xi=1 Xγ∈Coloursi(W )

β∈Coloursk(W )

xj+k

=

n

Xi=1 Xγ∈Coloursi(W )

Recon(D,γ)=D′

γ≡β◦α

Nj,k(i)xj+k =

n

Xj,k=1

zi

n

Xi=1

n

Xj,k=1

Nj,k(i)xj+k,

where Nj,k(i) is the number of pairs (β, α) of colourings in Coloursj(W ) × Coloursk(W ) such that
β ◦ α is equivalent to a i-colouring γ ∈ Coloursi(W ). To see how a colouring of a colouring of a
diagram can be turned into one colouring 3, we consider the ordered pairs of colours. The diagram
D is coloured with α and reconstructed to give the diagram D′′. The diagram D′′ is coloured with
β and reconstructed to give the diagram D′.

Let us consider what happens to an edge ei = (ai, bi, xi, yi) ∈ D during this process. In the ﬁrst
i and
i) = u,
i are the heights
in D′. Although the heights change from one diagram to the next, we can

colouring, α(ei) = v, say, and this edge in D′′ will be represented as e′
i are the new heights of the endpoints of that edge in D′′. The edge e′
y′
say, and this edge will be represented as e′′
of the endpoints of e′′
i
still index the edge in question throughout as the ith edge ei and write α(ei) = v and β(ei) = u.

i) where x′
i is now coloured β(e′

i ) in D′ where x′′

i = (ai, bi, x′′

i = (ai, bi, x′

i and y′′

i , y′′

i, y′

Let D ∈ W and (α, β) ∈ Coloursj(W ) × Coloursk(W ). Let us deﬁne

Dβ,α(u, v) := {e ∈ D : β(e) = u and α(e) = v}.

Then

D′ = rel(Dβ,α(1, 1)) ⊕ · · · ⊕ rel(Dβ,α(1, k)) ⊕ · · · ⊕ rel(Dβ,α(j, 1)) ⊕ · · · ⊕ rel(Dβ,α(j, k)).

In other words, the subweb-diagram of Recon(D, α) whose edges e have colour β(e) = 1 will maintain
their order relative to one another in D′ and be the lowest. But amongst these edges, which will
be the lowest w.r.t. the colouring α of D? It will be those edges e ∈ D that are coloured α(e) = 1,
followed by all those edges e ∈ D with α(e) = 2, and so on. Thus the lexicographic order on all
such pairs of colourings that exists corresponds to the total order for a single colouring.

For example, if we have the pairs of colourings (β(e), α(e)) = (1, 3), (1, 5), (2, 1), (2, 2), (2, 5),

(3, 4), then these correspond to the colours γ(e) = 1, 2, 3, 4, 5, 6, respectively.

The number Nj,k(i) is therefore the number of j × k zero-one matrices that have exactly i ones
and there are neither columns nor rows of only zeros. This number is known to be (see [3, 2] or [15,

3The argument used here is reminiscent of the double application of the statistical physics-based replica trick in

ref. [12].

15

Eqn. 120]):

Therefore(cid:0)M(W )(x)(cid:1)2

Nm,n(r) =Xℓ≥rXd|ℓ
Xb=0
Xa=0

=

m

n

(−1)n+m−(d+ℓ/d)(cid:18)m
d(cid:19)(cid:18) n
ℓ/d(cid:19)(cid:18)ℓ
r(cid:19)
(−1)n+m−(b+a)(cid:18)m
b(cid:19)(cid:18)n
a(cid:19)(cid:18)ab
r(cid:19)

ziLi(x) where

n

D,D′ =

Xi=1
Li(x) = Xj,k≥1

xj+k Xa∈[0,k]

b∈[0,j]

(−1)j+k−(b+a)(cid:18)j

b(cid:19)(cid:18)k

a(cid:19)(cid:18)ab
i(cid:19).

As mentioned above, the following theorem has already been proven using a physics argument

(see [12, Sect. 3]). Here we give the ﬁrst combinatorial proof.

Theorem 24. Let W be a web world whose web diagrams each have n edges. The web-mixing
matrix R(W ) is idempotent; (R(W ))2 = R(W ).

Proof. Using the same method of summation as we did at the start of the proof of Theorem 23,

(cid:3)

(R(W ))2

D,D′ = XD′′∈W
Xi,j=1

=

n

R

(W )
D,D′′ R

(W )
D′′,D′

Xα∈Coloursi(W )

β∈Coloursj (W )

(−1)i−1

(−1)j−1

i

j

Recon(Recon(D,α),β)=D′
(−1)i−1

(−1)j−1

i

j

=

n

Xi,j=1

Xα∈Coloursi(W )

β∈Coloursj (W )

1.

Recon(Recon(D,α),β)=D′

Since

Xα∈Coloursi(W )

β∈Coloursj (W )

1 =Xk≥1 Xγ∈Coloursk(W )

γ(D)=D′

Xα∈Coloursi(W )

β∈Coloursj(W )

1 =Xk≥1 Xγ∈Coloursk(W )

γ(D)=D′

Ni,j(k),

Recon(Recon(D,α),β)=D′

β◦α≡γ

this gives

(R(W ))2

D,D′ =

=

n

i

(−1)i−1

Xi,j=1
Xk=1 Xγ∈Coloursk(W )

γ(D)=D′

n

16

(−1)j−1

j Xk≥1 Xγ∈Coloursk(W )

Ni,j(k)

γ(D)=D′
(−1)i+j

ij

(−1)−2

n

Xi,j=1

Ni,j(k).

(13)

The inner sum is

(−1)i+j

ij

n

Xi,j=1

Ni,j(k) =

=

=

=

=

i

j

n

j

i

i

j

n

n

ij

(−1)i+j

(−1)i+j−(a+b)(cid:18)i
a(cid:19)(cid:18)j
b(cid:19)(cid:18)ab
k(cid:19)
Xi,j=1
Xa=0
Xb=0
j(cid:18)j
i(cid:18)i
b(cid:19)(cid:18)ab
a(cid:19) 1
k(cid:19)
(−1)2(i+j)−(a+b) 1
Xi,j=1
Xa=0
Xb=0
k(cid:18)i − 1
a − 1(cid:19)(cid:18)j − 1
b − 1(cid:19)(cid:18)ab − 1
k − 1(cid:19)
(−1)a+b 1
Xa=0
Xi,j=1
Xb=0
k − 1(cid:19) n
(−1)a+b(cid:18)ab − 1
Xj=b(cid:18)i − 1
a − 1(cid:19)(cid:18)j − 1
b − 1(cid:19)
Xa,b=1
Xi=a
(−1)a+b(cid:18)ab − 1
k − 1(cid:19)(cid:18)n
a(cid:19)(cid:18)n
b(cid:19).
Xa,b=1

1
k

1
k

n

n

n

We now need to prove that for 1 ≤ k ≤ n,

(14)

F (n, k) :=

n

(−1)a+b(cid:18)ab − 1

k − 1(cid:19)(cid:18)n
Xa,b=1
k−1(cid:1) so that F (n, k) =Pn
b(cid:1)(cid:0)ab−1
(cid:18)ab − 1
k − 1(cid:19) =

ab(k − 1)!
k

(ab)(ab − 1) · · · (ab − k + 1)

b(cid:19) = (−1)k−1.

a(cid:19)(cid:18)n
a=1(−1)a(cid:0)n

a(cid:1)G(n, k, a). Now

Let G(n, k, a) =Pn

b=1(−1)b(cid:0)n

j(cid:21)(−1)k−j(ab)j−1,
the second equality comes from Graham et al. [14, eqn. (6.13)] and(cid:2)k

the ﬁrst kind. Replacing this into the expression

Xj=1(cid:20)k

(k − 1)!

=

1

j(cid:3) are the Stirling numbers of

k

n

k

1

1

=

(k − 1)!

G(n, k, a) =

(−1)b(cid:18)n
Xj=1(cid:20)k
b(cid:19)
Xb=1
Xj=1(cid:20)k
j(cid:21)(−1)k−jaj−1
Using Graham et al. [14, Eqn. (6.19)]: m!(cid:8) n
m(cid:9) = Pk(cid:0)m
b(cid:19)bj−1 = n!(cid:26)j − 1

j(cid:21)(−1)k−j(ab)j−1
(−1)b(cid:18)n
b(cid:19)bj−1.
Xb=1
k(cid:1)kn(−1)m−k where (cid:8) n
n (cid:27)(−1)n − 0j−1.

numbers of the second kind. The inner sum in the previous expression is

(−1)b(cid:18)n

(k − 1)!

n

n

Xb=1

m(cid:9) are the Stirling

Since k ∈ [1, n], and j ≤ k, the Stirling number on the right hand side of the previous equation will
always be zero for the values that we are summing over, and the only term that will contribute will

17

be −0j−1. This term itself will always be zero, except for when j − 1 = 0. This gives

G(n, k, a) =

=

k

1

(k − 1)!

j(cid:21)(−1)k−jaj−1(−0j−1)

Xj=1(cid:20)k
(k − 1)!(cid:20)k
1(cid:21)(−1)k−1a0(−00)

1

= (−1)k.

Equation 14 as (−1)k−1/k which, in turn, means that Equation 13 is

a=1(−1)a(cid:0)n

a(cid:1)(−1)k = (−1)k((1 − 1)n − 1) = (−1)k−1. This allows us to write

Therefore F (n, k) =Pn

(R(W ))2

D,D′ =

n

Xk=1 Xγ∈Coloursk(W )

γ(D)=D′

(−1)k−1

k

= R

(W )
D,D′.

(cid:3)

7. Indecomposable permutations and a web world on two pegs having multiple

edges

In this section we consider the web world Wn whose web graph is G(Wn) = K2 and the single
edge is labelled with n. This web world consists of diagrams having two pegs and n edges connecting
the n vertices on the ﬁrst peg to n vertices on the second peg. From a physics point of view, such
webs have been studied for a long time [13, 7, 19]. However, they have yet to be analysed using
the language of web-colouring and mixing matrices and which we will now attend to.

Every diagram D ∈ Wn is uniquely described as a set of 4-tuples

D = {(1, 2, i, πi) : π ∈ S n}

and consequently there are n! diagrams in Wn. We can abbreviate this by writing D = Dπ. Given
a permutation π = π1 . . . πn and permutations α ∈ S ℓ, β ∈ S n−ℓ, we say that π is the sum of the
permutations α and β if πi = αi for all i ≤ ℓ and πi = ℓ + βi−ℓ for all i > ℓ. We write this as
π = α + β.

If a permutation π can be written as such a sum of smaller permutations, then we say that π is
decomposable. Otherwise we say that π is indecomposable. Let Indn be the set of indecomposable
permutations of length n and let Ind = ∪n≥1 Indn. Every permutation π ∈ Sn admits a unique
representation as a sum of indecomposable permutations. If π = σ1 + · · · + σk where every σi ∈ Ind,
then Dπ = Dσ1 ⊕ · · · ⊕ Dσk and we will write indparts(π) for the number k of indecomposable
permutations in the sum.

Problem 25. [Word reconstruction generating function]
Given a ﬁnite word w = w1 . . . wn on a ﬁnite alphabet, let fw(k) be the number of ways to read the
word from left to right k times (each time always picking some unchosen letter) so that we arrive

back at the original word w. Let Fw(x) =Pk fw(k)xk.

Example 26. Let w = cbabac = w1w2w3w4w5w6 be a word. The number of ways to read w
from left to right in one passing is 1 since we must sequentially read all letters w1w2w3w4w5w6, so
fw(1) = 1. There are several ways to read w from w in two passings: read positions 1 through to 5
on the ﬁrst passing, and read position 6 on the second passing. This is summarized by the reading
vector (1, 1, 1, 1, 1, 2) where j at position i means wi is read on the jth passing. If we abbreviate
this to 111112, then the other reading vectors for k = 2 are 111122, 111222, 112222, 122222, and
122112 so fw(2) = 6. For this case, Fw(x) = x + 6x2 + 17x3 + 26x4 + 22x5 + 8x6.

18

x

trace(cid:0)M(W (n))(x)(cid:1)

n
1
2
3
4
5
6
7 5040x + 2848x2 + 4626x3 + 11688x4 + 19200x5 + 15840x6 + 5040x7

720x + 532x2 + 1002x3 + 1920x4 + 1920x5 + 720x6

120x + 116x2 + 216x3 + 264x4 + 120x5

24x + 30x2 + 42x3 + 24x4

6x + 8x2 + 6x3

2x + 2x2

Figure 7. The sequence of numbers that correspond to [17, A121635] (as mentioned
in Conjecture 29) are the coeﬃcients of the second highest exponent of x in each
row: 2, 8, 42, 264, 1920 and 15840.

Example 27. If all letters of a length n word w are distinct, then Fw(x) = x(1 + x)n−1. Similarly

if w is a word consisting of n copies of the same letter, then Fw(x) =Pn

Theorem 28. Let Dπ ∈ Wn with π = w1 ⊕ · · · ⊕ wn where every wi ∈ Ind. Let w be the word
(w1, . . . , windparts(π)) on the alphabet {w1, . . . , windparts(π)}. Then M

k(cid:9)xk = Fn(x).

k=1 k!(cid:8)n

(x) = Fw(x).

(W )
Dπ ,Dπ

Proof. Let Dπ ∈ Wn with π = σ1 ⊕ · · · ⊕ σm.
In order to colour the edges of Dπ so that the
same diagram is reconstructed, the colours of the edges that are in the same indecomposable
part must remain the same.
(Otherwise we would be constructing a web diagram which has
more indecomposable parts than the original one, which would be a contradiction.) Given a set
A = {a1, . . . , ai}, deﬁne σA = σa1 ⊕ · · · ⊕ σai where a1 < · · · < ai. Let

Colourings(m, k) = {(c1, . . . , cm) ∈ [1, k]m : {c1, . . . , cm} = [1, k]}.

Given c ∈ Colourings(m, k), let Colc(i) = {j ∈ [1, m]

: cj = i}.

The set of colourings c′ of edges of Dπ which results in a reconstruction of the diagram is in 1-1

correspondence with the set of colourings c ∈ Colourings(m, ·) such that

σ1 ⊕ · · · ⊕ σm = σColc(1) ⊕ · · · ⊕ σColc(k).

This is the word reconstruction problem (Problem 25) for the word w = (σ1, . . . , σm) which is on
the alphabet {σ1, . . . , σm}.
(cid:3)

There is no simple formula for the diagonal entries of the web-colouring matrix for this web
world due to there being no ‘closed form’ answer to Problem 25. However, we have noticed some
potential structure from looking at the trace of the web-colouring matrices for small values of n,
outlined in Figure 7. The numbers from Figure 7 support the following conjecture for all n ∈ [1, 8].

Conjecture 29. Let a(n) = [xn−1] trace(cid:0)M(W (n))(x)(cid:1). Then a(n) = (n − 2)!(n2 − 3n + 4)/2 for

all n > 1. This sequence of numbers enumerates a class of directed column convex polyominoes in
the plane. (See [17, A121635] and [1].)

References

[1] E. Barcucci, A. Del Lungo, and R. Pinzani. “Deco” polyominoes, permutations and random generation. Theor.

Comput. Sci. 159(1):29–42, 1996.

[2] P. J. Cameron, D. A. Gewurz, and F. Merola. Product action. Discrete Math. 308:386–394, 2008.
[3] P. J. Cameron, T. Prellberg, and D. Stark. Asymptotic enumeration of incidence matrices. J. Phys. Conf. Ser.

42:59–70, 2006.

[4] M. Dukes, E. Gardi, H. McAslan, D. J. Scott, and C. D. White. Webs and posets. J. High Energy Phys. 2014(1),

Article 024, 2014.

19

[5] M. Dukes, E. Gardi, E. Steingr´ımsson, and C. D. White. Web worlds, web-colouring matrices, and web-mixing

matrices. J. Combin. Theory Ser. A 120(5):1012–1037, 2013.

[6] G. Falcioni, E. Gardi, M. Harley, L. Magnea, and C. D. White. Multiple Gluon Exchange Webs. J. High Energy

Phys. 2014(10), Article 010, 2014.

[7] J. Frenkel and J. C. Taylor. Nonabelian Eikonal Exponentiation. Nucl. Phys. B 246(2): 231–245, 1984.
[8] E. Gardi. From Webs to Polylogarithms. J. High Energy Phys. 2014(4), Article 044, 2014.
[9] E. Gardi, E. Laenen, G. Stavenga, and C. D. White. Webs in multiparton scattering using the replica trick. J.

High Energy Phys. 2010(11), Article 155, 2010.

[10] E. Gardi, J. M. Smillie, and C. D. White. On the renormalization of multiparton webs. J. High Energy Phys.

2011(9), Article 114, 2011.

[11] E. Gardi, J. M. Smillie, and C. D. White. The Non-Abelian Exponentiation theorem for multiple Wilson lines.

J. High Energy Phys. 2013(06), Article 088, 2013.

[12] E. Gardi and C. D. White. General properties of multiparton webs: proofs from combinatorics. J. High Energy

Phys. 2011(3), Article 079, 2011.

[13] J. G. M. Gatheral. Exponentiation of Eikonal Cross-sections in Nonabelian Gauge Theories. Phys. Lett. B

133(1&2):90–94, 1983.

[14] R. L. Graham, D. E. Knuth, and O. Patashnik. Concrete Mathematics: A Foundation for Computer Science.

2nd edition. Addison-Wesley Longman Publishing Co., 1994.

[15] M. Maia and M. Mendez. On the arithmetic product of combinatorial species. Discrete Math. 308(23):5407–5427,

2008.

[16] A. Mitov, G. Sterman, and I. Sung. Diagrammatic Exponentiation for Products of Wilson Lines. Phys. Rev. D

82, Article 096010, 2010.

[17] The On-Line Encyclopedia of Integer Sequences, published electronically at http://oeis.org, 2010.
[18] R. P. Stanley. Two Poset Polytopes. Discrete Comput. Geom. 1(1):9–23, 1986.
[19] G. F. Sterman. Infrared Divergences in Perturbative QCD. AIP Conf. Proc. 74:22–40, 1981.
[20] A. A. Vladimirov. Exponentiation for products of Wilson lines within the generating function approach. J. High

Energy Phys. 2015(6), Article 120, 2015.

[21] Eric W. Weisstein. Stirling Number of the Second Kind. From MathWorld – A Wolfram Web Resource.

http://mathworld.wolfram.com/StirlingNumberoftheSecondKind.html

[22] C. D. White. An Introduction to Webs. J. Phys. G: Nucl. Part. Phys. 43(3), Article 033002, 2016.

MD: Department of Computer and Information Sciences, University of Strathclyde, Glasgow, G1

1XH, UK

CDW: School of Physics and Astronomy, University of Glasgow, Glasgow, G12 8QQ, UK

20

