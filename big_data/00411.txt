6
1
0
2

 
r
a

M
1

 

 
 
]

.

G
A
h
t
a
m

[
 
 

1
v
1
1
4
0
0

.

3
0
6
1
:
v
i
X
r
a

On the stability of regular algebras

Kai Behrend and Junho Hwang

March 2, 2016

Contents

Introduction

1 Stability of regular algebras

1.1 Stability . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
1.2 Quadratic regular algebras of dimension 3 . . . . . . . . . . . . .
1.3 The main theorem . . . . . . . . . . . . . . . . . . . . . . . . . .
Method of proof
. . . . . . . . . . . . . . . . . . . . . . . . . . .
The stability estimates . . . . . . . . . . . . . . . . . . . . . . . .
Bootstrapping: comparing A and B using c3 . . . . . . . . . . . .
1.4 Twisted homogeneous coordinate rings . . . . . . . . . . . . . . .
Line in X . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Line with embedded point . . . . . . . . . . . . . . . . . . . . . .
Singular point . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
1.5 More analysis of c3 . . . . . . . . . . . . . . . . . . . . . . . . . .
The case where P lies on X . . . . . . . . . . . . . . . . . . . . .
Smooth point . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . .
An application to the study of c3 . . . . . . . . . . . . . . . . . .

1.6 Non-special points

2 Estimates

2.1 The main dimension estimate . . . . . . . . . . . . . . . . . . . .
2.2 The test conﬁguration of B generated by a ﬁltration . . . . . . .
Useful reformulations: the W -case . . . . . . . . . . . . . . . . .
The U -case . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.3 Exploiting non-commutativity . . . . . . . . . . . . . . . . . . . .
2.4 Case: P oﬀ X . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . .
2.5 Case: P not a node, not a ﬁxed point
Subcase ℓ ≥ m ≥ 0 . . . . . . . . . . . . . . . . . . . . . . . . . .
Subcase m > ℓ ≥ 0 . . . . . . . . . . . . . . . . . . . . . . . . . .
2.6 Case: P smooth ﬁxed point . . . . . . . . . . . . . . . . . . . . .
2.7 Case: P node . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.8 Case: Y linear component of X . . . . . . . . . . . . . . . . . . .
Subcase: ℓ = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

1

2

3
3
4
5
6
6
8
10
10
12
14
14
15
18
19
20

21
21
22
23
24
24
26
27
27
29
30
31
33
35

Subcase: ℓ > 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

36

3 Moduli stacks

3.1 Moduli stacks of stable regular algebras
. . . . . . . . . . . . . .
3.2 Density . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

37
37
39

Introduction

In [4], a notion of stability was introduced for non-commutative graded algebras
(connected and generated in degree 1). Moreover, quasi-projective moduli stacks
of Deligne-Mumford type where constructed, for stable graded algebras of ﬁxed
Hilbert series. Here we are concerned with the Hilbert series (1 − t)−3, which is
the Hilbert series of the projective plane.

Interesting examples of algebras with this Hilbert series are quadratic regular
algebras of global dimension 3 (see [2], [3]). In this article, we determine exactly
which of these algebras are stable, and then describe the moduli stack of stable
regular algebras.

In [3], it was proved that all quadratic regular algebras of dimension 3 are as-
sociated to elliptic triples (X, σ, L), consisting of a scheme X, an automorphism
σ of X, and line bundle L, which embeds X into P2 as a divisor of degree 3.
We prove that the regular algebra A determined by such a triple is stable if and
only if X does not contain any linear component preserved by σ, and it does
not contain any singularity of X ﬁxed by σ. This leaves only two stable cases:
the case where X is non-singular, and the case where X is a Neron triangle and
the automorphism σ acts transitively on the set of its components/sides.

See Section 1.3 for a more detailed outline of the proof of this result, which

is the main contribution of this paper.

The moduli stack of these stable algebras turns out to be smooth, and to
decompose into 4 irreducible components, of dimensions 2, 1, 0, and 0, respec-
tively, see Theorem 3.2. These components can be characterized by the order of
the automorphism which σ induces on Pic0(X). This order can be 1,2,3, or 4.
In the classiﬁcation of [2], these components correspond to Types A,B,E, and H,
respectively. Unfortunately, neither of the two positive-dimensional components
is proper.

We prove that the property ‘stable and regular’ is an open property, for ﬂat
families of graded algebras. Therefore, the moduli stack we construct is open in
the moduli stack of all stable algebras of Hilbert series (1 − t)−3, and hence also
dense in each component which it intersects. We do not address the question
of whether or not there are components of the moduli stack of stable algebras
which do not contain any regular algebras.

Let us emphasize that our goal here is not to classify quadratic regular
algebras, or describe their moduli. This has been done elsewhere, see [3] for the
classiﬁcation, and [1], and references therein, for moduli. Rather, the purpose
of this work is to determine how our notion of stability relates to these known
moduli spaces.

2

The question of compactifying our moduli stack turns out to be rather subtle:
the geometric invariant theory considerations of [4] provide us with compacti-
ﬁcations using semi-stable algebras, but these compactiﬁcations depend on an
integer q, because they are constructed in terms of algebras truncated beyond
degree q. Preliminary considerations show that the boundaries of these com-
pactiﬁcations grow, as q increases.

There is a natural absolute notion of semi-stability, but it does not give
rise to compact moduli. We conjecture that all quadratic regular algebras of
dimension 3 are semi-stable. Examples show that the converse is not true: there
are semi-stable algebras which are degenerate, in the sense of [3]. On the other
hand, we do not know any examples of stable algebras which are not regular.
For details on semi-stability, see [6].

We will work over an algebraically closed ﬁeld of characteristic avoiding 2

and 3, and call it C. All our graded algebras A will be connected, i.e.,

A =Mn≥0

An

with A0 = C, and generated in degree 1.

1 Stability of regular algebras

We start by reviewing the notion of stability for graded algebras from [4], to
set up notation. Then we review the the theory of quadratic regular algebras
of dimension 3, as far as it is relevant for us. We announce our main result,
characterizing the stable regular algebras, and outline the proof.

We prove some general facts that we will later need in the proof.

1.1 Stability

Let A be a connected graded algebra, ﬁnitely generated in degree 1. We recall
some notions from [4].

Deﬁnition 1.1 The algebra A is q-stable, (for an integer q > 1), if for every
non-trivial test conﬁguration for A, generated in degree 1, the Futaki function
satisﬁes F (q) > F (1). It is stable, if there exists an N > 0, such that it is
q-stable for all q > N .

The degree 1 part of a test conﬁguration is a ﬁltration

A1 = W (0) ⊃ W (1) ⊃ . . . ,

(1)

(the inclusions are not strict), such that W (k) = 0, for suﬃciently large k. The
test conﬁguration B ⊂ A[t, t−1] generated by the ﬁltration (1) is the C[t]-algebra
deﬁned by

W (k1) . . . W (kn) .

(2)

Bn =Mk

t−k Xk1+...+kn=k

3

Here, for ﬁxed n > 0, and k ∈ Z, the sum is over all n-tuples of non-negative
numbers (k1, . . . , kn), such that k1 +. . . kn = k. If k < 0, the set of such n-tuples
is empty, and the coeﬃcient of t−k is An = (A1)n, by deﬁnition.

Setting

I (k)

n = Xk1+...+kn=k

W (k1) . . . W (kn)

deﬁnes a descending sequence of two-sided graded ideals A ⊃ I (1) ⊂ I (2) . . . in
A, satisfying I (k)I (ℓ) ⊂ I (k+ℓ), for all k, ℓ ≥ 0. The ﬁbre over t = 0 of B is the
doubly graded algebra

I (k)/I (k+1) .

B/tB =Mk≥0
n =Xk>0

The weight function of the test conﬁguration (2) is given by

w(n) =Xk>0

dim I (k)

dim(cid:16) Xk1+...+kn=k

W (k1) . . . W (kn)(cid:17) .

The weight w(n) is equal to the total weight of the graded vector space

(B/tB)n =Lk≥0(B/tB)(k)

n :

w(n) =Xk≥0

k dim(B/tB)(k)
n .

The Futaki function of the test conﬁguration (2) is

F (n) =

w(n)

n dim An

.

In particular,

F (1) =

1

dim A1Xk>0

dim W (k) .

To test for stability, we can restrict to test conﬁgurations generated by ﬁl-
trations such that W (1) 6= A1. We will always restrict attention to such test
conﬁgurations.

1.2 Quadratic regular algebras of dimension 3

Recall ([3], Deﬁnition 4.5) that an elliptic triple is a triple (X, σ, L), consisting
of a scheme X, together with a very ample line bundle L, such that V = Γ(X, L)
is of dimension 3, and the closed immersion X → P(V ) makes X into a divisor
of degree 3 inside P(V ). Moreover, σ : X → X is an automorphism of X.

We will assume our triples to be regular, which means that

σ∗σ∗L ⊗ L ∼= σ∗L ⊗ σ∗L ,

but not linear, which is the stronger condition

σ∗L ∼= L .

4

The quadratic algebra A associated to the regular elliptic triple (X, σ, L) is
the quotient of the tensor algebra of V , by the two-sided ideal generated by the
kernel R of

V ⊗ V −→ Γ(X, L ⊗ σ∗L)
x ⊗ y 7−→ x ⊗ σ∗y .

(3)

As (3) is surjective, and dim Γ(X, L ⊗ σ∗L) = 6, the kernel R is of dimension 3.
Therefore, A has 3 generators in degree 1, and 3 relations in degree 2.

By [3] Theorem 6.8.(ii), the algebra A is a regular algebra of global di-
mension 3, in particular, its Hilbert series is given by (1 − t)−3, equivalently,
dim An = 1

2 (n + 1)(n + 2), for all n ≥ 0.

The twisted coordinate ring B, associated to the triple (X, σ, L) is deﬁned

by

where

Bn = Γ(X, Ln) ,

Ln = L ⊗ σ∗L ⊗ . . . ⊗ (σn−1)∗L ,

which multiplication given by

(x0 ⊗. . .⊗xn−1)·(y0 ⊗. . .⊗ym−1) = x0 ⊗. . .⊗xn−1 ⊗(σn)∗y0 ⊗. . .⊗(σn)∗ym−1 .

We have dim Bn = 3n, for n > 0.

There is a canonical morphism of graded C-algebras

A −→ B ,

(4)

induced by the identiﬁcation V = A1 = B1. By [3] Theorem 6.8, the morphism
(4) is an epimorphism, whose kernel is equal to both c3A and Ac3, for an element
c3 ∈ A3, which is both a left and a right non-zero divisor (of course, c3 is unique
up to multiplication by a non-zero scalar).

1.3 The main theorem

Theorem 1.2 (Stability of regular algebras) Let (X, σ, L) be a regular el-
liptic triple, with associated regular algebra A. The following are equivalent:

(i) A is stable,
(ii) A is q-stable, for every q ≥ 3,

(iii) A is 3-stable,

(iv) X contains no linear component preserved by σ, and no singularity pre-

served by σ.

(In (iv), it is not required that the linear component be ﬁxed pointwise by σ.)
An elliptic triple without linear components preserved by σ, and without
singularities preserved by σ, is necessarily either smooth, or the union of a
line and a smooth conic intersecting at two points, or a union of three lines

5

intersecting transversally at three nodes. The second of these three cases is not
regular, but exceptional, see [3], 4.9, and is therefore excluded in the theorem.
Thus, if X is smooth, or a triangle on which σ acts by cyclic permutation of

the edges, A is stable, in all other cases A is at best semi-stable.

Method of proof

To prove the theorem, we prove the following three propositions.

Proposition 1.3 Let U ⊂ V be a one-dimensional subspace, such that the line
Y = Z(U ) ⊂ P(V ) is contained in X ⊂ P(V ), and such that σ|Y : Y → X
factors through Y ⊂ X. Then the test conﬁguration for A generated by the ﬂag

V ⊃ U ⊃ 0 of A1 has constant Futaki function eF , i.e., eF (n) = eF (1), for all

n ≥ 2.

Proposition 1.4 Let W ⊂ V be a 2-dimensional subspace, such that the point
P = Z(W ) ∈ P(V ) is contained in X, is a singular point of X, and satisﬁes
σ(P ) = P . Then the test conﬁguration for A generated by the ﬂag V ⊃ W ⊃ 0
of A1 has constant Futaki function.

Proposition 1.5 (Stability estimates) Consider the ﬁltration

V ⊃ W ⊃ . . . ⊃ W

⊃ U ⊃ . . . ⊃ U

⊃ 0

(5)

|

{z

ℓ times

m times

}

|

{z

}

of A1, where at least one of the two integers ℓ ≥ 0, m ≥ 0 is positive, and
dim U = 1, dim W = 2. Let P = Z(W ), and Y = Z(U ).

Suppose that if P ∈ X, and σ(P ) = P , then P is a non-singular point
of X, and assume that if Y ⊂ X, then X is a Neron triangle, whose sides
are permuted cyclically by σ. Then for the Futaki function F (n) of the test
conﬁguration generated by the ﬂag (5), we have

(F (n) ≥ F (1) ,

F (n) > F (1) ,

for n = 1, 2
for n ≥ 3 .

Propositions 1.3 and 1.4 will be proved in the next section on twisted coor-

dinate rings.

The stability estimates

Let us set up notation used in the proof of Proposition 1.5. Let (X, σ, L) be a
regular elliptic triple, with associated regular algebra A and twisted coordinate
ring B = A/c3A. The ﬂag (5) generates test conﬁgurations (I (k)
n ) for B and
(J (k)
function of (J (k)

n ) for A. Let w(n) be the weight function of (I (k)

n ). Let a(n) = dim An, and b(n) = dim Bn, so

n ) and ew(n) the weight

a(n) =

1
2

(n + 1)(n + 2) ,

and

b(n) = 3n .

6

For future reference, let us also introduce

Let F (n) be the Futaki function of (I (k)

ea(n) = a(n − 3) =

1
2

(n − 1)(n − 2) .

We have

and

n ).

1
2 n(n + 1)(n + 2)

n ) and eF (n) the Futaki function of (J (k)
ew(n)
eF (n) =
eF (1) = F (1) =

2ℓ + m

3

,

,

ew(n) >

6

to

becase ew(1) = w(1) = 2ℓ + m.
For n = 2, we have ew(2) = w(2), and our claim that eF (2) ≥ eF (1), amounts
For n ≥ 3 our claim that eF (n) > eF (1) amounts to

w(2) ≥ 8ℓ + 4m .

2ℓ + m

n(n + 1)(n + 2) .

(6)

To prove (6), we ﬁrst prove that lower estimates for w(n), imply lower estimates

for ew(n) via a bootstrapping method using the short exact sequence

/ An−3

/ Bn

/ An

/ 0 .

c3 ·

0

The larger the integer p such that c3 ∈ J (p)
3 , the better the estimates are that
the bootstrapping method gives. For diﬀerent cases, diﬀerent values for p apply.
In many cases, it will be suﬃcient that c3 ∈ J (2ℓ)
, but in the case where Y is
3
a linear component of X, we will need c3 ∈ J (3ℓ)
. We will prove these facts in
Theorem 1.29 and Proposition 1.30.

3

Finally, the estimates for w(n) are postponed to the next section under the

heading ‘Estimates’.

w(n) ≥ ℓ wℓ(n) + m wm(n)

Our estimates for w(n) and ew(n) will always be of the form
ew(n) ≥ ℓewℓ(n) + mewm(n) ,
with functions wℓ(n), wm(n),ewℓ(n),ewm(n), which do not depend on ℓ or m.

The stability condition is

and

(7)

which we can deduce from

3ew(n) − (2ℓ + m) n a(n) > 0 ,

ℓ(cid:16)3ewℓ(n) − 2n a(n)(cid:17) + m(cid:16)3ewm(n) − n a(n)(cid:17) > 0 .

7

/
/
/
/
Let us therefore introduce notation

and

Gℓ(n) = 3ewℓ(n) − 2n a(n) = 3ewℓ(n) − n(n + 1)(n + 2) ,
Gm(n) = 3ewm(n) − n a(n) = 3ewm(n) − 1

2 n(n + 1)(n + 2) .

With this notation, stability will be implied by

ℓ Gℓ(n) + m Gm(n) > 0 .

(8)

Deﬁnition 1.6 The one-dimensional subspace U ⊂ V corresponding to the
line Z = Z(U ) ⊂ P(V ) is called special, if Z is contained in X, i.e., if Z is a
component of X.

In the non-special case, the zero locus of U in X is an eﬀective Cartier divisor

D on X, such that L = O(D).

Deﬁnition 1.7 The two-dimensional subspace W ⊂ V corresponding to the
point P = Z(W ) ∈ P(V ) is called special, if P lies on the smooth part of X
and σ(P ) = P .

One of the most useful facts about the non-special case is that it implies

V W + W V = B2, as we will see later.

If W is special, then P is an eﬀective Weil divisor on X, and we have

W = Γ(cid:0)L(−P )(cid:1).

Bootstrapping: comparing A and B using c3
Proposition 1.8 Suppose that c3 ∈ J (p)

3 . Then we have

ew(n) ≥ X1≤n−3i≤n(cid:0)w(n − 3i) + p a(n − 3i − 3)(cid:1) ,

where the sum is over all integers i satisfying 1 ≤ n − 3i ≤ n.

Proof. By properties of test conﬁgurations, we have c3J (k)
k ≥ 0 and all n ∈ Z. Moreover, we have a surjection J (k+p)
kernel contains c3J (k)

n−3, which proves that

n

n−3 ⊂ J (k+p)
։ I (k+p)

n

n

, for all

, whose

dim J (k+p)

n

≥ dim I (k+p)

n

+ dim c3J (k)

n−3 ,

for all k ≥ 0 and all n ∈ Z. As c3 is a non-zero divisor, we have dim c3J (k)
dim J (k)

n−3, and so

n−3 =

dim J (k+p)

n

≥ dim I (k+p)

n

+ dim J (k)

n−3 .

8

Thus we have

ew(n) =

n

≥

dim I (k)

dim J (k)

n + p dim An−3 +

∞Xk=1
∞Xk=1
∞Xk=1
= w(n) + p a(n − 3) + ew(n − 3) ,
∞Xi=1
ew(n) ≥

w(n − 3i) + p

∞Xi=0

a(n − 3i) ,

dim J (k)
n−3

which is our claim. (cid:3)

Corollary 1.9 Assume that c3 ∈ J (qℓ+sm)

3

. Then

because for k ≤ 0, we have J (k)

n−3 = An−3. From this recursion, we deduce

Both wℓ(n) and wm(n) will turn out to be polynomial functions of degree 2

in n. So we will need the following sums later on.

and hence we may use

ew(n) ≥

and

Lemma 1.10

ζ2(n) = 3

ζ1(n) = 3

ζ0(n) = 3

⌊ n−1

⌊ n−1

3 ⌋Xi=0
3 ⌋Xi=0
3 ⌋Xi=0

⌊ n−1

(n − 3i)2 =

(n − 3i) =

1 = n +

⌊ n−1

⌊ n−1

⌊ n−1

3 ⌋Xi=0 (cid:0)w + (qℓ + sm)ea(cid:1)(n − 3i) ,
3 ⌋Xi=0
(wℓ + qea)(n − 3i)
ewℓ(n) =
3 ⌋Xi=0
ewm(n) =
(wm + sea)(n − 3i) .
n(n + 3)(2n + 3) +
n(n + 3) +

0
− 1
3
+ 1
3

0
+1
+1

1
2

1
6

0
+2
+1

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 .

9

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 ,

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 ,

Remark 1.11 Note that, no matter the divisibility of n modulo 3,

n(n + 1)(n + 2) = 3 ζ2(n) − 3 ζ1(n) + 2 ζ0(n) .

(9)

Because of this, it will turn out to be convenient to express all our estimates for
Gℓ(n) and Gm(n) in terms of ζ2(n), ζ1(n) and ζ0(n).

1.4 Twisted homogeneous coordinate rings

Suppose (X, σ, L) is an elliptic triple, with associated twisted homogeneous co-
ordinate ring

B =Mn

Γ(X, Ln) ,

Ln = L ⊗ Lσ ⊗ . . . ⊗ Lσn−1

.

Let (Z, τ ) be another scheme and automorphism, and let φ : Z → X be a

morphism, such that σ ◦ φ = φ ◦ τ . Let N = φ∗L. Let

Γ(Z, Nn) ,

Nn = N ⊗ N τ ⊗ . . . ⊗ Lτ n−1

be the twisted homogeneous coordinate ring of (Z, τ, N ).

We have a canonical ring morphism

In degree n it is given by the pullback map

B → eB .

(φ∗)⊗n : Γ(X, Ln) −→ Γ(Z, Nn) ,

which exists because

N τ i

= (φ∗L)τ i

= φ∗(Lσi

) .

Line in X

Let U ⊂ V be 1-dimensional, and Z = Z(U ) ⊂ P(V ). Assume that Z ⊂ X, and

that σ factors through Z. Then we get an associated algebra quotient B → eB.
The algebra eB is a twist of the polynomial ring in two variables, or a quantum

In degree 2, we have a short exact sequence

projective line.

eB =Mn

0

/ Q

/ V /U ⊗ V /U

/ 0 .

/ eB2

The dimension of eB2 is 3, by the classiﬁcation of quantum projective lines, and

dim Q = 1. We consider the induced morphism of short exact sequences

0

/ R

V ⊗ V

B2

0

0

/ Q

/ V /U ⊗ V /U

10

/ 0 .

/ eB2

/
/
/
/
/
/
/


/
/


/
/


/
/
/
/
Let T (V ) be the free or tensor algebra on V , and A = T (V )/R the regular
algebra associated to our elliptic triple. Let C3 ⊂ A3 be the one-dimensional
subspace generated by c3.

Lemma 1.12 The map R → Q is surjective.

Proof. If not, it is zero. Then R is in the kernel of V ⊗ V → V /U ⊗ V /U ,
which is U ⊗ V + V ⊗ U . If we choose a basis (xi) for V , with x1 ∈ U , and a
basis (fi) for R, then the matrix M , such that f = M x is of the form

M =

m11 a12 x1
m21 a22 x1
m31 a32 x1

a13 x1
a23 x1
a33 x1

 .

Because X is deﬁned by det M = 0, we see that the double line x2
1 = 0 is
contained in X. Also, we see that along this line, the matrix M has rank
at most 1. This contradicts the assumption that A is regular, by Lemma 4.4
of [3]. (cid:3)

have to construct a morphism in the other direction.

sided ideal in the tensor algebra T (V ), generated by the subspaces U ⊂ V and
R ⊂ V ⊗ V .

Corollary 1.13 We have eB = T (V )/hU, Ri, where hU, Ri denotes the two-
Proof. By construction, eB comes with a morphism T (V )/hU, Ri → eB. We
By the classiﬁcation of quantum projective lines, we know that eB =
the lemma, annihilates Q. This gives us the morphism eB → T /hU, Ri, which is

T (V /U )/hQi. The embedding V /U → T (V )/hU i induces an algebra morphism
T (V /U ) → T (V )/hU i, hence a morphism T (V /U ) → T (V )/hU, Ri, which, by

the required inverse. (cid:3)

Corollary 1.14 In A3, we have C3 ⊂ U V V + V U V + V V U .

Proof. We have the succession of quotients

which corresponds to the sequence of ideals in T (V )

T (V )

/ A

/ B

/ eB ,

0 ⊂ hRi ⊂ hR, C3i ⊂ hU, Ri .

In particular, modulo hRi, we have C3 ⊂ hU i3 = U V V + V U V + V V U . (cid:3)

11

/
/
/
/
/
/
/
/
/
Proof of Proposition 1.3.
In B, we have that U V = V U . It follows that
this is also true in A, as it is a claim about A2 = B2. Then it follows that
U A = AU , because A is generated by V . From this, it follows that in fact
C3 ⊂ U V V and C3 ⊂ V V U . Let z be a generator of U . Then it follows that z
is a left and right regular element in A, because this is true for any generator
c3 of C3.

The test conﬁguration in A, generated by the ﬂag V ⊃ U ⊃ 0 in A1, is the
sequence of two-sided ideals J (k) = hU ik. By what we just proved, we have
hU ik = zkA ∼= A(−k) the shift of A by −k.

have

Therefore, for the weight function ew(n) of the test conﬁguration (J (k)), we

a(k − 1) ,

where a(n) = dim An = 1

2 (n + 1)(n + 2). This implies that

nXk=1

ew(n) =

1
3

ew(n) =
eF (n) = ew(n)

n a(n)

n a(n) ,

=

1
3

= eF (1) .

or

So we see that the Futaki function of (zk) is constant. This proves Proposi-
tion 1.3. (cid:3)

Line with embedded point

which is, in coordinates, C[x, y, z]/(x2, xy).

ﬂag 0 ⊂ U ⊂ W ⊂ V , with dim U = 1 and dim W = 2, as the intersection of two

Consider now P1 with a 2-dimensional embedded point. Call this scheme eZ,
and Z = eZ red = P1. The scheme eZ is embedded into P(V ) by the choice of a
quadrics eZ = Z(U W ). The homogeneous coordinate ring of eZ is C[V ]/(U W ),
Lemma 1.15 Any twisted homogeneous coordinate ring of eZ is quadratic. More
precisely, if σ : eZ → eZ is any scheme automorphism, then the associated twisted

homogeneous coordinate ring is

T (V )

hU ihW i + hW ihU i + hQi

eB =

where Q is deﬁned by the exact sequence

0

/ Q

V ⊗ V

U ⊗ W + W ⊗ U

/ 0 .

Proof. We omit the proof, which is not diﬃcult, as this result is not used in
the proof of the main theorem. (cid:3)

,

/ eB2

12

/
/
/
/
/
case, for example, if X is nodal, contains the line Z(U ) ⊂ X, invariant by σ,
and a node Z(W ) ⊂ X ﬁxed by σ.

Assume now that eZ ⊂ X, and that σ factors through eZ. This will be the
Then we get an associated algebra quotient B → eB. In degree 2, we have a

short exact sequence

0

/ Q

V ⊗ V

U ⊗ W + W ⊗ U

The dimension of eB2 is 4, so dim Q = 2. We consider the induced morphism of

short exact sequences

0

/ R

V ⊗ V

B2

0

/ 0 .

/ eB2

0

/ Q

V ⊗ V

U ⊗ W + W ⊗ U

/ 0 .

/ eB2

Lemma 1.16 The map R → Q is surjective.

Proof. If not, the intersection of R and U W + W U has dimension 2. If we
choose a basis (xi) for V , with x1 ∈ U , and x2 ∈ W , and a basis (fi) for R, such
that f1, f2 ∈ U W + W U , then the matrix M , such that f = M x is of the form

At the point h0, 0, 1i, this matrix has rank 1, so this contradicts the non-
degeneracy assumption, see Lemma 4.4 of [3]. (cid:3)

Corollary 1.17 Let T (V ) be the free algebra on V . Then

m11(x1, x2) a12 x1
m21(x1, x2) a22 x1

0
0

m31

m32 m33

 .

T (V )

hU ihW i + hW ihU i + hRi

.

M =

eB =

Proof. By the lemma, modulo hW ihU i, we have Q = R. (cid:3)

Corollary 1.18 In A3, we have

C3 ⊂ U W V + U V W + V U W + W U V + V W U + W V U .

Proof. We have the succession of quotients

T (V )

/ A

/ B

/ eB ,

which corresponds to the sequence of ideals in T (V )

0 ⊂ hRi ⊂ hR, C3i ⊂ hU ihW i + hW ihU i + hRi .

In particular, modulo hRi, we have C3 ⊂(cid:0)hU ihW i + hW ihU i(cid:1)3. (cid:3)

13

/
/
/
/
/
/
/
/


/
/


/
/


/
/
/
/
/
/
/
/
/
/
/
/
/
/
Singular point

Consider now a point P = Z(W ) ∈ X, ﬁxed by σ, and assume that P is a
singularity of X. As σ : X → X is a scheme automorphism, σ induces an
automorphism of the ﬁrst order neighbourhood Z of P in X, which is iso-
morphic to Spec C[x, y]/(x, y)2, as P is a singular point of X. The scheme
Z = Spec C[x, y]/(x, y)2 is embedded into P(V ) as Z = Z(W W ).

left and right regular element. Moreover, both left and right multiplication by

Let eB the the twisted coordinate ring of (Z, σ|Z ). We have quotients A →
B → eB. Choose a vector z ∈ V , z 6∈ W . Then ez, the image of z in eB, is a
ez induce isomorphisms eBn → eBn+1, for all n ≥ 2.
/ eB2

Let Q be the kernel deﬁned by the exact sequence

Then eB = T (V )/(hW W i + hQi), as can be seen by studying the structure of eB.

As above, regularity implies that R maps onto Q, and hence that

V ⊗ V
W ⊗ W

0

/ Q

/ 0 .

and that

eB =

T (V )

hW ihW i + hRi

,

c3 ∈ W W V + W V W + V W W .

(10)

In particular, we have that left or right multiplication by z ∈ A induces an

isomorphism

for all n ≥ 2.

(cid:0)A/hW i2(cid:1)n

z−→(cid:0)A/hW i2)n+1 ,

Consider now the (doubly) graded ring

R =

hW in/hW in+1 .

∞Mk=0

In fact, R is the central ﬁbre of the test conﬁguration generated by W , and A
is S-equivalent to R.

By the facts we proved, the subring of k-degree zero, R0 = A/hW i is a
quantum projective line, and R is generated over R0 by one element which
quantum commutes with R0. From this, the graded dimension of each J (k)hW ik
can be computed, giving a proof of Proposition 1.4.

1.5 More analysis of c3
Let (X, σ, L) be a regular elliptic triple, such that L 6∼= Lσ.

Recall the notion of tame line bundle, deﬁned in [3]. A line bundle on X
is tame if either H 0 vanishes, or H 1 vanishes, or if it is trivial. For tame line
bundles, h0 and h1 can be calculated as deg or − deg, respectively. Bundles

14

/
/
/
/
/
generated by sections, duals of tame bundles, and bundles with non-negative
degree on each component are all tame. For example, every non-trivial tame
line bundle of degree 0 has H 0 = H 1 = 0.

As in [3], for a sheaf F , generated by global sections, we denote by F ′′ the
kernel of the epimorphism Γ(X, F ) ⊗C OX → F . The reason for introducing F ′′
is the following Proposition 7.17 of [3].

Proposition 1.19 If M is a coherent OX -module generated by global sections,
and N is locally free with H 1(X, N ) = 0, then the kernel and cokernel of the
multiplication map

Γ(X, M ) ⊗k Γ(X, N ) −→ Γ(X, M ⊗OX N )

are given by H 0(X, M ′′ ⊗OX N ) and H 1(X, M ′′ ⊗OX N ), respectively.

If we apply this to M = L and N = Lσ, we get the exact sequence

0

/ Γ(L′′ ⊗ Lσ)

/ Γ(L) ⊗ Γ(Lσ)

/ Γ(L ⊗ Lσ)

/ 0 .

If we identify A2 with Γ(L ⊗ Lσ), this identiﬁes Γ(L′′ ⊗ Lσ) with R, the kernel
of multiplication V ⊗ V → A2. By the regularity of A, we can write A3 as the
cokernel of R ⊗ A1 → V ⊗ A2. This gives the exactness of the lower row in the
following diagram:

Γ(L′′ ⊗ Lσ) ⊗ Γ(Lσ2

)

β

Γ(L′′ ⊗ Lσ ⊗ Lσ2

)

C3

/ 0

=

(11)

Γ(L′′ ⊗ Lσ) ⊗ Γ(Lσ2

)

/ Γ(L) ⊗ Γ(Lσ ⊗ Lσ2

)

/ A3

/ 0 .

The exactness of the upper row comes from Lemma 7.29 of [3].

The case where P lies on X

Consider a 2-dimensional subspace W ⊂ Γ(L), which does not generate L. Let
P ∈ X be the point where W fails to generate L. (Mapping P into P2, via the
embedding X → P2, we obtain the point in P2, dual to the hyperplane W in
V .) We have a surjection of sheaves on X

W ⊗C OX

/ L ⊗OX

mP = mP L .

(12)

If P is a smooth point of X, then P is a Cartier divisor, and hence mP L =
L(−P ), but we do not want to make this assumption.

We note also that Γ(L ⊗OX
sections. We consider (mP L)′′:

mP ) = W , and that mP L is generated by global

0

/ (mP L)′′

/ W ⊗ OX

/ mP L

/ 0

If P is a smooth point of X, then (mP L)′′ is locally free of rank 1, but not
otherwise.

15

/
/
/
/
/
/


/
/

_


_


/
/
/
/
/
/
/
/
/
/
/
Lemma 1.20 Any non-zero element of Λ2W induces an isomorphism

(mP L)′′ ∼ /

/ (mP L)∨ .

Proof. Let us choose a non-zero element in Λ2W . As Λ2W is one-dimensional,
this element is a basis element, and also induced a basis element in the dual
space Λ2W ∨. Let us denote this element by κ, it is a non-degenerate alternating
pairing on W , and induces a non-degenerate alternating pairing on the trivial
bundle W ⊗ OX .

We claim that (mP L)′′ ⊂ W ⊗ OX is isotropic with respect to κ. As κ
takes values in OX , and mP contains a non-zero divisor of OX , we can check
this claim after removing P from X, where it becomes trivial, as all sheaves
involved become locally free. Thus, κ induces a pairing

κ : (mP L)′′ ⊗OX

mP L

/ OX .

This pairing is non-degenerate, i.e., induces injections (mP L)′′ → (mP L)∨ and
mP L → (mP L)′′∨. To prove these facts, it is again enough to restrict to X −{P },
because both (mP L)′′ and mP L are submodules of locally free ﬁnite rank OX -
modules.

By the snake lemma, the cokernel of (mP L)′′ → (mP L)∨ is equal to the

kernel of mP L → (mP L)′′∨, and hence vanishes. (cid:3)

Lemma 1.21 We have

H 1(cid:0)(mP L)′′ ⊗ Lσ(cid:1) = 0 ,

and

H 1(cid:0)(mP L)′′ ⊗ Lσ ⊗ Lσ2(cid:1) = 0 .

Proof. By the previous lemma, there exists a monomorphism L−1 →
(mP L)∨ ∼= (mP L)′′, whose cokernel is supported over {P }. Hence we get in-

duced epimorphisms H 1(L−1 ⊗ Lσ) → H 1(cid:0)(mP L)′′ ⊗ Lσ(cid:1) and H 1(L−1 ⊗ Lσ ⊗
) → H 1(cid:0)(mP L)′′ ⊗ Lσ ⊗ Lσ2(cid:1). Now it suﬃces to remark that by Lemma 7.18

Lσ2
of [3], both line bundles L−1 ⊗ Lσ and L−1 ⊗ Lσ ⊗ Lσ2
are tame, and so their
respective H 1 vanishes; in the ﬁrst case because L−1 ⊗ Lσ is a non-trivial line
bundle of degree 0, and in the second case because L−1 ⊗ Lσ ⊗ Lσ2
is of de-
gree 3. (cid:3)

Lemma 1.22 The sheaf mP Lσ is also generated by its global sections. We have

(mP Lσ)′′ ∼= (mP Lσ)∨, as well as H 1(cid:0)(mP Lσ)′′ ⊗ Lσ2(cid:1) = 0.

Proof. The same proofs apply. (cid:3)

16

/
Choosing a basis for V /W , we get the exact square

(mP L)′′

W ⊗ OX

mP L

L′′

mP

Γ(L) ⊗ OX

L

(13)

/ OX

/ OP

For N = Lσ and N = Lσ ⊗ Lσ2

, we consider the induced short exact sequence

0

/ (mP L)′′ ⊗ N

/ L′′ ⊗ N

/ mP N

/ 0 .

In both cases, we get an induced short exact sequence of vector spaces

0

/ Γ(cid:0)(mP L)′′ ⊗ N(cid:1)

because H 1(cid:0)(mP L)′′ ⊗ N(cid:1) = 0, by Lemma 1.21.

We obtain the morphism of short exact sequences

/ Γ(L′′ ⊗ N )

/ Γ(mP N )

/ 0 ,

0

0

/ Γ(cid:0)(mP L)′′ ⊗ Lσ(cid:1) ⊗ Γ(Lσ2
/ Γ(cid:0)(mP L)′′ ⊗ Lσ ⊗ Lσ2

)

α

)

Γ(L′′ ⊗ Lσ) ⊗ Γ(Lσ2

)

β

/ Γ(L′′ ⊗ Lσ ⊗ Lσ2

)

/ Γ(mP Lσ) ⊗ Γ(Lσ2

)

0

γ

By Lemma 1.22, γ is surjective. It follows that cok α → cok β is an epimorphism.
Hence we get a morphism of exact sequences

/ Γ(mP Lσ ⊗ Lσ2(cid:1)

/ 0 .

Γ(cid:0)(mP L)′′ ⊗ Lσ(cid:1) ⊗ Γ(Lσ2

) α

Γ(cid:0)(mP L)′′ ⊗ Lσ ⊗ Lσ2(cid:1)

cok α

/ 0

Γ(L′′ ⊗ Lσ) ⊗ Γ(Lσ2

)

β

/ Γ(L′′ ⊗ Lσ ⊗ Lσ2

)

/ C3

/ 0
(14)

17

/
/


/
/




/
/


/
/




/
/
/
/
/
/
/
/
/
/
/
/
/




/
/
/
/
/
/
/
/
/


/
/
/
/

_


/
/

_






/
/
/
/
Composing (14) with (11), we obtain the morphism of exact sequences

Γ((mP L)′′ ⊗ Lσ) ⊗ Γ(Lσ2

)

Γ((mP L)′′ ⊗ Lσ ⊗ Lσ2

)

cok α

/ 0

Γ(L′′ ⊗ Lσ) ⊗ Γ(Lσ2

)

/ Γ(L) ⊗ Γ(Lσ ⊗ Lσ2

)

/ A3

By construction, Γ(cid:0)(mP L)′′ ⊗ Lσ ⊗ Lσ2(cid:1) → Γ(L) ⊗ Γ(Lσ ⊗ Lσ2

through W ⊗ Γ(Lσ ⊗ Lσ2

). We conclude:

/ 0
(15)
) factors

Proposition 1.23 If P = Z(W ) ∈ X, then in A3, we have c3 ∈ W V V .

Smooth point

To go further, let us now assume that P is a smooth point of X. Then we have
mP L = L(−P ), and (mP L)′′ = L−1(P ).

Consider the lattice of subspaces

Γ(L) ⊗ Γ(Lσ ⊗ Lσ2

)

W ⊗ Γ(Lσ ⊗ Lσ2
j❱

)

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

j❱

Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2(cid:1)
Γ(cid:0)L−1(P ) ⊗ Lσ(cid:1) ⊗ Γ(Lσ2

α

❱

❱

)

❱

❱

❱

❱

❱

❱

❱

❱

❱

❱

(−T )(cid:1)
W ⊗ Γ(cid:0)Lσ ⊗ Lσ2
(−T )(cid:1) .
Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2

❱

❱

❱

❱

❱

Here T is an eﬀective Cartier divisor of degree 1 or 2.

Lemma 1.24 Let Q ∈ X reg be the unique point such that Lσ(P ) = L(Q).
Suppose that Q 6∈ supp T , and that L−1(P ) ⊗ Lσ ⊗ Lσ2
(−T ) is generated by
global sections. Then we have

Proof. The line bundle L−1(P ) ⊗ Lσ has degree 1, so it has an essentially

= Γ(cid:0)L−1(P ) ⊗ Lσ(cid:1) ⊗ Γ(Lσ2

Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2(cid:1)
(−T )(cid:1) .
unique non-zero section, which we shall call g ∈ Γ(cid:0)L−1(P ) ⊗ Lσ(cid:1). It vanishes
exactly at the point Q. We conclude that Γ(cid:0)L−1(P ) ⊗ Lσ(cid:1) = Γ(cid:0)L−1(P ) ⊗
Lσ(−Q)(cid:1). Therefore the image of Γ(cid:0)L−1(P ) ⊗ Lσ(cid:1) ⊗ Γ(Lσ2
) in Γ(cid:0)L−1(P ) ⊗
Lσ ⊗ Lσ2(cid:1) is contained in Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2

) + Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2

(−Q)(cid:1).

18

/
/

_


/
/

_




/
/
/
/
O
O
O
O
j
O
O
O
O
j
As the bundle L−1(P ) ⊗ Lσ ⊗ Lσ2

Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2

(−T )(cid:1) is not contained in Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2

This implies the lemma for dimension reasons. (cid:3)

(−Q)(cid:1).

(−T ) is generated by global sections,

Corollary 1.25 Under the same assumptions, as subspaces of W ⊗Γ(Lσ ⊗Lσ2
we have

),

Γ(cid:0)L−1(P ) ⊗ Lσ ⊗ Lσ2(cid:1) ⊂ Γ(cid:0)L−1(P ) ⊗ Lσ(cid:1) ⊗ Γ(Lσ2

) + W ⊗ Γ(cid:0)Lσ ⊗ Lσ2

(−T )(cid:1) .

Corollary 1.26 If P = Z(W ) is a smooth point of X such that σ(P ) = P ,
then in A3, we have c3 ∈ W V W .

Proof. This follows from the above considerations, upon taking T = P , in

particular Sequence (14), and the fact that V ⊗ W → Γ(cid:0)Lσ ⊗ Lσ2

surjective. (cid:3)

(−P )(cid:1) is

Corollary 1.27 If P = Z(W ) is a smooth point of X, and σ is a translation,
of order not equal to 2, then in A3, we have c3 ∈ W W W .

Proof. If σ is the translation by the point S ∈ X reg, then Q = P − 3S, in the
group law on X reg. Moreover, P σ = P − S, and P σ2
= P − 2S, so the lemma
and its corollary apply to T = P + P σ, as 2S 6= 0.

We also use that fact that W ⊗W → Γ(cid:0)Lσ(−P σ)⊗Lσ2

which follows from Lemma 2.1, below. (cid:3)

(−P σ2

)(cid:1) is surjective,

1.6 Non-special points

This is the case where if P ∈ X, then σ(P ) 6= P . We do not exclude the case
that P is a singular point of X.

Lemma 1.28 Let W be a non-special 2-dimensional subspace of V = B1. In
B2 we have W V + V W = V V = B2.

Moreover, if P 6∈ X, we have the stronger result that B2 = W V .

Proof. If the base locus of W is empty, W generates L, and we have a short
exact sequence of vector bundles on X:

0

/ M

/ W ⊗ OX

/ L

/ 0 .

Here M is a line bundle which is isomorphic to L−1, but not canonically so.
Tensoring with Lσ and taking global sections gives us the exact sequence

W ⊗ Γ(Lσ)

/ Γ(L ⊗ Lσ)

/ H 1(M ⊗ Lσ) .

As L 6∼= Lσ, we have M ⊗ Lσ 6∼= OX , and hence H 1(M ⊗ Lσ) = 0, and so
W ⊗ Γ(Lσ) → Γ(L ⊗ Lσ) is surjective. This proves that W V = B2.
(In

19

/
/
/
/
/
/
degenerate cases, this proof uses the fact that L−1 ⊗ Lσ is tame, in the language
of [3], which is proved in Lemma 7.18 of [ibid.].)

For a line bundle M on X, and reduced point Q ∈ X, the set of sections of
M vanishing at Q is Γ(X, M ⊗ mQ) ⊂ Γ(X, M ). (We do not use the notation

Γ(cid:0)X, M (−Q)(cid:1) to include the case where Q is a singularity, and hence not a

Cartier divisor.) If M has sections which do not vanish at Q, then dim Γ(M ⊗
mQ) = dim Γ(M ) − 1.

Now suppose that W has a base point P ∈ X. The base locus of W ′ =
σ∗W ⊂ Γ(X, σ∗L) is P ′ = σ−1P . We have W = Γ(L ⊗ mP ) ⊂ Γ(L) and
W ′ = Γ(Lσ ⊗ mP ′ ) ⊂ Γ(Lσ). Because P ′
6= P , the line bundle L ⊗ Lσ has
sections which vanish at P but not at P ′, and sections which vanish at P ′ but
not at P . Thus Γ(L⊗Lσ ⊗mP ) and Γ(L⊗Lσ ⊗mP ′) are two distinct codimension
1 subspaces of Γ(L ⊗ Lσ). Their sum is then necessarily the whole space:

Γ(L ⊗ mP ⊗ Lσ) + Γ(L ⊗ Lσ ⊗ mP ′) = Γ(L ⊗ Lσ) .

(16)

We now remark that the image of Γ(L ⊗ mP ) ⊗ Γ(Lσ) in Γ(L ⊗ Lσ) is equal
to Γ(L ⊗ mP ⊗ Lσ). (This follows formally from the fact that Γ(L) ⊗ Γ(Lσ) →
Γ(L ⊗ Lσ) is surjective, and that Γ(L ⊗ mP ) ⊗ Γ(Lσ) ⊂ Γ(L) ⊗ Γ(Lσ) and
Γ(L ⊗ Lσ ⊗ mP ) ⊂ Γ(L ⊗ Lσ) are both codimension 1 subspaces.) Thus a
reformulation of (16) is W V ′ + V W ′ = V V ′. This is our claim. (cid:3)

An application to the study of c3

Theorem 1.29 Let W ⊂ V be an arbitrary 2-dimensional subspace. In A3, we
have c3 ∈ W W V + W V W + V W W .

Proof. Let P = Z(W ).
If P 6∈ X, we have V V = W V , and hence A3 =
V V V = W V V = W W V , and the claim is trivial. If P ∈ X, but σ(P ) 6= P ,
we use Proposition 1.23, to deduce c3 ∈ W V V = W (W V + V W ). This leaves
the case where P ∈ X, and σ(P ) = P . If P is a non-singular point, our claim
follows from Corollary 1.26. If P is a singular point, it follows from (10). (cid:3)

We also need the following ampliﬁcation:

Proposition 1.30 Suppose X is a Neron triangle, and σ permutes the sides of
X cyclically. Assume that P = Z(W ) is a point on X. Then in A3 we have
c3 ∈ W W W .

Proof. Fix a base point for X, making X reg a group scheme, and σ a transla-
tion. Then the order of σ is not equal to 2. So if P is a smooth point, the claim
follows from Corollary 1.27. If P is a node, we can deduce the proof from the
case where P is smooth by a degeneration argument. (cid:3)

20

2 Estimates

Here we prove the stability estimates claimed in Proposition 1.5, by ﬁnding suit-
able values for the functions wℓ(n) and wm(n), and then proving Formula (8).
We may assume that X is either smooth, or a Neron triangle, on which σ

acts by cyclically permuting the sides.

We always use notation P = Z(W ) and Y = Z(U ), and treat the following

cases in turn:

(i) P lies oﬀ X,
(ii) P lies on X, but is neither a node of X nor a ﬁxed point of σ,
(iii) P ∈ X reg is a ﬁxed point of σ,
(iv) P is a node of X,

(v) Y is a linear component of X.

In the cases (i) to (iv), we assume Y 6⊂ X. Most of these cases are divided into
two subcases, a case where ℓ is large compared to m, which includes the case
m = 0, and the converse case.

2.1 The main dimension estimate

Lemma 2.1 Let L and M be line bundles on X, both generated by global sec-
tions, and both of degree at least 2. The multiplication map

Γ(L) ⊗ Γ(M ) −→ Γ(L ⊗ M )

is surjective, unless deg L = deg M = 2 and L ∼= M .

Proof. Because of Proposition 1.19, an equivalent statement is that

H 1(L′′ ⊗ M ) = 0 .

The proof will proceed by induction on the integer deg L + deg M . The base
case is when deg L = deg M = 2. In this case, L′′ ∼= L−1 is a tame line bundle.
Then L′′ ⊗ M is also tame. Hence H 1(L′′ ⊗ M ) vanishes if and only if L 6∼= M .
Now suppose that deg L > 2. Find a point P ∈ X, such that L(−P ) is still
generated by global sections, and such that L(−P ) 6∼= M . We can apply the
induction hypothesis to the bundles L(−P ) and M , obtaining that

But there is a surjection

H 1(cid:0)L(−P ) ⊗ M ′′(cid:1) = 0 .

H 1(cid:0)L(−P ) ⊗ M ′′(cid:1)

proving that H 1(cid:0)L ⊗ M ′′(cid:1) = 0. (cid:3)

/ H 1(cid:0)L ⊗ M ′′(cid:1)

21

/
/
/
Corollary 2.2 Let L1, . . . , Ln be line bundles of degree at least 2 on X, all
generated by global sections. The map

Γ(L1) ⊗ . . . ⊗ Γ(Ln) −→ Γ(L1 ⊗ . . . ⊗ Ln)

is surjective, unless all Li are of degree 2 and pairwise isomorphic to each other.

Proof. Assume that the bundles are not all of degree 2 or not all isomorphic to
one another. Then, after relabelling, we may assume that if deg L1 = deg L2 =
2, then L1 6∼= L2. Then we can apply the lemma successively to L1 ⊗ . . . ⊗ Li
and Li+1, for i = 1, . . . , n − 1. (cid:3)

2.2 The test conﬁguration of B generated by a ﬁltration

We will write

{V γW αU β} ⊂ Bγ+α+β

do denote the sum over all products W1 . . . Wγ+α+β, where γ of the Wi are
equal to V , and α of the Wi are equal to W , and β of the Wi are equal to U .
For example,

{V W U } = V W U + V U W + W U V + W V U + U V W + U W V ⊂ B3 .

Lemma 2.3 Suppose that ℓ > 0 and m > 0. Then we have

I (k)

n =Xα,β

{V n−α−βW αU β} ,

where (α, β) ranges over all pairs of non-negative integers satisfying

(i) α + β ≤ n,
(ii) α + β(ℓ + 1) ≤ k ≤ αℓ + β(ℓ + m).

Proof. By construction, {V n−α−βV αU β} partakes in I (k)
if and only if there
exist integers 0 < i1, . . . , iα ≤ ℓ and ℓ < j1, . . . , jβ ≤ ℓ + m such that k =
i1 + . . . + iα + j1 + . . . + jβ. This immediately proves the stated bounds on k.
Conversely, if (ii) is satisﬁed, we can write k = k1 + k2, with α ≤ k1 ≤ αℓ
and β(ℓ + 1) ≤ k2 ≤ β(ℓ + m). Then we can write k1 = i1 + . . . + iα with
0 < i1, . . . , iα ≤ ℓ and k2 = j1 + . . . + jβ with ℓ < j1, . . . , jβ ≤ ℓ + m. (cid:3)

n

Lemma 2.4 Suppose that ℓ > 0 and m = 0. Then we have

I (k)

n =Xα

{V n−αW α} ,

where α ranges over all integers such that α ≤ n and α ≤ k ≤ αℓ. (cid:3)

Lemma 2.5 Suppose that ℓ = 0 and m > 0. Then we have

I (k)

n =Xβ

{V n−βU β} ,

where β ranges over all integers satisfying β ≤ n and β ≤ k ≤ βm. (cid:3)

22

Useful reformulations: the W -case

Lemma 2.6 For all α = 1, . . . , n we have

(i) if (α − 1)ℓ < k ≤ αℓ then {V n−αW α} ⊂ I (k)
n ,
(ii) if nℓ + (α − 1)m < k ≤ nℓ + αm then {W n−αU α} ⊂ I (k)
n .

Proof. The hardest claim is that nℓ+(α−1)m < k implies (n−i)+α(ℓ+1) ≤ k.
This is proved by noting that under our assumptions

0 ≤ (n − α)(ℓ − 1) + (m − 1)(α − 1) .

Reformulating gives

(n − α) + α(ℓ + 1) ≤ nℓ + (α − 1)m + 1 ,

which is what we need. (cid:3)

The following variation will also be needed:

Lemma 2.7 For all i = 1, . . . , n − 1, and every k, such that

(i − 1)ℓ < k ≤ iℓ ,

we have {V n−iW i} ⊂ I (k)
n .

For all i = 1, . . . , n − 1, and all k which satisfy

(n − 1)ℓ + (i − 1)m < k ≤ (n − 1)ℓ + im

(17)

we have {V W n−1−iU i} ⊂ I (k)
n .

For (n − 1)(ℓ + m) < k ≤ (n − 1)(ℓ + m) + ℓ, we have {W U n−1} ⊂ I (k)

n , and

for (n − 1)(ℓ + m) + ℓ < k ≤ n(ℓ + m), we have U n ⊂ I (k)
n .

Proof. Let us check the second claim. We have that

0 ≤ (ℓ − 1)(n − i − 1) + (m − 1)(i − 1) ,

because each of the four quantities involved is individually non-negative, by our
assumptions. Rewriting this inequality gives

(18)

(19)

(n − 1 − i) + i(ℓ + 1) ≤ (n − 1)ℓ + (i − 1)m + 1 .

We also have

(n − 1)ℓ + im ≤ (n − 1 − i)ℓ + i(ℓ + m) .

Now suppose that k satisﬁes (17). Then, in fact,

(n − 1)ℓ + (i − 1)m + 1 ≤ k ≤ (n − 1)ℓ + im .

From (18) and (19) we conclude

(n − 1 − i) + i(ℓ + 1) ≤ k ≤ (n − 1 − i)ℓ + i(ℓ + m) .

With α = n − 1 − i and β = i this is

α + β(ℓ + 1) ≤ k ≤ αℓ + β(ℓ + m) ,

which is the condition we need. (cid:3)

23

The U -case

Lemma 2.8 Suppose that m > 0. For all i = 1, . . . , n we have

(i) if (i − 1)(ℓ + m) < k ≤ i(ℓ + m) − m then {V n−iW U i−1} ⊂ I (k)
n ,
(ii) if i(ℓ + m) − m < k ≤ i(ℓ + m) then {V n−iU i} ⊂ I (k)
n .

Proof. Similar. (cid:3)

2.3 Exploiting non-commutativity

Let Z(U ) 6⊂ X. The main dimension estimate Corollary 2.2, gives that

dim V n−α−βW αU β ≥ 3(n − α − β) + 2α

= 3n − α − 3β ,

at least if n − α − β ≥ 1. We can improve this estimate for {V n−α−βW αU β}.

Proposition 2.9 We have

(i) for 0 ≤ β ≤ n
2 ,

(ii) for n

2 ≤ β ≤ n,

(iii) for 1 ≤ β ≤ n+1
2 ,

dim{V n−βU β} ≥ 3n − 2β ,

dim{V n−βU β} ≥ 4n − 4β .

(iv) for n+1

2 ≤ β ≤ n,

dim{V n−βW U β−1} ≥ 3n + 1 − 2β ,

dim{V n−βW U β−1} ≥ 4n + 2 − 4β .

If P = Z(W ) is a smooth point of X, such that σ(P ) = P , we also have

(i) for 0 ≤ β ≤ n
2

(ii) for n

2 ≤ β ≤ n

dim{W n−βU β} ≥ 2n − β ,

dim{W n−βU β} ≥ 3n − 3β .

Proof. Choosing a non-zero element s ∈ U deﬁnes an injection OX → L,
which identiﬁes L with O(D), where D is the Cartier divisor on X, deﬁned by
the vanishing of s. Let E be the greatest common divisor if D and Dσ. Because
D 6= Dσ, as L 6∼= Lσ, the degree of E is at most 2. Let

H = Γ(cid:0)X, L ⊗ Lσ(−E)(cid:1) ⊂ Γ(L ⊗ Lσ) .

24

Then an argument counting dimensions, using that U V = Γ(cid:0)L ⊗ Lσ(−D)(cid:1) and
V U = Γ((cid:0)L ⊗ Lσ(−Dσ)(cid:1), proves dim H = 6 − deg E ≥ 4, and that that inside

B2 we have

H = U V + V U .

Now for 0 ≤ β ≤ n

2 , we have

{V n−βU β} ⊃ {V βU β}V n−2β ⊃ H βV n−2β ,

and hence

dim{V n−βU β} ≥ dim H βV n−2β

≥ 3(n − 2β) + β dim H

≥ 3(n − 2β) + 4β
= 3n − 2β ,

using Lemma 2.2.
Similarly, for n

2 ≤ β ≤ n, we have

{V n−βU β} ⊃ {V n−βU n−β}U 2β−n ⊃ H n−βU 2β−n ,

and hence

dim{V n−βU β} ≥ dim H n−βU 2β−n

≥ 4(n − β)
≥ 4n − 4β .

For the next two claims, involving a factor of W , we proceed similarly. Let

us explicate the case 1 ≤ β ≤ n+1

2 . Here we have

{V n−βW U β−1} ⊃ {V n−βU β−1}W ⊃

{V β−1U β−1}V n+1−2βW ⊃ H β−1V n+1−2βW ,

and hence

dim{V n−βW U β−1} ≥ dim H β−1V n+1−2βW

≥ 3(n + 1 − 2β) + (β − 1) dim H + 2

≥ 3n + 5 − 6β + 4(β − 1)
= 3n + 1 − 2β ,

using Lemma 2.2, or in the case that W is a node, Lemma 2.10, below.

The last two claims have the same proof as the ﬁrst two, except for we
replace L by L(−P ), throughout. This means we replace D by D − P , and the
greatest common divisor E of D − P and Dσ − P is of degree at most 1. The
line bundle L(−1) ⊗ Lσ(−P )(−E) has degree at least 3, and therefore the proof
goes through, mutatis mutandis. (cid:3)

25

2.4 Case: P oﬀ X

This is the case where P = Z(W ) is not on X. Then Y = Z(U ) cannot be a
component of X, so it intersects X in a Cartier divisor.

Let us ﬁrst deal with the case where m = 0. By Lemma 2.6, for every α =
1, . . . , n, we have ℓ instances of k where {V n−αW α} ⊂ I (k)
n . For α < n, we use
Lemma 1.28 to conclude that V n−αW α = V n = Bn, which has dimension 3n.
For α = n, the estimate dim W n ≥ 2, will be suﬃcient. Therefore, we may use

wℓ(n) = 3n(n − 1) + 2
= 3n2 − 3n + 2 .

(20)

Now by Theorem 1.29, we have that c3 ∈ J (2ℓ)

3

, and so we compute

(wℓ + 2ea)(n) = 3n2 − 3n + 2 + (n − 1)(n − 2)

= 4n2 − 6n + 4 ,

and then

Gℓ(n) = 4ζ2(n) − 6ζ1(n) + 4ζ0(n) − n(n + 1)(n + 2)

= 4ζ2(n) − 6ζ1(n) + 4ζ0(n) − 3ζ2(n) + 3ζ1(n) − 2ζ0(n)
= ζ2(n) − 3ζ1(n) + 2ζ0(n) .

This is 0, for n = 2, and positive for n ≥ 3, which is what we needed to prove.
Now if m > 0, we use Lemma 2.7. Then for every α = 1, . . . , n − 1, we have
n . We also have ℓ instances of k where
n , which has dimension 2. Thus, we get the same estimate (20)

ℓ instances of k where {V n−αW α} ⊂ I (k)
W U n−1 ⊂ I (k)
we used above, leading to the same value for Gℓ:

Gℓ(n) = ζ2(n) − 3ζ1(n) + 2ζ0(n) .

We also get that for every β = 1, . . . , n − 1, there are m instances of k
where {V W n−1−βU β} ⊂ I (k)
n . Again by Lemma1.28, we have V W n−1−βU β =
V n−βU β, which has dimension 3(n − β), by Lemma 2.2. We add another m
instances of U n, which has dimension 1. This gives us

wm(n) =

=

and

n−1Xβ=1

3
2

(3n − 3β) + 1

n2 −

3
2

n + 1 ,

Gm(n) =

ζ2(n) −

3
2
= 0 .

3
2

ζ1(n) + ζ0(n) −

1
2

n(n + 1)(n + 2)

26

Together with the above, we get

1

ℓ(cid:0)ℓGℓ(n) + mGm(n)(cid:1) = Gℓ(n) +

m
ℓ

Gm(n)

= ζ2(n) − 3ζ1(n) + 2ζ0(n) ,

which we have already remarked is 0, for n = 2, and positive for n ≥ 3. This
ﬁnishes the case where P is not on X.

2.5 Case: P not a node, not a ﬁxed point

Now we assume that P = Z(W ) is on X, but is neither a singularity of X, nor
a ﬁxed point of σ. We also assume that Y = Z(U ) is not contained in X, so it
deﬁnes a Cartier divisor on X.

We distinguish to subcases: ℓ ≥ m ≥ 0, and m > ℓ ≥ 0.
In the subcase ℓ ≥ m ≥ 0, the main fact we use about W is that V V =
V W + W V in B2 = A2, see Lemma 1.28. We also use the main estimate
Lemma 2.2.

For the subcase m > ℓ ≥ 0, we exploit the non-commutativity for {V n−βU β}

and {V n−βW U β−1}, using Lemma 2.9.

Finally, it will be important that c3 ∈ I (2ℓ)

3

.

Subcase ℓ ≥ m ≥ 0

Let us ﬁrst deal with the case where m = 0. Then by Lemma 2.6, for each
α = 1, . . . , n, we have ℓ instances of k, such that {V n−αW α} ⊂ I (k)
n . By
Lemma 1.28, we have
(i) for 1 ≤ α ≤ ⌊ n
(ii) for ⌊ n

2 ⌋, that {V n−αW α} = V n = Bn, which has dimension 3n,
2 ⌋+1 ≤ α ≤ n−1, that {V n−αW α} ⊃ V 2n−2αW 2α−n, and the latter

has dimension at least 4n − 2α, by Lemma 2.2.

We also use that dim W n ≥ 2, which can be deduced, for example, from
Lemma 2.2, upon choice of a suitable U . Altogether, we get

3n +

(4n − 2α) + 2

(21)

wℓ(n) =

=

⌊ n

2 ⌋Xα=1
n−1Xα=1

n−1Xα=⌊ n

2 ⌋+1

⌊ n

2 ⌋Xα=1

(4n − 2α) −

(n − 2α) + 2

= 4n(n − 1) − n(n − 1) − n⌊ n

2 ⌋ + ⌊ n

2 ⌋(⌊ n

2 ⌋ + 1) + 2

=

11
4

n2 −

5
2

n + 2 − 1

2 { n

2 } .

27

We have c3 ∈ J (2ℓ)

3

, by Theorem 1.29, and so to calculate Gℓ, we use

(wℓ + 2ea)(n) =

=

11
4
15
4

n2 −

n2 −

This gives us

5
2
11
2

n + 2 − 1

2 { n

2 } + (n − 1)(n − 2)

n + 4 − 1

2 { n

2 } .

Gℓ(n) =

=

=

15
4
15
4
3
4

ζ2(n) −

ζ2(n) −

ζ2(n) −

5
2

ζ1(n) + (4 − 1

11
2
11
2
ζ1(n) + (2 − 1

ζ1(n) + (4 − 1

2 { n

2 })ζ0(n) .

2 { n

2 })ζ0(n) − n(n + 1)(n + 2)

2 { n

2 })ζ0(n) − 3ζ2(n) + 3ζ1(n) − 2ζ0(n)

Thus Gℓ(2) ≥ 0, and Gℓ(n) > 0, for n ≥ 3, which is what we needed to prove.

In the case that m > 0, we use Lemma 2.7, instead of Lemma 2.6. This gives
us, for each α = 1, . . . , n − 1, altogether ℓ instances of k where {V n−αW α} ⊂
n , and another ℓ instances of k where W U n−1 ⊂ I (k)
I (k)
n . Using Lemma 1.28, as
above, and the fact that dim W U n−1 = 2, we get the same estimate (21), which
we used above, and hence

Gℓ(n) =

3
4

ζ2(n) −

5
2

as above.

ζ1(n) + (2 − 1

2 { n

2 })ζ0(n) ,

Lemma 2.7 gives us, for each β = 1, . . . n − 1, also m instances of k for
which {V W n−1−βU β} ⊂ I (k)
n ≥ 2n + 2 − 2β, for
1 ≤ β ≤ n − 2 (because of V V = V W + W V ), and 3, for β = n − 1. We also
have m instances of U n, for a contribution of 1. In total,

n . For such k, we get dim I (k)

wm(n) ≥

(2n + 2 − 2β) + 3 + 1

n−2Xβ=1

= n2 + n − 2 .

Hence

Gm(n) ≥ ζ2(n) + ζ1(n) − 2ζ0(n) − 1
= ζ2(n) + ζ1(n) − 2ζ0(n) − 3

2 n(n + 1)(n + 2)
2 ζ2(n) + 3

2 ζ1(n) − ζ0(n)

= −

1
2

ζ2(n) +

5
2

ζ1(n) − 3ζ0(n) .

If we now assume that ℓ ≥ m, then we get

1

m(cid:0)ℓGℓ(n) + mGm(n)(cid:1) ≥

m(cid:0)mGℓ(n) + mGm(n)(cid:1)

= Gℓ(n) + Gm(n)

1

ζ2(n) − (1 + 1

2 { n

2 }) ζ0(n) .

=

1
4

28

This is equal to 0 at n = 2, but positive for n ≥ 3, which is what we needed to
prove.

Subcase m > ℓ ≥ 0

We use Lemma 2.8. This gives us, for every β = 1, . . . , n, the existence
of ℓ instances of k where V n−βW U β−1 ⊂ I (k)
n , and m instances of k where
V n−βU β ⊂ I (k)

n . We estimate these dimensions with Lemma 2.9 to obtain

(3n + 1 − 2β) +

(4n + 2 − 4β)

(22)

wℓ(n) =

=

⌊ n+1

2 ⌋Xβ=1
nXβ=1

2 ⌋+1

nXβ=⌊ n+1
2 ⌋Xβ=1

⌊ n+1

(4n + 2 − 4β) −

(n + 1 − 2β)

= 2n2 − ⌊ n+1

2 ⌋(⌈ n+1

2 ⌉ − 1)

=

7
4

n2 + 1

2 { n

2 } .

and (not forgetting dim U n = 1)

wm(n) =

=

⌊ n

2 ⌋Xβ=1
nXβ=1

2 ⌋+1

nXβ=⌊ n
2 ⌋Xβ=1

⌊ n

(3n − 2β) +

(4n − 4β) + 1

(4n − 4β) −

(n − 2β) + 1

= 2n2 − 2n + 1 − ⌊ n

2 ⌉ − 1)

2 ⌋(⌈ n
2 { n

2 } .

n + 1 − 1

=

7
4

n2 −

3
2

We have

(wℓ + 2ea)(n) =

=

7
4
11
4

n2 + 1

2 { n

2 } + (n − 1)(n − 2)

n2 − 3n + 2 + 1

2 { n

2 } ,

which gives

Gℓ(n) =

11
4

ζ2(n) − 3ζ1(n) + (2 + 1

2 { n

2 })ζ0(n) − n(n + 1)(n + 2)

= −

1
4

ζ2(n) + 1

2 { n

2 }ζ0(n) .

29

We also have

Gm(n) =

=

7
4
1
4

ζ1(n) + (1 − 1

2 { n

2 })ζ0(n) −

ζ2(n) −

3
2
ζ2(n) − 1
2 { n

2 }ζ0(n) .

1
2

n(n + 1)(n + 2)

We observe that for any n ≥ 2, we have Gm(n) > 0. This proves the case

where ℓ = 0. If we now assume that m > ℓ, then we have, for n ≥ 2,

ℓGℓ(n) + mGm(n) > ℓGℓ(n) + ℓGm(n) = 0 ,

which proves what we need.

2.6 Case: P smooth ﬁxed point

This is the case where P = Z(W ) ∈ X reg, and σ(P ) = P .
Z(U ) 6⊂ X.

In particular,

The previous proof of the case m > ℓ ≥ 0, which starts with Formula (22),
applies here, too, and so we only need to deal with the case ℓ ≥ m ≥ 0. This
case is diﬀerent than before, because we cannot use V V = V W + W V in the
estimate for wℓ, instead we exploit non-commutativity using Lemma 2.9, to
improve the estimate on wm.

So assume that ℓ ≥ m ≥ 0.
We use Lemma 2.6. Thus we have, for every α = 1, . . . , n, a total of ℓ
n , and a total of m instances of k where

instances of k, where {V n−αW α} ⊂ I (k)
{W n−αU α} ⊂ I (k)
n .

We have dim V n−αW α ≥ 3n− α, by Lemma 2.2, even for α = n, because the

line bundles L(−P ) and Lσ(−P ) are not isomorphic. Therefore, we can take

wℓ(n) =

=

nXα=1

5
2

(3n − α)

n2 −

1
2

n .

Then

and

(wℓ + 2ea)(n) =

=

5
2
7
2

n2 −

n2 −

1
2
7
2

n + (n − 1)(n − 2)

n + 2 ,

Gℓ(n) =

=

7
2
1
2

ζ2(n) −

ζ2(n) −

7
2
1
2

ζ1(n) + 2ζ0(n) − n(n + 1)(n + 2)

ζ1(n) .

30

We observe that this is positive, for all n ≥ 2, proving the m = 0 case.

Now assume that m > 0. For β ≤ n

2 we have dim{W n−βU β} ≥ 2n − β, and
2 , we have dim{W n−βU β} ≥ 3n − 3β, by Lemma 2.9. Therefore, (not

for β ≥ n
forgetting that dim U n = 1)

(2n − β) +

(3n − 3β) + 1

(3n − 3β) −

(n − 2β) + 1

wm(n) =

=

=

=

⌊ n

2 ⌋Xβ=1
nXβ=1

3
2
5
4

2 ⌋+1

nXβ=⌊ n
2 ⌋Xβ=1

⌊ n

n2 −

n + 1 − ⌊ n

2 ⌋(⌈ n

2 ⌉ − 1)

3
2

n2 − n + 1 − 1

2 { n

2 } .

Hence

Gm(n) =

5
4

ζ2(n) − ζ1(n) + (1 − 1

2 { n

2 })ζ0(n) −

1
2

n(n + 1)(n + 2)

= −

1
4

ζ2(n) +

1
2

ζ1(n) − 1

2 { n

2 } ζ0(n) .

As we are in the case ℓ ≥ m, we get

1

m(cid:0)ℓGℓ(n) + mGm(n)(cid:1) ≥ Gℓ(n) + Gm(n)

=

ζ2(n) − 1

2 { n

2 } ζ0(n) ,

1
4

which we already determined to be positive, for all n ≥ 2.

2.7 Case: P node

Now let us deal with the case where P = Z(W ) is a node of X. We can
still use the arguments from the above subcase m > ℓ ≥ 0, which starts with
Equation (22), and consider this case proved.

So assume that ℓ ≥ m ≥ 0.
We remark that P is not ﬁxed by σ, so we still have the convenient fact
V V = V W + W V . On the other hand, the estimate for the dimension of
V n−α−βW αU β drops, but this is made up for by the fact that c3 ∈ I (3ℓ)
, by
Proposition 1.30.

3

31

We use Lemma 2.6. Using Lemma 2.10, below, this gives the estimate

wℓ(n) =

=

⌊ n

2 ⌋Xα=1
nXα=1

3n +

nXα=⌊ n

2 ⌋+1

(5n + 1 − 4α)

⌊ n

2 ⌋Xα=1

(5n + 1 − 4α) −

(2n + 1 − 4α)

= 3n2 − n − ⌊ n

2 ⌋(2⌈ n

2 ⌉ − 1)

=

5
2

n2 −

1
2

n .

But note that this estimate is not optimal. For example, we counted the contri-
bution of W n with n + 1, but in fact, it is larger than that, because we cannot
have only one node involved. It will be suﬃcient to improve wℓ(n) by adding 1
to it:

wℓ(n) =

n2 −

n + 1 .

5
2

1
2

We have c3 ∈ J (3ℓ)

3

, and hence we compute

(wℓ + 3ea)(n) =

5
2

n2 −

1
2

n +

3
2

(n − 1)(n − 2) + 1

= 4n2 − 5n + 3 + 1 .

This gives us

Gℓ(n) = 4ζ2(n) − 5ζ1(n) + 3ζ0(n) − n(n + 1)(n + 2) + ζ0(n)

= ζ2(n) − 2ζ1(n) + ζ0(n) + ζ0(n)

=

1
6

n(2n2 + 3n − 3) − { n

3 } + ζ0(n) .

This is positive, for all n ≥ 2, proving the stability bound in the case m = 0.

For the case m > 0, we note that Lemma 2.6 also gives us

(n + 1 − β)

wm(n) =

=

nXβ=1

1
2

n2 +

1
2

n ,

and hence

Gm(n) =

1
2

ζ2(n) +

1
2

ζ1(n) −

1
2

n(n + 1)(n + 2)

= −ζ2(n) + 2ζ1(n) − ζ0(n) .

32

Then we have

1

m(cid:0)ℓGℓ(n) + mGm(n)(cid:1) ≥ Gℓ(n) + Gm(n)

= ζ0(n)
> 0 .

2.8 Case: Y linear component of X

We assume now that Y = Z(U ) ⊂ X. Then Y is a linear component of X, and
X is a Neron triangle. Moreover, the automorphism σ acts transitively on the
three edges of X. Any choice of non-singular base point of X turns X reg, the
non-singular part of X, into a commutative group scheme, such that σ becomes
a translation. The point P = Z(W ) necessarily lies on X, but is not ﬁxed by σ
(of course, it may be a node).

To formulate dimension estimates, let Y ′ = σ−1Y , and Y ′′ = σ−2Y be the
other two edges of X. Let Q = Y ∩ Y ′, Q′ = Y ′ ∩ Y ′′ and Q′′ = Y ′′ ∩ Y be the
three nodes of X. Let M be a line bundle on X, whose degrees on the three
Y ) ⊂
Γ(M ) the subspace of sections which vanish to order at least β on Y , and
Q) ⊂ Γ(M ) the subspace of sections vanishing to order
at least α at Q. (The ideal sheaf of the closed subscheme Y ⊂ X is locally
principal, generated by s, for any non-zero element s ∈ U .)

edges, d, d′, d′′, are all non-negative. Denote by Γ(cid:0)M (−βY )(cid:1) = Γ(M ⊗ I β
Γ(cid:0)M (−αQ)(cid:1) = Γ(cid:0)M ⊗ mα

Lemma 2.10 We have

(i) if 2β ≤ d′ + d′′ + 1, then dim Γ(cid:0)M (−βY )(cid:1) = d′ + d′′ + 1 − 2β,
(ii) if β + γ ≤ d′′ + 1, then dim Γ(cid:0)M (−βY − γY ′)(cid:1) = d′′ + 1 − β − γ,
(iii) if 2β ≤ d + d′ + d′′ + 1, then dim Γ(cid:0)M (−βQ)(cid:1) = d + d′ + d′′ + 1 − 2β,
(iv) if β + γ ≤ d′ + 1, and β + γ ≤ d′′ + 1, then dim Γ(cid:0)M (−βY − γQ′)(cid:1) =
(v) if β + γ ≤ d′ + 1, and β + γ ≤ d + d′′ + 1, then dim Γ(cid:0)M (−βQ − γQ′)(cid:1) =
(vi) if α+β ≤ d′+1, and β+γ ≤ d′′+1, and α+γ ≤ d+1, then dim Γ(cid:0)M (−αQ−
βQ′ − γQ′′)(cid:1) = d + d′ + d′′ + 3 − 2α − 2β − 2γ.

In call cases, it is important, that α, β, γ ≥ 1.

d + d′ + d′′ + 2 − 2β − 2γ,

d′ + d′′ + 2 − 2β − 2γ,

Proof. These formulas follow easily by breaking up X into rational nodal
curves. (cid:3)

Corollary 2.11 For 1 ≤ β ≤ n+1

2 , we have

and

Γ(cid:0)Ln(−βY )(cid:1) + Γ(cid:0)Ln(−βY ′)(cid:1) = Γ(cid:0)Ln(−βQ)(cid:1) ,
Γ(cid:0)Ln(−βQ)(cid:1) + Γ(cid:0)Ln(−βY ′′)(cid:1) = Γ(Ln) ,

33

and hence also

Γ(cid:0)Ln(−βY )(cid:1) + Γ(cid:0)Ln(−βY ′)(cid:1) + Γ(cid:0)Ln(−βY ′′)(cid:1) = Γ(Ln) .

Corollary 2.12 If 1 ≤ γ ≤ α ≤ n+1

2 , we have

and

Γ(cid:0)Ln(−αY − γY ′)(cid:1) + Γ(cid:0)Ln(−αY − γY ′′)(cid:1) = Γ(cid:0)Ln(−αY − γQ′)(cid:1) ,
Γ(cid:0)Ln(−αY − γQ′)(cid:1) + Γ(cid:0)Ln(−αY ′ − γQ′′)(cid:1) = Γ(cid:0)Ln(−αQ − γQ′ − γQ′′)(cid:1) ,
Γ(cid:0)Ln(−αQ − γQ′ − γQ′′)(cid:1) + Γ(cid:0)Ln(−αY ′′ − γQ)(cid:1) = Γ(cid:0)Ln(−γQ − γQ′ − γQ′′)(cid:1) .

Corollary 2.13 For 1 ≤ β ≤ ⌊ n

and also

3 ⌋, we have that
{V n−βU β} = Bn .

For ⌊ n

3 ⌋ + 1 ≤ β ≤ 2⌊ n

3 ⌋, we have

where i = β − ⌊ n

3 ⌋.

If n ≡ 1 mod 3, and β = 2⌊ n

{V n−βU β} ⊃ Γ(cid:0)Ln(−iQ − iQ′ − iQ′′)(cid:1) ,
3 ⌋Q′)(cid:1) ,
{V n−βU β} ⊃ Γ(cid:0)Ln(−(⌊ n

3 ⌋ + 1)Y − ⌊ n

3 ⌋ + 1, we have

3 ⌋ + 1, we have

if n ≡ 2 mod 3, and β = 2⌊ n

(23)

and if β = 2⌊ n

Proof. Note that

and

and

3 ⌋ + 1)Q − ⌊ n

3 ⌋ + 1)Y − (⌊ n

V . . . V

(U V V ) . . . (U V V )

3 ⌋ + 2, we have

{V n−βU β} ⊃ Γ(cid:0)Ln(−(⌊ n
{V n−βU β} ⊃ Γ(cid:0)Ln(−(⌊ n
| {z }
|
}
| {z }
| {z }

{z
{z
{z

V V U . . . V V U

V U V . . . V U V

}
}

|
|

V . . . V

V . . . V

3 ⌋Q′ − ⌊ n

3 ⌋Q′′)(cid:1) ,
3 ⌋ + 1)Y ′)(cid:1) .
= Γ(cid:0)Ln(−βY )(cid:1) ,
= Γ(cid:0)Ln(−βY ′)(cid:1) ,
= Γ(cid:0)Ln(−βY ′′)(cid:1) .

n−3β

n−3β

n−3β

β

β

β

The ﬁrst claim now follows from Corollary 2.11.

The second claim follows from Corollary 2.12 upon considering

and its 5 ‘cousins’.

U U V . . . U U V

U V V . . . U V V

β−⌊ n

3 ⌋

2⌊ n

3 ⌋−β

|

{z

}

|

{z

V . . . V

n−3⌊ n

| {z }

3 ⌋

}

The last three claims follow by similar considerations. (cid:3)

34

Subcase: ℓ = 0 .

To prove the stability estimates, let us start with the case that ℓ = 0. From
Lemma 2.8, we obtain, for every β = 1, . . . , n exactly m instances of k where
{V n−βU β} ⊂ I (k)

n . By Corollary 2.13, we have (for n ≥ 1):

wm(n) =

=

⌊ n

3 ⌋Xβ=1
3 ⌋Xβ=1

⌊ n

3n +

2⌊ n

3 ⌋Xβ=⌊ n
3 ⌋+1(cid:0)3n + 3 − 6(β − ⌊ n
3 ⌋)(cid:1)

(6n + 3 − 6β)

3 ⌋ − 3⌊ n

3 ⌋(⌊ n

3 ⌋ + 1)

= (6n + 3)⌊ n
3 ⌋(6n − 3⌊ n
= ⌊ n
1
(5n + 3{ n
3

=

3 ⌋)

3 })(n − 3{ n

3 })

=

1
3

5n2
5n2 − 4n − 1
5n2 − 8n − 4

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 .

·

But we have not been optimal, yet, if n ≡ 1 (3) or n ≡ 2 (3). By Corollary 2.13,
if n ≡ 1 (3), and n ≥ 4, we can add 1
3 (2n + 4), but for n = 1, we can only
add 1 and not 2. In order to have uniform formulas, we will therefore add only
1
3 (2n + 1).

If n ≡ 2 (3), and n ≥ 5, we can add n + 5 and 1

3 (n + 1), but if n = 2, we can
only add 5 and 1, and not 7 and 1. Again, in the interest of uniform formulas,
we add only n + 3 and 1

3 (n + 1), for a total of 2

3 (2n + 5).

In sum, we have

wm(n) =

1
3

·

5n2
5n2 − 2n
5n2 − 4n + 6

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 .

2 n(n + 1)(n + 2)

5ζ2(n) − 3
5ζ2(n) − 2ζ1(n) − 3
5ζ2(n) − 4ζ1(n) + 6ζ0(n) − 3

2 n(n + 1)(n + 2)

2 n(n + 1)(n + 2)

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 .

ζ2(n) + 9ζ1(n) − 6ζ0(n)
ζ2(n) + 5ζ1(n) − 6ζ0(n)
ζ2(n) + ζ1(n) + 6ζ0(n)

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 .

Hence,

Gm(n) =

=

1
3

·
6

1

A direct calculation, using the formulas of Lemma 1.10, shows that mGm(n) >
0, for all n ≥ 2.

35

Subcase: ℓ > 0 .

Let us now deal with the case where ℓ > 0. Lemma 2.8 gives us, for every
β = 0, . . . , n − 1 precisely m instances of k where {V n−β−1W U β} ⊂ I (k)
n . Using
the two facts that V V = W V +V W and W U V +V U W = V U V , we can replace
the single factor of W by a factor of V , and still use the same arguments as
before, in the following cases:

(i) 0 ≤ β ≤ ⌊ n
(ii) ⌊ n

3 ⌋,

3 ⌋ + 1 ≤ β ≤ 2⌊ n

3 ⌋ − 1, or n ≡ 2 mod 3 .

We get

wℓ(n) ≥

=

3n +

2⌊ n

3 ⌋−1Xβ=⌊ n
3 ⌋)(cid:1)
3 ⌋+1(cid:0)3n + 3 − 6(β − ⌊ n

(6n + 3 − 6β) + 3n − (3n + 3 − 6⌊ n

3 ⌋)

= ⌊ n

3 ⌋(6n − 3⌊ n

3 ⌋) + 6⌊ n

3 ⌋ − 3
5n2 + 6n − 9
if n ≡ 0 mod 3
5n2 + 2n − 16 if n ≡ 1 mod 3
5n2 − 2n − 25 if n ≡ 2 mod 3 .

=

⌊ n

⌊ n

1
3

3 ⌋Xβ=0
3 ⌋Xβ=1
·
·

1
3

If n ≡ 2 mod 3, we can add a summand of 3n + 3 − 6⌊ n

3 ⌋, and we get instead

wℓ(n) =

5n2 + 6n − 9
if n ≡ 0 mod 3
5n2 + 2n − 16 if n ≡ 1 mod 3
5n2 + n − 4
if n ≡ 2 mod 3 .

These estimates are still not suﬃcient.
For n ≡ 1 (3), we consider {V n−β−1W U β} with β = 2⌊ n

3 ⌋. It contains the

three subspaces

U U V . . . U U V

W ,

U V U . . . U V U

W ,

V U U . . . V U U

W .

|

⌊

n
3 ⌋

{z

}

|

⌊

n
3 ⌋

{z

}

|

⌊

n
3 ⌋

{z

}

Considering the ﬁrst two, we see that the factor W can be moved into a position
where it does not aﬀect the dimension calculation. This means that we get a
dimension estimate for the sum of these three spaces which is worse by 1, than
the dimension estimate 3n + 3 − 6(β − ⌊ n
3 ⌋), which we used for {V n−βU β}. We
get an estimate of 3n + 2 − 6⌊ n
3 ⌋ = n + 4.

For n ≡ 2 (3), consider the contribution (23), which gave us a dimension
estimate of n + 3, for n ≥ 2. In the presence of a factor of W , this estimate
drops by 2 to n + 1.

36

which gives, by subtracting 3ζ2 − 3ζ1 + 2ζ0,

19n2 − 15n
if n ≡ 0 mod 3
19n2 − 17n + 10 if n ≡ 1 mod 3
19n2 − 19n + 16 if n ≡ 2 mod 3 ,

ζ2(n) + 3ζ1(n) − 12ζ0(n)
ζ2(n) + ζ1(n) − 2ζ0(n)
ζ2(n) − ζ1(n) + 4ζ0(n)

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 .

(wℓ + 3ea)(n) =
·

1
6

Gℓ(n) =

This gives us the following improved formulas for wℓ:

wℓ(n) =

1
3

5n2 + 6n − 9
5n2 + 5n − 4
5n2 + 4n − 1

if n ≡ 0 mod 3
if n ≡ 1 mod 3
if n ≡ 2 mod 3 .

We have that c3 ∈ J (3ℓ)
get

3

, by Proposition 1.30, and so we add 3

2 (n − 1)(n − 2) to

·
·

1
6

A direct calculation shows that ℓGℓ(n) > 0, for all n ≥ 2. This proves the
required stability estimate for m = 0.

If both ℓ > 0, and m > 0, Lemma 2.8 shows that we may simply add our
values for ℓGℓ and mGm to prove the stability estimate. Since they are positive
individually, this has already been observed.

3 Moduli stacks

3.1 Moduli stacks of stable regular algebras

Recall that we are working over an algebraically closed ﬁeld C, of characteristic
not equal to 2 or 3.

Deﬁnition 3.1 A ﬂat family of stable regular algebras, parametrized by
An over T , endowed
with the structure of sheaf of graded OX -algebras, such that for every t ∈ T ,
the ﬁbre At is a stable regular algebra as in Theorem 1.2.

the C-scheme T , is a graded vector bundle A = L∞

n=0

Let us denote the C-stack of families of stable regular algebras by Ms,r.

Theorem 3.2 The stack Ms,r of ﬂat families of stable regular algebras is a
smooth Deligne-Mumford stack of ﬁnite type. It has 4 components, Ms,r
A , Ms,r
B ,
Ms,r

E , and Ms,r

H . Concretely,

(A) Ms,r

A = [U/G216], where U ⊂ P2 is the complement of 4 concurrent lines,
and 4 points in P2. The group G216 is the group of automorphisms of the
oriented aﬃne plane over F3 (which has 216 elements). It acts U via its
quotient SL2(F3),

37

(B) Ms,r

B = [V /Z4], where V ⊂ P1 is the complement of 3 points in P1, and Z4

acts via its quotient Z2.

(E) Ms,r

E = BZ3,

(H) Ms,r

H = BZ4.

Proof. Let A be a ﬂat family of stable regular algebras parametrized by the
scheme T . As all members of A are elliptic, the triple (X, σ, L) of A is a ﬂat
family of elliptic triples. We have a short exact sequence of vector bundles on T :

0

/ R

/ V ⊗ V

/ π∗(L ⊗ Lσ) = A2

/ 0 .

Here π : X → T is the structure morphism. The algebra A is recovered from
R → V ⊗OT V as the quotient of the tensor algebra on V divided by the two
sided sheaf of ideals generated by R.

Now σ : X → X induces a group automorphism Pic0(σ) : Pic(X/T )0 →
Pic(X/T )0. The order of Pic0(σ) is necessarily ﬁnite, of order 1,2, 3, or 4, as we
are avoiding characteristic 2 and 3. The order of Pic0(σ) is also locally constant
over T , and so T breaks up into 4 open and closed subschemes Ti, where Ti ⊂ T
is the locus where the order of Pic0(σ) is i. This proves that Mr,s also breaks
up into 4 open and closed substacks Mr,s

.

i

Let us deal with each of the 4 components in turn, and assume that the

order of Pic0(σ) is constant.

Case A. First, assume that the order of Pic0(σ) is 1, so that Pic0(σ) is the
identity of Pic0(X/T ). By our classiﬁcation of stable algebras, the automor-
phism σ acts transitively on the set of components in every ﬁbre. Therefore, by
Theorem II 3.2 in [5], for any section P of X reg, there exists a unique structure
of generalized elliptic curve on X, having P as origin, such that σ acts as trans-
lation. In particular, X reg is a commutative group scheme, which acts on X,
and there is another section S of X reg, such that σ(Q) = Q + S, for all sections
Q of X.

Using this, we prove that in the the ﬁbered product

Z

X

T

L

Q7→O(Q+σQ+σ−1 Q)

/ Pic3(X)

the scheme Z is a form of the oriented aﬃne plane over F3. In particular, Z is
a ﬁnite ´etale cover Z → T of degree 9.

Then, at least ´etale locally, we can assume that P is a section of Z, which
we use to turn X into a generalized elliptic curve. then Z it equal to the scheme
of 3-division points in X, in particular, Z is an oriented vector bundle over F3.
We can choose, ´etale locally, an oriented basis Q1, Q2 for Z. We let S be the
section of X reg, such that σ is translation by S. From the fact that the algebra
A is elliptic, it follows that S avoids Z ⊂ X.

38

/
/
/
/
/
/




/
Thus, at least ´etale locally, we can associate to A a generalized elliptic curve
with full oriented level-3-structure, with an extra point S on it. The ambiguity
is in the choice of the oriented coordinate system (P, Q1, Q2) for the bundle of
aﬃne planes Z. The only restriction is that in singular ﬁbres, S avoids the 3-
division sections, that S stays away from X sing, and that in the singular ﬁbres,
S avoids the connected component of P .

Thus, conversely, let Let M(3) be the moduli scheme of generalized elliptic
curves with full oriented level-3-structure. Let E(3) → M(3) be the universal
curve. It classiﬁes quintuples (E, P, Q1, Q2, S), where (E, P ) is a generalized
elliptic curve, whose geometric ﬁbres are smooth or triangles, Q1 and Q2 are
3-division points on E, forming an oriented bases for E3, and S ∈ E is a further
point on E. Let E(3)0 ⊂ E(3) be the open subscheme deﬁned by the conditions
that S is not a node of E, not in the component of identity in any triangle, and
not in E3. Using the Hesse family of elliptic curves, it is not hard to identify
E(3)0 with the complement of 4 concurrent lines and 4 points in P2.

The scheme E(3)0 has the tautological triple(cid:0)E, τS), O(3P )(cid:1) over it. Associ-

ated to this triple is a ﬂat family of stable regular algebras AE(3)0 , parametrized
by E(3)0. The scheme of isomorphisms of AE(3)0 is canonically identiﬁed with
the transformation groupoid of G216 acting on E(3)0.

We have seen above, that the algebra AE(3)0 is versal, i.e., every ﬂat family
of stable regular algebras is ´etale locally induced from AE(3)0. This ﬁnishes the
proof that Ms,r
1

∼= [E(3)0/G216].

Case B. Let M(2)0 be the moduli stack of (non-singular) elliptic curves with
a ﬁxed 2-division point. It classiﬁes triples (E, P, Q), where (E, P ) is a smooth
elliptic curve, and Q is a non-zero section of E2. Note that the Legendre family
of elliptic curves identiﬁes M(2)0 with [V /Z4], where V ⊂ P1 is the complement
of 3 points in P1. To (E, P, Q) we associate the elliptic triple (X, σ, L), given
by X = E, σ : X → X is the involution R 7→ Q − R, whose ﬁxed points are the
4 second roots of Q, and L = O(2P + Q). The associated family of algebras is
a ﬂat family of stable regular algebras of Type B over M(2)0.

Conversely, let A → T be a ﬂat family of elliptic regular algebras, with as-
sociated ﬂat family of elliptic triples (X, σ, L). Assume that the order of Pic0(σ)
is 2. Then Pic0(σ) is necessarily the multiplication by −1 automorphism. This
implies that for any two local sections Q, Q′ of X, the line bundles OX (Q+σ(Q))
and OX (Q′ + σ(Q′)) are isomorphic. Thus there exists a unique, and therefore
global, section P , such that O(Q+σ(Q)+P ) ∼= L, for any Q. This makes (X, P )
into an elliptic curve, and the automorphism σ into R 7→ σ(P ) − R. Regularity
of the triple (X, σ, L) implies that Q = σ(P ) is a 2-division point on (X, P ). We
see that Ms,r
2

∼= M(2)0.

Cases E and H. Left to the reader. (cid:3)

3.2 Density

Proposition 3.3 Suppose that A is a ﬂat family of graded q-truncated algebras,
parametrized by the ﬁnite type k-scheme T . Then the locus of points t ∈ T , such
that the ﬁbre At is the q-truncation of a stable regular algebra is open in T .

39

Proof. By deﬁnition,

A =

Aq ,

qMn=0

is a direct sum of vector bundles, where A0 = OT . Let us assume that t0
is a point of T , such that the ﬁbre A |t0 of A over t0 is the truncation of a
non-singular elliptic regular algebra. We will prove that there exists an open
neighbourhood U of t0 in T , such that for every t ∈ U , the ﬁbre A |t is a
non-singular elliptic regular algebra as well.

The rank of the vector bundle An is a locally constant function on T , and
so by restricting to an open neighbourhood of t0, we may assume that it is
constant. It is then equal to 1
2 (n + 1)(n + 2), because it takes that value at t0,
by Formula (1.15) in [2].

Let us write V = A1. This is now a vector bundle of rank 3 on T . Multipli-

cation in A deﬁnes a homomorphism of vector bundles

V ⊗OT V → A2 .

(24)

The locus of points in T , over which (24) is not surjective is closed in T . Over
the point t0, the homomorphism (24) is surjective, because A |t0 is generated
in degree 1. So the locus of points in T where (24) is surjective is an open
neighbourhood of t0, and be restricting to this open neighbourhood, we may
assume that (24) is surjective. Then the kernel of (24) is a vector bundle R of
rank 3 on T .

By the same reasoning, we may assume that A2 ⊗OT V → A3 and V ⊗OT
A2 → A3 are epimorphisms of vector bundles, and that the respective kernels K
and K ′ are vector bundles as well. Both vector bundles K and K ′ have rank 8.
We have the following commutative diagram of coherent sheaves of OT -

modules:

W

α

β

R ⊗ V

K ′

Q′

V ⊗ R

V ⊗ V ⊗ V

V ⊗ A2

A2 ⊗ V

/ A3

K

Q

All tensor products are over OT . All rows and columns are exact, when com-
pleted with zeros on all ends. By the snake lemma, Q′ = Q. Since A |t0 is
quadratic, the homomorphisms V ⊗ R → K and R ⊗ V → K ′ are surjective
near t0, and so we can assume they are surjective, and that Q′ = Q = 0. Then
All sheaves in our diagram are locally free, and in particular W is a vector
bundle of rank 1.

40

/
/


/
/


/
/


/
/


/
/




/
/


/
We may also assume that the images of α and β have full rank, i.e., any
non-zero section of ω of W induces isomorphisms β(ω)∗ : R∗ → V and α(ω)∗ :
V ∗ → R, because this is the case at the point t0.

We now consider the projective bundle P(V ) → T of one-dimensional quo-
tients of V . From the homomorphism of vector bundles R → V ⊗ V , we obtain
homomorphisms

Λ3R −→ Λ3V ⊗OT Sym3 V

and

Λ3R −→ Sym3 V ⊗OT Λ3V ,

and hence

Λ3V ∗ ⊗ Λ3R −→ Sym3 V

and

Λ3R ⊗ Λ3V ∗ −→ Sym3 V .

(25)

The arrows (25) are both strict monomorphisms of vector bundles over T , and
hence X1, X2 are ﬂat families of Cartier divisors of degree 3 in P(V ). In fact,
by our assumption that both α and β have full rank, we have X1 = X2, i.e., we
are in the semi-standard case. We will call this scheme X = X1 = X2.

Moreover, R → V ⊗ V deﬁnes a family of subschemes Γ in P(V ) ×T P(V ).
By construction the projections factor π1 : Γ → X and π2 : Γ → X. At t0, both
these morphisms are isomorphisms, and so by properness of Γ and X, we may
assume that they are isomorphisms.

This gives us an elliptic triple, from which we can construct a ﬂat family
of elliptic regular algebras A ′, together with a morphism of graded algebras
A ′ → A . At the point t0 it is an isomorphism, so we may assume that it is an
isomorphism.

Let us ﬁnish by proving that there is an open neighbourhood of t0 where
the triple (X, σ, L) is regular. First note that the condition of being regular or
exceptional is open: it is the locus where R1π∗(L ⊗ (Lσ)−⊗2 ⊗ Lσ2
) has rank 1.
If At0 is of type B, E, or H, we can pass to the open set where X is smooth,

to get rid of the exceptional locus.

So assume that t0 is of type A. If X is smooth at t0, we simply pass to the
open neighbourhood where X is smooth. If X is not smooth at t0 it is a triangle,
which is being rotated by σ. We now restrict to the open neighbourhood of t0
where X is nodal and Pic0(σ) is the identity.

We also exclude all points where the algebra is not stable, as this locus is
closed. Then every ﬁbre is either smooth, or a triangle on which σ acts by
rotation, or exceptional, in which case σ acts by swapping components. Thus in
every ﬁbre, σ acts transitively on connected components, and by by Lemme II 1.7
of [5], we may endow X with the structure of a generalized elliptic curve. Then
by Proposition II 1.15 of [5], the exceptional locus, which is the locus where X
has two components, is closed in T , and so we can remove it, and we are left
with a family of stable regular algebras, as required. (cid:3)

Corollary 3.4 For every q, the moduli stack of stable algebras Ms
substack isomorphic to

q has an open

Ms,r

A ∐ Ms,r

B ∐ Ms,r

E ∐ Ms,r
H .

41

Each stack Ms,r
ducible component of Ms

i

, for i ∈ {A, B, E, H}, is an open dense substack in the irre-

q which contains it.

We can unfortunately not prove that every stable algebra is regular. There
may be further stable algebras in the boundary of the non-proper stacks Ms,r
A
and Ms,r
B , or there may be entire components consisting of stable algebras which
are not regular.

In particular, it may happen that exceptional algebras are stable, as their
triples can satisfy our stability criterion, but we have not examined this possi-
bility closer.

For every q, we have a projective coarse moduli space of S-equivalence classes
of semi-stable algebras, but we do not have a complete description of these,
except for low values of q.

References

[1] T. Abdelgadir, S. Okawa, and K. Ueda. Compact moduli of noncommutative

projective planes. Preprint arXiv:1411.7770 [math.AG], 2014.

[2] M. Artin and W. F. Schelter. Graded algebras of global dimension 3. Adv.

in Math., 66(2):171–216, 1987.

[3] M. Artin, J. Tate, and M. Van den Bergh. Some algebras associated to
automorphisms of elliptic curves. In The Grothendieck Festschrift, Vol. I,
volume 86 of Progr. Math., pages 33–85. Birkh¨auser Boston, Boston, MA,
1990.

[4] K. Behrend and B. Noohi. Derived moduli of non-commutative projective

schemes. Preprint arXiv:1507.07054 [math.AG], 2015.

[5] P. Deligne and M. Rapoport. Les sch´emas de modules de courbes elliptiques.
In Modular functions of one variable, II (Proc. Internat. Summer School,
Univ. Antwerp, Antwerp, 1972), pages 143–316. Lecture Notes in Math.,
Vol. 349. Springer, Berlin, 1973.

[6] J. Hwang. On aspects of stability and moduli of non-commutative algebras.

PhD Thesis, University of British Columbia, 2016.

42

