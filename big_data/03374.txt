6
1
0
2

 
r
a

 

M
0
1

 
 
]

.

O
L
h
t
a
m

[
 
 

1
v
4
7
3
3
0

.

3
0
6
1
:
v
i
X
r
a

Remarks on Barr’s theorem: Proofs in geometric

theories

Michael Rathjen

Department of Pure Mathematics, University of Leeds

Leeds LS2 9JT, United Kingdom

rathjen@maths.leeds.ac.uk

March 11, 2016

Abstract

A theorem, usually attributed to Barr, yields that (A) geometric implica-
tions deduced in classical L∞ω logic from geometric theories also have intu-
itionistic proofs. Barr’s theorem is of a topos-theoretic nature and its proof is
non-constructive. In the literature one also ﬁnds mysterious comments about
the capacity of this theorem to remove the axiom of choice from derivations.
This article investigates the proof-theoretic side of Barr’s theorem and also
aims to shed some light on the axiom of choice part. More concretely, a con-
structive proof of the Hauptsatz for L∞ω is given and is put to use to arrive
at a simple proof of (A) that is formalizable in constructive set theory and
Martin-L¨of type theory.

1

Introduction

A signature Σ consists of constant symbols, function symbols, and relation symbols
together with an assignment of a unique positive integer (arity) to any object of
the latter two kinds. A language L is comprised of a signature Σ and formation
rules, i.e., rules for forming formulae over Σ. The familiar Tarskian way of assigning
meaning to the symbols of L proceeds by associating set-theoretic objects to them,
notably functions and relations construed set-theoretically, giving rise to the notion
of (set-theoretic) structure for L and model of T for any theory T in the language
of L. There is also a more general notion of structure in a suﬃciently rich cate-
gory C. For example, if C has ﬁnite products, then any equational language (i.e.,
equality being the sole relation symbol and equations the only formulae) allows for
interpretation in C, by viewing terms as morphisms and function symbol application
as composition. Another prominent example is the interpretation of the typed λ-
calculus in cartesian closed categories (cf. [17]). For still richer languages one must
impose more conditions on C. If one wants to extend this idea to higher order logic,
then C is required to be a topos (cf.
[14, D1.2]). This extra level of generality of
interpretation, however, comes with a penalty to pay in that only intuitionistically
valid consequences can be guaranteed to survive the interpretation.

1

One is often interested in transferring results from the category of sets, Set,
where classical logic, the axiom of choice and more reign, to an arbitrary topos E.
This is possible, for instance, for the following (non ﬁrst-order) assertion:

All modules over ﬁelds are ﬂat.1

A result that ensures this transfer is commonly called Barr’s Theorem (see e.g.[19,
p.515])2 but it can also be inferred from cut elimination for the inﬁnitary logic Lω1ω
(see later parts of this paper). For this to work, however, the formalization of
mathematical notions is important. They have to be chosen carefully, as familiar
equivalences are liable to fail in an intuitionistic setting. Moreover, to ensure survival
of statements it will be important to develop mathematics within (classical) geomet-
ric theories and to couch statements as geometric implications. The topos-theoretic
result alluded to above is the following.

Theorem: 1.1 For every Grothendieck topos E there exists a complete Boolean al-
gebra B and a surjective geometric morphism Sh(B) → E. Here Sh(B) is the topos
of sheaves on the Boolean algebra with the usual sup topology. Moreover, Sh(B)
is a Boolean topos and satisﬁes the axiom of choice, in the sense that for any epi
e : Y ։ X there exists s : Y → X such that e ◦ s = 1Y .

As a consequence3 one arrives at the following insight.

Corollary: 1.2 If T is a geometric theory and A is a geometric statement deducible
from T with classical logic, then A is also deducible from T with intuitionistic logic,
where by logic we mean inﬁnitary L∞ω-logic.

Though this Corollary also follows from a syntactic cut elimination result for L∞ω
(see section 7), Barr’s theorem is often alleged to achieve more in that it also allows
to eliminate uses of the axiom of choice. This is borne out by the following quotes:

“METATHEOREM. If a geometric sentence is deducible from a geomet-
ric theory in classical logic, with the axiom of choice, then it is also
deducible from it intuitionistically.” G.C. Wraith: Intuitionistic Alge-
bra: Some Recent Developments in Topos Theory. Proceedings of the
International Congress of Mathematicians, Helsinki, 1978 331–337.

“This has the advantage that all such toposes satisfy the Axiom of
Choice; so we obtain a further conservativity result ..., asserting that
uses of the Axiom of Choice may be eliminated from any derivation of
a geometric sequent from geometric hypothesis.” P. Johnstone: Sketches
of an elephant, vol. 2, p. 899.

1This is just a simple example. Flatness of a module M , a notion introduced by Serre in
1956, is usually deﬁned by saying that tensoring with M preserves injectivity. An equivalent way
of expressing in Lω1ω that M is a ﬂat R-module for a ring R is the following: For all m ∈ N,
whenever x1, . . . , xm ∈ M and r1, . . . , rm ∈ R satisfy P rixi = 0, then there exist y1, . . . , yn ∈ M
and aij ∈ R such that xi = P aijyj and P riaij = 0.

2Disclaimer applying to the entire paper: This is not a paper on the history of certain pieces
of mathematics. The attribution of results to persons is borrowed from standard text books or
articles in the area, and therefore may well be historically inaccurate, as is so often the case.

3There are several steps and further theorems involved; cf. [14, 3.1.16].

2

Judging from conversations with logicians and discussions on internet forums (e.g.
MathOverﬂow), it is probably fair to say that the main appeal of Barr’s theorem
stems from its mysterious power to utilize AC and then subsequently get rid of it.
But can it really perform these wonders? As a backcloth for the discussion it might
be useful to recall some famous AC-removal results.

Theorem: 1.3 Below GCH stands for the generalized continuum hypothesis.

(i) (G¨odel 1938–1940) If A is a number-theoretic statement and ZFC+GCH ⊢ A

then ZF ⊢ A.

(ii) (Shoenﬁeld 1961, Platek, Kripke, Silver 1969) If B is a Π1

4-statement of second

order arithmetic and ZFC + GCH ⊢ B then ZF ⊢ B.

(iii) (Goodman 1976, 1978) If A is a number-theoretic statement and HAω +
ACtype ⊢ A, then HA ⊢ A. Here HA stands for intuitionistic arithmetic
also known as Heyting arithmetic. HAω denotes Heyting arithmetic in all ﬁ-
nite types with ACtype standing for the collection of all higher type versions
ACστ of the axiom of choice with σ, τ arbitrary ﬁnite types.

So should Barr’s theorem be added to this list of renowned theorems with AC-
eliminatory powers? The above quotes by Wraith and Johnstone seem to suggest
that the addition of the axiom of choice to a geometric theory does not produce new
geometric theorems. But one immediately faces the question of what it means to add
AC to a theory T . Here it might be useful to introduce a rough distinction which
separates two ways of doing this. The ﬁrst route, which consists in expressing AC in
the same language as T , will be referred to as an internal addition of AC. If, on the
other hand, AC is expressed in a richer language with a new sort of objects where
the choice functions live; we shall term it an external addition. If T is a ﬁrst-order
theory, then adding AC internally to T requires the language of T to be suﬃciently
rich. Moreover, internal AC forces the choice functions to be objects falling under
the ﬁrst order quantiﬁers of T , and thus, in general, the axioms of T will “interact”
with AC in this augmentation. By contrast, an external addition of AC refers to
a potentially larger universe, where the choice functions needn’t be denizens of the
realm that the original theory T speaks about. The foregoing distinction is still very
coarse, though. For instance the choice functions might be external but they can
certainly act on the original objects of T . Therefore if one also demands principles
of T (e.g.
induction) to hold for terms that involve these choice functions (like in
the Goodman result) it is conceivable that conservativity will be lost (as is the case
with the classical version PAω + ACtype of HAω + ACtype). Notwithstanding that
there are multifarious possibilities to add AC, labeling some of them as internal and
others as external augmentations provides a useful, if crude, heuristics.

In view of Theorem 1.3 one can also ask if Barr’s Theorem can be beefed up
to include more than just AC. For instance, how about the continuum hypothesis,
V = L, ♦ and other axioms?

3

2 Geometric and ∞-geometric theories

Below we will work in the extension L∞ω of ﬁrst order logic (Lωω) which has all the
formulae engendering rules of the latter but also allows to form inﬁnitely long con-
junctions V Φ and disjunctions W Φ from any set Φ of already constructed formulae.
A particulary well-behaved fragment of L∞ω is Lω1ω where the set Φ in V Φ and
W Φ is always required to be countable. Inﬁnitary logics began to play an important
role in logic in the 1950s.4

2.1 Geometric theories

Deﬁnition: 2.1 The geometric formulae are inductively deﬁned as follows: Every
atom is a geometric formula. If A, B, and C(a) are geometric formulae then so are
A ∨ B, A ∧ B and ∃x C(x) (where x does not occur in C(a).

Another way of saying this is that a formula is geometric iﬀ it does not contain

any of the particles →, ¬, ∀.

A formula is called a geometric implication if it is of either form ∀~x A or ∀~x ¬A
or ∀~x (A → B) with A and B being geometric formulae. Here ∀~x may be empty. In
particular geometric formulae and their negations are geometric implications.

A theory is geometric if all its axioms are geometric implications.

Below we shall give several examples of geometric theories.5

Examples: 2.2

(i) 1. Robinson arithmetic. The language has a constant 0, a
unary successor function suc and binary functions + and ·. Axioms are the
equality axioms and the universal closures of the following.

1. ¬suc(a) = 0.

2. suc(a) = suc(b) → a = b.

3. a = 0 ∨ ∃y a = suc(y).

4. a + 0 = a.

5. a + suc(b) = suc(a + b).

6. a · 0 = 0.

7. a · suc(b) = a · b + a

A classically equivalent axiomatization is obtained if (3) is replaced by

¬a = 0 → ∃y a = suc(y)

but this is not a geometric implication.

4 “Yet inﬁnitary logic has a long prehistory. Inﬁnitely long formulas were introduced by C.S.
Peirce in the 1880s, used by Schr¨oder in the 1890s, developed further by L¨owenheim and Lewis in
the 1910s, explored by Ramsey and Skolem in the 1920s, extended by Zermelo and Helmer in the
1930s, studied by Carnap, Novikov, and Bochvar (and explicitly rejected by G¨odel) in the 1940s,
and exploited by A. Robinson (1951).” [21]

5For more detailed descriptions of these theories and also the ones considered in Section 2.2,

see e.g. [3], [7, 1.4], [10, Appendix: Examples].

4

(ii) The theories of groups, rings, local rings and division rings have geometric
axiomatizations. Local rings are commutative rings with 0 6= 1 having just
one maximal ideal. On the face of it, the latter property appears to be second
order but it can be rendered geometrically as follows:

∀x (∃y x · y = 1 ∨ ∃y (1 − x) · y = 1).

(iii) The theories of ﬁelds, ordered ﬁelds, algebraically closed ﬁelds and real closed
ﬁelds have geometric axiomatizations. To express invertibility of non-zero
elements one uses ∀x (x = 0 ∨ ∃y x · y = 1) rather than the non-geometric
axiom ∀x (x 6= 0 → ∃y x · y = 1).

To express algebraic closure replace axioms

s 6= 0 → ∃x sxn + t1xn−1 + . . . + tn−1x + tn = 0

by

s = 0 ∨ ∃x sxn + t1xn−1 + . . . + tn−1x + tn = 0

where sxk is short for s · x · . . . · x with k many x.

Also the theory of diﬀerential ﬁelds has a geometric axiomatization. This
theory is written in the language of rings with an additional unary function
symbol δ. The axioms are the ﬁeld axioms plus ∀x∀y δ(x + y) = δ(x) + δ(y)
and ∀x∀y δ(x · y) = x · δ(y) + y · δ(x).

(iv) The theory of projective geometry has a geometric axiomatization.

(v) The theories of equivalence relations, dense linear orders, inﬁnite sets and

graphs also have geometric axiomatizations.

2.2 The inﬁnite geometric case

Inﬁnitary logics are much more expressive and it is interesting to investigate notions
of geometricity in these expanded settings. The inﬁnitary languages we have in
mind are such that they accommodate inﬁnite disjunctions W Φ and conjunctions
V Φ, where Φ is set of (inﬁnitary) formulae.6 This language is customarily denoted
by L∞ω.

In this richer language a formula is said to be inﬁnite geometric, notated ∞-
geometric, if in addition to ∨, ∧, ∃ one also allows inﬁnite disjunctions W Φ, where Φ
is already a set of ∞-geometric formulae satisfying the above proviso on the number
of variables.

An example of an axiom expressible in this richer language via a ∞-geometric

implication is the Archimedean axiom:

∀x (x < 1 ∨ x < 1 + 1 ∨ . . . ∨ x < 1 + . . . + 1 ∨ . . .)

6It will be assumed that the total number of free variables occurring in the formulae of Φ is
ﬁnite. The reason for this commonly found restriction appears to be that in this language only
ﬁnitely many variables can be quantiﬁed at a time. So if one allowed inﬁnitely many free variables
there would be formulae which cannot be closed.

5

or in more compact way with N+ = {n ∈ N | n > 0}:

∀x _

n∈N+

x < n.

One often only considers the sublanguage Lω1ω of L∞ω where the formation of

W Φ and V Φ is only permissible for countable sets of formulae Φ.

Deﬁnition: 2.3 The ∞-geometric formulae are inductively deﬁned as follows: Ev-
ery atom is a ∞-geometric formula. If A and B are ∞-geometric formulae then so
are A ∨ B and A ∧ B. If C(a) is a ∞-geometric formula with all occurrences of a
indicated and x is a bound variable that does not occur in C(a) then ∃x C(x) is a
∞-geometric formula. If Φ is a set of ∞-geometric formulae having a ﬁnite number
of free variables then W Φ is a ∞-geometric formula.
any of the particles →, ¬, ∀,V.
The collection of ∞-geometric implications is generated as follows:

Another way of saying this is that a formula is ∞-geometric iﬀ it does not contain

1. If A, B are ∞-geometric formulae then A, ¬A and A → B are ∞-geometric

implications.

2. If C(a) is a ∞-geometric implication and a is a free variable with all occur-
rences indicated and x does not occur in C(a), then ∀x C(x) is a ∞-geometric
implication.

3. If Ψ is a set of ∞-geometric implications having a ﬁnite number of free variables

then V Ψ is a ∞-geometric implication.

A theory is ∞-geometric if all its axioms are ∞-geometric implications.

Examples: 2.4 We list some examples of Lω1ω theories.

1. The theory of torsion groups is characterized by the group axioms plus the

axiom

∀x _{x ◦ . . . ◦ x
}

{z

n-times

|

= e | n ≥ 1}.

2. The theory of ﬁelds with characteristic a prime is characterized by the ﬁeld

axioms together with the axiom

_{1 + . . . + 1
}

{z

n-times

|

= 0 | n ≥ 2}.

3. The theory of archimedean ordered ﬁelds is characterized by the ordered ﬁeld

axioms together with the axiom

∀x _{x < 1 + . . . + 1
}

{z

n-times

|

| n ≥ 1}.

6

4. The class of structures isomorphic to the standard model of Peano arithmetic

is characterized by the axioms of PA conjoined with the axiom

∀x _{x = 0 + 1 + . . . + 1
}

{z

|

n-times

| n ≥ 0}.

(1)

5. The theory of connected graphs has the usual axioms for graphs and addition-

ally has the axiom
∀x∀y[x = y ∨ _{∃z0 . . . ∃zn(x = z0 ∧ y = zn ∧ Ez0z1 ∧ . . . Ezn−1zn) | n ≥ 1}],

where E is a two-place relation such that Ezizi+1 expresses that there is an
edge going from zi to zi+1.

The above theories, with the exception of the fourth example, are ∞-geometric.
However, in the fourth example the induction axioms are not really needed as they
are implied in inﬁnitary logic by the axiom (1) and the axioms of Robinson arith-
metic, i.e. the axioms of PA pertaining to 0, suc, +, ·. They can be expressed by
means of geometric formulae as shown in 2.2.

In the logic L∞ω one has rules for V and W that generalize those for ∧ and ∨,

respectively. In the sequent calculus version they can be rendered thus.

V-Conjunction
A, Γ ⇒ ∆ and A ∈ Φ V L

V Φ, Γ ⇒ ∆

W-Disjunction

Γ ⇒ ∆, A for all A ∈ Φ V R

Γ ⇒ ∆,V Φ

Γ ⇒ ∆, A and A ∈ Φ W R

Γ ⇒ ∆,W Φ

A, Γ ⇒ ∆ for all A ∈ Φ W L.

W Φ, Γ ⇒ ∆

A detailed proof system for the logic L∞ω will be provided in section 5. Since
the technique of cut elimination will be an essential tool in our investigations, the
sequent calculus is most appropriate.

3 Adding the axiom of choice (internally) to geo-
metric theories does not preserve conservativity

This section features two examples of geometric theories where the internal addition
of AC does not preserve geometric conservativity. In the subsequent section we will
argue that the external addition of AC, in a certain sense, just amounts to arguing
in a stronger background theory. It might produce interesting results but perhaps
nothing that’s not easily obtainable from the Boolean-valued approach to forcing
combined with the completeness result for Lω1ω (both from the 1960s).

7

3.1 First example

The example to be presented is a ﬁrst-order theory. To deﬁne it we draw on a simple
method, that is sometimes called Morleyisation, by which every theory can be given
a geometric axiomatization in a richer language.7

Deﬁnition: 3.1 Let L be a language In this subsection we shall only be concerned
with ﬁrst order formulae. ∀~x (A1(~x ) ⇄ A2(~x )) will stand for two formulae namely
∀~x (A1(~x ) → A2(~x )) and ∀~x (A2(~x ) → A1(~x )).

For each formula A(u1, . . . , un) of L with all free variables indicated we add two
new n-ary relation symbols PA(~u ) and NA(~u ) to the language, where ~u = u1, . . . , un.
Call the new language La. The ﬁrst-order theory M a in the language La has the
following axioms:

1. ∀~x ¬(PA(~u )(~x) ∧ NA(~u )(~x)).

2. ∀~x (PA(~u )(~x) ∨ NA(~u )(~x)).

3. If A(~u ) is atomic add the axioms ∀~x (PA(~u )(~x) ⇄ A(~x )).

4. If A(~u ) is B(~u ) ∧ C(~u ) add ∀~x (PA(~u )(~x ) ⇄ PB(~u )(~x ) ∧ PC(~u )(~x )).

5. If A(~u ) is B(~u ) ∨ C(~u ) add ∀~x (PA(~u )(~x ) ⇄ PB(~u )(~x ) ∨ PC(~u )(~x )).

6. If A(~u ) is ¬B(~u ) add ∀~x (PA(~u )(~x ) ⇄ NB(~u)(~x )).

7. If A(~u ) is B(~u ) → C(~u ) add ∀~x (PA(~u )(~x ) ⇄ NB(~u )(~x ) ∨ PC(~u )(~x )).

8. If A(~u ) is ∃yB(~u, y) add ∀~x (PA(~u )(~x ) ⇄ ∃y PB(~u,v)(~x, y)).

9. If A(~u ) is ∀yB(~u, y) add ∀~x (NA(~u )(~x ) ⇄ ∃y NB(~u,v)(~x, y)).

If T is a ﬁrst-order theory, we denote by T a the theory M a augmented by the axioms

∀~x PA(~u)(~x )

for all axioms ∀~x A(~x ) of T .

Clearly, M a and T a are ﬁnite geometric theories.

Lemma: 3.2 Let M a, T and T a as above. Let ⊢i signify intuitionistic deducibility.

(i) For every formula A(~u ) of L with all free variables indicated,

M a ⊢i ∀~x [A(~x ) ↔ PA(~u)(~x )].

7One place where one can ﬁnd this terminology is Sacks’ book from 1972 [24, p. 256]. The
technique was used by Skolem in the 1920s and conceivably could have even older roots. Albeit
Skolemization would be more appropriate, that name is already used for something else. Keisler
in his 1977 paper [15, Theorem 2.18] refers to this gadget as the introduction of Skolem relations.
Hodges, in his book [10, p. 62] from 1993, called this method of gaining a ∀∃ axiomatization and
quantiﬁer elimination in a richer language atomization. For Morleyization in a topos-theoretic
setting see e.g. Johnstone’s book [14, p. 858] from 2002.

8

(ii) As a classical theory, T a is conservative over T , that is, for every L-sentence

B,

T ⊢c B iﬀ T a ⊢c B.

This is in general not true for T based on intuitionistic logic.

Proof: (i) is proved by induction on the generation of A(~u), making use of the
excluded middle principle for PA(~u) that is encapsulated in the ﬁrst two axioms of
M a.

(ii) This can be shown syntactically but the model-theoretic proof is shorter.
Every L-structure A can be expanded in just one way to an La-structure Aa which
is a model of M a. Hence every model M of T can be expanded in just one way to
an La-structure. Moreover, Ma is a model of T a. Also, by (i), T a comprises T as it
⊓⊔
proves all axioms of T .

Corollary: 3.3 Let L be the language of set theory and ZFa be the Morleyization of
Zermelo-Fraenkel set theory. ZFa + AC is not conservative over ZFa for geometric
implications of La.

Proof: Let AC be the statement ∀~x B(~x ). By Lemma 3.2(i) we have

ZFa ⊢ AC ↔ ∀~x PB(~u )(~x ),

and hence ZFa + AC ⊢ ∀~x PB(~u )(~x ). If ZFa + AC were conservative over ZFa for
geometric formulae we could infer that ZFa ⊢ ∀~x PB(~u )(~x ) and hence ZFa ⊢ AC,
which would yield ZF ⊢ AC by Lemma 3.2(iv).
⊓⊔

3.2 Second example

Here we study an inﬁnitary theory. Let L′ be the language with a set of constants X
and inﬁnitely many unary predicates Pn and Qn for n ∈ N. Let T ′ be the L′
∞ω-theory
with the following axioms:

(i) ∀z ¬[Pn(z) ∧ Qn(z)] for all n ∈ N.
(ii) Wa∈X Pn(a) for all n ∈ N;
(iii) Wn∈N Qn(f (n)) for all f ∈ X N.
Note that f does not appear as a function symbol in (iii); f (n) is just a constant
from X. T ′ is clearly a ∞-geometric theory.

In L′

∞ω we can express an instance Acc of countable choice as follows:

^

_

Pn(a) → _

^

Pn(f (n)).

n∈N

a∈X

f ∈X N

n∈N

Now observe that T ′ + Acc is a syntactically inconsistent theory, where the latter
means that an inconsistency B ∧ ¬B for some formula B can be deduced with the
help of the usual logical rules and the inﬁnitary proof rules given at the end of

9

Section 2.2.8 By contrast, T ′ is syntactically consistent as long as X has at least
two elements; although T ′ does not have a model in Set if we assume countable
choice to hold in Set. That T is syntactically consistent can be seen as follows. Let
V [G] be a forcing extension of the ground model V in which the set Y := X N of
V becomes countable. In V [G] there is an enumeration of all functions f ∈ Y , say
Y = {f0, f1, f2, . . .}. Let g : N → X be deﬁned in such a way that g(n) 6= fn(n).
This is possible since X has more than one element. Now deﬁne a model M for T ′
in V [G] by letting M = X and interpreting P M
n as X \ {g(n)}.
This shows that T ′ has a model in V [G] and thus T ′ is syntactically consistent.

n as {g(n)} and QM

4 Adding the axiom of choice externally to geo-

metric theories does preserve conservativity

Let L be a language and T be a L∞ω-theory. We extend L to L′ by adding two
unary predicate symbols S and U and the binary relation symbol ∈. The idea is to
deﬁne a set theory with urelements where the axioms of T are supposed to hold for
the urelements. Formally this means that every axiom A of T has to be relativized
to U, denoted AU, i.e. all quantiﬁer occurrences ∀x . . . x . . . and ∃y . . . y . . . in A
have to be replaced by ∀x(U(x) → . . . x . . .) and ∃x(U(x) ∧ . . . x . . .), respectively.
T U denotes the theory with language L′ and all axioms AU where A is an axiom of
T .

The axioms of set theory then hold for the objects in S. The axiom of exten-

sionality has to be given in the form

∀x, y[S(x) ∧ S(y) ∧ ∀z(z ∈ x ↔ z ∈ y) → x = y].

Further axioms proclaim that everything is either an urelement or a set but not both,
that urelements have no elements, and that the urelements form a set: ∀x [U(x) ∨
S(x)], ∀x ¬[U(x) ∧ S(x)], ∀x, y[U(x) → y /∈ x], ∃y[S(y) ∧ ∀x[x ∈ y ↔ U(x)].

Let ZFU

n denote the set theory with language L′ with urelement axioms having
the above axioms, the usual axioms of set theory (Pairing, Union, Foundation,
Powerset) expressed for objects of sort S, Separation extended to the language L′,
but with Replacement restricted to Σn-formulae of L′.

Below we refer to deﬁnable global choice by which we mean that a formula of set
theory (usually with extra parameters) deﬁnes a well-ordering on the entire universe
(see [18, V.3.9] for details). The actual formula will be revealed in the proof of the
next theorem. We then have the following conservativity result.

Theorem: 4.1 (ZFC) Let B be a sentence of L∞ω. Then:

T ⊢ B iﬀ ZFU

n + deﬁnable global choice + GCH + T U ⊢ BU.

If T is ∞-geometric and A is a geometric implication, then also

T ⊢i B iﬀ ZFU

n + deﬁnable global choice + GCH + T U ⊢ BU.

8Details of the inﬁnitary proof system will be provided in Section 5.

10

Proof: We argue in our background universe satisfying ZFC. Suppose ZFU
n +
global choice + GCH + T U ⊢ BU. We then switch to a forcing extension V [G] in
which the language L′, the formula B and its subformulae as well as the axioms of T U
together with their subformulae belong a countable transitive set X. Let f : X → N
be a bijection. Arguing in V [G], we shall work in the relativized constructible
hierarchy L(f ) which starts with TC(f ), the transitive closure of {f } (see [11,
13.24]). L(f ) has a global deﬁnable well-ordering since TC(f ) is countable in V [G].
It’s also a model of GCH. Using the reﬂection principle of ZF, we can take any
model M of T in L(f ) and expand it into a model of ZFU
n +global choice+GCH+T U.
Thus M will satisfy B. But in L(f ), T is a Lω1ω-theory and therefore, by the
completeness theorem for this logic, there exists a deduction of B from T in L(f ).
Consequently, if we work in a sequence calculus, invoking Theorem 7.9 yields that
there exists also a cut-free deduction of V T → B in L(f ), where V T signiﬁes the
conjunction of all axioms of T .
Now it’s crucial to observe that V T and B both belong to the ground model. It
remains to show that there is also a deduction of V T → B in the ground model V .
To this end we shall prove a more general result:

(∗) If there is cut free deduction D of the sequent Γ ⇒ ∆ in V [G] and Γ ⇒ ∆
belongs to the ground model V , then there already exists a deduction of Γ ⇒
∆ in V .

In (∗) we refer to the sequent calculus for Lω1ω to be described in section 5. A
sequent Γ ⇒ ∆ consists of two ﬁnite sequences of Lω1ω-formulae Γ and ∆. We
proceed by induction on the rank of D. It is crucial that D contains no cuts lest the
end sequents of the immediate subderivations of D contain formulae that are not in
the ground model and the inductive proof breaks down. The proof is straightforward
except for the cases of a V R or W L inferences that require a bit more attention.
So suppose that the last inference of D was V R. Then ∆ is of the form ∆0,V Φ
and we have deductions DA of Γ ⇒ ∆0, A for all A ∈ Φ. With Φ ∈ V we also have
A ∈ V for all A ∈ Φ. Thus inductively for every A in Φ there exists a deduction
D′
A of Γ ⇒ ∆0, A. Using collection and the axiom of choice we can then compose
a deduction D′ of Γ ⇒ ∆0,V Φ in V . The case of an W L inference is similar.

The ﬁnal issue to be resolved is how the forcing extension V [G] can be accessed
from the ground model V . There are several approaches to this (cf. [16, Ch. VII.9]).
One proper formal way is to resort to the Boolean valued approach (cf.
[5]). Also
note that in case the language L, the theory T and B are all countable, it is not
necessary to take a forcing extension. Then L(f ) ⊆ V and the main ingredient for
proving the theorem is just the completeness of Lω1ω.
⊓⊔

Remark: 4.2 The declared background theory for the previous Theorem is ZFC,
however, ZF would be suﬃcient. The axiom of choice can be dropped, though this
requires a more careful deﬁnition of the notion of inﬁnitary deduction which does
not have the axiom of choice built into its very deﬁnition. The problem lies with
the inﬁnitary rules V R and W L. AC is needed when we have to pick exactly one
deduction for each of the inﬁnitely many premisses of these inferences. But this can
be avoided by allowing non-empty sets of subdeductions of the same end sequent
to ﬁgure in a deduction. Details will be deferred to section 5.1. It should perhaps

11

be mentioned that jettisoning AC when dealing with inﬁnitary deductions is also
important for the Barwise completeness theorem (see [4, III.5]).

A possible interpretation of those earlier quotes to the eﬀect that adding the
axiom of choice to a geometric theory T does not produce new geometric theorems
is that AC is simply added to an ambient external type theory IL which is grafted
onto T . Here IL is the intuitionistic type theory that holds in all toposes also known
as the internal logic of toposes (see [17, II]). The axiom of choice can be expressed
in the language for the internal logic (the so-called Mitchell-B´enabou language) in
a straightforward way ([17, II.6]).
If one now assumes that the language of T is
incorporated into the Mitchell-B´enabou language via relativization to a speciﬁc sort
U and one also has an appropriate treatment of the inﬁnite connectives then one
gets the following result.

Corollary: 4.3 Let B be a sentence of L∞ω. Then:

Internal Logic + T U + AC ⊢c BU iﬀ
Internal Logic + T U ⊢i BU iﬀ

T ⊢i B

where ⊢c and ⊢i signify classical and intuitionistic derivability, respectively.

Proof: As the internal logic can be interpreted in a small fragment of ZF, this is a
⊓⊔
consequence of Theorem 4.1.

5 A sequent calculus for L∞ω

In his thesis Gentzen introduced a form of the sequent calculus and his technique of
cut elimination. The sequent calculus can be generalized to L∞ω.

A sequent is an expression Γ ⇒ ∆ where Γ and ∆ are ﬁnite sequences of L∞ω-
formulae A1, . . . , An and B1, . . . , Bm, respectively. We also allow for the possibility
that Γ or ∆ (or both) are empty. The empty sequent will be denoted by ∅. Σ ⇒ ∆
is read, informally, as Γ yields ∆ or, rather, the conjunction of the Ai yields the
disjunction of the Bj. In particular, we have:

• If Γ is empty, the sequent asserts the disjunction of the Bj.

• If ∆ is empty, it asserts the negation of the conjunction of the Ai.

• if Γ and ∆ are both empty, it asserts the impossible, i.e. a contradiction.

We use upper case Greek letters Γ, ∆, Λ, Θ, Ξ . . . to range over ﬁnite sequences of
formulae. Γ ⊆ ∆ means that every formula of Γ is also a formula of ∆. Γ, A stands
for the sequence Γ extended by A.

Next we list the axioms and rules of the ﬁrst-order sequent calculus.

• Logical Axioms

Γ, A ⇒ ∆, A

where A is any formula. In point of fact, one could limit this axiom to the
case of atomic formulae A.

12

• Cut Rule

Γ ⇒ ∆, A

A, Λ ⇒ Θ

Γ, Λ ⇒ ∆, Θ

Cut

The formula A is called the cut formula of the inference.

• Structural Rules

Γ ⇒ ∆
Γ′ ⇒ ∆′

if Γ ⊆ Γ′, ∆ ⊆ ∆′.

A special case of the structural rule, known as contraction, occurs when the
lower sequent has fewer occurrences of a formula than the upper sequent. For
instance, A, Γ ⇒ ∆, B follows structurally from A, A, Γ ⇒ ∆, B, B.

• Rules for Logical Operations

Left

Γ ⇒ ∆, A
¬A, Γ ⇒ ∆

Right

B, Γ ⇒ ∆
Γ ⇒ ∆, ¬B

Γ ⇒ ∆, A

B, Λ ⇒ Θ

A → B, Γ, Λ ⇒ ∆, Θ

A, Γ ⇒ ∆, B

Γ ⇒ ∆, A → B

A, Γ ⇒ ∆

B, Γ ⇒ ∆

Γ ⇒ ∆, A

Γ ⇒ ∆, B

A ∧ B, Γ ⇒ ∆

A ∧ B, Γ ⇒ ∆

Γ ⇒ ∆, A ∧ B

A, Γ ⇒ ∆

B, Γ ⇒ ∆

Γ ⇒ ∆, A

Γ ⇒ ∆, B

A ∨ B, Γ ⇒ ∆

Γ ⇒ ∆, A ∨ B

Γ ⇒ ∆, A ∨ B

F (t), Γ ⇒ ∆

∀x F (x), Γ ⇒ ∆

F (a), Γ ⇒ ∆

∃x F (x), Γ ⇒ ∆

∀ L

∃ L

Γ ⇒ ∆, F (a)

Γ ⇒ ∆, ∀x F (x)

∀ R

Γ ⇒ ∆, F (t)

Γ ⇒ ∆, ∃x F (x)

∃ R

In ∀L and ∃R, t is an arbitrary term. The variable a in ∀R and ∃L is an eigenvariable
of the respective inference, i.e. a is not to occur in the lower sequent.

The logic L∞ω in addition has rules for V and W that generalize those for ∧ and

∨, respectively.

A, Γ ⇒ ∆ and A ∈ Φ V L

V Φ, Γ ⇒ ∆

Γ ⇒ ∆, A and A ∈ Φ W R

Γ ⇒ ∆,W Φ

Γ ⇒ ∆, A for all A ∈ Φ V R

Γ ⇒ ∆,V Φ

A, Γ ⇒ ∆ for all A ∈ Φ W L

W Φ, Γ ⇒ ∆

In the rules for logical operations, the formulae highlighted in the premisses are
called the minor formulae of that inference, while the formula highlighted in the
conclusion is the principal formula of that inference. The other formulae of an
inference are called side formulae.

13

5.1 What are proofs in L∞ω?

Proofs in Lωω are ﬁnite objects and as a result its notion of proof is very robust.
For instance, if one knows for a fact that a formula A is provable in a primitive
recursive theory T , then one can conclude that it is inferrable in Heyting arithmetic
that T proves A. In other words, it is immaterial in which background theory (e.g.
ZFC plus large cardinals) we gained the insight that this fact is true. Things are
very diﬀerent when it comes to inﬁnite proofs. An example is provided by the
L∞ω intuitionistic (∞-geometric) theory HA∞ whose axioms are those of Robinson
arithmetic augmented by the axiom ∀x Wn∈N x = ¯n, where ¯n stands for the n-th
numeral.
In ZF one can show that there exists an intuitionistic HA∞-proof of
a particular statement A that cannot be shown to exist in intuitionistic Zermelo-
Fraenkel set theory IZF.9

Even in a classical context it may be relevant to choose a suitable formalization
of inﬁnite proof. For instance, for Barwise’s completeness theorem for admissible
fragments is it important to choose a notion of proof that “does not have the axiom
of choice built into its very deﬁnition” ([4], p. 96).

Deﬁnition: 5.1 (CZF) We will assume that the language L is a set. For the
formalization of the L-formulae as set-theoretic objects, we proceed in the same
way as Barwise in [4, III.3]. They form an inductively deﬁned (proper) class of sets.
An additional assumption we shall make is that the proper subformulae of a formula
A are elements of the transitive closure of A which has the pleasant consequence
that the rank of a proper subformula of A is an element of the rank of A; in symbols
rank(B) ∈ rank(A). Here we use the usual rank deﬁnition for sets, i.e.,

rank(a) = [{rank(x) + 1 | x ∈ a}.

Note that rank(a) is always an ordinal and x + 1 stands for x ∪ {x}. Just as
in the classical world, an ordinal is a transitive set whose elements are transitive.
However, the crucial diﬀerence between the classical and the intuitionistic context
is the forfeiture of the right to use the trichotomy law for ordinals in the latter, i.e.,
the assertion α ∈ β ∨ β ∈ α ∨ α = β can no longer be guaranteed to hold.

Deﬁnition: 5.2 The class of L∞ω-proofs (also called deductions or derivations) will
be deﬁned inductively. It is desirable to ensure that the inferred formula and the
last inference together with its principal and minor formulae are straightforwardly
retrievable from any proof P . Firstly, sequents A1, . . . , Ar ⇒ B1, . . . , Bs are eas-
ily coded set-theoretically as a pairs of tuples hhA1, . . . , Ani, hB1, . . . , Bsii; we will
continue to use the former notation even when we refer to its set-theoretic coding.
We shall not write down all the clauses for the inductive deﬁnition of proofs.
Rather we will provide two illustrative cases, the ﬁnitary (∧R) and the inﬁnitary
(W L).

9A can be taken of complexity Π0

3, namely ∀x∃y∀z (T(x, x, y) ∨ ¬T(x, x, z)), where T is the
predicate from Kleene’s normal form theorem. Now in the presence of countable choice, A implies
the existence of a non-computable function. That the existence of a HA∞ proof of A cannot
be shown in IZF follows from the fact that IZF plus countable choice is compatible with the
statement that all functions from N to N are computable.

14

Suppose now we have two proofs D1 and D2 of sequents A1, . . . , Ar ⇒ B1, . . . Bs
i for all i 6= i0. Then

s and 1 ≤ i0 ≤ s such that Bi = B′

and A1, . . . , Ar ⇒ B′

1, . . . B′

D : = hhP1, P2i, h∧R, i0, k0i, C1, . . . , Cp ⇒ D1, . . . , Dqi

is a proof of C1, . . . , Cp ⇒ D1, . . . , Dqi if 1 ≤ k0 ≤ q and Bi0 ∧ B′
i0 = Dk0, Ai ∈
{C1, . . . , Cp} for all 1 ≤ i ≤ r and Bi ∈ {D1, . . . , Dq} whenever 1 ≤ i ≤ s and i 6= i0.
It is clear that from P we can retrieve the last inference together with its principal
and minor formulae.

Next assume Φ is a set of L∞ω-formula and there is a function f with domain Φ
such that there are ﬁnite sequences Γ1, Γ2, ∆ of formulae such that for every A ∈ Φ,
f (A) is an inhabited set of proofs of Γ1, A, Γ2 ⇒ ∆. Let i0 be the position of any
such A in Γ1, A, Γ2. Then

D′

:= hf, h_ L, i0, k0i, C1, . . . , Cp ⇒ D1, . . . , Dqi

is a proof of C1, . . . , Cp ⇒ D1, . . . , Dq if 1 ≤ k0 ≤ p, W Φ = Ck0, C ∈ {C1, . . . , Cp}
for every C ∈ Γi with i ∈ {0, 1}, and D ∈ {D1, . . . , Dq} for all D ∈ ∆.

It should by now be obvious how to deal with the other inference rules.
Observe that the above deﬁnition allows to combine each inference step with a
structural rule. This has the advantage that structural rules needn’t be treated as
separate rules. There is a lot of leeway as to the details of formalizing inﬁnitary
proofs constructively. However, observe that the above deﬁnition of proof in the case
of (W L) (and dually (V R)) contains a crucial part that enables one to construct new
proofs from a collection of proofs. It has the advantage that in CZF one can prove
from the assumption that there exists a proof of Γ1, A, Γ2 ⇒ ∆ for every A ∈ Φ, that
there also exists a proof of Γ1,W Φ, Γ2 ⇒ ∆ by invoking Strong Collection (see [1, 2]).
In general, we wouldn’t be able to single out a particular proof of Γ1, A, Γ2 ⇒ ∆ for
every A ∈ Φ without relying on the axiom of choice.

Let ⊢ Γ ⇒ ∆ signify that there is a proof of Γ ⇒ ∆. We also deﬁne provability with
length α and cut-degree ρ,

α
ρ Γ ⇒ ∆

to mean that there is a proof P of Γ ⇒ ∆ such that rank(P ) ∈ α + 1 and for all cut
formulae C in P we have rank(C) ∈ ρ. In particular
Γ ⇒ ∆ then conveys that
there is a proof without cuts.

α

0

Naturally, proofs in theories will also be considered. An L∞ω-theory T is a set
of L∞ω-formulae without free variables. The T -proofs are deﬁned as the L∞ω-proofs
except that one adds the additional axioms Γ ⇒ ∆, A with A ∈ T to the sequent
calculus.

That there is a T -proof of Φ ⇒ Θ will be conveyed by T ⊢ Φ ⇒ Θ. Since the

theory T can be expressed in L∞ω via a single formula V T we also have

T ⊢ Φ ⇒ Θ iﬀ ⊢ Φ,^ T ⇒ Θ.

(2)

15

6 Turning classical ∞-geometric proofs into intu-

itionistic ones

Recall that intuitionistic L∞ω-proofs are those obeying the simple structural restric-
tion that there can be at most one formula on the right hand side of the sequent
symbol ⇒ . Below we shall indicate intuitionistic proofs in L∞ω by putting I∞
before the turn style symbol.

The fact that Lωω geometric proofs can be turned into intuitionistic ones is
basically a consequence of Gentzen’s Hauptsatz.
It could have been proved by
Gentzen in 1934. It is not clear to the present author who ﬁrst made this observation
but it can be found in Orevkov’s 1968 paper [22].10 As for the L∞ω case it is
not clear to him whether there are any syntactic proofs in the published literature
(before [23]). But the purpose of this part of the article, rather than originality,
is to show that there is an easy syntactic proof that can also be formalized in the
constructive set theory CZF (see [1, 2]). Closer inspection would actually reveal
that intuitionistic Kripke-Platek set theory (see [1, 2]) suﬃces. As in the ﬁnite case
the crucial tool is the Hauptsatz for L∞ω.

Theorem: 6.1 If

α

ρ Γ ⇒ ∆ then there exists α′ such that

α′

0

Γ ⇒ ∆ .

The proof of 6.1 in CZF will be deferred to section 7. Without paying attention to
constructivity issues, for the countable logic Lω1ω this was essentially shown by Tait
[26].

The main result of this section requires knowledge of some basic facts.

Lemma: 6.2 (Substitution) Let Γ(a) ⇒ ∆(a) be a sequent with all occurrences
α
ρ Γ(a) ⇒ ∆(a) then
of the free variable a indicated. Let t be an arbitrary term. If
α
ρ Γ(t) ⇒ ∆(t) .

Proof: Proceed by induction on α.

⊓⊔

Lemma: 6.3 (Inversion)

(i) If

α
ρ Γ, A ∧ B ⇒ ∆ then

α
ρ Γ, A, B ⇒ ∆ .

(ii) If

α
ρ Γ ⇒ ∆, A ∧ B then

α
ρ Γ ⇒ ∆, A and

α
ρ Γ ⇒ ∆, B .

(iii) If

α
ρ Γ, A ∨ B ⇒ ∆ then

α
ρ Γ, A ⇒ ∆ and

α
ρ Γ, B ⇒ ∆ .

(iv) If

α
ρ Γ ⇒ ∆, A ∨ B then

α
ρ Γ ⇒ ∆, A, B .

(v) If

α
ρ Γ ⇒ A → B, ∆ then

α
ρ A, Γ ⇒ ∆, B .

(vi) If

α
ρ Γ, A → B ⇒ ∆ then

α
ρ Γ ⇒ ∆, A and

α
ρ Γ, B ⇒ ∆ .

(vii) If

α
ρ Γ ⇒ ¬A, ∆ then

α
ρ Γ, A ⇒ ∆ .

10This is not to say that there are no interesting research questions left. Since cut elimination
is costly there are still unsolved problems as to how eﬃcient this procedure can be, in general and
for special theories (see e.g. [20]).

16

(viii) If

α
ρ Γ, ¬A ⇒ ∆ then

α
ρ Γ ⇒ ∆, A .

(ix) If

α
ρ Γ ⇒ ∆, ∀x B(x) then

α
ρ Γ ⇒ ∆, B(s) for any term s.

(x) If

(xi) If

(xii) If

α

α
ρ Γ, ∃x B(x) ⇒ ∆ then
ρ Γ,W Φ ⇒ ∆ then
ρ Γ ⇒ ∆,V Φ then

α

α
ρ Γ, B(s) ⇒ ∆ for any term s.

α
ρ Γ, A ⇒ ∆ for every A ∈ Φ.

α
ρ Γ ⇒ ∆, A for every A ∈ Φ.

(xiii) With the exception of (iv), (vi) and (viii) the above inversion properties remain
valid for the intuitionistic sequent calculus. One half of (vi) also remains valid
intutionistically:

If I∞

α
ρ Γ, A → B ⇒ ∆ then I∞

α
ρ Γ, B ⇒ ∆ .

Proof: All can be shown easily by induction on α.
Below we use W(Φ, A) to stand for W(Φ ∪ {A}).

⊓⊔

Lemma: 6.4

1. If I∞ Γ ⇒ W(Φ, F (s)) , then I∞ Γ ⇒ W(Φ, ∃x F (x)) .

2. If I∞ Γ ⇒ W(Φ, B) and I∞ Γ ⇒ W(Φ, C) , then I∞ Γ ⇒ W(Φ, B ∧ C) .
3. If I∞ Γ ⇒ W(Φ, A) , then I∞ Γ, ¬A ⇒ W Φ .
4. If I∞ Γ, B ⇒ W Φ and I∞ Γ ⇒ W(Φ, A) , then I∞ Γ, A → B ⇒ W Φ .
5. If I∞ Γ ⇒ W(Φ, A) and A ∈ Θ, then I∞ Γ ⇒ W(Φ,W Θ) .

Proof: (1) We have

D ⇒ D
D ⇒ W(Φ, ∃xF (x))

for all D ∈ Φ

(W R)

W(Φ, F (s)) ⇒ W(Φ, ∃xF (x))

F (s) ⇒ F (s)

(∃R)

F (s) ⇒ ∃xF (x)
F (s) ⇒ W(Φ, ∃xF (x))

(W R)

(W L)

As I∞ Γ ⇒ W(Φ, F (s)) , cutting with W(Φ, F (s)) yields I∞ Γ ⇒ W(Φ, ∃x F (x)) .
(2) We have

B, D ⇒ D
B, D ⇒ W(Φ, B ∧ C) all D ∈ Φ

(W R)

B,W(Φ, C) ⇒ W(Φ, B ∧ C)

B, C ⇒ B

B, C ⇒ C

B, C ⇒ B ∧ C
B, C ⇒ W(Φ, B ∧ C)

(∧R)

(W R)

(W L)

and therefore

17

D,W(Φ, C) ⇒ D
D,W(Φ, C) ⇒ W(Φ, B ∧ C) all D ∈ Φ

(W R)

W(Φ, B),W(Φ, C) ⇒ W(Φ, B ∧ C)

B,W(Φ, C) ⇒ W(Φ, B ∧ C)

(W L)

Cuts with I∞ Γ ⇒ W(Φ, B) and I∞ Γ ⇒ W(Φ, C) yield the desired outcome
I∞ Γ ⇒ W(Φ, B ∧ C) .
(3) is shown as follows:

Γ, A ⇒ A
Γ, A, ¬A ⇒
Γ, A, ¬A ⇒ W Φ

(¬L)

(Wr )

Γ, B, ¬A ⇒ B
Γ, B, ¬A ⇒ W Φ all B ∈ Φ

Γ,W(Φ, A), ¬A ⇒ W Φ

(W R)

(W L)

Γ ⇒ W(Φ, A)

(Cut)

Γ, ¬A ⇒ W Φ

(4) We have

Γ, A ⇒ A

Γ, B ⇒ W Φ

(→ L)

A, Γ, A → B ⇒ W Φ

Γ, C, A → B ⇒ C
Γ, C, A → B ⇒ W Φ all C ∈ Φ

(∨R)

(∨L)

Γ, A → B,W(Φ, A) ⇒ W Φ

Now cutting out W(Φ, A) with I∞ Γ ⇒ W(Φ, A) yields I∞ Γ, A → B ⇒ W Φ .
(5) is shown as follows:

Γ, A ⇒ A
Γ, A ⇒ W Θ

Γ, A ⇒ W(Φ,W Θ)

(W R)

(W R)

Γ,W(Φ, A) ⇒ W(Φ,W Θ)

Γ, B ⇒ B (B ∈ Φ)
Γ, B ⇒ W(Φ,W Θ)

(W L)

(W R)

Γ ⇒ W(Φ,W Θ)

Γ ⇒ W(Φ, A)

(Cut)

⊓⊔

Lemma: 6.5 Let ∆ be a ﬁnite set of ∞-geometric formulae and Γ be a ﬁnite set of
∞-geometric implications.

If

Γ ⇒ ∆ then I∞ Γ ⇒ W ∆ .

Proof: Here we rely on Gentzen’s Hauptsatz, Theorem 6.1, for classical L∞ω logic.
Let D be a cut free deduction of Γ ⇒ ∆. The proof proceeds by induction on

the ordinal height α of D.

If Γ ⇒ ∆ is an axiom then there exists an atom A such that A ∈ Γ ∩ ∆. Thus

I∞ Γ ⇒ A and therefore, via (W R), we get to I∞ Γ ⇒ W ∆ .

18

Now suppose that Γ ⇒ ∆ is the result of an inference rule. We inspect the last
inference of D. Note that ∀R,V R, ¬R and → R are ruled out since their principal
formulae are not ∞-geometric formulae and would have to occur in the succedent
∆.

If the last inference was of the form ∀L, V L, ∧L, ∃L, W L, or ∨L we can simply
apply the induction hypothesis to the premisses and re-apply the same inference in
the intuitionistic calculus.

If the last inference was ∃R we apply the induction hypothesis to its premiss and

subsequently use Lemma 6.4 (1) to get the desired result.

If the last inference was ∧R we apply the induction hypothesis to its premisses

and subsequently use Lemma 6.4 (2).

If the last inference was ¬L then its minor formula must be ∞-geometric. Thus
we can apply the induction hypothesis to its premiss and subsequently use Lemma
6.4 (3).

If the last inference was → L then apply the induction hypothesis to its premisses

and subsequently use Lemma 6.4 (4).

If the last inference was W R then apply the induction hypothesis to its premisses

and subsequently use Lemma 6.4 (5).

The case when the last inference was ∨R is similar to the previous one.

⊓⊔

Theorem: 6.6 Let T be a ∞-geometric theory and suppose that there is a classical
proof of a ∞-geometric implication G from T . Then there is an intuitionistic proof
of G from the axioms of T .

Proof: Below we shall write T ⊢ A for T ⊢⇒ A and T ⊢i A if there is an
intuitionistic proof of ⇒ A from the axioms of T .

We proceed by induction on the buildup of G. First suppose that G is of the

form ∀~x F (~x ) where F (~a ) is a ∞-geometric implication. By (2) we have

V T ⇒ G

where V T is the conjunction of all axioms of T . Using the Inversion Lemma 6.3
(ix) we get
F (~a ) . The induction hypothesis (since
F (~a) is a shorter formula than G) thus yields T ⊢i F (~a) from which T ⊢i G follows
via (several) ∀R inferences.

V T ⇒ F (~a ) and hence T

Now suppose that G is of the form V Φ, where Φ is a set of ∞-geometric formulae.

By V-inversion on the right we get

V T ⇒ H

for all H ∈ Φ, and thus inductively we have

I∞ V T ⇒ H

for all H ∈ Φ, so that via (V R) we arrive at I∞ V T ⇒ G , thus T ⊢i G.

If G is of the form ¬G0 with G0 ∞-geometric we apply the Inversion Lemma 6.3

(vii) to get

V T, G0 ⇒ .

19

By Lemma 6.5 we infer that I∞ V T, G0 ⇒ and thus, by ¬R, we have

I∞ V T ⇒ ¬G0 ,

thus T ⊢i G.

If F is of the form F0 → F1 with Fi geometric formulae we apply the Inversion

Lemma 6.3 (v) to get

V T, F0 ⇒ F1 .

By Lemma 6.5 we infer that I∞ V T, F0 ⇒ F1 . By employing → R we get
I∞ V T ⇒ F0 → F1 and hence T ⊢i G.

⊓⊔

7 Constructive cut elimination for L∞ω

The usual cut elimination proof for L∞ω uses the Veblen functions (see [27]) ϕα in
order to measure the “cost” of cut elimination. In a constructive setting, however,
one looses the linearity of ordinals as well as the principle that every inhabited set of
ordinals has a least element. As a result, the deﬁnition of analogs of the ϕα functions
has to be carried out in a diﬀerent way. A central gadget of cut elimination in
inﬁnitary systems is the “natural” commutative sum of ordinals α#β. Its deﬁnition
utilizes the Cantor normal form of ordinals to base ω. This normal form is not
available in CZF (or IZF) and thus a diﬀerent approach is called for. We shall
have use for the following induction and recursion principle on ordinals, henceforth
referred to as ✁-induction and ✁-recursion.

Lemma: 7.1 Deﬁne (α, β) ✁ (α′, β ′) by

α = α′ ∧ β ∈ β ′ or α ∈ α′ ∧ β = β ′ or α ∈ α′ ∧ β ∈ β ′.

(i) (CZF) ∀α∀β [∀γ∀δ((γ, δ) ✁ (α, β) → F (γ, δ)) → F (α, β)] → ∀α∀β F (α, β).

(ii) (CZF) If G is a total (n + 3-ary class function G : V n × ON × ON × V → ON
then there is a (unique) (n+2)-ary class function F : V n × ON × ON → ON
such that

F (~x, α, β) = G(~x, α, β, {hγ, δ, F (~x, γ, δ)i | (γ, δ) ✁ (α, β)}).

Proof: (i): Assume

∀α∀β [∀γ∀δ((γ, δ) ✁ (α, β) → F (γ, δ)) → F (α, β)].

Fix an arbitrary ordinal ρ. We show

∀ξ ∈ ρ F (α, ξ)

(3)

(4)

by induction on α ∈ ρ. So the inductive assumption gives ∀α0 ∈ α ∀ξ ∈ ρ F (α, ξ).
We then use use a further subsidiary induction on β ∈ ρ to show F (α, β). By (3) it
suﬃces to show

∀γ∀δ[(γ, δ) ✁ (α, β) → F (γ, δ)].

(5)

20

So suppose that (γ, δ) ✁ (α, β).
Case 1: γ = α and δ ∈ β. F (γ, δ) follows by the subsidiary induction hypothesis.
Case 2: γ ∈ α and δ = β. F (γ, δ) follows by the main induction hypothesis.
Case 3: γ ∈ α and δ ∈ β. F (γ, δ) also follows by the main induction hypothesis.

Thus we have shown (5). This establishes (4). Since ρ was arbitrary it follows

that F (α, β) holds for all α, β.11

(ii) Noting that {(γ, δ) | (γ, δ) ✁ (α, β)} is a set, (ii) follows from (i) in the same
manner as ordinary ∈-recursion follows from ∈–induction. For more details see [2].
⊓⊔

Deﬁnition: 7.2 For a class X, let X ∪ := X ∪ {u | ∃y ∈ X u ∈ y}.

Deﬁne α#β by ✁-recursion as follows:

α#β = {γ#δ | (γ, δ) ✁ (α, β)}∪

(6)

= {α#δ | δ ∈ β}∪ ∪ {η#β | η ∈ α}∪ ∪ {η#δ | η ∈ α ∧ η ∈ β}∪.

Lemma: 7.3

(i) If X is a set of ordinals then X ∪ is an ordinal.

(ii) α#β is an ordinal and α#β = β#α.

(iii) If (γ, δ) ✁ (α, β), then γ#δ ∈ α#β.

Proof: (i) Let X be a set of ordinals. Then X ∪ is also a set of ordinals. It remains
to show that X ∪ is transitive. Suppose α ∈ β ∈ X ∪. Then β ∈ X or β ∈ δ for some
δ ∈ X. In the ﬁrst case we have α ∈ S X ⊆ X ∪. In the second case we infer that
α ∈ δ since δ is an ordinal, thus α ∈ S X ⊆ X ∪.

(ii) follows by ✁-induction (also using (i)).
(iii) is obvious by deﬁnition of α#β.

⊓⊔

Deﬁnition: 7.4 Let I be a set and (fi)i∈I be a deﬁnable collection of functions

fi : ONa(i) → ON

with arity a(i) ∈ N. Let X be a set of ordinals. Then the closure of X under (fi)i∈I,
Cl(X, (fi)i∈I), is deﬁned as follows:

X0 = X ∪ ∪ {0}

Xn+1 = Xn ∪ {fi(α1, . . . , αa(i)) | α1, . . . αa(i) ∈ Xn}∪

Cl(X, (fi)i∈I) = [

Xn.

n∈N

Lemma: 7.5 Making the same assumptions as in the foregoing deﬁnition, Cl(X, (fi)i∈I)
is an ordinal which contains 0 and all elements of X. Moreover, Cl(X, (fi)i∈I) is
closed under (fi)i∈I, i.e., if ~α ∈ Cl(X, (fi)i∈I) then fi(~α) ∈ Cl(X, (fi)i∈I) for all
i ∈ I.

11The reason for restricting the quantiﬁer in (4) to ρ is that it shows that ✁-induction with
F (α, β) follows from ∈-induction using a formula having no more unbounded quantiﬁers than F .
Of course, this is not essential to the current paper.

21

Induction on n shows that X ⊆ X0 ⊆ X1 ⊆ . . . ⊆ Xn and all Xn are
Proof:
ordinals. Hence Cl(X, (fi)i∈I) is an ordinal. If α1, . . . , αa(i) ∈ Cl(X, (fi)i∈I), then
α1, . . . , αa(i) ∈ Xn for some n since a(i) ∈ N, and hence fi(α1, . . . , αa(i)) ∈ Xn+1 ⊆
⊓⊔
Cl(X, (fi)i∈I).

Deﬁnition: 7.6 By main recursion on α and subsidiary recursion on β we deﬁne
the functions

by letting ϕα(β) be the closure of

ϕα : ON → ON

{ϕα(ξ) | ξ ∈ β}

under the functions # and (ϕη)η∈α.

Lemma: 7.7 (CZF) For all α, β, ϕα(β) exists. Also 0 ∈ ϕα(β).

(i) If δ, ξ ∈ ϕα(β) then ϕδ(ξ) ∈ ϕα(β).

(ii) If δ ∈ β then ϕα(δ) ∈ ϕα(β).

(iii) If δ, ξ ∈ ϕα(β), then δ#ξ ∈ ϕα(β).

The existence of ϕα(β) follows by main induction on α and subsidiary induction on
β, using Lemma 7.5. (i), (ii), and (iii) are immediate by the closure properties of
⊓⊔
ϕα(β).

Lemma: 7.8 (Reduction)
α
ρ Γ, C ⇒ ∆ and
Suppose ρ = rank(C). If

β
ρ Ξ ⇒ Θ, C , then

α#α#β#β
ρ

Γ, Ξ ⇒ ∆, Θ .

Proof: The proof is by induction on α#α#β#β. We only look at two cases where
C was the principal formula of the last inference in both derivations.

Case 1: The ﬁrst is when C is of the form V Φ. Then we have

and

α1
ρ Γ, C, A0 ⇒ ∆

βA
ρ Ξ ⇒ Θ, C, A

for some α1 < α and A0 ∈ Φ as well as βA < β for all A ∈ Φ. By the induction
hypothesis we obtain

α1#α1#β#β
ρ

Γ, Ξ, A0 ⇒ ∆, Θ

and

α#α#βA#βA
ρ

Γ, Ξ ⇒ ∆, Θ, A0 .

As A0 is a subformula of C we have rank(A0) ∈ ρ. Cutting out A0 thus gives

α#α#β#β
ρ

Γ, Ξ ⇒ ∆, Θ .

22

Case 2: The second case is when C is of the form ∀x A(x) Then we have

and

α1
ρ Γ, C, A(t) ⇒ ∆

β0
ρ Ξ ⇒ Θ, C, A(a)

for some α1 < α term t as well as β0 < β for some eigenvariable a. By Lemma 6.2
we have

β0
ρ Ξ ⇒ Θ, C, A(t) .

By the induction hypothesis we thus get

and

α1#α1#β#β
ρ

Γ, Ξ, A(t) ⇒ ∆, Θ

α#α#β0#β0
ρ

Γ, Ξ ⇒ ∆, Θ, A(t) .

Observing that rank(A(t)) ∈ rank(∀x A(x)) = ρ, cutting out A(t) gives

α#α#β#β
ρ

Γ, Ξ ⇒ ∆, Θ .

⊓⊔

Theorem: 7.9 (Cut Elimination Theorem)

If

α
ρ Γ ⇒ ∆ then

ϕρ(α)

0

Γ ⇒ ∆ .

Proof: We use induction on ρ with a subsidiary induction on α.

If Γ ⇒ ∆ is an axiom then we clearly get the desired result. So let’s assume
that Γ ⇒ ∆ is not an axiom. Then we have a last inference (I) with premisses
Γi ⇒ ∆i. Suppose the inference was not a cut. We then have
for

αi
ρ Γi ⇒ ∆i
ϕρ(αi)

Γi ⇒ ∆i .

some αi < α. By the subsidiary induction hypothesis we obtain

Applying the same inference (I) yields

ϕν (α)
ρ

Γ ⇒ ∆ .

0

Now suppose the last inference was a cut with cut formula C. Then rank(C) ∈ ρ
α1
ρ Γ2 ⇒ ∆2, C for some α0, α1 ∈
and there exist derivations
α such that Γ1, Γ2 ⊆ Γ and ∆1, ∆2 ⊆ ∆. By the subsidiary induction hypothesis
Γ2 ⇒ ∆2, C . By the Reduction
we conclude that
Lemma 7.8 we can infer

α0
ρ Γ1, C ⇒ ∆1 and

Γ1, C ⇒ ∆1 and

ϕρ(α0)

0

ϕρ(α1)

0

ϕρ(α0)#ϕρ(α0)#ϕρ(α1)#ϕρ(α1)
ν

Γ ⇒ ∆

where ν = rank(C). Since ν ∈ ρ we can now employ the main induction hypothesis,
yielding

ϕν (ϕρ(α0)#ϕρ(α0)#ϕρ(α1)#ϕρ(α1))

0

Γ, C ⇒ ∆ .

Since ϕν(ϕρ(α0)#ϕρ(α0)#ϕρ(α1)#ϕρ(α1)) ∈ ϕρ(α) we arrive at

ϕρ(α)

0

Γ ⇒ ∆ .

23

⊓⊔

Acknowledgement Part of the material is based upon research supported by
the EPSRC of the UK through grant No. EP/K023128/1. This research was also
supported by a Leverhulme Research Fellowship and a Marie Curie International
Research Staﬀ Exchange Scheme Fellowship within the 7th European Community
Framework Programme. This publication was made possible through the support
of a grant from the John Templeton Foundation. The opinions expressed in this
publication are those of the author and do not necessarily reﬂect the views of the
John Templeton Foundation.

Thanks are owed to the anonymous referee of this paper for valuable comments

that helped to improve the paper.

References

[1] P. Aczel, M. Rathjen: Notes on constructive set theory, Technical Report 40, In-
stitut Mittag-Leﬄer (The Royal Swedish Academy of Sciences,Stockholm,2001).
http://www.ml.kva.se/preprints/archive2000-2001.php

[2] P. Aczel, M. Rathjen: Constructive set theory, book draft, August 2010.

[3] J. Barwise: An introduction to ﬁrst-order logic. In: Handbook of Mathematical

Logic edited by J. Barwise (North-Holland, Amsterdam, 1977) 5–46.

[4] J. Barwise: Admissible Sets and Structures (Springer, Berlin 1975).

[5] J.R. Bell: Boolean-valued models and independence proofs in set theory. (Claren-

don Press, Oxford, 1977).

[6] R. Carnap: Formalization of logic. (Harvard University, 1943)

[7] C.C. Chang, H.R. Keisler: Model Theory. 3rd edition (North-Holland, Amster-

dam, 1990).

[8] G. Gentzen: Untersuchungen ¨uber das logische Schliessen I,II. Mathematische

Zeitschrift 39 (1935) 176–210, 405–431.

[9] O. Helmer: Languages with expressions of inﬁnite length. Erkenntnis 7 (1938)

138–141.

[10] W. Hodges: Model theory (Cambridge University Press, 1993).

[11] T. Jech: Set Theory 3rd edition (Springer, Berlin, 2003)

[12] P. Johnstone: Topos theory, L.M.S. Monograhs no. 10, (Academic Press, 1977).

[13] P. Johnstone: Sketches of an elephant: A topos theory compendium, vol. 1

(Clarendon Press, Oxford, 2002). p. 899.

[14] P. Johnstone: Sketches of an elephant: A topos theory compendium, vol. 2

(Clarendon Press, Oxford, 2002). p. 899.

24

[15] J. Keisler: Fundamentals of model theory. In: J. Barwise (ed.): Handbook of

Mathematical Logic (North-Holland, Amsterdam, 1977)

[16] K. Kunen: Set theory: An introduction to independence proofs. (North-Holland,

Amsterdam, 1980)

[17] J. Lambek, P.J. Scott: Introduction to Higher Order Categorical Logic (Cam-

bridge University Press, 1988).

[18] A. Levy: Basic set theory. (Springer, Berlin, 1979).

[19] S. Mac Lane, I. Moerdijk: Sheaves in Gemetry and Logic (Springer Verlag,

1992).

[20] G. Mints: Classical and intuitionistic geometric logic. Talk at Conference on
Philosophy, Mathematics, Linguistics: Aspects of Interaction 2012, 22 May 2012.

[21] G.H. Moore: The prehistory of inﬁnitary logic: 1885 – 1955. In: Dalla Chiara,
Doets, Mundici, Benthem (eds.) Structures and norms in science. (Kluwer, Dor-
drecht, 1997).

[22] V.P. Orevkov: Glivenko’s sequence classes. In V.P. Orevkov (ed.), Trudy Mat.
Inst. Steklov, vol. 98, Logical-mathematical caculus. Part 1 (Leningrad, Nauka,
1968) 131–154.

[23] M. Rathjen: Proof Theory, Lecture notes for a postgraduate course (Leeds,

2012).

[24] G. Sacks: Saturated model theory (Benjamin, 1972)

[25] K. Sch¨utte: Beweistheorie (Springer, Berlin, 1960).

[26] W.W. Tait: Normal derivability in classical logic. In: J. Barwise: The syn-
tax and semantics of inﬁnitary languages. Lecture Notes in Mathematics 72
(Springer, Berlin,1968) 204–236

[27] O. Veblen: Continuous increasing functions of ﬁnite and transﬁnite ordinals,

Trans. Amer. Math. Soc. 9 (1908) 280–292.

[28] G.C. Wraith: Intuitionistic Algebra: Some Recent Developments in Topos The-
ory. Proceedings of the International Congress of Mathematicians Helsinki, 1978
331–337.

25

