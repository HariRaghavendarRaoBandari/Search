6
1
0
2

 

b
e
F
1
2

 

 
 
]
P
A

.
t
a
t
s
[
 
 

1
v
0
5
0
0
0

.

3
0
6
1
:
v
i
X
r
a

Learning, Visualizing, and Exploiting a Model for

the Intrinsic Value of a Batted Ball

Glenn Healey, Fellow, IEEE

1

Abstract—We present an algorithm for learning the intrinsic value of a batted ball in baseball. This work addresses the fundamental
problem of separating the value of a batted ball at contact from factors such as the defense, weather, and ballpark that can affect its
observed outcome. The algorithm uses a Bayesian model to construct a continuous mapping from a vector of batted ball parameters to
an intrinsic measure deﬁned as the expected value of a linear weights representation for run value. A kernel method is used to build
nonparametric estimates for the component probability density functions in Bayes theorem from a set of over one hundred thousand
batted ball measurements recorded by the HITf/x system during the 2014 major league baseball (MLB) season. Cross-validation is
used to determine the optimal vector of smoothing parameters for the density estimates. Properties of the mapping are visualized by
considering reduced-dimension subsets of the batted ball parameter space. We use the mapping to derive statistics for intrinsic quality
of contact for batters and pitchers which have the potential to improve the accuracy of player models and forecasting systems. We also
show that the new approach leads to a simple automated measure of contact-adjusted defense and provides insight into the impact of
environmental variables on batted balls.

Index Terms—sports, baseball, machine learning, projection, forecasting, HITf/x, intrinsic, density estimation, Bayesian

1 INTRODUCTION

T HE success of a major league baseball team depends on

its ability to predict the future performance of players.
This has led to the development of forecasting systems that
can inform personnel decisions which routinely result in
player contracts worth tens of millions of dollars. Most
forecasting systems are based on a process that estimates
a player’s current talent level and another process that
predicts how that talent level will change in the future [33].
The ﬁrst process generates a set of statistics that represent
various player attributes using weighted averages of past
observations. Each statistic is then regressed to the mean by
an amount that depends on the reliability of the statistic and
the sample size [14] [36]. The second process utilizes a model
for how each statistic changes as a player ages. While most
statistics tend to improve for young players and decline for
older players there are signiﬁcant differences in the aging
curves for different skills [6]. Forecasting systems may also
account for contextual variables such as a player’s home
ballpark during generation of the current talent estimate and
the future projections [19].

Statistics for batters and pitchers that depend on the fate
of batted balls tend to have a lower reliability than statistics
that do not [7] [8]. This occurs because a number of variables
such as the response time of ﬁelders, the texture of the
inﬁeld grass, and the ambient weather conditions contribute
variation to statistics like batting average that depend on the
outcome of batted balls. Other statistics such as strikeout
rate are less sensitive to these sources of variability and,
as a result, provide a higher reliability. Unsurprisingly, the
prediction of a player’s future results on batted balls is

• G. Healey is with the Department of Electrical Engineering and Computer

Science, University of California, Irvine, CA, 92617.
E-mail: ghealey@uci.edu

Manuscript received February 19, 2016;

often cited as the most challenging problem for a forecasting
system [2] [13]. Since about 70 percent of major league plate
appearances result in a batted ball, an effective approach
for addressing this challenge is of critical importance to a
system’s utility.

In this paper we develop a method for assigning an
intrinsic value to batted balls at contact. This approach
separates the intrinsic value of a batted ball from its outcome
and, in the process, removes the confounding effects of
factors such as the defense, the weather, the ballpark, and
random luck. As a result, we are able to deﬁne batted ball
statistics for batters and pitchers that are less subject to
random variation than statistics that are based on batted ball
outcomes. The new statistics have the additional advantage
of separating components of a player’s value that are inter-
mingled using traditional statistics. Hitter descriptors such
as batting average and slugging percentage, for example,
are inﬂuenced by a player’s running speed in addition to
his batting ability since faster runners are more likely to
beat out inﬁeld hits or stretch singles into doubles. With
the new approach, a model for a player’s offensive value
can include a statistic that captures the intrinsic value of his
batted balls and another statistic that captures his running
speed. Similarly, a model for a pitcher’s value can include
a statistic for the intrinsic value of opponent batted balls
and another statistic for the pitcher’s ﬁelding ability. The
generation of separate statistics to measure distinct skills
beneﬁts a forecasting system because these statistics may
be regressed and projected individually using their speciﬁc
reliability values and aging curves.

The model for the intrinsic value of a batted ball is
derived from HITf/x data [22] provided by Sportvision.
The HITf/x system uses multicamera video data to estimate
the three-dimensional speed and direction of batted balls
after contact. Using HITf/x measurements for more than

✦
one hundred thousand batted balls from the 2014 season, we
construct a continuous mapping from the batted ball param-
eters to intrinsic value as deﬁned by the expected weighted
on base average (wOBA) [36]. The mapping is learned using
a Bayesian model that employs a kernel method to gener-
ate nonparametric estimates for the component probability
density functions. A cross-validation scheme is used to learn
the optimal vector of smoothing bandwidths for the batted
ball parameters. We show that the mapping has a signiﬁcant
dependence on the handedness of the batter which leads
to the generation of separate functions for left-handed and
right-handed batters. We use the mapping to deﬁne statis-
tics that measure intrinsic contact quality for batters and
pitchers. We also show that the mapping leads to a simple
automated technique for measuring contact-adjusted team
defense which could serve as a starting point for a HITf/x-
based defensive metric. The analysis also provides insight
into the impact of environmental factors on the outcome of
a batted ball.

2 HITF/X DATA

HITf/x is a system developed by Sportvision that uses
image sequences acquired by two cameras to estimate the
initial trajectory of a batted ball in three dimensions. The
system uses the estimated trajectory to derive several batted
ball descriptors. The speed s is an estimate of the ball’s ini-
tial speed in three dimensions. The vertical launch angle v is
the angle that the batted ball’s initial velocity vector makes
with the plane of the playing ﬁeld where a vertical angle
of −90◦ is straight down and a vertical angle of +90◦ is
straight up. The horizontal angle h speciﬁes the direction of
the projection of the batted ball’s initial velocity vector onto
the plane of the playing ﬁeld where the direction toward
ﬁrst base has a horizontal angle of 45◦ and the direction
toward third base has a horizontal angle of 135◦. The speed
s is reported in miles per hour and the angles v and h are
reported in degrees.

Figures 1 and 2 plot the distribution for s, v, and h
for batted balls hit during the 2014 MLB regular season
having horizontal angles in fair territory (h ∈ [45◦, 135◦])
after excluding bunts. We see that the peak of the speed
distribution occurs at about 93 mph and that the peaks of
the vertical and horizontal angle distributions occur at about
zero and ninety degrees respectively. The result of a batted
ball has a strong dependence on the (s, v, h) parameter
vector. For example, a vector of (75, 70, 55) is typically a pop
up to the ﬁrst baseman, a vector of (60, −10, 105) is typically
a ground ball to shortstop, and a vector of (100, 25, 125)
usually results in a home run to left ﬁeld. HITf/x data
was quickly shown to provide signiﬁcant advantages for
analysis over previous data that included only a ground
ball, line drive, or ﬂy ball descriptor for each batted ball [9].
Early HITf/x studies [15] [16] also demonstrated that both
batters and pitchers have some control over their average
batted ball speed in the plane of the playing ﬁeld and that
this speed is correlated with the batted ball outcome.

2

0.03

0.025

0.02

p(s)

0.015

0.01

0.005

0

0

20

40

60

80

100

120

s

Fig. 1. Distribution of initial speeds (mph) for batted balls in 2014

vertical
horizontal

0.02

0.015

p

0.01

0.005

0

-50

0

angle

50

100

Fig. 2. Distribution of vertical and horizontal angles (degrees)

3 LEARNING THE VALUE OF A BATTED BALL
3.1 Bayesian Foundation

Given a set of observed batted balls and their outcomes,
we will develop a method for learning the dependence of
a batted ball’s value on its measured parameters. Let xi =
(si, vi, hi) for i = 1, 2, . . . , n be a set of n observed batted
ball vectors where each vector has an associated outcome
such as a single, a double, or an out. Using Bayes theorem,
the probability of an outcome Rj given a measured vector
x = (s, v, h) is given by

P (Rj|x) =

p(x|Rj )P (Rj)

p(x)

(1)

where p(x|Rj) is the conditional probability density func-
tion for x given outcome Rj , P (Rj) is the prior probability
of outcome Rj , and p(x) is the probability density function
for x. Linear combinations of the P (Rj|x) probabilities for

different outcomes can be used to model the expected value
of statistics such as batting average, wOBA, and slugging
percentage as a function of the batted ball vector x. For
a given batted ball, therefore, these statistics provide a
measure of value that is separate from the batted ball’s
particular outcome.

3.2 Kernel Density Estimation

The goal of density estimation for our application is to re-
cover the underlying probability density functions p(x|Rj )
and p(x) in equation (1) from the set of observed batted
ball vectors xi = (si, vi, hi) and their outcomes. Given the
typical positioning of defenders on a baseball ﬁeld and the
various ways that an outcome such as a single can occur,
we expect a conditional density p(x|Rj ) to have a compli-
cated multimodal structure. Thus, we use a nonparametric
technique for density estimation.

We ﬁrst consider the task of estimating p(x) from the n
batted ball vectors xi. Kernel methods [32] which are also
known as Parzen-Rosenblatt [30] [31] window methods are
widely used for nonparametric density estimation. A kernel
density estimate for p(x) is given by

1
n

nXi=1

K(x − xi)

(2)

bp(x) =

where K(·) is a kernel probability density function that is
typically unimodal and centered at zero. A standard kernel
for approximating a d−dimensional density is the zero-
mean Gaussian

K(x) =

(2π)d/2|Σ|1/2 exp(cid:20)−

1

xT Σ−1x(cid:21)

1
2

(3)

where Σ is the d × d covariance matrix. For this kernel, bp(x)

at any x is the average of a sum of Gaussians centered at
the sample points xi and the covariance matrix Σ deter-
mines the amount and orientation of the smoothing. Σ is
often chosen to be the product of a scalar and an identity
matrix which results in equal smoothing in every direction.
However, we see from ﬁgures 1 and 2 that the distribution
for v has detailed structure while the distributions for s and
h are signiﬁcantly smoother. Thus, to recover an accurate

approximation bp(x) the covariance matrix should allow

different amounts of smoothing in different directions. We
enable this goal while also reducing the number of unknown
parameters by adopting a diagonal model for Σ with vari-
ance elements (σ2
h). For our three-dimensional data,
this allows K(x) to be written as a product of three one-
dimensional Gaussians

s , σ2

v, σ2

K(x) =

1

(2π)3/2σsσvσh

exp(cid:20)−

1

2(cid:18) s2

σ2
s

+

v2
σ2
v

+

h(cid:19)(cid:21) (4)

h2
σ2

which depends on the three unknown bandwidth parame-
ters σs, σv, and σh.

3.3 Bandwidth Selection

dependent on the choice of the bandwidth vector σ =

The accuracy of the kernel density estimate bp(x) is highly
(σs, σv, σh) [11]. The recovered bp(x) will be spiky for small

3

values of the parameters and, in the limit, will tend to a sum
of Dirac delta functions centered at the xi data points as the
bandwidths approach zero. Large bandwidths, on the other
hand, can induce excessive smoothing which causes the loss
of important structure in the estimate of p(x). A number
of bandwidth selection techniques have been proposed and
a recent survey of methods and software is given in [20].
Many of these techniques are based on maximum likelihood

estimates for p(x) which select σ so that bp(x) maximizes

the likelihood of the observed xi data samples. Applying
these techniques to the full set of observed data, however,
yields a maximum at σ = (0, 0, 0) which corresponds to
the sum of delta functions result. To avoid this difﬁculty,
maximum likelihood methods for bandwidth selection have
been developed that are based on leave-one-out cross-
validation [32].

The computational demands of

leave-one-out cross-
validation techniques are excessive for our HITf/x data
set. Therefore, we have adopted a cross-validation method
which requires less computation. From the full set of n
observed xi vectors, we generate M disjoint subsets Sj of
ﬁxed size nv to be used for validation. For each validation

set Sj , we construct the estimate bp(x) using the n − nv

vectors that are not in Sj as a function of the bandwidth
vector σ = (σs, σv, σh). The optimal bandwidth vector
σ∗
j = (σ∗
hj ) for Sj is the choice that maximizes the
pseudolikelihood [12] [20] according to

vj , σ∗

sj , σ∗

σ∗
j = arg max

σ Yxi∈Sjbp(xi)

(5)

where the product is over the nv vectors in the validation set
Sj . The overall optimized bandwidth vector σ∗ is obtained
by averaging the M vectors σ∗
j . We will present speciﬁc de-
tails of our implementation of this cross-validation method
in section 4.2.

3.4 Constructing the Estimate for P (Rj |x)
An estimate for P (Rj|x) can be derived from estimates
of the quantities on the right side of equation (1). The

density estimate bp(x) for p(x) is obtained using the kernel

method deﬁned by equations (2) and (4) with the optimized
bandwidth vector σ∗ learned using the process described
in section 3.3. Each conditional probability density func-
tion p(x|Rj ) is estimated in the same way except that
the training set is deﬁned by the subset of the xi vectors
with outcome Rj . Since reduced sample sizes for speciﬁc
outcomes Rj preclude the learning of individual bandwidth
vectors for each p(x|Rj ), we use the σ∗ derived for p(x)
for each case. This approach also has the desirable effect of
providing the same smoothing to a batted ball vector in the
numerator and denominator of (1) which prevents a proba-
bility P (Rj|x) from exceeding one. Each prior probability
P (Rj) is estimated by the fraction of the n batted balls
in the full training set with outcome Rj . The estimate for
P (Rj|x) is then constructed by combining the estimates for
p(x|Rj ), P (Rj), and p(x) according to Bayes theorem.

3.5 Intrinsic Value using wOBA
Our goal is to combine the posterior probabilities P (Rj|x)
into a measure of the intrinsic value of a batted ball as a

function of x. If we ignore bunts and treat sacriﬁce ﬂies
as ordinary outs, then the expected value of the traditional
baseball statistics batting average and slugging percentage
for a batted ball with parameter vector x can be obtained
from a linear combination of the P (Rj|x) probabilities.
These statistics, however, are deﬁcient for describing the
value of a batted ball. Batting average, for example, gives
a home run and a single the same value while slugging
percentage overvalues a home run at four times the value
of a single. In 2007, Tango and his collaborators [36] deﬁned
wOBA as a linear combination of the probabilities of events
in a baseball game. The wOBA coefﬁcients that deﬁne the
linear combination are derived from the average run value
of each event. The original wOBA formulation includes
events such as strikeouts and walks, but for our purposes
we restrict the analysis to batted balls. The resulting formula
is

wOBA(x) =

5Xj=0

wj P (Rj|x)

(6)

where the wj are the coefﬁcients for the six batted ball
outcomes R0 = out, R1 = single, R2 = double, R3 = triple,
R4 = home run, and R5 = batter reaches on error.

4 DATA ANALYSIS
4.1 Batted Ball Data and wOBA Coefﬁcients

The HITf/x data used for this study was provided by
SportVision and includes measurements from every regular-
season MLB game during 2014. The data set used for esti-
mating wOBA(x) consists of all balls in play with a horizon-
tal angle in fair territory (h ∈ [45◦, 135◦]) that were tracked
by the system where bunts are excluded. This results in a
set of n = 124364 batted balls which represents more than
ninety-seven percent of the MLB total for 2014. The weights
wj in equation (6) depend on the run environment and can
change from year-to-year. Thus, for this 2014 batted ball
data we use the coefﬁcients w0 = 0.000, w1 = 0.892, w2 =
1.283, w3 = 1.635, w4 = 2.135, and w5 = 0.920 where
w0, w1, w2, w3, and w4 for 2014 were obtained from [40] and
w5 was obtained from [36]. In the following subsections we
present details of the algorithm described in section 3 for
learning wOBA(x) from this data .

4.2 Cross-Validation for Density Estimation

The Bayesian method described in section 3.1 uses probabil-
ity density estimates to compute the posterior probabilities
P (Rj|x). We use the model described in section 3.2 with the
cross-validation method described in section 3.3 to estimate
the densities. Five validation sets S1, S2, S3, S4, and S5 were
used to select the optimized bandwidth vector σ∗ for the
p(x) estimate. Set Si includes nv batted balls that were hit
on day 6i − 5 of a calendar month. Set S2, for example,
includes only batted balls hit on the 7th day of a month.
The size nv = 3820 was taken to be the largest value so
that each set Si includes the same number of elements. The
decision to use six days of separation for the validation sets
was made with the goal of maximizing the independence
of the sets. A regular-season series of consecutive games

4

between the same pair of teams always lasts less than six
days. In addition, major league teams in 2014 tended to use
a rotation of starting pitchers that repeats every ﬁve days so
that, if this tendency is followed, each starting pitcher will
occur once per calendar month in each of the ﬁve validation
sets.

For each validation set Sj , a three-dimensional search
was conducted with a step size of 0.1 in σs, σv, and σh to
ﬁnd the optimized σ∗
j in equation (5). For each Sj and σ
vector under consideration, we removed the twenty xi bat-

ted ball vectors with the smallest value of bp(xi) to prevent

outliers from inﬂuencing the optimization. The vectors σ∗
j
for each Sj are given in Table 1 and after averaging yielded
an optimized σ∗ = (σ∗
h) of (2.02, 1.50, 2.20). We see
that vertical angle has the smallest smoothing parameter
(σ∗
v = 1.50) which is consistent with the observation from
ﬁgures 1 and 2 that vertical angle has more detailed struc-
ture in its density than batted ball speed or horizontal angle.

s , σ∗

v , σ∗

Optimal bandwidths σ∗

j for validation sets Sj

TABLE 1

S1

S2

S3

S4

S5

(2.0,1.5,2.2)

(1.9,1.5,2.3)

(2.0,1.6,2.0)

(2.0,1.6,2.3)

(2.2,1.3,2.2)

4.3 Visualizing the wOBA(x) Function
We constructed the function wOBA(x) for 2014 HITf/x
data using the methods described in the previous sections.
Figure 3 displays wOBA(x) on the plane corresponding to a
ﬁxed initial speed s of ninety-three miles per hour. For this
value of s, the best results for batters occur for balls hit with
vertical angles between twenty-ﬁve and forty degrees that
are near the right ﬁeld foul line (h ∈ [45◦, 55◦]) or the left
ﬁeld foul line (h ∈ [125◦, 135◦]) where ballpark dimensions
are typically the shortest. These batted balls often result
in home runs. Batted balls hit at the same speed with the
same vertical angle are less valuable at horizontal angles
near ninety degrees which correspond to larger ballpark
dimensions in center ﬁeld. For this initial speed, batted balls
with vertical angles near twelve degrees tend to carry over
the inﬁelders and land in front of the outﬁelders and have
a high value for all horizontal angles. Typical horizontal
angle positions for the three outﬁelders are evident from the
three cold zones for balls hit in the air with (v ∈ [15◦, 20◦])
and typical horizontal positions for the four inﬁelders are
evident from the four cold zones for ground balls (v < 0).

Figures 4 and 5 examine properties of the wOBA(x)
function in more detail. Figure 4 plots wOBA as a function
of the horizontal angle h for s = 85 mph and s = 93 mph
with the vertical angle ﬁxed at v = −2◦. Since this negative
value of v corresponds to ground balls, minima in the two
curves correspond to the typical position of inﬁelders with
the minima near 53◦, 76◦, 104◦, and 126◦ corresponding to
the ﬁrst baseman, second baseman, shortstop, and third
baseman respectively. Over most horizontal angles, balls hit
at 93 mph have a higher value than balls hit at 85 mph since
ground balls hit at a higher speed have a higher probability
of eluding a defender. Figure 5 plots wOBA as a function
of the horizontal angle h for s = 85 and s = 93 with the

5

speed 93
speed 85

60

80

100

120

140

h

Fig. 3. wOBA for an initial speed of 93 mph

speed 93
speed 85

60

80

100

120

140

h

1

0.8

0.6

wOBA

0.4

0.2

0
40

1.6

1.4

1.2

1

wOBA

0.8

0.6

0.4

0.2

0
40

Fig. 4. wOBA for a vertical angle v of −2◦

Fig. 5. wOBA for a vertical angle v of +15◦

vertical angle ﬁxed at v = +15◦. Since this positive value
of v corresponds to balls hit in the air, minima in the two
curves correspond to the typical position of outﬁelders with
the minima near 70◦, 90◦, and 110◦ corresponding to the
right ﬁelder, center ﬁelder, and left ﬁelder respectively. For
this vertical angle, balls hit in the direction of an outﬁelder

have a higher value for a speed of 85 mph because these
balls often fall in front of the outﬁelder for hits while balls
hit at 93 mph more frequently carry to the outﬁelder for
outs. In both ﬁgures, the largest wOBA values occur for
balls hit near the foul lines (h = 45◦ or h = 135◦) which
often result in extra-base hits instead of singles.

4.4 Dependence of wOBA(x) on Batter Handedness

Signiﬁcant wOBA(x) differences between left-handed and
right-handed batters occur due to differences in the posi-
tioning of defenders. Thus, we repeated the process de-
scribed in the previous sections to obtain wOBAl(x) for
left-handed batters and wOBAr(x) for right-handed batters.
The n = 124364 batted balls described in section 4.1 were
ﬁrst partitioned into the 54948 for left-handed batters and
69416 for right-handed batters. The method described in
section 4.2 was then used to build ﬁve validation sets for
each case which resulted in a validation set size nv of
1680 for wOBAl(x) and 2190 for wOBAr(x). The optimal
bandwidth vectors σ∗
j for each validation set and batter
handedness are given in Table 2. After averaging, we arrive
at an optimized σ∗ = (σ∗
h) of (2.18, 1.72, 2.50) for
wOBAl(x) and (2.16, 1.56, 2.30) for wOBAr(x). We note
that, as seen in section 4.2, σ∗
v is the smallest for each case
while σ∗
h is the largest. In addition, the bandwidth increases
for each variable to provide more smoothing as the number
of samples decreases.

v , σ∗

s , σ∗

Optimal bandwidths σ∗

j for validation sets Sj by batter handedness

TABLE 2

S1

S2

S3

S4

S5

L
R

(2.0,1.5,3.1)
(1.9,1.8,2.1)

(2.2,2.1,2.2)
(2.1,1.7,2.2)

(2.3,1.6,2.1)
(2.4,1.4,2.2)

(2.4,1.9,2.3)
(2.2,1.5,2.6)

(2.0,1.5,2.8)
(2.2,1.4,2.4)

Figures 6 and 7 examine differences between wOBAl(x)
and wOBAr(x). These ﬁgures consider speciﬁcally batted
balls hit at 93 miles per hour at the vertical angles shown
in ﬁgure 4 and ﬁgure 5. Figure 6 considers ground balls hit
with a vertical angle of −2◦. As in ﬁgure 4, we observe four
minima in each curve that correspond to the typical position
of the four inﬁelders. We see, however, that the minima for
left-handed batters are shifted several degrees toward the
ﬁrst base line (h = 45◦) compared to the corresponding
minima for right-handed batters. This shift corresponds to
the difference in ﬁelder positioning as a function of batter
handedness. We also see that ground balls near the ﬁrst base
line (h = 45◦) have a higher value for right-handed batters
since there is a lower probability of a defender in that region
and that ground balls near the third base line (h = 135◦)
have a higher value for left-handed batters. Figure 7 exam-
ines the impact of batter handedness on balls hit at 93 miles
per hour with a vertical angle of +15◦. The three minima in
each curve correspond to the typical positions of outﬁelders.
We see that the minima are shifted several degrees toward
the right ﬁeld line (h = 45◦) for left-handed batters. We also
see that left-handed batters have an advantage for batted
balls hit in the direction of the right ﬁelder (h ≈ 70◦) since
the right ﬁelder is typically playing deeper for left-handed
batters which allows additional batted balls to fall safely for
hits. We observe the opposite effect for batted balls hit in the
direction of the left ﬁelder (h ≈ 110◦) since the left ﬁelder is
typically playing deeper for right handed batters.

1.2

1

0.8

wOBA

0.6

0.4

0.2

0
40

6

LHB
RHB

60

80

100

120

140

h

Fig. 6. wOBA for speed 93 mph and vertical angle −2◦

1.4

1.2

1

0.8

wOBA

0.6

0.4

0.2

0
40

LHB
RHB

60

80

100

120

140

h

Fig. 7. wOBA for speed 93 mph and vertical angle +15◦

5 EXPLOITING THE MODEL

5.1 Intrinsic Value versus Observed Outcome

Using the model developed in sections 3 and 4, a batted ball
b with parameter vector x can be assigned the intrinsic value
I(b) given by either wOBAl(x) or wOBAr(x) depending
on the handedness of the batter. Batted balls may also be
assigned an observed value O(b) given by the wOBA coefﬁ-
cient for the result of the batted ball so that, for example,
O(b) = 1.283 for a batted ball that results in a double.
The observed value O(b) depends on several factors that are
beyond the control of the batter and the pitcher such as the
defense, the weather, and the ballpark. In early May 2014,
for example, batter Evan Longoria hit a high ﬂy ball with
an I(b) of 0.040 that is usually an easy out, but the center
ﬁelder lost the ball in the lights and the result was a triple
with an O(b) of 1.635. In this section, we describe several
statistics that can be generated using the intrinsic I(b) value

for a batted ball.

5.2 Intrinsic Contact Measure for Batters

Analysts sometimes attempt to quantify the value of a
hitter’s batted balls using the average O of his observed
O(b) over a period of time. This statistic O is referred to as
wOBA on contact or wOBAcon [23]. As we pointed out in
section 5.1, however, O depends on a number of variables
that are independent of the batter’s quality of contact. Thus,
we propose the average I of the intrinsic values I(b) as
a more accurate valuation of a hitter’s collection of batted
balls. Table 3 presents the batters with the highest I in 2014
among players who hit at least 300 batted balls that were
tracked by HITf/x. These players are known for their ability
to generate hard-hit balls.

Batters with the highest I in 2014 over at least 300 batted balls

TABLE 3

Batter

Giancarlo Stanton

Mike Trout

Miguel Cabrera

J.D. Martinez
Matt Kemp

Brandon Moss

Jose Abreu

Michael Morse
Corey Dickerson

Edwin Encarnacion

I

0.526
0.498
0.488
0.482
0.477
0.476
0.469
0.468
0.465
0.461

For an individual batter, several factors can contribute to
differences between the average observed outcome O and
the intrinsic value I of his batted balls. Batters who are
fast runners, for example, force inﬁelders to play shallower
which compromises range and leads to additional hits. Fast
runners also tend to beat out more inﬁeld hits and garner
additional bases on hits to the outﬁeld. Thus, a faster runner
will tend to achieve a higher O for a given I. Batters with
a high degree of predictability in their batted balls, such
as left-handed batters who hit a large majority of their
ground balls to the right of second base, are easier to defend
than batters who produce a more uniform distribution of
batted balls. Batters with a higher degree of predictability,
therefore, will tend to have a lower O for a given I.
Random noise, which is often referred to as luck in this
context, can also play a role in creating differences between
O and I. Thus, our model for I is a useful starting point
for separating the contribution of factors such as intrinsic
contact ability, running speed, batted ball distribution, and
luck on the observed O. Since noise contributions will tend
to be independent from year-to-year and the other factors
will be represented by statistics with different reliabilities
and aging curves, the ability to separate these factors has
value for projection systems.

Table 4 presents batters with the largest values of O − I
during the 2014 season where both O and I are computed
using the batted balls tracked by HITf/x. Most of the
players in the table have above average running speed with
Hamilton and Cain having exceptional speed. The top two
players on the list also beneﬁted from good luck. Starling
Marte led major league baseball by reaching base on an error

7

fourteen times in 2014 which contributed to his MLB leading
O − I. Jose Abreu also experienced signiﬁcant good fortune
as many of his 36 home runs just barely cleared the fence
causing his home runs to have an average intrinsic value
I(b) of 1.461 which is signiﬁcantly less than the correspond-
ing O(b) of 2.135. Abreu’s O − I difference on home runs
explains nearly all of his total O − I difference in the table
and his luck on home runs even attracted the attention of
the mainstream media during the 2014 season [3].

Batters with the highest O − I in 2014 over at least 300 batted balls

TABLE 4

Batter

Starling Marte

Jose Abreu
Yasiel Puig
Adam Eaton
Billy Hamilton
Lorenzo Cain
J.D. Martinez
Josh Harrison

Andrew McCutchen

Hunter Pence

O − I
0.072
0.063
0.060
0.060
0.060
0.059
0.053
0.052
0.051
0.049

Table 5 presents batters with the lowest values of O − I
during the 2014 season using the batted balls tracked by
HITf/x. All of the batters in this table have below average
running speed and several (Moss, Teixeira, Santana) also
had sufﬁciently predictable batted ball distributions that
opposing teams were able to employ extreme defensive
shifts. These factors contributed to the small O − I values
shown in Table 5.

Batters with the Lowest O − I in 2014 over at least 300 batted balls

TABLE 5

Batter

Billy Butler

Brandon Moss
Yadier Molina
Miguel Cabrera
Matt Dominguez
Alberto Callaspo

Mark Teixeira
Albert Pujols
Carlos Santana
Buster Posey

O − I
-0.055
-0.043
-0.042
-0.042
-0.041
-0.039
-0.038
-0.038
-0.036
-0.032

5.3 Intrinsic Opponent Contact Measure for Pitchers

In 2001, McCracken [26] suggested that pitchers have little
control over the result of opponent batted balls that are not
home runs. Since then, however, a number of researchers [5]
[15] [16] [24] [34] [35] [37] have presented evidence that
pitchers can affect the expected outcome of balls in play. De-
spite this progress, however, models that isolate the impact
of the pitcher on the fate of batted balls have been elusive
due to the confounding effects of the defense, ballpark,
weather, and luck on a batted ball’s outcome. Since the
HITf/x system characterizes a batted ball at contact, the
inﬂuence of these confounding factors can be removed.
As proposed in section 5.2 for batters, we can assign the

intrinsic value I to the collection of batted balls allowed by a
pitcher. The statistic I provides a context-invariant measure
of a pitcher’s opponent contact which allows this aspect of
his performance to be accurately quantiﬁed.

Table 6 presents the pitchers with the lowest I values
in 2014 among those who allowed at least 300 batted balls
that were tracked by HITf/x. Eight of the ten pitchers in
the table had an average fastball speed in 2014 that was
above the league average and Garrett Richards, who earned
the top spot in Table 6, enjoyed one of the highest average
fastball speeds in MLB. The success of the two softer tossing
pitchers on the list was due in part to an exceptional sinker
for Dallas Keuchel and an exceptional split-ﬁnger fastball
for Alex Cobb. An interesting topic for future research will
be to study pitcher characteristics that lead to low values
of I.

Pitchers with the lowest opponent I over at least 300 batted balls, 2014

TABLE 6

Pitcher

I

Danny Duffy

Chris Sale
Matt Garza

Garrett Richards
Anibal Sanchez

0.304
0.309
0.314
0.319
0.328
0.329
0.329
Clayton Kershaw 0.332
0.336
0.337

Dallas Keuchel
Jarred Cosart

Alex Cobb

Johnny Cueto

5.4 Defense and Environmental Effects
5.4.1 Contact-Adjusted Defense
Many statistics have been designed to measure team de-
fense. Defensive efﬁciency ratio (DER) [21], for example,
measures the fraction of the time that a team’s defense
records an out on a batted ball that is not a home run.
While DER is a useful measure of defense that is easy to
compute, the statistic does not account for the difﬁculty of
ﬁelding a batted ball or distinguish between different results
such as a single or a double. These deﬁciencies have led to
the development of the advanced ﬁelding metrics defensive
runs saved (DRS) [10] and ultimate zone rating (UZR) [25].
These metrics use data from Baseball Info Solutions (BIS)
that partition batted balls into types such as bunts, ground
balls, line drives, and ﬂy balls and the speed categories
of soft, medium, and hard. In addition, the DRS system
uses video scouts and timer data to further partition batted
balls into speed bins that have a width of 10 mph so that,
for example, batted balls hit between 65 and 75 mph are
sorted into the same bin. DRS and UZR generate measures
of player and team defense in units of runs above average.
The use of HITf/x data has the potential to improve
on the accuracy of defensive metrics by exploiting higher
resolution measurements of batted ball speed and direction
than are available with BIS data. Using the difference be-
tween the intrinsic I(b) and observed O(b) value of a batted
ball as deﬁned in section 5.1, we obtain a simple automated
technique for measuring contact-adjusted team defense that
can serve as the basis for a HITf/x-based defensive metric.
For this application, we build the underlying wOBAl(x) and

8

wOBAr(x) models using the subset of batted balls that are
not home runs. For the 2014 HITf/x data this results in
120231 batted balls. Each team’s contact-adjusted defense
is deﬁned as D = I − O where the averages I and O
are computed over the batted balls tracked by HITf/x that
are not home runs while the team is in the ﬁeld. Thus
D will be positive for teams that are above average and
negative for teams that are below average. Table 7 presents
the teams with the top ﬁve and the bottom ﬁve values
of D among the 30 major league teams in 2014. We also
include each team’s corresponding rank according to the
DRS and UZR systems. We note that DRS and UZR include
a number of additional factors which are not included in
D such as bunt defense, the quality of outﬁeld throwing
arms, and the ability of inﬁelders to turn double plays.
Nevertheless, we see that the best defensive teams according
to D tend to have high ratings according to DRS and UZR
and that the worst defensive teams according to D tend
to have low ratings according to DRS and UZR. We note
that Seattle receives a signiﬁcantly more favorable rating
using D relative to the other systems but this this can be
explained by environmental factors that will be discussed in
section 5.4.2.

Teams with the highest and lowest Contact-Adjusted Defense D, 2014

TABLE 7

Team

Oakland Athletics
Baltimore Orioles
Seattle Mariners
Cincinnati Reds
San Diego Padres
Toronto Blue Jays
Chicago White Sox

Detroit Tigers

Minnesota Twins
Cleveland Indians

D

0.018
0.013
0.011
0.010
0.009
-0.013
-0.017
-0.018
-0.018
-0.018

D Rank DRS Rank UZR Rank

1
2
3
4
5
26
27
28
29
30

7
3
19
1
5
23
27
28
29
30

8
2
10
4
9
21
26
28
25
30

5.4.2 Environmental Effects

We can examine the impact of the environment on batted
balls by comparing a team’s contact-adjusted defense for
home and away games. For each team we deﬁne the differ-
ence

DHA = DH − DA

(7)

where DH denotes D for the team in home games and DA
denotes D for the team in away games. Thus, large positive
values of DHA suggest that a team’s home ballpark beneﬁts
the defense while negative values suggest an environment
that is less favorable for defenders. Several factors can
contribute to a team’s observed DHA. For a batted ball hit
with a given parameter vector x at contact, for example, the
ambient wind and air density will have a signiﬁcant effect
on the speed of the ball as it travels which affects the ability
of defenders to make a play [1] [28]. In addition, ballparks
with slower inﬁelds or smaller outﬁeld areas will tend to be
easier to defend. Locations with high outﬁeld walls lead to
smaller values of D due to uncatchable balls that hit high
on a wall but which are either easy outs or home runs in

other parks. We note that the DRS and UZR systems make
adjustments for several of these environmental factors.

Table 8 presents the major league teams with the ﬁve
highest and ﬁve lowest values of DHA during 2014. We
see that the environmental effects can be quite substantial
especially for teams with positive values of DHA. San
Diego and Seattle have the largest values of DHA which
is consistent with observations of high air density in these
locations. In addition, Seattle, Philadelphia, Milwaukee, and
Baltimore play in home parks with smaller than average
areas in the outﬁeld [18] which contributes to high values of
DHA. There is also evidence that Philadelphia, Milwaukee,
and Baltimore had home parks with slow inﬁelds in 2014.
For games involving the Orioles in 2014, there was a twenty-
eight point higher batting average on ground balls in road
games than in home games and the corresponding differ-
ences were ﬁfteen points for Milwaukee and ten points for
Philadelphia. Among teams with the smallest DHA, Boston
and Minnesota have home ballparks with high walls that
lead to uncatchable balls in play. The Rockies, Angels, and
Mets play in home ballparks with above average outﬁeld
areas which makes batted balls more difﬁcult to defend in
these locations. In particular, the Rockies have the ballpark
with the largest outﬁeld area while the Mets stadium is the
third largest. In addition, games in Colorado are character-
ized by a low air density [28] which also tends to make
defense more difﬁcult.

Teams with the highest and lowest DHA in 2014

TABLE 8

Team

San Diego Padres
Seattle Mariners

Philadelphia Phillies
Milwaukee Brewers

Baltimore Orioles
New York Mets

Los Angeles Angels
Colorado Rockies
Minnesota Twins
Boston Red Sox

DHA
0.043
0.031
0.026
0.024
0.021
-0.006
-0.009
-0.014
-0.017
-0.018

Rank

1
2
3
4
5
26
27
28
29
30

6 CONCLUSION

The amount of sensor data that is available to support sports
analytics is rapidly increasing [4] [17] [22] [39]. This data
has created unprecedented opportunities to exploit machine
learning techniques to model players and strategies [27] [38]
[41]. In this work we have used HITf/x sensor data for
more than one hundred thousand batted balls hit during
the 2014 MLB season to learn a model for a batted ball’s
intrinsic value which is invariant to contextual factors that
can impact its outcome. The model is constructed using a
Bayesian framework that includes kernel density estimates
that are learned using cross-validation. The intrinsic mea-
sure for contact quality is derived from the wOBA linear
weights model for run value. The new approach success-
fully separates factors that are under the control of the batter
and pitcher from contextual factors that are characteristic of
the environment.

9

We have used the model developed in this paper to
deﬁne statistics that measure the intrinsic quality of con-
tact for batters and pitchers. These statistics are inﬂuenced
less by random variation from contextual variables than
traditional statistics that depend on batted ball outcomes.
In addition, the new statistics can be used to separate
the various skill components that contribute to a player’s
performance on batted balls. A batter’s performance, for
example, can be partitioned into statistics that measure his
intrinsic contact, running speed, and batted ball distribu-
tion which determines susceptibility to defensive shifts. A
pitcher’s performance can be divided into statistics that
measure his opponent intrinsic contact and ﬁelding ability.
An important advantage of generating separate statistics to
represent distinct skills is that each statistic can be regressed
and projected using its individual reliability and aging curve
during forecasting. The new statistics also allow us to inves-
tigate how players control quality of contact. In section 5.3,
for example, we observed that many of the pitchers who
were the most effective at controlling contact also exhibited
an above-average fastball velocity. Given the wealth of de-
scriptors measured by the PITCHf/x system [17], we have
the opportunity to characterize the relationship between the
quality of a pitcher’s opponent contact and his distribution
and sequencing of pitches. Similarly, we can study the rela-
tionship between a batter’s intrinsic contact and his swing
parameters [29].

We have also examined the role of contextual factors that
are beyond the control of the batter and pitcher on the result
of a batted ball. In section 5.4.1 we used the intrinsic contact
model developed in this paper to derive a simple automated
measure of contact-adjusted defense. We showed that this
measure is reasonably consistent with advanced defensive
metrics and that there are signiﬁcant differences in defensive
capability across teams. In section 5.4.2 we showed that
environmental factors such as ballpark dimensions and
weather conditions also have a signiﬁcant effect on the
outcome of a batted ball. Given the granularity of HITf/x
data and the capability of density estimation techniques,
the methods used in this paper could be adopted to design
defensive metrics and ballpark models that are a function
of the batted ball vector x = (s, v, h). This would allow a
player’s collection of batted balls to be translated to a new
environment. A forecasting system equipped with these
models could accurately predict, for example, how a given
batter might perform in a new ballpark or how a given
pitcher might beneﬁt from an improved inﬁeld defense.

ACKNOWLEDGMENTS
I thank Josh Spivak and Graham Goldbeck at Sportvision for
providing the HITf/x data which made this work possible.
I am grateful to Qi Shi for his help with the preparation of
this manuscript.

REFERENCES

[1] R. Adair. The Physics of Baseball. Perennial, New York, 3rd edition,

2002.

[2] B. Baumer and A. Zimbalist. The Sabermetric Revolution: Assessing
the growth of analytics in baseball. University of Pennsylvania Press,
Philadelphia, 2014.

10

[31] M. Rosenblatt. Remarks on some nonparametric estimates of a
density function. Annals of Mathematical Statistics, 27(3):832–837,
1956.

[32] S. Sheather. Density estimation. Statistical Science, 19(4):588–597,

2004.

[33] N. Silver. Why was Kevin Maas a bust? In J. Keri, editor, Baseball
between the numbers, pages 253–271. Basic Books, New York, 2006.
(Dec. 15, 2010). Ground-ballers: better than you
think [Online]. Available: www.baseballprospectus.com/arti-
cle.php?articleid=12581.

[34] M. Swartz.

[35] M. Swartz. (Mar. 17, 2010). Why SIERA doesn’t throw BABIP out
with the bath water [Online]. Available: www.baseballprospectus.
com/article.php?articleid=10281.

[36] T. Tango, M. Lichtman, and A. Dolphin. The Book: Playing the

Percentages in Baseball. Potomac Books, Dulles, Virgina, 2007.

[37] T. Tippett.

(Jul. 21, 2003). Can pitchers prevent hits on balls in

play? [Online]. Available: 207.56.97.150/articles/ipavg2.htm.

[38] X. Wei, P. Lucey, S. Morgan, P. Carr, M. Reid, and S. Sridharan.
In ACM SIGKDD
Predicting serves in tennis using style priors.
International Conference on Knowledge Discovery and Data Mining,
pages 2207–2215, Sydney, 2015.

[39] M. Wilson.

(June 20, 2012). Moneyball 2.0: How missile
tracking cameras are remaking the NBA [Online]. Available:
www.fastcodesign.com/1670059/moneyball-20-how-missile-
tracking-cameras-are-remaking-the-nba.

[40] wOBA and FIP constants [Online]. Available: www.fangraphs.

com/guts.aspx?type=cn.

[41] Y. Yue, P. Lucey, P. Carr, A. Bialkowski, and I. Matthews. Learning
ﬁne-grained spatial models for dynamic sports play prediction. In
IEEE International Conference on Data Mining, 2014.

Glenn Healey is Professor of Electrical Engineering and Computer
Science at the University of California, Irvine. Before joining UC Irvine,
he worked at IBM Research. Dr. Healey received the B.S.E. degree in
Computer Engineering from the University of Michigan and the M.S.
degree in computer science,
the M.S. degree in mathematics, and
the Ph.D. degree in computer science from Stanford University. He is
director of the Computer Vision Laboratory at UC Irvine. Dr. Healey has
served on the editorial boards of IEEE Transactions on Pattern Analysis
and Machine Intelligence, IEEE Transactions on Image Processing, and
the Journal of the Optical Society of America A. He has been elected
a Fellow of IEEE and SPIE. Dr. Healey has received several awards for
outstanding teaching and research.

[3] A. Beaton. (July 27, 2014). Jose Abreu: the champion of the cheap
home run [Online]. Available: www.wsj.com/articles/jose-abreu-
the-champion-of-the-cheap-home-run-1406514931.

[4] B. Bowman and J. Inzerillo. MLBAM: putting the D in data. In

[5]

[6]

Sloan Sports Analytics Conference, Boston, 2014.
J.C. Bradbury.
Available: www.hardballtimes.com/another-look-at-dips1.
J.C. Bradbury. Peak athletic performance and ageing: evidence
from baseball. Journal of Sports Sciences, 27(6):599–610, 2009.

(May 24, 2005). Another look at DIPS [Online].

[7] R. Carleton.

It’s a small sample size af-
ter all [Online]. Available: www.baseball.prospectus.com/ arti-
cle.php?articleid=17659.

(Jul. 16, 2012).

[8] R. Carleton.

(May 9, 2013). Should I worry about my fa-
vorite pitcher? [Online]. Available: www.baseballprospectus.
com/article.php?articleid=20516.

[9] B. Cartwright. What ground balls can tell us about ﬂy balls. In
J. Distelheim, G. Simons, and C. Hale, editors, The Hardball Times
Baseball Annual, 2012, pages 249–254. ACTA Sports, Chicago, 2011.
[10] J. Dewan. Defensive runs saved [Online]. Available: ﬁelding-

bible.com/summary.asp.

[11] R. Duda, P. Hart, and D. Stork. Pattern Classiﬁcation. Wiley-

Interscience, New York, 2001.

[12] R. Duin. On the choice of smoothing parameters for Parzen
estimators of probability density functions. IEEE Transactions on
Computers, C-25(11):1175–1179, 1976.

[13] G. DuPaul.

(Jan. 4, 2013). Projecting BABIP and regression
toward the mean [Online]. Available: www.beyondtheboxscore.
com/2013/1/4/3827868/projecting-babip-regression-toward-the-
mean-baseball-math-sabermetrics.

[14] B. Efron and C. Morris. Stein’s paradox in statistics. Scientiﬁc

American, 236(5):119–127, 1977.

[15] M. Fast.

(Nov. 16, 2011). Who controls how hard the ball is
hit? [Online]. Available: www.baseballprospectus.com/article.
php?articleid=15532.

[16] M. Fast.

(Nov. 22, 2011). How does quality of contact re-
late to BABIP? [Online]. Available: www.baseballprospectus.
com/article.php?articleid=15562.

[17] M. Fast. What the heck is PITCHf/x? In J. Distelheim, B. Tsao,
J. Oshan, C. Bolado, and B. Jacobs, editors, The Hardball Times
Baseball Annual, 2010, pages 153–158. The Hardball Times, 2010.

[18] C. Gaines.

(Mar. 26, 2014). MLB ballpark sizes show the im-
mense difference between Fenway Park and Coors Field [On-
line]. Available: www.businessinsider.com/chart-major-league-
baseball-ballpark-sizes-2014-3.

[19] S. Goldman and C. Kahrl, editors. Baseball Prospectus 2008. Pen-

guin Group, New York, 2008.

[20] A.C. Guidoum. Kernel estimator and bandwidth selection for
density and its derivatives. The kedd package, version 1.03,
October 2015.

[21] B. James. 1978 Baseball Abstract. Self-published, Lawrence, Kansas,

1978.

[22] P. Jensen. (Jun. 30, 2009). Using HITf/x to measure skill [Online].
Available: www.hardballtimes.com/using-hitf-x-to-measure-skill.
(Aug. 13, 2014). Scapegoating the shift for the de-
cline in offense [Online]. Available: www.hardballtimes.com/
scapegoating-the-shift-for-the-decline-in-offense.

[23] J. Judge.

[24] M. Lichtman.

(Feb. 29, 2004). DIPS revisited [Online]. Avail-
able: www.baseballthinkfactory.org/primate studies/discussion/
lichtman 2004-02-29 0.

[25] M. Lichtman. (May 19, 2010). The FanGraphs UZR primer [On-
line]. Available: www.fangraphs.com/blogs/the-fangraphs-uzr-
primer.

[26] V. McCracken. (Jan. 23, 2001). Pitching and defense: How much
control do hurlers have? [Online]. Available: www.baseball-
prospectus.com/article.php?articleid=878.

[27] A. Miller, L. Bornn, R. Adams, and K. Goldsberry. Factorized point
process intensities: A spatial analysis of professional basketball. In
International Conference on Machine Learning, pages 235–243, 2014.

[28] A. Nathan. Baseball at high altitude [Online]. Available: base-

ball.physics.illinois.edu/Denver.html.

[29] A. Nathan.

(Dec. 24, 2015). Optimizing the swing, part
deux: Paying homage to Teddy Ballgame [Online].
Avail-
able: www.hardballtimes.com/optimizing-the-swing-part-deux-
paying-homage-to-teddy-ballgame.

[30] E. Parzen. On estimation of a probability density function and

mode. Annals of Mathematical Statistics, 33(3):1065–1076, 1962.

